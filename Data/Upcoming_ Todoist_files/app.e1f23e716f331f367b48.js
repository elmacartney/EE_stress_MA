!function(e){function t(t){for(var r,a,c=t[0],l=t[1],s=t[2],u=0,f=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(d&&d(t);f.length;)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var l=n[a];0!==o[l]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={2:0},o={2:0},i=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[];a[e]?t.push(a[e]):0!==a[e]&&{28:1,33:1}[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="assets/"+({3:"cs_filterist",4:"cs_gettext",5:"da_filterist",6:"da_gettext",7:"de_filterist",8:"de_gettext",10:"es_filterist",11:"es_gettext",12:"fi_filterist",13:"fi_gettext",14:"fr_filterist",15:"fr_gettext",16:"it_filterist",17:"it_gettext",18:"ja_filterist",19:"ja_gettext",20:"ko_filterist",21:"ko_gettext",22:"nb_filterist",23:"nb_gettext",24:"nl_filterist",25:"nl_gettext",26:"pl_filterist",27:"pl_gettext",28:"print_mode",29:"pt_BR_gettext",30:"pt_filterist",31:"ru_filterist",32:"ru_gettext",33:"settings-modal",34:"sv_filterist",35:"sv_gettext",36:"theme_amethyst.svgs",37:"theme_blueberry.svgs",38:"theme_clover.svgs",39:"theme_dark.svgs",40:"theme_gold.svgs",41:"theme_graphite.svgs",42:"theme_neutral.svgs",43:"theme_noir.svgs",44:"theme_pink.svgs",45:"theme_royal_blue.svgs",46:"theme_sky.svgs",47:"theme_sunflower.svgs",48:"theme_tangerine.svgs",49:"theme_todoist.svgs",50:"tr_filterist",51:"tr_gettext",52:"vendors~DateistDefsDA",53:"vendors~DateistDefsDE",54:"vendors~DateistDefsES",55:"vendors~DateistDefsFI",56:"vendors~DateistDefsFR",57:"vendors~DateistDefsIT",58:"vendors~DateistDefsJA",59:"vendors~DateistDefsKO",60:"vendors~DateistDefsNL",61:"vendors~DateistDefsPL",62:"vendors~DateistDefsPT",63:"vendors~DateistDefsRU",64:"vendors~DateistDefsSV",65:"vendors~DateistDefsZH",66:"vendors~settings-modal",67:"zh_CN_filterist",68:"zh_CN_gettext",69:"zh_TW_filterist",70:"zh_TW_gettext"}[e]||e)+"."+{3:"31d6cfe0d16ae931b73c",4:"31d6cfe0d16ae931b73c",5:"31d6cfe0d16ae931b73c",6:"31d6cfe0d16ae931b73c",7:"31d6cfe0d16ae931b73c",8:"31d6cfe0d16ae931b73c",10:"31d6cfe0d16ae931b73c",11:"31d6cfe0d16ae931b73c",12:"31d6cfe0d16ae931b73c",13:"31d6cfe0d16ae931b73c",14:"31d6cfe0d16ae931b73c",15:"31d6cfe0d16ae931b73c",16:"31d6cfe0d16ae931b73c",17:"31d6cfe0d16ae931b73c",18:"31d6cfe0d16ae931b73c",19:"31d6cfe0d16ae931b73c",20:"31d6cfe0d16ae931b73c",21:"31d6cfe0d16ae931b73c",22:"31d6cfe0d16ae931b73c",23:"31d6cfe0d16ae931b73c",24:"31d6cfe0d16ae931b73c",25:"31d6cfe0d16ae931b73c",26:"31d6cfe0d16ae931b73c",27:"31d6cfe0d16ae931b73c",28:"f2aed26583e96b60709f",29:"31d6cfe0d16ae931b73c",30:"31d6cfe0d16ae931b73c",31:"31d6cfe0d16ae931b73c",32:"31d6cfe0d16ae931b73c",33:"9f6f827e74894bd6f4a7",34:"31d6cfe0d16ae931b73c",35:"31d6cfe0d16ae931b73c",36:"31d6cfe0d16ae931b73c",37:"31d6cfe0d16ae931b73c",38:"31d6cfe0d16ae931b73c",39:"31d6cfe0d16ae931b73c",40:"31d6cfe0d16ae931b73c",41:"31d6cfe0d16ae931b73c",42:"31d6cfe0d16ae931b73c",43:"31d6cfe0d16ae931b73c",44:"31d6cfe0d16ae931b73c",45:"31d6cfe0d16ae931b73c",46:"31d6cfe0d16ae931b73c",47:"31d6cfe0d16ae931b73c",48:"31d6cfe0d16ae931b73c",49:"31d6cfe0d16ae931b73c",50:"31d6cfe0d16ae931b73c",51:"31d6cfe0d16ae931b73c",52:"31d6cfe0d16ae931b73c",53:"31d6cfe0d16ae931b73c",54:"31d6cfe0d16ae931b73c",55:"31d6cfe0d16ae931b73c",56:"31d6cfe0d16ae931b73c",57:"31d6cfe0d16ae931b73c",58:"31d6cfe0d16ae931b73c",59:"31d6cfe0d16ae931b73c",60:"31d6cfe0d16ae931b73c",61:"31d6cfe0d16ae931b73c",62:"31d6cfe0d16ae931b73c",63:"31d6cfe0d16ae931b73c",64:"31d6cfe0d16ae931b73c",65:"31d6cfe0d16ae931b73c",66:"31d6cfe0d16ae931b73c",67:"31d6cfe0d16ae931b73c",68:"31d6cfe0d16ae931b73c",69:"31d6cfe0d16ae931b73c",70:"31d6cfe0d16ae931b73c",71:"31d6cfe0d16ae931b73c",72:"31d6cfe0d16ae931b73c"}[e]+".css",o=c.p+r,i=document.getElementsByTagName("link"),l=0;l<i.length;l++){var s=(d=i[l]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(s===r||s===o))return t()}var u=document.getElementsByTagName("style");for(l=0;l<u.length;l++){var d;if((s=(d=u[l]).getAttribute("data-href"))===r||s===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],f.parentNode.removeChild(f),n(i)},f.href=o,document.getElementsByTagName("head")[0].appendChild(f)})).then((function(){a[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=function(e){return c.p+"assets/"+({3:"cs_filterist",4:"cs_gettext",5:"da_filterist",6:"da_gettext",7:"de_filterist",8:"de_gettext",10:"es_filterist",11:"es_gettext",12:"fi_filterist",13:"fi_gettext",14:"fr_filterist",15:"fr_gettext",16:"it_filterist",17:"it_gettext",18:"ja_filterist",19:"ja_gettext",20:"ko_filterist",21:"ko_gettext",22:"nb_filterist",23:"nb_gettext",24:"nl_filterist",25:"nl_gettext",26:"pl_filterist",27:"pl_gettext",28:"print_mode",29:"pt_BR_gettext",30:"pt_filterist",31:"ru_filterist",32:"ru_gettext",33:"settings-modal",34:"sv_filterist",35:"sv_gettext",36:"theme_amethyst.svgs",37:"theme_blueberry.svgs",38:"theme_clover.svgs",39:"theme_dark.svgs",40:"theme_gold.svgs",41:"theme_graphite.svgs",42:"theme_neutral.svgs",43:"theme_noir.svgs",44:"theme_pink.svgs",45:"theme_royal_blue.svgs",46:"theme_sky.svgs",47:"theme_sunflower.svgs",48:"theme_tangerine.svgs",49:"theme_todoist.svgs",50:"tr_filterist",51:"tr_gettext",52:"vendors~DateistDefsDA",53:"vendors~DateistDefsDE",54:"vendors~DateistDefsES",55:"vendors~DateistDefsFI",56:"vendors~DateistDefsFR",57:"vendors~DateistDefsIT",58:"vendors~DateistDefsJA",59:"vendors~DateistDefsKO",60:"vendors~DateistDefsNL",61:"vendors~DateistDefsPL",62:"vendors~DateistDefsPT",63:"vendors~DateistDefsRU",64:"vendors~DateistDefsSV",65:"vendors~DateistDefsZH",66:"vendors~settings-modal",67:"zh_CN_filterist",68:"zh_CN_gettext",69:"zh_TW_filterist",70:"zh_TW_gettext"}[e]||e)+"."+{3:"68c4e5614095e496fe0f",4:"fd4b9ab32d8970c691aa",5:"a4fc4244e4b048753078",6:"e792dd81e8edb5bacd85",7:"9353d4c46370ad298980",8:"8ab418fca5e4b6d06a94",10:"71e370f9a81393ac1f58",11:"c5d060eed37e52562967",12:"5dbd8372bda60d8e6ba0",13:"fde4344d14fb3d4a1243",14:"813001744b55572d2a6f",15:"7f04377f716c373eb5f2",16:"452fbd0d24332fc2c3c4",17:"efdf31b623e153db1b0c",18:"4cbd4eea0498d2d17069",19:"6961122f39e82a8cfa2c",20:"e52365df17a4972803e8",21:"e188e760abf9667301ed",22:"f3cee11b151761968775",23:"a9f83e2753e4918cb186",24:"591c20f4b7c46f5b5d61",25:"e6a211772d7f7392a23a",26:"21e7e7fec688f168eb2f",27:"975423097e6a3f07be1b",28:"83ea059f9efe3d064632",29:"eaa2e0de4b33f9973d82",30:"f1c04488187a99b0899a",31:"c2625b2334babef55cf6",32:"d1ec117c40b1b46f5264",33:"b9ebb3f20f0162751868",34:"2541d9a95e48d5409089",35:"1dc9febb70e3a8790214",36:"741b50201526f6afa041",37:"3a3a62846fd9f6f59eb5",38:"98e9b1ad7b405b1d707c",39:"be0f70b441bbe4dddcaa",40:"8e9e2358bb53960ff5ed",41:"9b9a90c32b4b447a1819",42:"a7e28cce62920dc5f4d0",43:"132aef08da60e86e38f6",44:"f35be50d2ee6fd8302a1",45:"2a360c3c086a21e91019",46:"18f1149a0ebd26484455",47:"67a595740f911560e68d",48:"9a2e012070d49ef77fbd",49:"5a85838d9766d78809ba",50:"36f18409d7edd016ba55",51:"a912ef13be41bd0f519c",52:"550454a1b9018a570296",53:"e5c1008a077986fecc47",54:"923487f1a6393b186076",55:"f98ed7dc5dd828d625bf",56:"b7c9d2e195104007d365",57:"3fc20b447af280d5088e",58:"4433944175587bc38123",59:"cd3c250902654b750bb7",60:"ac99c970d2482a3db07d",61:"f2fed41dccd17f4fc716",62:"91c0732df45d3627a724",63:"a918650db38392cc0aa4",64:"88fbdd0b9a97bfbaf136",65:"cd793b86c37b75cdaac8",66:"afb4639d7fe3ab7b13d1",67:"b80abfc5c518be3da28c",68:"463ca9c2bbbd96b7d79c",69:"f05d3b9e01ff31a4a463",70:"98830b644ce06ce12966",71:"d99b9cc5740cb7dbf02a",72:"9735aeb7bd20c4f89c67"}[e]+".js"}(e);var s=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,n[1](s)}o[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="https://d3ptyyxy2at9ui.cloudfront.net/",c.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=s;i.push([0,0]),n()}({"++xj":function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=i.a.memo((function(e){return i.a.createElement("svg",a()({width:15,height:3},e),i.a.createElement("path",{d:"M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm6 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm6 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z",fill:"currentColor",fillRule:"evenodd"}))}));t.a=c},"+E59":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return m}));var r=n("m0B0"),a=n("S+H7"),o=n("EhJz");function i(e,t,n){if(!t){var r=new Date(e.getTime());return r.setDate(1),{previousMonths:[],currentMonth:e,nextMonths:s(r,n,6)}}(t=new Date(t.getTime())).setDate(1),t=t.getTime()<e.getTime()?e:t;var a=Math.ceil(Math.abs((t.getTime()-e.getTime())/1e3/2419200)),o=u(e,t,Math.min(a,3));return{previousMonths:o,nextMonths:s(t,n,6-o.length),currentMonth:t}}var c=function(e){var t=e.getMonth(),n=new Date(e.getFullYear(),e.getMonth(),1);return n.setMonth(t+1),n},l=function(e,t){var n=e.getMonth(),r=new Date(e.getFullYear(),e.getMonth(),1);return r.setMonth(n-1),t&&r.getFullYear()===t.getFullYear()&&r.getMonth()===t.getMonth()?t:r};function s(e,t,n){for(var r=[],a=0;a<n;a++){if(e=c(e),t&&Object(o.a)(e,t))return r;r.push(e)}return r}function u(e,t,n){var r=[];if(t.getTime()<=e.getTime())return r;for(var a=0;a<n;a++){if((t=l(t,e))===e)return[e].concat(r);r.unshift(t)}return r}function d(e,t,n,r){var a=f(e,new Date(e,t,n),r);return f(e,new Date(e,t+1,0),r)-a+1}function f(e,t,n){var r=new Date(e,0,1);return Math.ceil((Math.round((t-r)/864e5)+r.getDay()+1-n)/7)}function m(e,t,n){var o=n.user,i=n.collaboratorsByPID;return t?e.filter((function(e){return!!e.due&&((!Object(a.m)({collaborators:{byPID:i}},e.project_id)||!e.responsible_uid||e.responsible_uid===o.id)&&Object(r.a)(e.due,t))})):[]}},"+HCy":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return v}));var r=n("QILm"),a=n.n(r),o=n("pVnL"),i=n.n(o),c=n("J4zp"),l=n.n(c),s=n("q1tI"),u=n("dE+u"),d=s.createContext({savedLocation:null,setSavedLocation:function(){}});function f(e){return{pathname:e,search:"",hash:"",state:null,key:Math.random().toString(36).substr(2,8)}}function m(e){var t=s.useState(null),n=l()(t,2),r=n[0],a=n[1],o=s.useCallback((function(e){if("function"!=typeof e)"string"==typeof e&&(e=f(e)),a(e);else{var t=e;a((function(e){var n=t(e);return"string"==typeof n&&(n=f(n)),n}))}}),[]),i=s.useMemo((function(){return{savedLocation:r,setSavedLocation:o}}),[r,o]);return s.createElement(d.Provider,{value:i},s.createElement(u.a,e))}var p=s.forwardRef((function(e,t){var n=Object(u.i)(),r=s.useContext(d).setSavedLocation;return s.createElement(u.b,i()({},e,{ref:t,onClick:function(t){var a;null==e||null===(a=e.onClick)||void 0===a||a.call(e,t),t.defaultPrevented||r(n)}}))}));function h(){var e=Object(u.j)(),t=Object(u.i)(),n=s.useContext(d).setSavedLocation;return s.useCallback((function(r,a){n(t),e(r,a)}),[e,t,n])}function v(){var e=Object(u.j)(),t=s.useContext(d),n=t.savedLocation,r=t.setSavedLocation;return s.useCallback((function(t){var a=null!=t?t:n;a&&(e(a),window.location.pathname===a.pathname&&r(null))}),[e,n,r])}function b(e){var t=s.useContext(d).savedLocation;return s.createElement(u.g,i()({},e,{location:null!=t?t:void 0}))}function g(e){var t=e.defaultSavedLocation,n=a()(e,["defaultSavedLocation"]),r=s.useContext(d).setSavedLocation;return s.useEffect((function(){r((function(e){return null!=e?e:t}))}),[r,t]),s.createElement(u.g,n)}},"+ZEg":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("TSYQ"),l=n.n(c),s=n("m0B0"),u=n("/gRr"),d=n("OljV"),f=n("4eld");function m(e){var t=e.date,n=e.itemsByDate,r=e.renderDay,o=e.isIgnored,i=void 0!==o&&o,c=e.isSelected,s=void 0!==c&&c,u=e.isFocusable,m=void 0!==u&&u,p=e.onClick,h=void 0===p?function(){}:p,v=e.onMouseEnter,b=void 0===v?function(){}:v,g=e.onMouseLeave,_=void 0===g?function(){}:g;function y(e){e.stopPropagation(),h(t)}var O=Object(d.a)(t,{dateOnly:!0}),j=l()("calendar__day",{"calendar__day--greyed":i&&!s,"calendar__day--selected":s,"calendar__day--busy":n&&n[O]});return r?r({className:j,date:t,isIgnored:i,isSelected:s,isFocusable:m,onClick:y,onMouseEnter:b,onMouseLeave:_}):a.a.createElement(f.a,{className:j,onClick:y,"aria-label":O,onMouseEnter:function(){return b(t)},onMouseLeave:_},a.a.createElement("span",{className:"calendar__day__date"},a.a.createElement("span",{className:"calendar__day__date__number"},t.getDate())))}m.propTypes={date:i.a.instanceOf(Date).isRequired,itemsByDate:i.a.object,renderDay:i.a.func,isIgnored:i.a.bool,isSelected:i.a.bool,isFocusable:i.a.bool,onClick:i.a.func,onMouseEnter:i.a.func,onMouseLeave:i.a.func};var p=m,h=n("7dGA");function v(e){var t=e.weekStartDay,n=Object(r.useMemo)((function(){for(var e=[],n=Object(h.d)(),r=0;r<n.length;r++)e.push(n[(t+r)%7]);return e}),[t]);return a.a.createElement("div",{className:"calendar__header"},n.map((function(e,t){return a.a.createElement("div",{key:t},e)})))}v.propTypes={weekStartDay:i.a.number.isRequired};var b=v,g=[31,28,31,30,31,30,31,31,30,31,30,31],_=function(e,t){return 1==t?e%4==0?29:28:g[t]};function y(e){var t,n,o,i,c=e.date,d=e.mode,f=void 0===d?"month":d,m=e.ignoredDays,h=e.itemsByDate,v=e.focusedDate,g=e.renderDay,y=e.limitDate,O=e.scrollToWeekRef,j=e.selectedDate,w=e.weekStartDay,E=e.shouldScrollToFocusedDate,k=e.isFirstRowFilled,D=e.isHeaderShown,C=void 0===D||D,S=e.onDayClick,I=void 0===S?function(){}:S,T=e.onDayMouseEnter,A=void 0===T?function(){}:T,x=e.onDayMouseLeave,P=void 0===x?function(){}:x,R=e.onNextMonthFocus,N=void 0===R?function(){}:R,L=e.onPreviousMonthFocus,M=void 0===L?function(){}:L,F=Object(r.useRef)(null),z=c.getFullYear(),B=c.getMonth(),V=c.getDate(),$=c.getDay(),H=null,U=_(z,B),q=[],G=[],W=($-w+7)%7,K="week"===f?6-W:U-V;k&&(n=B,o=z,(t=V-W)<1&&((n-=1)<0&&(n=11,o-=1),t=(i=_(o,n))+t));for(var Y=0;Y<W;Y++){var J=void 0;k&&(J=t+Y,g||(J=J>i?J-i:J)),q.push(g&&k?g({key:"spacer-".concat(Y),className:"calendar__spacer",date:new Date(o,n,J,23,59,59),isSpacer:!0}):a.a.createElement("div",{key:"spacer-".concat(Y),className:"calendar__spacer"},J))}for(var Q=0;Q<=K;Q++){var Z=$-1<0?7:$;if(Z===w&&q.length&&(G.push(q),q=[]),y&&y.getFullYear()===z&&y.getMonth()===B&&y.getDate()<V)break;var X=new Date(z,B,V++,23,59,59),ee=j&&Object(s.a)(X,j),te=v&&Object(s.a)(X,v);(E&&te||ee)&&(H=G.length);var ne=m.indexOf(Z)>-1;q.push(a.a.createElement(p,{key:X.getTime(),date:X,renderDay:g,itemsByDate:h,isIgnored:ne,isSelected:ee,isFocusable:te,onClick:I,onMouseEnter:A,onMouseLeave:P})),$=($+1)%7}return G.push(q),a.a.createElement("div",{className:"calendar"},C?a.a.createElement(b,{weekStartDay:w}):null,a.a.createElement("div",{ref:F,className:"calendar__weeks",tabIndex:"-1",onKeyDown:function(e){var t=Object(u.a)(e),n=document.activeElement;switch(t){case"ArrowUp":e.preventDefault();for(var r=0;r<7;r++){if(!(n=n.previousSibling)){var a=document.activeElement.parentElement.previousSibling;a&&(n=a.lastChild)}if(!n||"calendar__spacer"===n.className)return M()}break;case"ArrowDown":e.preventDefault();for(var o=0;o<7;o++)if(!(n=n.nextSibling)){var i=document.activeElement.parentElement.nextSibling;if(!i)return N();n=i.firstChild}break;case"ArrowLeft":if(e.preventDefault(),!(n=n.previousSibling)){var c=document.activeElement.parentElement.previousSibling;c&&(n=c.lastChild)}if(!n||"calendar__spacer"===n.className)return M();break;case"ArrowRight":if(e.preventDefault(),!(n=n.nextSibling)){var l=document.activeElement.parentElement.nextSibling;if(!l)return N();n=l.firstChild}break;default:return}n&&n.focus()}},G.map((function(e,t){var n=t===H,r=l()("calendar__week",{"calendar__week--highlighted":n});return a.a.createElement("div",{ref:n&&O?O:null,key:t,className:r},e)}))))}y.propTypes={date:i.a.instanceOf(Date).isRequired,mode:i.a.oneOf(["week","month"]),ignoredDays:i.a.array.isRequired,itemsByDate:i.a.object,focusedDate:i.a.instanceOf(Date).isRequired,limitDate:i.a.instanceOf(Date),scrollToWeekRef:i.a.object,selectedDate:i.a.object,renderDay:i.a.func,weekStartDay:i.a.number.isRequired,isFirstRowFilled:i.a.bool,isHeaderShown:i.a.bool,isFocusedDayHighlighted:i.a.bool,shouldScrollToFocusedDate:i.a.bool,onDayClick:i.a.func,onDayMouseEnter:i.a.func,onDayMouseLeave:i.a.func,onKeyDown:i.a.func,onNextMonthFocus:i.a.func,onPreviousMonthFocus:i.a.func};var O=y;t.a=O},"+grC":function(e,t,n){"use strict";var r=n("J4zp"),a=n.n(r),o=n("/6o7"),i=n("tChx"),c=n("MrOw"),l=n("hleb"),s=n("vV6a"),u=n("yUE8"),d=n("gd9Y"),f=Object(u.b)("LocationManager",["store"]),m={navigate:function(){},init:function(e){var t=e.navigate;this.navigate=t,setInterval(this.locationPolling,400)},getHash:function(){var e=window.location.hash.substring(1);return $urldecode(e)},getCurrentLocation:function(){return m.cur_location},setHash:function(e){Object(d.e)(e)||(window.location.hash=$urlencode(e))},updateLocation:function(e){var t=m;t.cur_location!=e&&(m.setHash(e),t.cur_location=e)},refreshView:function(){return m.updateView(m.setHash()),!1},updateView:function(e){if(window.isEditingOn())setTimeout($p(m.updateView,e),400);else if(e!=="agenda/".concat(s.c))if("upcoming"!==e)if(e.startsWith("agenda/@")){var t=e.split("@",2)[1];m.navigate(Object(d.d)({type:"label",labelName:t}))}else if(e.startsWith("agenda/")){var n=e.replace("agenda/","");m.navigate(Object(d.d)({type:"search",searchQuery:n}))}else if(e.startsWith("filter/")){var r=e.replace("filter/","");m.navigate(Object(d.d)({type:"filter",filterId:r}))}else if(e.startsWith("project/")){var u=e.split("/"),p=a()(u,3),h=p[1],v=p[2];m.navigate({pathname:Object(d.d)({type:"project",projectId:h}),hash:v?"#task-".concat(v):void 0})}else if(e.startsWith("task/")){var b=e.split("/"),g=parseInt(b[1]),_=b[2]?parseInt(b[2]):null;if(!g)return;var y=_?l.a.getBySyncId(_):l.a.getById(g);if(y){var O=y.id,j=y.project_id;m.navigate(Object(d.d)({type:"project",projectId:j},{id:O}))}else m.navigate("/app/task/".concat(g,"/").concat(_))}else if(0!==e.indexOf("project_comments/"))if(0!==e.indexOf("activity"))if(0===e.indexOf("email_tasks/")){var w=parseInt(e.split("/")[1]);w&&i.a.setCurrentById(w,!1)}else-1!=e.indexOf("quickAdd")?(f.store.dispatch(Object(o.d)({type:o.a.QUICK_ADD})),e=m.cur_location,m.setHash(e)):-1!=e.indexOf("updateCount")?-1!=(e=m.cur_location).indexOf("#updateCount")?m.setHash("#start"):m.setHash(e):-1!=e.indexOf("sync")?(c.default.getInstance().sync(null,!0),e=m.cur_location,m.setHash(e)):-1!=e.indexOf("openOutlook")&&window.history.go(-2);else{var E=null,k=null,D=null,C=void 0,S=e.split("/");S.length>1&&("project"==S[1]?E=parseInt(S[2]):"task"==S[1]&&(k=parseInt(S[2])),"null"!=S[3]&&(D=S[3]),"undefined"!==S[4]&&S[4]!=window.User.id.toString()&&(C="null"==S[4]?null:S[4]));var I={projectId:E,taskId:k,userId:C,eventType:D},T=Object.keys(I).filter((function(e){return Boolean(I[e])})).map((function(e){return e+"="+encodeURIComponent(I[e])})).join("&");m.navigate({pathname:Object(d.d)({type:"activity"}),search:S.length>0?"?".concat(T):void 0})}else{var A=e.split("/"),x=a()(A,3),P=x[1],R=x[2];m.navigate({pathname:Object(d.d)({type:"project",projectId:P},void 0,"/comments"),hash:R?"#comment-".concat(R):void 0})}else m.navigate(Object(d.d)({type:"upcoming"}));else m.navigate(Object(d.d)({type:"today"}))},locationPolling:function(){var e=m,t=e.getHash();e.cur_location!=t&&(m.setHash(t),e.updateView(t),e.cur_location=t)}};window.LocationManager=m,t.a=m},"+jIp":function(e,t,n){},"+u6p":function(e,t,n){},"/0g7":function(e,t,n){"use strict";var r=n("4qC0"),a=n.n(r),o=n("UB5X"),i=n.n(o);t.a=function(e){return e.reduce((function(e,t){return a()(t.id)||i()(t.id)?(e[t.id]=t,e):e}),{})}},"/6o7":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n("AnGN"),a={QUICK_ADD:"QUICK_ADD",WUNDERLIST_IMPORTER:"WUNDERLIST_IMPORTER",DESKTOP_PREFERENCES:"DESKTOP_PREFERENCES"},o=function(e){var t=e.type,n=e.props,o=void 0===n?{}:n;return function(e){if(t===a.QUICK_ADD&&r.p)return Signals.sendSignal("show_quick_add");e({type:"SHOW_MODAL",modalType:t,modalProps:o})}},i=function(){return{type:"HIDE_MODAL"}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MODAL":return{type:t.modalType,props:t.modalProps};case"HIDE_MODAL":return{};default:return e}}},"/7zm":function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return v}));var r=n("q1tI"),a=n.n(r),o=n("jlRT"),i=n("4eld"),c=n("UVeO"),l=n("Vbab"),s={zIndex:11e3};function u(e){var t=e.isOpen,n=e.title,r=e.confirmLabel,u=e.cancelLabel,d=void 0===u?Object(l.a)("Cancel"):u,f=e.onConfirm,m=e.onCancel,p=e.children;return a.a.createElement(o.a.Box,{style:s,overlayProps:{style:s},size:"small",isOpen:t,onDismiss:m,closeOnOverlayClick:!0},a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),f(e)}},n?a.a.createElement(o.a.Header,{title:n,button:!1}):null,a.a.createElement(o.a.Body,null,a.a.createElement("div",{className:"alert_holder delete_confirmation"},n?null:a.a.createElement("div",{className:"icon_holder","data-testid":"confirm_dialog_info_icon"},a.a.createElement(c.U,{width:28,height:28})),a.a.createElement("div",{className:"text_holder"},p))),a.a.createElement(o.a.Actions,{className:"confirm_dialog__actions"},a.a.createElement(i.a,{type:"submit",className:"ist_button ist_button_red",autoFocus:!0},r),a.a.createElement(i.a,{className:"ist_button",onClick:m},d))))}var d=n("pVnL"),f=n.n(d),m=n("QILm"),p=n.n(m);var h=function(e){var t=e.onConfirm,n=e.onCancel,r=void 0===n?function(){}:n,i=e.message,c=e.htmlMessage,l=e.confirmLabel,s=e.cancelLabel,d=p()(e,["onConfirm","onCancel","message","htmlMessage","confirmLabel","cancelLabel"]);return function(){var e=c?a.a.createElement("span",{dangerouslySetInnerHTML:{__html:"function"==typeof c?c():c}}):"function"==typeof i?i():i;Object(o.b)((function(n){return a.a.createElement(u,f()({},d,{confirmLabel:l,cancelLabel:s,isOpen:!0,onCancel:function(e){r(e),n()},onConfirm:function(e){t(e),n()}}),e)}))}};t.a=u;function v(e){h(e)()}},"/RQT":function(e,t){e.exports={LessVariables:{"left-menu-min-width":"220px","left-menu-total-width":"305px","left-menu-max-width":"425px","quick-find-min-width":"113px","quick-find-width":"198px","left-menu-holder-min-width":"180px","left-menu-holder-width":"265px","top-bar-side-padding-offset":"38px"},convertToUnit:function(e){return parseInt(e.slice(0,-2))}}},"/gRr":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r="ArrowUp",a="ArrowRight",o="ArrowDown",i="ArrowLeft",c="Enter",l="Backspace",s="Escape",u="Tab";function d(e){switch(e.key||e.keyCode){case 37:case"Left":case"ArrowLeft":return i;case 38:case"Up":case"ArrowUp":return r;case 39:case"Right":case"ArrowRight":return a;case 40:case"Down":case"ArrowDown":return o;case 13:case"Enter":return c;case 8:case"Backspace":return l;case 27:case"Esc":case"Escape":return s;case 9:case"Tab":return u}if(void 0===e.key&&void 0!==e.keyCode){var t=String.fromCharCode(e.keyCode);if(""!==t)return t}return e.key}},"/lEg":function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return p}));var r=n("lSNA"),a=n.n(r),o=n("peh1"),i=n("uNXK"),c=n("qRd9"),l=n("nvqi"),s=n("u57q"),u=n.n(s);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=Object(o.createSelector)((function(e){return e.tempIds}),(function(e){return Object.keys(e).reduce((function(t,n){return t[e[n]]=n,t}),{})}));function p(e,t){return m(t)[e]}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:case i.a:var n=t.payload.tempIds;return n?f({},n):e;case l.b:var r=t.payload.temp_id_mapping;return r&&0!==u()(r).length?f(f({},e),r):e;default:return e}}},"/uLG":function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p}));var r=n("lSNA"),a=n.n(r),o=n("MrOw"),i=n("3AAN"),c=n("SoKn"),l=n("Qi13"),s=n("CZSy");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){var n=t.sortedBy,r=t.sortOrder,a=t.groupedBy,u=t.filteredBy;return function(t,f){var p,h,v,b=f(),g=Object(c.a)(b,e);switch(e.view){case"today":h=s.B,p=null;break;case"project":p=e.projectId,h=s.p;break;case"label":var _=Object(i.g)(e.labelName,b);if(!_)return;p=_.id,h=s.m;break;case"filter":p=e.filterId,h=s.c;break;default:return}if(g)v=d({},g),void 0!==n&&(v.sorted_by=n,n===s.s||r||(v.sort_order=s.x)),void 0!==r&&(v.sort_order=v.sorted_by===s.s?null:r),void 0!==a&&(v.grouped_by=a),void 0!==u&&(v.filtered_by=u);else{n&&!r&&(r=s.x);var y=l.a.generate("view_options");v=r&&n?{id:y,sorted_by:n,sort_order:r,grouped_by:a||null,filtered_by:u||null}:{id:y,sorted_by:null,sort_order:null,grouped_by:a||null,filtered_by:u||null}}var O,j=d(d({},v),{},{view_type:h});if(p&&(j.object_id=p),o.default.getInstance().queueUpdate({type:g?"view_options_update":"view_options_add",temp_id:g?void 0:v.id,args:j}),h===s.B)return t((O=d({},v),{type:s.A,payload:O}));if(p)switch(h){case s.p:return t(m(d(d({},v),{},{viewId:p})));case s.m:return t(function(e){return{type:s.l,payload:e}}(d(d({},v),{},{viewId:p})));case s.c:return t(function(e){return{type:s.b,payload:e}}(d(d({},v),{},{viewId:p})))}}}function m(e){return{type:s.o,payload:e}}function p(e){return function(t,n){var r,a=n(),l=Object(c.a)(a,e);if(l)switch(o.default.getInstance().queueUpdate({type:"view_options_delete",args:{id:l.id}}),e.view){case"today":return t({type:s.z});case"project":return t((r=e.projectId,{type:s.n,payload:{viewId:r}}));case"label":var u=Object(i.g)(e.labelName,a);if(!u)return;return t(function(e){return{type:s.k,payload:{viewId:e}}}(u.id));case"filter":return t(function(e){return{type:s.a,payload:{viewId:e}}}(e.filterId))}}}},"/uq8":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("9L8O"),a=n("j3q4"),o=n("peh1");function i(e){return{type:"CLOCK_TICK",isoDate:e}}var c=Object(o.createSelector)((function(e){return e.clock}),(function(e){return Object(a.a)(e)}));t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(r.a)(),t=arguments.length>1?arguments[1]:void 0;return"CLOCK_TICK"===t.type?t.isoDate:e}},0:function(e,t,n){n("j36g"),e.exports=n("gAlp")},"049c":function(e,t){svgs["sm1/activity_log.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><rect width="15" height="13" x="4.5" y="5.5" stroke="currentColor" rx="2"/><path fill="currentColor" d="M11.03 15.38a.5.5 0 0 0 .95-.04l1.64-5.89 1.5 3.26a.5.5 0 0 0 .45.29H20v-1h-4.11l-1.94-4.2a.5.5 0 0 0-.93.07l-1.58 5.7L10 9.64a.5.5 0 0 0-.91-.05L7.9 12H4v1h4.2a.5.5 0 0 0 .45-.28l.82-1.64 1.56 4.3z"/></g></svg>',svgs["sm1/add_above.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M9 6.74L6.35 9.4a.5.5 0 0 1-.7-.7l3.53-3.54a.5.5 0 0 1 .7 0l3.55 3.53a.5.5 0 0 1-.71.7L10 6.69V18.5a.5.5 0 1 1-1 0V6.74zM17 15h2.5a.5.5 0 1 1 0 1H17v2.5a.5.5 0 1 1-1 0V16h-2.5a.5.5 0 1 1 0-1H16v-2.5a.5.5 0 1 1 1 0V15z"/></svg>',svgs["sm1/add_below.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M9 17.26L6.35 14.6a.5.5 0 0 0-.7.7l3.53 3.54a.5.5 0 0 0 .7 0l3.55-3.53a.5.5 0 0 0-.71-.7L10 17.31V5.5a.5.5 0 1 0-1 0v11.76zM17 9h2.5a.5.5 0 1 0 0-1H17V5.5a.5.5 0 1 0-1 0V8h-2.5a.5.5 0 1 0 0 1H16v2.5a.5.5 0 1 0 1 0V9z"/></svg>',svgs["sm1/add_integration.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M11 13h2.5c.3 0 .5.2.5.5s-.2.5-.5.5H11v2.5a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5V14H7.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5H10v-2.5c0-.3.2-.5.5-.5s.5.2.5.5V13z"/><rect width="12" height="12" x="4.5" y="7.5" stroke="currentColor" rx="2"/><path fill="currentColor" fill-rule="nonzero" d="M19 16.7V6a1 1 0 0 0-1-1H7.3c.2-.3.4-.6.7-.7.3-.2.7-.3 1.6-.3h7.8c1 0 1.3 0 1.6.3.3.1.6.4.7.7.2.3.3.7.3 1.6v7.8c0 1 0 1.3-.3 1.6-.1.3-.4.5-.7.7zm-1.6.3H9.6h7.8z"/></g></svg>',svgs["sm1/add_label.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M4.5 7.2v8.6c0 1 .8 1.7 1.7 1.7h10a2 2 0 0 0 1.3-.7l3.5-4.7a1 1 0 0 0 0-1.2l-3.5-4.7a2 2 0 0 0-1.4-.7H6.2c-1 0-1.7.8-1.7 1.7z"/><path fill="currentColor" d="M12 12v2.5a.5.5 0 1 1-1 0V12H8.5a.5.5 0 1 1 0-1H11V8.5a.5.5 0 1 1 1 0V11h2.5a.5.5 0 1 1 0 1H12z"/></g></svg>',svgs["sm1/add_member.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M12 4.5a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zM4.5 18.3v.1c0 .6.8 1.1 1.8 1.1h11.4c1 0 1.8-.5 1.8-1v-.3c0-2.5-3.3-4.7-7.5-4.7s-7.5 2.2-7.5 4.8z"/><path fill="currentColor" d="M21 11v2a.5.5 0 1 1-1 0v-2h-2a.5.5 0 1 1 0-1h2V8a.5.5 0 1 1 1 0v2h2a.5.5 0 1 1 0 1h-2z"/></g></svg>',svgs["sm1/add_member_small.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M20 11v2a.5.5 0 1 1-1 0v-2h-2a.5.5 0 1 1 0-1h2V8a.5.5 0 1 1 1 0v2h2a.5.5 0 1 1 0 1h-2z"/><path stroke="currentColor" d="M12 5.5a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm-6.5 12v.2c0 .4.6.8 1.5.8h10c.9 0 1.5-.4 1.5-.8v-.2c0-2.1-2.9-4-6.5-4s-6.5 1.9-6.5 4z"/></g></svg>',svgs["sm1/add_section.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M9 11V9a.5.5 0 0 1 1 0v2h2a.5.5 0 1 1 0 1h-2v2a.5.5 0 1 1-1 0v-2H7a.5.5 0 1 1 0-1h2zM4.5 21a.5.5 0 1 1 0-1h15a.5.5 0 1 1 0 1h-15zM6 6h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H6zM4.5 4a.5.5 0 0 1 0-1h15a.5.5 0 1 1 0 1h-15z"/></svg>',svgs["sm1/alert.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" transform="translate(.93 .93)"><path d="M0 0h26.13v26.13H0z"/><path fill="currentColor" d="M13.07 25.2a12.13 12.13 0 1 1 0-24.27 12.13 12.13 0 0 1 0 24.27zm0-.94a11.2 11.2 0 1 0 0-22.4 11.2 11.2 0 0 0 0 22.4z"/><path fill="currentColor" d="M12.13 7.47H14V14h-1.87z"/><circle cx="13.07" cy="17.03" r="1.17" fill="currentColor"/></g></svg>',svgs["sm1/archive.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M5.5 9.5V18A1.5 1.5 0 0 0 7 19.5h10a1.5 1.5 0 0 0 1.5-1.5V9.5h-13zm-1 0h15V7A1.5 1.5 0 0 0 18 5.5H6A1.5 1.5 0 0 0 4.5 7v2.5z"/><rect width="6" height="1" x="9" y="12" fill="currentColor" rx=".5"/></g></svg>',svgs["sm1/attachment.svg"]='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path d="M5.235 12.754l7.857-7.856a3.064 3.064 0 1 1 4.334 4.335l-7.495 7.495a1.916 1.916 0 0 1-2.709-2.71l6.953-6.953.813.813-6.953 6.953a.768.768 0 0 0 0 1.084.768.768 0 0 0 1.083 0l7.495-7.495a1.916 1.916 0 0 0-2.709-2.71l-7.856 7.857a3.064 3.064 0 1 0 4.335 4.335l7.314-7.315.813.813-7.315 7.314a4.212 4.212 0 0 1-5.96 0 4.212 4.212 0 0 1 0-5.96z" fill="currentColor"</g></svg>',svgs["sm1/audio_play.svg"]='<svg width="11" height="14" viewBox="0 0 11 14" xmlns="http://www.w3.org/2000/svg"><path d="M1.6.8l8 5.4a1 1 0 0 1 0 1.6l-8 5.4a1 1 0 0 1-1.6-.8V1.6A1 1 0 0 1 1.6.8z" fill="#202020" fill-rule="evenodd"/></svg>',svgs["sm1/audio_stop.svg"]='<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><rect width="12" height="12" rx="2" fill="#202020" fill-rule="evenodd"/></svg>',svgs["sm1/bell.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M18.83 17a14.04 14.04 0 0 1-2.12-7.38C16.71 7.08 14.61 5 12 5S7.29 7.07 7.29 9.63c-.03 2.71-.69 4.9-2.13 7.37h13.68zM15 18a3 3 0 0 1-6 0H4v-1a13.41 13.41 0 0 0 2.29-7.38C6.29 6.53 8.85 4 12 4a5.67 5.67 0 0 1 5.71 5.63c.03 2.9.86 5.05 2.29 7.37v1h-5zm-1 0h-4a2 2 0 1 0 4 0z"/></svg>',svgs["sm1/calendar.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H6zm10 12a1 1 0 1 1 0-2 1 1 0 0 1 0 2zM7 8h10a.5.5 0 1 1 0 1H7a.5.5 0 0 1 0-1z"/></svg>',svgs["sm1/calendar_small.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="nonzero" d="M12 2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8zm0 1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-1.25 7a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5zm.75-5a.5.5 0 1 1 0 1h-7a.5.5 0 0 1 0-1h7z"/></svg>',svgs["sm1/cancel_checked_icon.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18zm0 1a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm3.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"/></svg>',svgs["sm1/caret.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><path fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M16 10l-4 4-4-4"/></svg>',svgs["sm1/check_mark.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M11.23 13.7l-2.15-2a.55.55 0 0 0-.74-.01l.03-.03a.46.46 0 0 0 0 .68L11.24 15l5.4-5.01a.45.45 0 0 0 0-.68l.02.03a.55.55 0 0 0-.73 0l-4.7 4.35z" fill-rule="evenodd"/></svg>',svgs["sm1/check_mark_big.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M10.24 15.07L6.06 10.9a.5.5 0 0 0-.7 0c-.2.2-.2.5 0 .71l4.88 4.89 8.43-8.43a.5.5 0 0 0 0-.7.5.5 0 0 0-.7-.01l-7.73 7.72z"/></svg>',svgs["sm1/checkbox_checked.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18zm0-1a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm3.9-11.4a.5.5 0 0 1 .7.8l-6 6a.5.5 0 0 1-.7 0l-2.5-2.5a.5.5 0 0 1 .7-.8l2.1 2.2L16 8.6z"/></svg>',svgs["sm1/clock.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M11 12.5v-5a.5.5 0 0 1 1 0V12h4.5a.5.5 0 1 1 0 1H11v-.5zm1 7.5a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-1a7 7 0 1 0 0-14 7 7 0 0 0 0 14z"/></svg>',svgs["sm1/close_big.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M11.3 12L5 5.9A.5.5 0 1 1 6 5l6.1 6.2L18.1 5a.5.5 0 0 1 .8.8L12.7 12l6.2 6.1a.5.5 0 0 1-.8.8L12 12.7 5.9 19A.5.5 0 0 1 5 18l6.2-6.1z"/></svg>',svgs["sm1/close_small.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M12 10.62l4.833-4.834a.976.976 0 1 1 1.381 1.38L13.381 12l4.833 4.833a.976.976 0 0 1-1.38 1.381L12 13.381l-4.833 4.833a.976.976 0 0 1-1.381-1.38L10.619 12 5.786 7.167a.976.976 0 1 1 1.38-1.381L12 10.619z"/></svg>',svgs["sm1/close_tiny.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M12 11.286l3.929-3.929a.505.505 0 1 1 .714.714L12.714 12l3.929 3.929a.505.505 0 1 1-.714.714L12 12.714l-3.929 3.929a.505.505 0 1 1-.714-.714L11.286 12 7.357 8.071a.505.505 0 1 1 .714-.714L12 11.286z"/></svg>',svgs["sm1/comments.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M11.707 20.793A1 1 0 0 1 10 20.086V18H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4.5l-2.793 2.793zM11 20.086L14.086 17H19a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h6v3.086z"/></svg>',svgs["sm1/comments_fill.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M11.707 20.793A1 1 0 0 1 10 20.086V18H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4.5l-2.793 2.793z"/></svg>',svgs["sm1/comments_small.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="nonzero" d="M12 2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H9.5l-1.793 1.793A1 1 0 0 1 6 13.086V12H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8zm0 1H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h3v2.086L9.086 11H12a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1z"/></svg>',svgs["sm1/download.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="currentColor" fill-rule="evenodd"><g transform="translate(4 3)"><rect width="17" height="1" y="14" rx=".5"/><path d="M9 10.293l2.146-2.147a.5.5 0 0 1 .708.708L9.207 11.5a1 1 0 0 1-1.414 0L5.146 8.854a.5.5 0 0 1 .708-.708L8 10.293V1a.5.5 0 0 1 1 0v9.293z"/></g></g></svg>',svgs["sm1/drag.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M9.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm-5-5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/></svg>',svgs["sm1/duplicate.svg"]='<svg width="24" height="24"><g fill="none"><path fill="currentColor" d="M11 13h2.5c.3 0 .5.2.5.5s-.2.5-.5.5H11v2.5a.5.5 0 01-.5.5.5.5 0 01-.5-.5V14H7.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5H10v-2.5c0-.3.2-.5.5-.5s.5.2.5.5V13z"/><rect width="12" height="12" x="4.5" y="7.5" stroke="currentColor" rx="2"/><path fill="currentColor" d="M19 16.7V6a1 1 0 00-1-1H7.3c.2-.3.4-.6.7-.7.3-.2.7-.3 1.6-.3h7.8c1 0 1.3 0 1.6.3.3.1.6.4.7.7.2.3.3.7.3 1.6v7.8c0 1 0 1.3-.3 1.6-.1.3-.4.5-.7.7zm-1.6.3H9.6h7.8z"/></g></svg>',svgs["sm1/edit.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M9.5 19h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z"/><path stroke="currentColor" d="M4.42 16.03a1.5 1.5 0 0 0-.43.9l-.22 2.02a.5.5 0 0 0 .55.55l2.02-.21a1.5 1.5 0 0 0 .9-.44L18.7 7.4a1.5 1.5 0 0 0 0-2.12l-.7-.7a1.5 1.5 0 0 0-2.13 0L4.42 16.02z"/></g></svg>',svgs["sm1/email.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M6 6h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H6zm10.7 1.6a.5.5 0 0 1 .6.8L12 13.1 6.7 9.4a.5.5 0 1 1 .6-.8l4.7 3.3 4.7-3.3z"/></svg>',svgs["sm1/emoji.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="currentColor"><path d="M9.375 11.75a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25zm5.25 0a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25zm.603 1.75a3.335 3.335 0 0 1-6.456 0h6.456z"/><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 1a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"/></g></svg>',svgs["sm1/evernote.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><defs><path id="evernote" d="M0 .05h13.96v15.87H0z"/></defs><g fill="none" fill-rule="evenodd" transform="translate(5 4)"><mask id="b" fill="#fff"><use xlink:href="#evernote"/></mask><path fill="#C4C4C4" fill-rule="nonzero" d="M10.4 7.56a3.5 3.5 0 0 0-.65.04c.06-.44.25-.98.92-.96.75.03.85.7.85 1.15a3.19 3.19 0 0 0-1.12-.23zm3.18-4.75a1.34 1.34 0 0 0-.88-1.07c-.39-.13-1.17-.27-2.15-.38a17.4 17.4 0 0 0-2.29-.06 1.3 1.3 0 0 0-.75-.98A6.13 6.13 0 0 0 4.67.14c-.3.08-.64.25-.83.5-.13.17-.2.4-.2.7v.94l.01.7a.6.6 0 0 1-.62.58H1.47c-.34 0-.6.05-.79.14a1.08 1.08 0 0 0-.43.33c-.21.27-.25.6-.25.93 0 0 0 .28.07.8.06.42.53 3.3.98 4.17.17.34.28.48.62.63.76.31 2.49.65 3.3.75.8.1 1.31.3 1.62-.3l.14-.36c.26-.76.3-1.43.3-1.92 0-.05.07-.05.07 0 0 .35-.07 1.56.9 1.89.38.12 1.17.24 1.97.33.73.08 1.25.35 1.25 2.12 0 1.08-.24 1.22-1.48 1.22-1 0-1.39.03-1.39-.73 0-.62.64-.55 1.11-.55.22 0 .06-.15.06-.53s.25-.6.02-.6c-1.64-.05-2.6 0-2.6 1.94 0 1.77.7 2.1 3.03 2.1 1.83 0 2.47-.05 3.22-2.28.15-.44.51-1.78.73-4.03.14-1.42-.13-5.71-.34-6.8zm-12.19.32h1.57c.1 0 .16-.07.16-.16L3.1 1.34c0-.3.07-.55.18-.76l.05-.1a.03.03 0 0 0-.01.01L.27 3.36a.03.03 0 0 0 0 .02l.15-.08c.27-.11.59-.18.97-.18z" mask="url(#b)"/></g></svg>',svgs["sm1/ext_attachment.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M11 13h2.5c.3 0 .5.2.5.5s-.2.5-.5.5H11v2.5a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5V14H7.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5H10v-2.5c0-.3.2-.5.5-.5s.5.2.5.5V13z"/><rect width="12" height="12" x="4.5" y="7.5" stroke="currentColor" rx="2"/><path fill="currentColor" fill-rule="nonzero" d="M19 16.7V6a1 1 0 0 0-1-1H7.3c.2-.3.4-.6.7-.7.3-.2.7-.3 1.6-.3h7.8c1 0 1.3 0 1.6.3.3.1.6.4.7.7.2.3.3.7.3 1.6v7.8c0 1 0 1.3-.3 1.6-.1.3-.4.5-.7.7zm-1.6.3H9.6h7.8z"/></g></svg>',svgs["sm1/fetch_completed.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M12 3a9 9 0 0 1 0 18 9.002 9.002 0 0 1-8.86-7.411.5.5 0 0 1 .984-.176A8.002 8.002 0 0 0 12 20 8 8 0 1 0 4.614 8.922L4.582 9H7.5a.5.5 0 0 1 .492.41L8 9.5a.5.5 0 0 1-.41.492L7.5 10h-4a.5.5 0 0 1-.492-.41L3 9.5v-4a.5.5 0 0 1 .992-.09L4 5.5v2.373A9.002 9.002 0 0 1 12 3zm3.646 5.896a.5.5 0 0 1 .708.708l-5.5 5.5a.5.5 0 0 1-.708 0l-2.5-2.5a.5.5 0 0 1 .708-.708l2.146 2.147z"/></svg>',svgs["sm1/file.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M18.5 9.5a1.1 1.1 0 0 0-.1 0h-3.1a2 2 0 0 1-1-.2 1.4 1.4 0 0 1-.6-.6 2 2 0 0 1-.2-1v-3-.2a1.1 1.1 0 0 0-.1 0H7.6c-.8 0-1 0-1.3.2a1.3 1.3 0 0 0-.6.6c-.1.2-.2.5-.2 1.3v10.8c0 .8 0 1 .2 1.3.1.3.3.5.6.6.2.1.5.2 1.3.2h8.8c.8 0 1 0 1.3-.2.3-.1.5-.3.6-.6.1-.2.2-.5.2-1.3V9.6v-.1zm-5-5z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5l5 5"/><rect width="6" height="1" x="9" y="12" fill="currentColor" rx=".5"/><rect width="6" height="1" x="9" y="15" fill="currentColor" rx=".5"/></g></svg>',svgs["sm1/filter.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M12 19a5 5 0 0 0 5-5c0-1.102-.345-2-1.064-3.03-.259-.371-1.414-1.832-1.697-2.225-.775-1.077-1.338-2.124-1.765-3.403a.5.5 0 0 0-.948 0c-.427 1.28-.99 2.326-1.765 3.403-.283.393-1.438 1.854-1.697 2.225C7.344 12 7 12.898 7 14a5 5 0 0 0 5 5z"/></svg>',svgs["sm1/gear.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M16.523 6.38l1.193-.598a1 1 0 0 1 1.314.394l1.529 2.648a1 1 0 0 1-.317 1.335l-1.204.793a7.263 7.263 0 0 1-.026 2.079l1.23.81a1 1 0 0 1 .317 1.335l-1.529 2.648a1 1 0 0 1-1.314.394l-1.345-.674a7.194 7.194 0 0 1-1.757 1.027l-.087 1.488a1 1 0 0 1-.998.941H10.47a1 1 0 0 1-.998-.941L9.39 18.65a7.188 7.188 0 0 1-1.883-1.045l-1.223.613a1 1 0 0 1-1.314-.394l-1.529-2.648a1 1 0 0 1 .317-1.335l1.05-.692a7.242 7.242 0 0 1-.03-2.318l-1.02-.672a1 1 0 0 1-.317-1.335L4.97 6.176a1 1 0 0 1 1.314-.394l1.068.536a7.191 7.191 0 0 1 2.05-1.173l.071-1.204A1 1 0 0 1 10.471 3h3.058a1 1 0 0 1 .998.941l.075 1.283a7.197 7.197 0 0 1 1.921 1.156zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>',svgs["sm1/gear_alert.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><path fill="currentColor" d="M20.6 9a1 1 0 0 1-.4 1.2L19 11a7.3 7.3 0 0 1 0 2l1.2.8a1 1 0 0 1 .4 1.4L19 17.8a1 1 0 0 1-1.3.4l-1.3-.7a7.2 7.2 0 0 1-1.8 1v1.6a1 1 0 0 1-1 .9h-3.1a1 1 0 0 1-1-1l-.1-1.4a7.2 7.2 0 0 1-1.9-1l-1.2.6a1 1 0 0 1-1.3-.4l-1.6-2.6a1 1 0 0 1 .4-1.4l1-.7a7.2 7.2 0 0 1 0-2.3l-1-.6a1 1 0 0 1-.4-1.4L5 6.2a1 1 0 0 1 1.3-.4l1 .5a7.2 7.2 0 0 1 2.1-1.2V4a1 1 0 0 1 1-.9h3.1a1 1 0 0 1 1 1l.1 1.2.6.3A5 5 0 0 0 20.6 9zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/><circle cx="20" cy="4" r="4" fill="#FF961F" class="dot"/></g></svg>',svgs["sm1/heart.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="none" stroke="currentColor" d="M12 18.345c5.642-4.767 6.354-5.448 7.099-6.988a3.79 3.79 0 0 0 .401-1.69c0-2.307-1.772-4.167-3.944-4.167-1.252 0-2.407.62-3.15 1.657L12 7.725l-.407-.568C10.851 6.12 9.696 5.5 8.444 5.5 6.272 5.5 4.5 7.36 4.5 9.667c0 .582.13 1.13.401 1.69.745 1.54 1.457 2.221 7.099 6.988z"/></svg>',svgs["sm1/heart_strike.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="currentColor" fill-rule="evenodd"><rect width="21.92" height="1" x="1.82" y="10.78" rx=".5" transform="rotate(-45 12.78 11.28)"/><path fill-rule="nonzero" d="M16.76 5.17l-.85.85a3.26 3.26 0 0 0-.36-.02c-1.08 0-2.09.54-2.74 1.45L12 8.59l-.81-1.14A3.37 3.37 0 0 0 8.44 6C6.55 6 5 7.63 5 9.67c0 .5.11.98.35 1.47.44.9.88 1.5 2.49 2.96l-.71.7C5.04 12.88 4 11.43 4 9.68A4.56 4.56 0 0 1 8.44 5a4.3 4.3 0 0 1 3.07 1.28c.18.18.34.38.49.59a4.63 4.63 0 0 1 .7-.79A4.3 4.3 0 0 1 15.57 5c.41 0 .82.06 1.2.17zm2.43 1.81c.51.76.81 1.69.81 2.69 0 2.8-2.67 4.83-8 9.33l-2.62-2.2.72-.72 1.9 1.61c5.25-4.44 5.96-5.14 6.65-6.55A3.29 3.29 0 0 0 19 9.67a3.82 3.82 0 0 0-.53-1.96l.72-.73z"/></g></svg>',svgs["sm1/history.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M12 12h4v1h-5V8h1v4zm-7 0h2l-2.5 3L2 12h2a8 8 0 1 1 8 8v-1a7 7 0 1 0-7-7z"/></svg>',svgs["sm1/indent.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M19.5 8h-9a.5.5 0 1 0 0 1h9a.5.5 0 0 0 0-1zm0 4h-7a.5.5 0 1 0 0 1h7a.5.5 0 1 0 0-1zm0 4h-9a.5.5 0 1 0 0 1h9a.5.5 0 1 0 0-1zm-14.354.146a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L8.793 12.5l-3.647 3.646z"/></svg>',svgs["sm1/info.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18zm0 1a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm.5 6a.5.5 0 0 1 .5.5V15h1a.5.5 0 1 1 0 1h-3a.5.5 0 1 1 0-1h1v-4h-1a.5.5 0 1 1 0-1h1.5zm-.16-2.68a.84.84 0 1 1 0 1.68.84.84 0 0 1 0-1.68z"/></svg>',svgs["sm1/job.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M16 8H6a1 1 0 0 0-1 1v2h14V9a1 1 0 0 0-1-1h-2zM8 7V6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h2zm1 0h6V6a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v1zm10 5H5v5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5z"/></svg>',svgs["sm1/karma_1.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd" transform="translate(-3 -3)"><circle cx="12" cy="12" r="8" fill="currentColor"/><path fill="#FFF" d="M12 16.5c-.2-.4-2.5-2.4-3.2-4l-.2-1c0-3.2 2-3.6 3.4-3.6s3.4.4 3.4 3.5c0 .3-.1.7-.3 1-.7 1.7-3 3.7-3.1 4zm0 0z"/></g></svg>',svgs["sm1/karma_2.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd" transform="translate(-3 -3)"><circle cx="12" cy="12" r="8" fill="currentColor"/><path fill="#FFF" d="M12 6.8c1.3 0 3.4.3 3.4 3.4 0 1.2-1.6 3.2-2.3 4.7-1 2.4-1 3.4-1 3.4s-.2-1-1.2-3.4c-.6-1.5-2.2-3.5-2.2-4.7 0-3.1 2-3.4 3.3-3.4z"/></g></svg>',svgs["sm1/karma_3.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd" transform="translate(-3 -3)"><circle cx="12" cy="12" r="8" fill="currentColor"/><path fill="#FFF" d="M15.7 12.3c0 3.2-3.4 5.8-3.4 5.8v-7.3c0-3.2 2-2.9 3-2.9s.4 1.2.4 4.4zm-7.4 0c0-3.2-.7-4.4.3-4.4s3.1-.3 3.1 2.9V18s-3.4-2.6-3.4-5.8z"/></g></svg>',svgs["sm1/karma_4.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd" transform="translate(-3 -3)"><circle cx="12" cy="12" r="8" fill="currentColor"/><path fill="#FFF" d="M7.5 7.5c1 0 3.4.2 3.4 3.4v7.8S7.5 15.3 7.5 12s-1-4.5 0-4.5zm9 0c1 0 0 1.3 0 4.5S13 18.8 13 18.8v-8c0-3.1 2.4-3.3 3.4-3.3z"/></g></svg>',svgs["sm1/karma_5.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd" transform="translate(-3 -3)"><circle cx="12" cy="12" r="8" fill="currentColor"/><path fill="#FFF" d="M6.4 7.5c1 0 4.5 2.4 4.5 5.6v5.7s-3-.6-3.4-6.8c-.2-3.2-2-4.5-1.1-4.5zm11.2 0c1 0-1 1.3-1.1 4.5-.4 6.2-3.4 6.8-3.4 6.8V13c0-3.2 3.5-5.6 4.5-5.6zM12 5.9c.4 0 1 .2 1 1.6s-1 3.4-1 3.4-1-2-1-3.4.6-1.6 1-1.6z"/></g></svg>',svgs["sm1/karma_6.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd" transform="translate(-3 -3)"><circle cx="12" cy="12" r="8" fill="currentColor"/><path fill="#FFF" d="M12 17.5s.4-.2 1.1-2.2c.9-2.4 3.1-4.5 5.7-4.5 0 1.2-1 .7-2.3 4.5a4.8 4.8 0 0 1-4.5 3.4v-1.2 1.2a4.8 4.8 0 0 1-4.5-3.4c-1.4-3.8-2.3-3.4-2.3-4.5 2.6 0 4.8 2 5.7 4.5.7 2 1 2.2 1.1 2.2zm0-11s1.3.4 2.3 1c.6.5 1 1.2 1 1.2s-1.3 1-2.2 2.3c-.8 1-1.1 2.2-1.1 2.2s-.3-1.1-1.1-2.2C10 9.8 8.6 8.7 8.6 8.7s.6-.7 1.2-1.1c1-.7 2.2-1.1 2.2-1.1z"/></g></svg>',svgs["sm1/karma_7.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd" transform="translate(-3 -3)"><circle cx="12" cy="12" r="8" fill="currentColor"/><path fill="#FFF" d="M12 18.6v.1zm2.6-5a19 19 0 0 1 2-2.8c3.4-3.4 2 2 1.2 3.3-1.5 2.8-5.8 4.7-5.8 4.7S7.8 17 6.4 14.2c-.8-1.4-2.2-6.8 1.1-3.3l1.8 2.4-1.5-3.6 3 3.1s.6.6 1.2.6 1.1-.6 1.1-.6l3.1-3-1.6 3.7zM12 6.3L14.8 8 12 10.9 9.2 8 12 6.4z"/></g></svg>',svgs["sm1/karma_8.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd" transform="translate(-3 -3)"><circle cx="12" cy="12" r="8" fill="currentColor"/><path fill="#FFF" d="M10.9 10.9s.5.5 1.1.5c.6 0 1.1-.5 1.1-.5l3.4-3.4-3.4 6.8s-.6.8-1.1.8c-.6 0-1.1-.9-1.1-.9L7.5 7.5l3.4 3.4zm-3.4 0c1.4 1.5 4.5 6.6 4.5 7.8 0 3.2 0 0 0 0s-4.2-1.6-5.6-4.4c-.8-1.5-2.2-7 1.1-3.4zm4.5 7.8c0-1.1 4.6-7.9 4.6-7.9 3.4-3.4 2 2 1.2 3.3-1.5 2.8-5.8 4.7-5.8 4.7zm0-12.3l2.3 1.1L12 9.8 9.7 7.5 12 6.4z"/></g></svg>',svgs["sm1/keyboard_non_retina.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="currentColor" fill-rule="evenodd"><path d="M7 9h1v1H7V9zm3 0h1v1h-1V9zm3 0h1v1h-1V9zm3 0h1v1h-1V9zm-9 2h1v1H7v-1zm3 0h1v1h-1v-1zm3 0h1v1h-1v-1zm3 0h1v1h-1v-1zm-8 3h8v1H8v-1z"/><path fill-rule="nonzero" d="M6.56 7c-.66 0-.86.04-1.07.15a.82.82 0 0 0-.34.34C5.04 7.7 5 7.9 5 8.56v6.88c0 .66.04.86.15 1.07a.82.82 0 0 0 .34.34c.21.11.41.15 1.07.15h10.88c.66 0 .86-.04 1.07-.15a.82.82 0 0 0 .34-.35c.11-.2.15-.4.15-1.06V8.56c0-.66-.04-.86-.15-1.07a.82.82 0 0 0-.35-.34c-.2-.11-.4-.15-1.06-.15H6.56zm0-1h10.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54v6.88c0 .89-.1 1.21-.27 1.54a1.8 1.8 0 0 1-.75.75c-.33.18-.65.27-1.54.27H6.56c-.89 0-1.21-.1-1.54-.27a1.82 1.82 0 0 1-.75-.75c-.18-.33-.27-.65-.27-1.54V8.56c0-.89.1-1.21.27-1.54.17-.32.43-.58.75-.75.33-.18.65-.27 1.54-.27z"/></g></svg>',svgs["sm1/keyboard_retina.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="currentColor" fill-rule="evenodd"><path d="M6.5 14h2v1h-2v-1zm10-2h1v1h-1v-1zm0-2h1v1h-1v-1zm-10 2h1v1h-1v-1zm0-2h1v1h-1v-1zm2 2h1v1h-1v-1zm0-2h1v1h-1v-1zm2 2h1v1h-1v-1zm0-2h1v1h-1v-1zm2 2h1v1h-1v-1zm0-2h1v1h-1v-1zm2 2h1v1h-1v-1zm0-2h1v1h-1v-1zm1 4h2v1h-2v-1zm-6 0h5v1h-5v-1z"/><path fill-rule="nonzero" d="M6.56 7c-.66 0-.86.04-1.07.15a.82.82 0 0 0-.34.34C5.04 7.7 5 7.9 5 8.56v6.88c0 .66.04.86.15 1.07a.82.82 0 0 0 .34.34c.21.11.41.15 1.07.15h10.88c.66 0 .86-.04 1.07-.15a.82.82 0 0 0 .34-.35c.11-.2.15-.4.15-1.06V8.56c0-.66-.04-.86-.15-1.07a.82.82 0 0 0-.35-.34c-.2-.11-.4-.15-1.06-.15H6.56zm0-1h10.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54v6.88c0 .89-.1 1.21-.27 1.54a1.8 1.8 0 0 1-.75.75c-.33.18-.65.27-1.54.27H6.56c-.89 0-1.21-.1-1.54-.27a1.82 1.82 0 0 1-.75-.75c-.18-.33-.27-.65-.27-1.54V8.56c0-.89.1-1.21.27-1.54.17-.32.43-.58.75-.75.33-.18.65-.27 1.54-.27z"/></g></svg>',svgs["sm1/label.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M5.914 11.086l4.5-4.5A2 2 0 0 1 11.828 6H16a2 2 0 0 1 2 2v4.172a2 2 0 0 1-.586 1.414l-4.5 4.5a2 2 0 0 1-2.828 0l-4.172-4.172a2 2 0 0 1 0-2.828zM14 11a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/></svg>',svgs["sm1/label_outline.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M3.914 11.086l6.5-6.5A2 2 0 0 1 11.828 4H18a2 2 0 0 1 2 2v6.172a2 2 0 0 1-.586 1.414l-6.5 6.5a2 2 0 0 1-2.828 0l-6.172-6.172a2 2 0 0 1 0-2.828zm.707.707a1 1 0 0 0 0 1.414l6.172 6.172a1 1 0 0 0 1.414 0l6.5-6.5a1 1 0 0 0 .293-.707V6a1 1 0 0 0-1-1h-6.172a1 1 0 0 0-.707.293l-6.5 6.5zM14.75 10.5a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5z"/></svg>',svgs["sm1/leave.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M6.5 8.3V5.63c0-1.17.9-2.13 2-2.13h7c1.1 0 2 .95 2 2.13v11.74c0 1.17-.9 2.13-2 2.13h-7c-1.1 0-2-.95-2-2.13V14.7"/><path fill="currentColor" d="M12.8 11l-2.15-2.15a.5.5 0 1 1 .7-.7L14 10.79a1 1 0 0 1 0 1.42l-2.65 2.64a.5.5 0 0 1-.7-.7L12.79 12H4.5a.5.5 0 0 1 0-1h8.3z"/></g></svg>',svgs["sm1/lightbulb_outline.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><defs><path fill="currentColor" id="lightbulb_outline" d="M12 6c3.052 0 5.5 2.448 5.5 5.5 0 1.32-.393 2.274-1.266 3.562l-.425.615c-.588.856-.891 1.411-1.078 2.02l-.468 2.338a1.2 1.2 0 0 1-1.177.965h-2.172a1.2 1.2 0 0 1-1.177-.965l-.458-2.291c-.21-.68-.512-1.23-1.088-2.067l-.425-.615C6.893 13.774 6.5 12.819 6.5 11.5 6.5 8.448 8.948 6 12 6zm1.65 12h-3.3l.368 1.84a.2.2 0 0 0 .196.16h2.172a.2.2 0 0 0 .196-.16L13.65 18zM12 7c-2.5 0-4.5 2-4.5 4.5 0 2.326 1.73 3.353 2.576 5.498h3.848c.845-2.145 2.576-3.172 2.576-5.498C16.5 9 14.5 7 12 7zm7.582 7.1l1.848.765a.5.5 0 1 1-.383.924l-1.847-.766a.5.5 0 0 1 .382-.923zm-14.511.27a.5.5 0 0 1-.27.653l-1.848.766a.5.5 0 0 1-.383-.924l1.848-.765a.5.5 0 0 1 .653.27zM21.7 7.482a.5.5 0 0 1-.27.653l-1.849.765a.5.5 0 0 1-.382-.923l1.847-.766a.5.5 0 0 1 .654.27zm-18.748-.27l1.847.765a.5.5 0 0 1-.382.923L2.57 8.135a.5.5 0 1 1 .383-.924zm13.065-5.413a.5.5 0 0 1 .27.654L15.524 4.3a.5.5 0 0 1-.923-.382l.765-1.848a.5.5 0 0 1 .653-.27zm-7.383.27l.766 1.85a.5.5 0 0 1-.923.382L7.71 2.453a.5.5 0 1 1 .924-.383z"/></defs><use xlink:href="#lightbulb_outline"/></svg>',svgs["sm1/link.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M7.39 12.339l.706.707-1.768 1.768a2 2 0 1 0 2.829 2.828l3.535-3.535a2 2 0 0 0 0-2.829l.707-.707a3 3 0 0 1 0 4.243l-3.535 3.535a3 3 0 0 1-4.243-4.242l1.768-1.768zm8.838-.354l-.707-.707 1.768-1.768a2 2 0 1 0-2.829-2.828l-3.535 3.536a2 2 0 0 0 0 2.828l-.707.707a3 3 0 0 1 0-4.243l3.535-3.535a3 3 0 0 1 4.243 4.243l-1.768 1.767z"/></svg>',svgs["sm1/list.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M10 11.5c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5s-.2.5-.5.5h-7a.5.5 0 0 1-.5-.5zm0 4c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5s-.2.5-.5.5h-7a.5.5 0 0 1-.5-.5zm0-8c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5s-.2.5-.5.5h-7a.5.5 0 0 1-.5-.5zm-4 9a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-4a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-4a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/></svg>',svgs["sm1/location_mark.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M12 19c-3.3-4.2-5-7.2-5-9a5 5 0 1 1 10 0c0 1.8-1.7 4.8-5 9zm0-7a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',svgs["sm1/mail.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" fill-rule="nonzero" d="M12 11.4l4.7-3.8a.5.5 0 1 1 .6.8L12 12.6 6.7 8.4a.5.5 0 0 1 .6-.8l4.7 3.8z"/><rect width="15" height="13" x="4.5" y="5.5" stroke="currentColor" rx="2"/></g></svg>',svgs["sm1/member_big.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="none" stroke="currentColor" d="M12 4.5a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zM4.5 18.3v.1c0 .6.8 1.1 1.8 1.1h11.4c1 0 1.8-.5 1.8-1v-.3c0-2.5-3.3-4.7-7.5-4.7s-7.5 2.2-7.5 4.8z"/></svg>',svgs["sm1/member_small.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="none" stroke="currentColor" d="M12 5.5a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm-6.5 12v.2c0 .4.6.8 1.5.8h10c.9 0 1.5-.4 1.5-.8v-.2c0-2.1-2.9-4-6.5-4s-6.5 1.9-6.5 4z"/></svg>',svgs["sm1/menu.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.5 5h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zm0 6h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 6h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1z"/></svg>',svgs["sm1/microphone.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M13 16.5V19h2.5a.5.5 0 1 1 0 1h-6a.5.5 0 1 1 0-1H12v-2.5c-.8 0-1.6-.3-2.2-.6-.7-.4-1.3-1-1.7-1.7-.4-.8-.6-1.6-.6-2.6V9a.5.5 0 0 1 1 0v2.6c0 .8.2 1.5.5 2.1.3.6.7 1 1.3 1.3.6.3 1.3.5 2.1.5h.2c.8 0 1.5-.2 2.1-.5.6-.3 1-.7 1.3-1.3.3-.6.5-1.3.5-2.1V9a.5.5 0 1 1 1 0v2.6c0 1-.2 1.8-.6 2.6-.4.7-1 1.3-1.7 1.7-.6.3-1.4.5-2.2.6zM12.5 3C13.9 3 15 4.1 15 5.5v6a2.5 2.5 0 1 1-5 0v-6C10 4.1 11.1 3 12.5 3z"/></svg>',svgs["sm1/mobile.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M7.6 4h4.8c1 0 1.3 0 1.6.3.3.1.6.4.7.7.2.3.3.7.3 1.6v10.8c0 1 0 1.3-.3 1.6-.1.3-.4.6-.7.7-.3.2-.7.3-1.6.3H7.6c-1 0-1.3 0-1.6-.3a1.8 1.8 0 0 1-.7-.7c-.2-.3-.3-.7-.3-1.6V6.6c0-1 0-1.3.3-1.6.1-.3.4-.6.7-.7.3-.2.7-.3 1.6-.3zm0 1l-1.1.1a.8.8 0 0 0-.4.4l-.1 1v11l.1 1a.8.8 0 0 0 .4.4l1 .1h5l1-.1a.8.8 0 0 0 .4-.4l.1-1v-11l-.1-1a.8.8 0 0 0-.4-.4l-1-.1h-5zm-.1 2h5a.5.5 0 1 1 0 1h-5a.5.5 0 0 1 0-1zm0 9h5a.5.5 0 1 1 0 1h-5a.5.5 0 1 1 0-1zM18 9.5v4h-1v-4h1zm2-1v6h-1v-6h1z"/></svg>',svgs["sm1/more.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" transform="translate(3 10)"><circle cx="2" cy="2" r="2"/><circle cx="9" cy="2" r="2"/><circle cx="16" cy="2" r="2"/></g></svg>',svgs["sm1/more_small.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="15" height="3"><path fill="currentColor" fill-rule="evenodd" d="M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm6 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm6 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/></svg>',svgs["sm1/move.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd" transform="translate(4 4)"><circle cx="8" cy="8" r="7.5" stroke="currentColor"/><path fill="currentColor" d="M10.11 7.82L8.15 5.85a.5.5 0 1 1 .7-.7l2.83 2.82a.5.5 0 0 1 0 .71l-2.83 2.83a.5.5 0 1 1-.7-.7l1.98-1.99H4.5a.5.5 0 1 1 0-1h5.61z"/></g></svg>',svgs["sm1/name.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M11.67 17l-1-2.82H6.76L5.76 17H4.47l3.64-9.86h1.22L12.96 17h-1.29zm-3-8.27l-1.55 4.4h3.2l-1.55-4.4h-.1zm7.97 7.37c1.21 0 2.1-.8 2.1-1.85v-.68l-1.97.13c-1.12.08-1.62.47-1.62 1.2 0 .76.64 1.2 1.5 1.2zm-.22 1.03c-1.42 0-2.48-.85-2.48-2.2 0-1.31.97-2.07 2.68-2.17l2.13-.14v-.67c0-.9-.57-1.4-1.67-1.4-.88 0-1.5.33-1.66.91h-1.2c.17-1.18 1.33-1.96 2.9-1.96 1.8 0 2.8.92 2.8 2.45V17H18.8v-1.09h-.1a2.55 2.55 0 0 1-2.28 1.22z"/></svg>',svgs["sm1/notification_assigned.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#FF9E13"/><path fill="#FFF" d="M11 11V8a1 1 0 0 1 2 0v3h3a1 1 0 0 1 0 2h-3v3a1 1 0 0 1-2 0v-3H8a1 1 0 0 1 0-2h3z"/></g></svg>',svgs["sm1/notification_commented.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#506578"/><path fill="#FFF" d="M14 15v1.43a.5.5 0 0 1-.82.39L11 15H9.92c-.67 0-.9-.07-1.15-.2a1.36 1.36 0 0 1-.57-.57c-.13-.24-.2-.48-.2-1.15v-2.16c0-.67.07-.9.2-1.15.13-.25.32-.44.57-.57.24-.13.48-.2 1.15-.2h4.16c.67 0 .9.07 1.15.2.25.13.44.32.57.57.13.24.2.48.2 1.15v2.16c0 .67-.07.9-.2 1.15-.13.25-.32.44-.57.57-.24.13-.48.2-1.15.2H14z"/></g></svg>',svgs["sm1/notification_completed.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#3C9B0D"/><path fill="#FFF" d="M10.536 13.071l4.242-4.243a1 1 0 0 1 1.414 1.415l-4.95 4.95a1 1 0 0 1-1.414 0l-2.12-2.122a1 1 0 0 1 1.413-1.414l1.415 1.414z"/></g></svg>',svgs["sm1/notification_deleted.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#838383"/><path fill="#FFF" d="M16 11a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2h8z"/></g></svg>',svgs["sm1/notification_payment.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#4DC1E6"/><path fill="#FFF" d="M11.46 15.6v-3.06l-.31-.08c-1.65-.4-2.4-1.22-2.4-2.61 0-1.51 1.06-2.57 2.7-2.77V6h1.3v1.1c1.5.23 2.53 1.26 2.6 2.65h-1.37a1.6 1.6 0 0 0-1.24-1.32v2.9l.12.02c1.87.46 2.64 1.24 2.64 2.67 0 1.58-1.04 2.65-2.76 2.89V18h-1.28v-1.06c-1.73-.18-2.87-1.21-2.96-2.75h1.4c.1.73.68 1.24 1.56 1.4zm1.28-.02c.8-.18 1.33-.7 1.33-1.37 0-.64-.41-1.05-1.33-1.34v2.71zM11.46 8.4c-.79.17-1.28.66-1.28 1.36 0 .6.38.96 1.28 1.24V8.4z"/></g></svg>',svgs["sm1/notification_read.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M12 7.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0-1a5.5 5.5 0 1 1 0 11 5.5 5.5 0 0 1 0-11z"/></svg>',svgs["sm1/notification_uncompleted.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#838383"/><path fill="#FFF" d="M7.25 12.17a.36.36 0 0 1 0-.5l.48-.49a.36.36 0 0 1 .5 0l.25.26-.98.98-.25-.25zm.76.75l.98-.98L10 12.96l-.98.97-1.01-1zm1.51 1.52l.99-.98 1 1.01-.48.49a.69.69 0 0 1-.99 0l-.51-.52zM11 12.97l.98-.98L12.98 13l-.98.98-1-1zm1.47-1.47l.98-.98 1.01 1.01-.98.98-1-1zm1.47-1.47l.98-.98 1.01 1.01-.98.98-1-1zm1.47-1.46l.24-.25a.34.34 0 0 1 .5 0l.51.52a.35.35 0 0 1 0 .5l-.24.24-1.01-1.01z"/></g></svg>',svgs["sm1/notification_unread.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M12 6.5a5.5 5.5 0 1 1 0 11 5.5 5.5 0 0 1 0-11zm0 1a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 2.5a2 2 0 1 1 0 4 2 2 0 0 1 0-4z"/></svg>',svgs["sm1/notification_updated.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#4DC1E6"/><path fill="#FFF" d="M15.11 11.34a3.2 3.2 0 1 0-1.77 3.53l.78 1.03a4.48 4.48 0 1 1 2.29-4.56h1.64l-2.37 3.2-2.42-3.2h1.85z"/></g></svg>',svgs["sm1/notification_user_added.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#3A76EB"/><path fill="#FFF" d="M15 10V8h1v2h2v1h-2v2h-1v-2h-2v-1h2zm-5-2a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm-3.5 6.6c0-1.4 1.6-2.6 3.5-2.6s3.5 1.2 3.5 2.6v.1c0 .5-.4.8-1 .8h-5c-.6 0-1-.3-1-.8z"/></g></svg>',svgs["sm1/notification_user_removed.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#3D3D3D"/><path fill="#FFF" d="M10 8a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm-3.5 6.6c0-1.4 1.6-2.6 3.5-2.6s3.5 1.2 3.5 2.6v.1c0 .5-.4.8-1 .8h-5c-.6 0-1-.3-1-.8z"/><path fill="#F4F4F4" d="M14 11v-1h3v1z"/></g></svg>',svgs["sm1/notification_wunderlist_import.svg"]='<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50"><defs><circle id="wunderlistA" cx="25" cy="25" r="25"/></defs><g fill="none" fill-rule="evenodd"><mask id="wunderlistB" fill="#fff"><use xlink:href="#wunderlistA"/></mask><use fill="#EAEAEA" xlink:href="#wunderlistA"/><g mask="url(#wunderlistB)"><path fill="#DC4C3E" d="M36.5472 34.4547l-11.7736-5.7756L13 34.4547V0h23.5472z"/><path fill="#FFF" d="M24.4807 8.5767l1.9367 5.8136h6.3264l-5.1287 3.8931 1.9727 6.0104-5.1071-3.7335-5.1071 3.7335 1.9727-6.0104-5.1287-3.239h6.3257z"/></g></g></svg>',svgs["sm1/notifications.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><defs><path id="sm1/notifications/a" d="M10.8 16a3 3 0 0 1-5.6 0h5.6zM5 15h6-6zm-3.8 0a1 1 0 0 1-.8-1.5 16 16 0 0 0 2.1-8 5.5 5.5 0 0 1 11 0c0 2.8.7 5.5 2.1 8a1 1 0 0 1-.8 1.5H1.2z"/></defs><g fill="none" fill-rule="evenodd" transform="translate(4 3)"><mask id="sm1/notifications/b" fill="#fff"><use xlink:href="#sm1/notifications/a"/></mask><g mask="url(#sm1/notifications/b)"><path fill="currentColor" d="M-4-3h24v24H-4z"/></g></g></svg>',svgs["sm1/notifications_unread.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd" transform="translate(4 1)"><mask id="Mh8kEWo" fill="#fff"><path d="M10.83 18a3.001 3.001 0 0 1-5.66 0h5.66zM5 17h6-6zm5.237-14.526a5.002 5.002 0 0 0 3.312 6.312c.183 2.353.873 4.591 2.073 6.724A1 1 0 0 1 14.75 17H1.25a1 1 0 0 1-.872-1.49C1.795 12.992 2.5 10.327 2.5 7.5a5.5 5.5 0 0 1 7.737-5.026z"/></mask><g mask="url(#Mh8kEWo)"><path fill="currentColor" d="M-4-1h24v24H-4z" class="noti-bell"/></g><mask id="i2QrhMK" fill="#fff"><circle cx="15" cy="4" r="4"/></mask><g mask="url(#i2QrhMK)"><path fill="#FF9E13" d="M-4-1h24v24H-4z" class="noti-dot"/></g></g></svg>',svgs["sm1/person_small.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="nonzero" d="M8 8.5c2.93 0 4.87.838 5.819 2.515a2 2 0 0 1-1.592 2.98l-.149.005H3.922a2 2 0 0 1-1.74-2.985C3.13 9.338 5.07 8.5 8 8.5zm0 1c-2.604 0-4.204.691-4.948 2.008a1 1 0 0 0 .741 1.484l.129.008h8.156a1 1 0 0 0 .87-1.492C12.204 10.19 10.604 9.5 8 9.5zm0-8a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1.037a1.963 1.963 0 1 0 0 3.926 1.963 1.963 0 0 0 0-3.926z"/></svg>',svgs["sm1/platform_android.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M5 5h14v14H5z"/><path fill="currentColor" fill-rule="nonzero" d="M8.5 15.5c0 .32.26.58.58.58h.59v2.04a.87.87 0 1 0 1.75 0v-2.04h1.16v2.04a.87.87 0 1 0 1.75 0v-2.04h.59c.32 0 .58-.26.58-.58V9.67h-7v5.83zM7.04 9.67a.87.87 0 0 0-.87.87v4.09a.87.87 0 1 0 1.75 0v-4.09a.87.87 0 0 0-.88-.87zm9.92 0a.87.87 0 0 0-.88.87v4.09a.87.87 0 1 0 1.75 0v-4.09a.87.87 0 0 0-.87-.87zm-2.9-3.41l.76-.76a.29.29 0 0 0 0-.41.29.29 0 0 0-.42 0l-.86.86A3.4 3.4 0 0 0 12 5.58c-.56 0-1.08.14-1.55.37l-.87-.86a.29.29 0 0 0-.41 0 .29.29 0 0 0 0 .41l.76.77A3.49 3.49 0 0 0 8.5 9.08h7a3.48 3.48 0 0 0-1.44-2.82zm-3.23 1.66h-.58v-.59h.58v.59zm2.92 0h-.58v-.59h.58v.59z"/></g></svg>',svgs["sm1/platform_apple.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M18 14.22c-.22.7-.58 1.4-1.06 2.1-.74 1.1-1.48 1.66-2.21 1.66-.28 0-.69-.1-1.21-.27a3.9 3.9 0 0 0-1.3-.27c-.35 0-.76.09-1.22.27-.47.2-.85.29-1.14.29-.87 0-1.74-.73-2.6-2.18A8.47 8.47 0 0 1 6 11.59c0-1.28.32-2.33.97-3.15a3 3 0 0 1 2.45-1.2c.41 0 .92.08 1.52.24.6.17 1 .26 1.2.26.25 0 .66-.1 1.22-.29.6-.19 1.09-.29 1.5-.29.68 0 1.3.19 1.83.55a4.4 4.4 0 0 1 .9.84c-.46.38-.79.7-.99 1a2.95 2.95 0 0 0-.56 1.74c0 .7.2 1.32.6 1.87.4.56.85.91 1.36 1.06zm-3.24-9.87c0 .35-.08.73-.25 1.15a3.45 3.45 0 0 1-.8 1.16c-.31.3-.62.5-.93.6-.21.07-.51.11-.9.15.02-.84.24-1.56.68-2.17.42-.6 1.14-1.01 2.15-1.24a.8.8 0 0 1 .02.1.8.8 0 0 0 .02.08v.09l.01.08z"/></svg>',svgs["sm1/platform_macos.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><rect width="13" height="9" x="5.5" y="6.5" stroke="currentColor" rx="2"/><path fill="currentColor" d="M14.02 18H10v-1.72c0-.44.05-.6.13-.77a.9.9 0 0 1 .38-.38c.17-.08.33-.13.77-.13h1.46c.44 0 .6.05.77.13.16.1.29.22.38.38.08.17.13.33.13.77V18z"/><path fill="currentColor" d="M15 18H9a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1zM5 13h14a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3z"/></g></svg>',svgs["sm1/platform_windows.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M10.95 12.37v4.72L6 16.41v-4.04h4.95zm0-5.39v4.78H6v-4.1l4.95-.68zm7.12 5.39v5.7l-6.58-.9v-4.8h6.58zm0-6.37v5.76H11.5V6.91L18.07 6z"/></svg>',svgs["sm1/plus.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 13 13"><path fill="currentColor" fill-rule="evenodd" d="M6 6V.5a.5.5 0 0 1 1 0V6h5.5a.5.5 0 1 1 0 1H7v5.5a.5.5 0 1 1-1 0V7H.5a.5.5 0 0 1 0-1H6z"/></svg>',svgs["sm1/plus_m.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd" transform="translate(4 3)"><mask id="jd4FBg" fill="#fff"><path d="M9 8h7a.5.5 0 1 1 0 1H9v7a.5.5 0 1 1-1 0V9H1a.5.5 0 0 1 0-1h7V1a.5.5 0 0 1 1 0v7z"/></mask><g mask="url(#jd4FBg)"><path fill="currentColor" d="M-4-3h24v24H-4z"/></g></g></svg>',svgs["sm1/plus_thick.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M13 11h6a1 1 0 0 1 0 2h-6v6a1 1 0 0 1-2 0v-6H5a1 1 0 0 1 0-2h6V5a1 1 0 0 1 2 0v6z"/></svg>',svgs["sm1/popout.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><rect width="12" height="12" x="4.5" y="7.5" stroke="currentColor" rx="2"/><path fill="currentColor" fill-rule="nonzero" d="M19 16.72V6a1 1 0 0 0-1-1H7.28c.17-.32.43-.56.74-.73.33-.18.65-.27 1.54-.27h7.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54v7.88c0 .89-.1 1.21-.27 1.54-.17.31-.41.57-.73.74zm-1.56.28H9.56h7.88z"/><path fill="currentColor" d="M12.3 11H9.5a.5.5 0 1 1 0-1h4a.5.5 0 0 1 .5.5v4a.5.5 0 1 1-1 0v-2.8l-4.15 4.15a.5.5 0 0 1-.7-.7L12.29 11z"/></g></svg>',svgs["sm1/print.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" fill-rule="nonzero" d="M15 18v-1h2.44c.66 0 .86-.04 1.07-.15a.82.82 0 0 0 .34-.35c.11-.2.15-.4.15-1.06v-4.88c0-.66-.04-.86-.15-1.07a.82.82 0 0 0-.35-.34c-.2-.11-.4-.15-1.06-.15H6.56c-.66 0-.86.04-1.07.15a.82.82 0 0 0-.34.34C5.04 9.7 5 9.9 5 10.56v4.88c0 .66.04.86.15 1.07a.82.82 0 0 0 .34.34c.21.11.41.15 1.07.15H9v1H6.56c-.89 0-1.21-.1-1.54-.27a1.82 1.82 0 0 1-.75-.75c-.18-.33-.27-.65-.27-1.54v-4.88c0-.89.1-1.21.27-1.54.17-.32.43-.58.75-.75.33-.18.65-.27 1.54-.27h10.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54v4.88c0 .89-.1 1.21-.27 1.54a1.8 1.8 0 0 1-.75.75c-.33.18-.65.27-1.54.27H15z"/><path stroke="currentColor" d="M15.5 13.5h-7v3.94c0 .73.05 1.01.2 1.3.14.24.32.42.56.55.29.16.57.21 1.3.21h2.88c.73 0 1.01-.05 1.3-.2.24-.14.42-.32.55-.56.16-.29.21-.57.21-1.3V13.5z"/><path fill="currentColor" fill-rule="nonzero" d="M17 7h-1v-.44c0-.66-.04-.86-.15-1.07a.82.82 0 0 0-.34-.34C15.3 5.04 15.1 5 14.44 5H9.56c-.66 0-.86.04-1.07.15a.82.82 0 0 0-.34.34C8.04 5.7 8 5.9 8 6.57V7H7v-.44c0-.89.1-1.21.27-1.54.17-.32.43-.58.75-.75.33-.18.65-.27 1.54-.27h4.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54V7z"/><path fill="currentColor" d="M16 11h1v1h-1z"/></g></svg>',svgs["sm1/priority_1.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#d1453b" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777z"/></svg>',svgs["sm1/priority_1_hc.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#ff7066" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777z"/></svg>',svgs["sm1/priority_2.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#EB8909" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777z"/></svg>',svgs["sm1/priority_2_hc.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#FF9A14" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777z"/></svg>',svgs["sm1/priority_3.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#246fe0" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777z"/></svg>',svgs["sm1/priority_3_hc.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#5297ff" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777z"/></svg>',svgs["sm1/priority_4.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777zm0-1.123C5.965 12.216 7.133 12 8.5 12c1.113 0 1.92.196 3.658.776 1.638.545 2.371.724 3.342.724 1.45 0 2.614-.262 3.5-.777V5.346c-.965.438-2.133.654-3.5.654-1.113 0-1.92-.196-3.658-.776C10.204 4.68 9.47 4.5 8.5 4.5c-1.45 0-2.614.262-3.5.777v7.377z"/></svg>',svgs["sm1/priority_4_hc.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777zm0-1.123C5.965 12.216 7.133 12 8.5 12c1.113 0 1.92.196 3.658.776 1.638.545 2.371.724 3.342.724 1.45 0 2.614-.262 3.5-.777V5.346c-.965.438-2.133.654-3.5.654-1.113 0-1.92-.196-3.658-.776C10.204 4.68 9.47 4.5 8.5 4.5c-1.45 0-2.614.262-3.5.777v7.377z"/></svg>',svgs["sm1/priority_flag.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777zm0-1.123C5.965 12.216 7.133 12 8.5 12c1.113 0 1.92.196 3.658.776 1.638.545 2.371.724 3.342.724 1.45 0 2.614-.262 3.5-.777V5.346c-.965.438-2.133.654-3.5.654-1.113 0-1.92-.196-3.658-.776C10.204 4.68 9.47 4.5 8.5 4.5c-1.45 0-2.614.262-3.5.777v7.377z"/></svg>',svgs["sm1/project.svg"]='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M20 6.66667C20 5.19391 18.8061 4 17.3333 4H6.66667C5.19391 4 4 5.19391 4 6.66667V17.3333C4 18.8061 5.19391 20 6.66667 20H17.3333C18.8061 20 20 18.8061 20 17.3333V6.66667ZM6.75 5H17.25L17.3806 5.0048C18.2861 5.07161 19 5.82743 19 6.75V17.25L18.9952 17.3806C18.9284 18.2861 18.1726 19 17.25 19H6.75L6.6194 18.9952C5.71389 18.9284 5 18.1726 5 17.25V6.75L5.0048 6.6194C5.07161 5.71389 5.82743 5 6.75 5ZM10.5 16C10.5 15.7239 10.7239 15.5 11 15.5H16C16.2761 15.5 16.5 15.7239 16.5 16C16.5 16.2761 16.2761 16.5 16 16.5H11C10.7239 16.5 10.5 16.2761 10.5 16ZM8 17C8.55228 17 9 16.5523 9 16C9 15.4477 8.55228 15 8 15C7.44772 15 7 15.4477 7 16C7 16.5523 7.44772 17 8 17ZM10.5 12C10.5 11.7239 10.7239 11.5 11 11.5H16C16.2761 11.5 16.5 11.7239 16.5 12C16.5 12.2761 16.2761 12.5 16 12.5H11C10.7239 12.5 10.5 12.2761 10.5 12ZM8 13C8.55228 13 9 12.5523 9 12C9 11.4477 8.55228 11 8 11C7.44772 11 7 11.4477 7 12C7 12.5523 7.44772 13 8 13ZM10.5 8C10.5 7.72386 10.7239 7.5 11 7.5H16C16.2761 7.5 16.5 7.72386 16.5 8C16.5 8.27614 16.2761 8.5 16 8.5H11C10.7239 8.5 10.5 8.27614 10.5 8ZM8 9C8.55228 9 9 8.55228 9 8C9 7.44772 8.55228 7 8 7C7.44772 7 7 7.44772 7 8C7 8.55228 7.44772 9 8 9Z" fill="currentColor"/></svg>',svgs["sm1/project_old.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M10.5 17h9a.5.5 0 1 1 0 1h-9a.5.5 0 1 1 0-1zm0-6h9a.5.5 0 1 1 0 1h-9a.5.5 0 1 1 0-1zm0-6h9a.5.5 0 1 1 0 1h-9a.5.5 0 1 1 0-1zM5.75 18.75a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5zm0-6a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5zm0-6a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5z"/></svg>',svgs["sm1/project_shared.svg"]='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.837 5.74666C19.9425 6.03344 20 6.34333 20 6.66667V7.00039H19V6.75C19 5.86033 18.3361 5.12572 17.4767 5.01455C17.5356 4.95898 17.5981 4.90645 17.6642 4.85694C18.246 5.37868 19.0035 5.70846 19.837 5.74666ZM15.699 4H6.66667C5.19391 4 4 5.19391 4 6.66667V17.3333C4 18.8061 5.19391 20 6.66667 20H17.3333C18.8061 20 20 18.8061 20 17.3333V9.00039H19V17.25L18.9952 17.3806C18.9284 18.2861 18.1726 19 17.25 19H6.75L6.6194 18.9952C5.71389 18.9284 5 18.1726 5 17.25V6.75L5.0048 6.6194C5.07161 5.71389 5.82743 5 6.75 5H15.1322C15.1898 4.83765 15.2623 4.67805 15.3501 4.52295C15.4566 4.33469 15.5733 4.16067 15.699 4ZM15.5232 7.75H11C10.7239 7.75 10.5 7.97386 10.5 8.25C10.5 8.52614 10.7239 8.75 11 8.75H16C16.1598 8.75 16.3021 8.67505 16.3936 8.55838C16.0422 8.34339 15.7501 8.06657 15.5232 7.75ZM8.25 17.25C8.80228 17.25 9.25 16.8023 9.25 16.25C9.25 15.6977 8.80228 15.25 8.25 15.25C7.69772 15.25 7.25 15.6977 7.25 16.25C7.25 16.8023 7.69772 17.25 8.25 17.25ZM11 15.75C10.7239 15.75 10.5 15.9739 10.5 16.25C10.5 16.5261 10.7239 16.75 11 16.75H16C16.2761 16.75 16.5 16.5261 16.5 16.25C16.5 15.9739 16.2761 15.75 16 15.75H11ZM9.25 12.25C9.25 12.8023 8.80228 13.25 8.25 13.25C7.69772 13.25 7.25 12.8023 7.25 12.25C7.25 11.6977 7.69772 11.25 8.25 11.25C8.80228 11.25 9.25 11.6977 9.25 12.25ZM10.5 12.25C10.5 11.9739 10.7239 11.75 11 11.75H16C16.2761 11.75 16.5 11.9739 16.5 12.25C16.5 12.5261 16.2761 12.75 16 12.75H11C10.7239 12.75 10.5 12.5261 10.5 12.25ZM8.25 9.25C8.80228 9.25 9.25 8.80228 9.25 8.25C9.25 7.69772 8.80228 7.25 8.25 7.25C7.69772 7.25 7.25 7.69772 7.25 8.25C7.25 8.80228 7.69772 9.25 8.25 9.25Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21.5 2.25C21.5 3.07843 20.8284 3.75 20 3.75C19.1716 3.75 18.5 3.07843 18.5 2.25C18.5 1.42157 19.1716 0.75 20 0.75C20.8284 0.75 21.5 1.42157 21.5 2.25ZM22.039 7H17.961C17.7884 7 17.6188 6.95533 17.4685 6.87033C16.9879 6.59834 16.8187 5.98819 17.0907 5.50752C17.5651 4.66917 18.5348 4.25 20 4.25C21.4652 4.25 22.4349 4.66918 22.9093 5.50753C22.9943 5.65774 23.039 5.8274 23.039 6C23.039 6.55228 22.5913 7 22.039 7Z" fill="currentColor"/></svg>',svgs["sm1/project_shared_old.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><defs><path id="project_shared_path" d="M6.146 16.562C6.672 14.187 8.624 13 12 13s5.328 1.187 5.854 3.562A1.182 1.182 0 0 1 16.7 18H7.3a1.182 1.182 0 0 1-1.154-1.438zM12 12a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"/></defs><use fill="currentColor" fill-rule="nonzero" xlink:href="#project_shared_path"/></svg>',svgs["sm1/question.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M11.9 16.5c-.46 0-.8-.35-.8-.85s.34-.86.8-.86c.48 0 .8.36.8.86s-.32.85-.8.85zM9.5 9.87c.06-1.32.9-2.37 2.54-2.37 1.46 0 2.46.95 2.46 2.21 0 .96-.47 1.64-1.22 2.11-.73.46-.94.8-.94 1.45v.4h-1.02v-.57c0-.8.37-1.36 1.16-1.86.68-.43.94-.82.94-1.47 0-.76-.56-1.32-1.43-1.32-.87 0-1.43.55-1.5 1.42H9.5z"/><circle cx="12" cy="12" r="7.5" stroke="currentColor"/></g></svg>',svgs["sm1/quick_add_assignee.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="nonzero" d="M3.922 14a2 2 0 0 1-1.74-2.985C3.13 9.338 5.07 8.5 8 8.5c2.93 0 4.87.838 5.819 2.515A2 2 0 0 1 12.078 14H3.922zm0-1h8.156a1 1 0 0 0 .87-1.492C12.204 10.19 10.604 9.5 8 9.5c-2.604 0-4.204.691-4.948 2.008A1 1 0 0 0 3.922 13zM8 7.5a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0-1.037a1.963 1.963 0 1 0 0-3.926 1.963 1.963 0 0 0 0 3.926z"/></svg>',svgs["sm1/quick_add_calendar.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="nonzero" d="M4 2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4zm6.75 8.5a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5zM4.5 5h7a.5.5 0 1 1 0 1h-7a.5.5 0 0 1 0-1z"/></svg>',svgs["sm1/quick_add_label.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="nonzero" d="M7.828 2H12a2 2 0 0 1 2 2v4.172a2 2 0 0 1-.586 1.414l-4 4a2 2 0 0 1-2.828 0L2.414 9.414a2 2 0 0 1 0-2.828l4-4A2 2 0 0 1 7.828 2zm0 1a1 1 0 0 0-.707.293l-4 4a1 1 0 0 0 0 1.414l4.172 4.172a1 1 0 0 0 1.414 0l4-4A1 1 0 0 0 13 8.172V4a1 1 0 0 0-1-1H7.828zM10 7a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/></svg>',svgs["sm1/quick_add_priority.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="nonzero" d="M2 9.5V3a.5.5 0 0 1 .276-.447C3.025 2.179 4.096 2 5.5 2c.901 0 1.485.135 2.658.526C9.235 2.885 9.735 3 10.5 3c1.263 0 2.192-.155 2.776-.447A.5.5 0 0 1 14 3v6.5a.5.5 0 0 1-.276.447c-.749.374-1.82.553-3.224.553-.901 0-1.485-.135-2.658-.526C6.765 9.615 6.265 9.5 5.5 9.5c-1.08 0-1.915.113-2.5.329V13.5a.5.5 0 1 1-1 0v-4zm1-6.171v5.45C3.666 8.59 4.499 8.5 5.5 8.5c.901 0 1.485.135 2.658.526 1.077.359 1.577.474 2.342.474 1.08 0 1.915-.113 2.5-.329v-5.45c-.666.188-1.499.279-2.5.279-.901 0-1.485-.135-2.658-.526C6.765 3.115 6.265 3 5.5 3c-1.08 0-1.915.113-2.5.329z"/></svg>',svgs["sm1/quick_add_project.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="nonzero" d="M6.5 11h7a.5.5 0 1 1 0 1h-7a.5.5 0 1 1 0-1zm0-4h7a.5.5 0 1 1 0 1h-7a.5.5 0 0 1 0-1zm0-4h7a.5.5 0 1 1 0 1h-7a.5.5 0 0 1 0-1zM3 12.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-4a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-4a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/></svg>',svgs["sm1/recurring.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="15" height="9" viewBox="0 0 15 9"><path fill="currentColor" fill-rule="evenodd" d="M12 3v4.4l1.3-1.3a.5.5 0 0 1 .7.8l-1.8 1.7a1 1 0 0 1-1.4 0L9 7a.5.5 0 0 1 .7-.8L11 7.4V3.1c0-.8 0-1-.2-1.3-.1-.3-.3-.5-.6-.6C10 1.1 9.7 1 9 1H7V0h2c.8 0 1.3 0 1.7.3.4.2.8.6 1 1 .2.4.3.9.3 1.7zM3 6V1.6L1.7 2.9A.5.5 0 0 1 1 2L2.8.4a1 1 0 0 1 1.4 0L6 2a.5.5 0 0 1-.7.8L4 1.6v4.3c0 .8 0 1 .2 1.3.1.3.3.5.6.6.2.1.5.2 1.3.2H8v1H6c-.8 0-1.3 0-1.7-.3-.4-.2-.8-.6-1-1C3.1 7.3 3 6.8 3 6z"/></svg>',svgs["sm1/reminder.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M6.355 17.438a7.5 7.5 0 1 1 11.29 0l1.709 1.708a.5.5 0 0 1-.708.708l-1.708-1.709A7.471 7.471 0 0 1 12 20c-1.891 0-3.619-.7-4.938-1.855l-1.708 1.709a.5.5 0 0 1-.708-.708l1.709-1.708zM12 19a6.5 6.5 0 1 0 0-13 6.5 6.5 0 0 0 0 13zm0-7h2.5a.5.5 0 1 1 0 1h-3a.5.5 0 0 1-.5-.5V8a.5.5 0 1 1 1 0v4zm4.604-6.896a.5.5 0 0 1-.708-.708l.336-.335a2.5 2.5 0 0 1 3.536 0l.671.671a2.5 2.5 0 0 1 0 3.536l-.335.336a.5.5 0 0 1-.708-.708l.336-.335a1.5 1.5 0 0 0 0-2.122l-.671-.671a1.5 1.5 0 0 0-2.122 0l-.335.336zM4.605 7.898a.5.5 0 0 1-.707.707l-.337-.337a2.5 2.5 0 0 1 0-3.536l.671-.671a2.5 2.5 0 0 1 3.536 0l.337.337a.5.5 0 0 1-.707.707l-.337-.337a1.5 1.5 0 0 0-2.122 0l-.671.671a1.5 1.5 0 0 0 0 2.122l.337.337z"/></svg>',svgs["sm1/reminder_small.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" fill-rule="nonzero" d="M6 1.502a4.5 4.5 0 0 1 3.728 7.021l1.126 1.126a.5.5 0 0 1-.638.765l-.07-.058-1.07-1.069A4.484 4.484 0 0 1 6 10.502a4.484 4.484 0 0 1-3.076-1.215l-1.07 1.07a.5.5 0 0 1-.765-.639l.057-.07 1.126-1.125A4.5 4.5 0 0 1 6 1.503zm0 1a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zm-.5 1a.5.5 0 0 1 .492.41l.008.09v2h1.5a.5.5 0 0 1 .09.992l-.09.008h-2a.5.5 0 0 1-.492-.41L5 6.502v-2.5a.5.5 0 0 1 .5-.5zm5.368-2.328l.12.109.232.232a1.75 1.75 0 0 1 .092 2.375.5.5 0 1 1-.76-.65.75.75 0 0 0 .036-.93l-.075-.088-.233-.232a.75.75 0 0 0-.922-.11.5.5 0 1 1-.526-.85 1.75 1.75 0 0 1 2.036.144zM3.17 1.03a.5.5 0 1 1-.526.85.75.75 0 0 0-.922.11l-.232.232a.75.75 0 0 0-.04 1.017.5.5 0 0 1-.76.65 1.75 1.75 0 0 1 .093-2.374l.232-.232A1.75 1.75 0 0 1 3.17 1.03z"/></svg>',svgs["sm1/remove_label.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M5.3 16.58l-.71.71A2.13 2.13 0 0 1 4 15.82V7.18C4 5.98 5.02 5 6.25 5h9.86c.2 0 .43.04.65.12l-.88.88H6.25C5.55 6 5 6.54 5 7.18v8.64c0 .3.11.56.3.76zm3.82.42h7c.3 0 .8-.24.97-.47l3.52-4.75c.1-.13.1-.43 0-.56l-2.43-3.28.71-.71 2.52 3.4c.36.48.36 1.26 0 1.75l-3.52 4.74c-.36.49-1.15.88-1.78.88H8.12l1-1zm-4.27 2.85a.5.5 0 0 1-.7-.7l15-15a.5.5 0 0 1 .7.7l-15 15z"/></svg>',svgs["sm1/scheduler.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M15 6v7.077c0 .669-.07.911-.2 1.156a1.371 1.371 0 0 1-.567.567c-.245.13-.487.2-1.156.2H4.923c-.669 0-.911-.07-1.156-.2a1.363 1.363 0 0 1-.567-.567c-.13-.245-.2-.487-.2-1.156V4.5A1.5 1.5 0 0 1 4.5 3H5V1.5h1V3h6V1.5h1V3h.5A1.5 1.5 0 0 1 15 4.5V6zM5.117 6c-.473 0-.617.028-.764.108a.59.59 0 0 0-.247.252c-.078.15-.106.296-.106.777v5.726c0 .481.028.628.106.777a.59.59 0 0 0 .247.252c.147.08.291.108.764.108h7.766c.473 0 .617-.028.764-.108a.59.59 0 0 0 .247-.252c.078-.15.106-.296.106-.777V7.137c0-.481-.028-.628-.106-.777a.59.59 0 0 0-.247-.252C13.5 6.028 13.356 6 12.883 6H5.117z"/></svg>',svgs["sm1/scheduler_error.svg"]='<svg width="28" height="28" viewBox="0 0 28 28"><path fill="currentColor" fill-rule="nonzero" d="M12.996 2.532a.5.5 0 0 1-.431.56C7.12 3.803 3 8.46 3 14c0 6.075 4.925 11 11 11 5.54 0 10.198-4.12 10.907-9.564a.5.5 0 0 1 .992.13C25.125 21.505 20.045 26 14 26 7.373 26 2 20.627 2 14 2 7.955 6.495 2.875 12.436 2.101a.5.5 0 0 1 .56.431zM14 17.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5zm0-9.498c.806 0 1.46.654 1.46 1.46l-.002.043-.464 5.825c-.098 1.223-1.89 1.223-1.988 0l-.46-5.752a1.46 1.46 0 0 1 1.198-1.553l.14-.018.116-.005zm7.305-3.523a11.988 11.988 0 0 1 4.594 7.957.5.5 0 0 1-.992.129 10.988 10.988 0 0 0-4.211-7.293.5.5 0 0 1 .609-.793zm-5.83-2.381l.09.003c1.047.137 2.064.41 3.03.81a.5.5 0 1 1-.384.924 10.921 10.921 0 0 0-2.775-.742.5.5 0 0 1-.048-.983l.087-.012z" /></svg>',svgs["sm1/scheduler_month.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="28" height="28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z"/><path fill="currentColor" d="M16.15 4.22a7.23 7.23 0 0 0 1.79 14.22A7.25 7.25 0 0 0 24 15.18 10.02 10.02 0 0 1 14.04 24C8.48 24 4 19.52 4 14a10.02 10.02 0 0 1 12.15-9.78z"/></g></svg>',svgs["sm1/scheduler_next_week.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" fill-rule="nonzero"><path d="M6 3.5h16A2.5 2.5 0 0 1 24.5 6v2.5h-21V6A2.5 2.5 0 0 1 6 3.5z" opacity=".1"/><path d="M22 3a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h16zm0 1H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm-3.109 12.188l.007.01-.004-.005-.003-.005zM21.5 8a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zM19 16.52a.504.504 0 0 1-.023.131l-.015.04a.494.494 0 0 1-.05.093l-.014.018a.503.503 0 0 1-.033.04l-3.511 3.512a.5.5 0 0 1-.765-.638l.057-.07L17.292 17H9.5a.5.5 0 0 1-.492-.41L9 16.5a.5.5 0 0 1 .41-.492L9.5 16h7.792l-2.646-2.646a.5.5 0 0 1 .638-.765l.07.057 3.511 3.513.017.019.009.01-.027-.03.03.035.029.04a.52.52 0 0 1 .066.162l.008.052v.007l-.002-.026.005.072v.02z"/></g></svg>',svgs["sm1/scheduler_no_date.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="28" height="28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z"/><path fill="currentColor" d="M14 15l3.18-3.18a.5.5 0 1 1 .7.7l-3.17 3.19 3.18 3.18a.5.5 0 0 1-.7.7L14 16.42l-3.18 3.19a.5.5 0 0 1-.7-.71l3.17-3.18-3.18-3.19a.5.5 0 0 1 .7-.7L14 15z"/><path fill="currentColor" d="M22 3h.15c1.34 0 1.83.14 2.32.4.49.26.87.65 1.13 1.14.26.48.4.97.4 2.3v14.32c0 1.33-.14 1.82-.4 2.3a2.73 2.73 0 0 1-1.14 1.14c-.48.26-.97.4-2.3.4H5.84c-1.33 0-1.82-.14-2.3-.4a2.73 2.73 0 0 1-1.14-1.14c-.26-.49-.4-.97-.4-2.3V6.83c0-1.33.14-1.82.4-2.3A2.73 2.73 0 0 1 3.54 3.4c.48-.26.97-.4 2.3-.4H6V1.5a.5.5 0 0 1 1 0V3h14V1.5a.5.5 0 1 1 1 0V3zM4.28 7c-.44 0-.6.05-.77.13a.9.9 0 0 0-.38.38c-.08.17-.13.33-.13.77v13.16c0 .89.1 1.21.27 1.54.17.32.43.58.75.75.33.18.65.27 1.54.27h16.88c.89 0 1.21-.1 1.54-.27.32-.17.58-.43.75-.75.18-.33.27-.65.27-1.54V8.28c0-.44-.05-.6-.13-.77a.9.9 0 0 0-.38-.38c-.16-.08-.33-.13-.77-.13H4.28z"/></g></svg>',svgs["sm1/scheduler_postpone.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path fill="currentColor" fill-rule="nonzero" d="M19.646 1.146a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L22.792 6H14a9.5 9.5 0 0 0-9.496 9.23l-.004.27A9.5 9.5 0 0 0 14 25a9.504 9.504 0 0 0 9.065-6.649.5.5 0 1 1 .954.3A10.504 10.504 0 0 1 14 26C8.201 26 3.5 21.299 3.5 15.5S8.201 5 14 5h8.792l-3.146-3.146a.5.5 0 0 1-.057-.638z"/></svg>',svgs["sm1/scheduler_smart_date.svg"]='<svg width="28" height="28"><g fill="currentColor" fill-rule="nonzero"><path d="M12.996 2.532a.5.5 0 0 1-.431.56C7.12 3.803 3 8.46 3 14c0 6.075 4.925 11 11 11 5.54 0 10.198-4.12 10.907-9.564a.5.5 0 0 1 .992.13C25.125 21.505 20.045 26 14 26 7.373 26 2 20.627 2 14 2 7.955 6.495 2.875 12.436 2.101a.5.5 0 0 1 .56.431zm8.309 1.947a11.988 11.988 0 0 1 4.594 7.957.5.5 0 0 1-.992.129 10.988 10.988 0 0 0-4.211-7.293.5.5 0 0 1 .609-.793zm-5.83-2.381l.09.003c1.047.137 2.064.41 3.03.81a.5.5 0 1 1-.384.924 10.921 10.921 0 0 0-2.775-.742.5.5 0 0 1-.048-.983l.087-.012z" /><text font-family="-apple-system, system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="12" font-weight="500"><tspan x="14" y="18" text-anchor="middle">21</tspan></text></g></svg>',svgs["sm1/scheduler_today.svg"]='<svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" fill-rule="nonzero"><path d="M6 3.5h16A2.5 2.5 0 0 1 24.5 6v2.5h-21V6A2.5 2.5 0 0 1 6 3.5z" opacity=".1"/><path d="M22 3a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h16zm0 1H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm-.5 4a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1z" /><text font-family="-apple-system, system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="11" transform="translate(4 2)"><tspan x="9.5" y="18" text-anchor="middle">21</tspan></text></g></svg>',svgs["sm1/scheduler_tomorrow.svg"]='<svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" fill-ule="nonzero"><path d="M14 19a5 5 0 1 1 0-10 5 5 0 0 1 0 10z" opacity=".1" /><path d="M10.939 21.391a.5.5 0 0 1 .27.653L9.68 25.74a.5.5 0 1 1-.924-.383l1.53-3.695a.5.5 0 0 1 .654-.271zm6.776.27l1.53 3.696a.5.5 0 0 1-.923.383l-1.531-3.696a.5.5 0 0 1 .924-.382zM14 8a6 6 0 1 1 0 12 6 6 0 0 1 0-12zm-7.391 9.061a.5.5 0 0 1-.27.654l-3.696 1.53a.5.5 0 0 1-.383-.923l3.696-1.531a.5.5 0 0 1 .653.27zm15.435-.27l3.696 1.53a.5.5 0 0 1-.383.924l-3.695-1.53a.5.5 0 1 1 .382-.924zM14 9a5 5 0 1 0 0 10 5 5 0 0 0 0-10zM2.643 8.755l3.695 1.53a.5.5 0 1 1-.382.924L2.26 9.68a.5.5 0 1 1 .383-.924zm23.367.27a.5.5 0 0 1-.27.653l-3.696 1.531a.5.5 0 0 1-.382-.924l3.695-1.53a.5.5 0 0 1 .653.27zM9.678 2.26l1.531 3.696a.5.5 0 0 1-.924.382l-1.53-3.695a.5.5 0 1 1 .923-.383zm9.297-.27a.5.5 0 0 1 .27.653l-1.53 3.695a.5.5 0 1 1-.924-.382l1.53-3.696a.5.5 0 0 1 .654-.27z" /></g></svg>',svgs["sm1/search.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><defs><path id="sm1/search/a" d="M11.44 10.73l4.41 4.42a.5.5 0 0 1-.7.7l-4.42-4.41a6.5 6.5 0 1 1 .7-.71zM6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11z"/></defs><g fill="none" fill-rule="evenodd" transform="translate(4 4)"><mask id="sm1/search/b" fill="#fff"><use xlink:href="#sm1/search/a"/></mask><g mask="url(#sm1/search/b)"><path fill="currentColor" d="M-3-4h24v24H-4z"/></g></g></svg>',svgs["sm1/section.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M17.5 20c.276 0 .5.224.5.5s-.224.5-.5.5h-11c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h11zM16 8c1.105 0 2 .895 2 2v5c0 1.105-.895 2-2 2H8c-1.105 0-2-.895-2-2v-5c0-1.105.895-2 2-2h8zm0 1H8c-.513 0-.936.386-.993.883L7 10v5c0 .513.386.936.883.993L8 16h8c.513 0 .936-.386.993-.883L17 15v-5c0-.513-.386-.936-.883-.993L16 9zm1.5-5c.276 0 .5.224.5.5s-.224.5-.5.5h-11c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h11z"/></svg>',svgs["sm1/settings.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M3 3h18v18H3z"/><path fill="currentColor" fill-rule="nonzero" d="M8.82 6.62l-.33.2-.82-.83a.63.63 0 0 0-.9 0L6 6.79a.62.62 0 0 0-.01.89l.82.82-.2.34a6.21 6.21 0 0 0-.66 1.6l-.1.38H4.69a.63.63 0 0 0-.63.64v1.1c0 .36.28.64.63.64h1.16l.1.37a6.21 6.21 0 0 0 .66 1.61l.2.34-.82.82a.63.63 0 0 0 0 .9l.79.77a.62.62 0 0 0 .89.01l.82-.82.34.2a6.21 6.21 0 0 0 1.6.66l.38.1v1.16c0 .35.28.63.64.63h1.1a.62.62 0 0 0 .64-.63v-1.16l.37-.1a6.21 6.21 0 0 0 1.61-.67l.34-.2.82.83c.25.25.64.24.9 0l.77-.79a.62.62 0 0 0 .01-.89l-.82-.82.2-.33a6.21 6.21 0 0 0 .66-1.62l.1-.37h1.16a.63.63 0 0 0 .63-.64v-1.1a.62.62 0 0 0-.63-.64h-1.16l-.1-.37a6.21 6.21 0 0 0-.67-1.61l-.2-.34.83-.82a.63.63 0 0 0 0-.9L17.21 6a.62.62 0 0 0-.89-.01l-.82.82-.33-.2a6.21 6.21 0 0 0-1.62-.66l-.37-.1V4.69a.63.63 0 0 0-.64-.63h-1.1a.62.62 0 0 0-.64.63v1.16l-.37.1a6.21 6.21 0 0 0-1.61.66zm1-1.53v-.4c0-.9.72-1.63 1.63-1.63h1.1c.9 0 1.64.72 1.64 1.63v.4c.4.12.78.28 1.15.48l.28-.29a1.62 1.62 0 0 1 2.3.01l.79.78c.64.64.65 1.67 0 2.3l-.28.29c.2.37.36.75.48 1.15h.4c.9 0 1.63.73 1.63 1.64v1.1c0 .9-.73 1.64-1.63 1.64h-.4a7.2 7.2 0 0 1-.48 1.15l.29.28a1.62 1.62 0 0 1-.01 2.3l-.78.79a1.63 1.63 0 0 1-2.3 0l-.29-.28c-.37.2-.75.36-1.15.48v.4c0 .9-.73 1.63-1.64 1.63h-1.1A1.63 1.63 0 0 1 9.8 19.3v-.4a7.2 7.2 0 0 1-1.15-.48l-.29.29a1.62 1.62 0 0 1-2.3-.01l-.78-.78a1.63 1.63 0 0 1 0-2.3l.27-.29a7.2 7.2 0 0 1-.47-1.15h-.4c-.9 0-1.63-.73-1.63-1.64v-1.1c0-.9.72-1.64 1.63-1.64h.4c.12-.4.28-.78.47-1.15l-.28-.29a1.62 1.62 0 0 1 .01-2.3l.78-.78a1.63 1.63 0 0 1 2.3 0l.29.27c.37-.19.75-.35 1.15-.47z"/><path fill="currentColor" fill-rule="nonzero" d="M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"/></g></svg>',svgs["sm1/share_project.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M7 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8zm0 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6zM0 18.3c0-3 3.1-5.3 7-5.3s7 2.4 7 5.3v.1c0 .9-.9 1.6-2 1.6H2c-1.1 0-2-.7-2-1.6v-.1zm1 0v.1c0 .3.4.6 1 .6h10c.6 0 1-.3 1-.6v-.1C13 16 10.4 14 7 14s-6 2-6 4.3zM12.9 14c1.1-.6 2.6-1 4.1-1 3.9 0 7 2.4 7 5.3v.1c0 .9-.9 1.6-2 1.6h-7.6l.5-1H22c.6 0 1-.3 1-.6v-.1c0-2.3-2.6-4.3-6-4.3-1.3 0-2.4.3-3.4.7a6.8 6.8 0 0 0-.7-.7zM17 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8zm0 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"/></svg>',svgs["sm1/smart_schedule.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M10.992 3.544a.5.5 0 0 1-.404.58A8.002 8.002 0 0 0 4 12a8 8 0 0 0 8 8c3.892 0 7.201-2.8 7.876-6.588a.5.5 0 1 1 .984.176A9.002 9.002 0 0 1 12 21a9 9 0 0 1-9-9 9.002 9.002 0 0 1 7.412-8.86.5.5 0 0 1 .58.404zm1.339 3.684c.298-.46 1.011-.174.91.364L12.602 11H14.5a.5.5 0 0 1 .42.772l-3.25 5c-.3.46-1.012.174-.911-.364L11.398 13H9.5a.5.5 0 0 1-.42-.772zm5.474-2.106a8.99 8.99 0 0 1 3.055 5.29.5.5 0 1 1-.984.176 7.99 7.99 0 0 0-2.716-4.702.5.5 0 0 1 .645-.764zM13.588 3.14c.5.089.991.22 1.467.392a.5.5 0 0 1-.34.94 7.938 7.938 0 0 0-1.303-.348.5.5 0 0 1 .176-.984z"/></svg>',svgs["sm1/smart_schedule_strike.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M15.724 13.603l-.707-.708L16.739 11h-3.618l-.5-.501.77-4.243-2.387 2.626-.708-.707L15 3l-1.09 6-.033.179-.15.821H19l-3.276 3.603zm-2.02 2.222L9 21l1.09-6 .033-.179.15-.821H5l3.276-3.603.707.708L7.261 13h3.618l.5.501-.77 4.243 2.387-2.626.708.707zm5.442 4.029a.5.5 0 0 0 .708-.708l-15-15a.5.5 0 0 0-.708.708l15 15z"/></svg>',svgs["sm1/sort.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M7 17.26L4.35 14.6a.5.5 0 0 0-.7.7l3.53 3.54a.5.5 0 0 0 .7 0l3.55-3.53a.5.5 0 0 0-.71-.7L8 17.31V5.5a.5.5 0 1 0-1 0v11.76zM17.07 6.74l2.65 2.65a.5.5 0 0 0 .7-.7L16.9 5.14a.5.5 0 0 0-.7 0l-3.54 3.53a.5.5 0 0 0 .7.7l2.72-2.7V18.5a.5.5 0 1 0 1 0V6.74z"/></svg>',svgs["sm1/starred.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="#FEBA07" fill-opacity=".1" stroke="#ED9D04" stroke-linejoin="square" d="M8.2 18.6l3.8-2.3 3.8 2.3a.8.8 0 0 0 1-.9l-.9-4.2 3.3-2.8a.8.8 0 0 0-.4-1.3L14.4 9l-1.7-4a.8.8 0 0 0-1.4 0L9.6 9l-4.4.4a.8.8 0 0 0-.4 1.3l3.3 2.8-1 4.2a.8.8 0 0 0 1.1.9z"/></g></svg>',svgs["sm1/sync.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M5.06 11.085l-1.17.955a.5.5 0 1 1-.633-.774l1.68-1.372a1 1 0 0 1 1.379.11l1.44 1.615a.5.5 0 0 1-.747.665l-.957-1.074a6 6 0 0 0 10.934 4.13l.718.718A7 7 0 0 1 5.06 11.085zm13.905 1.62l1.07-.936a.5.5 0 0 1 .66.752l-1.618 1.415a1 1 0 0 1-1.4-.082l-1.359-1.502a.5.5 0 0 1 .742-.67l.902.997A6 6 0 0 0 7.014 8.661l-.718-.719a7 7 0 0 1 12.67 4.764z"/></svg>',svgs["sm1/template.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" version="1.1" viewBox="0 0 16 16"><g fill="none" fill-rule="evenodd" stroke="none" stroke-width="1"><g fill="currentColor" fill-rule="nonzero"><path d="M14.9333333,5.64705882 L16,5.64705882 L16,6.58823529 L14.9333333,6.58823529 L14.9333333,5.64705882 Z M14.9333333,7.52941176 L16,7.52941176 L16,8.47058824 L14.9333333,8.47058824 L14.9333333,7.52941176 Z M14.9333333,9.41176471 L16,9.41176471 L16,10.3529412 L14.9333333,10.3529412 L14.9333333,9.41176471 Z M14.9333333,11.2941176 L16,11.2941176 L16,12.2352941 L14.9333333,12.2352941 L14.9333333,11.2941176 Z M14.9333333,13.1764706 L16,13.1764706 L16,14.1176471 L14.9333333,14.1176471 L14.9333333,13.1764706 Z M14.9333333,3.76470588 L16,3.76470588 L16,4.70588235 L14.9333333,4.70588235 L14.9333333,3.76470588 Z M6.4,15.0588235 L7.46666667,15.0588235 L7.46666667,16 L6.4,16 L6.4,15.0588235 Z M4.26666667,15.0588235 L5.33333333,15.0588235 L5.33333333,16 L4.26666667,16 L4.26666667,15.0588235 Z M8.53333333,15.0588235 L9.6,15.0588235 L9.6,16 L8.53333333,16 L8.53333333,15.0588235 Z M10.6666667,15.0588235 L11.7333333,15.0588235 L11.7333333,16 L10.6666667,16 L10.6666667,15.0588235 Z M12.8,15.0588235 L13.8666667,15.0588235 L13.8666667,16 L12.8,16 L12.8,15.0588235 Z"/><path d="M2.13333333,0.941176471 C1.5442296,0.941176471 1.06666667,1.36255553 1.06666667,1.88235294 L1.06666667,12.2352941 C1.06666667,12.7550915 1.5442296,13.1764706 2.13333333,13.1764706 L11.7333333,13.1764706 C12.322437,13.1764706 12.8,12.7550915 12.8,12.2352941 L12.8,1.88235294 C12.8,1.36255553 12.322437,0.941176471 11.7333333,0.941176471 L2.13333333,0.941176471 Z M2.13333333,0 L11.7333333,0 C12.9115408,0 13.8666667,0.842758118 13.8666667,1.88235294 L13.8666667,12.2352941 C13.8666667,13.2748889 12.9115408,14.1176471 11.7333333,14.1176471 L2.13333333,14.1176471 C0.955125867,14.1176471 0,13.2748889 0,12.2352941 L0,1.88235294 C0,0.842758118 0.955125867,0 2.13333333,0 Z"/></g></g></svg>',svgs["sm1/theme.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="currentColor" fill-rule="evenodd"><path fill-rule="nonzero" d="M14.505 19.09c.345.617.733.84 1.464.842.653.001 1.417-.43 2.015-1.104C19.418 17.173 20 15.383 20 12.23 20 7.679 16.413 4 12 4s-8 3.68-8 8.23c0 2.465.59 4.183 1.727 4.675.765.332 1.37.33 2.306.068.175-.049.217-.061.685-.207 1.168-.362 1.85-.503 2.761-.483 1.595.022 2.237.71 2.772 2.192l.028.078c.099.273.157.414.226.536zm-.873.488c-.528-.943-.44-2.271-2.166-2.295-2.407-.053-3.783 1.558-6.136.54C3.467 17.017 3 14.459 3 12.23 3 7.133 7.03 3 12 3s9 4.133 9 9.23c0 3.528-.734 5.492-2.26 7.253-.678.764-1.693 1.45-2.773 1.449-1.08-.003-1.807-.411-2.335-1.354z"/><path d="M11.909 7.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm3.214 1.17a1 1 0 1 1 1.286-1.532 1 1 0 0 1-1.286 1.532zm1.71 2.962a1 1 0 1 1 1.97-.348 1 1 0 0 1-1.97.348zM16.24 15a1 1 0 1 1 1.732 1 1 1 0 0 1-1.732-1zm-9.254-3.368a1 1 0 1 1-1.97-.348 1 1 0 0 1 1.97.348zm1.71-2.962A1 1 0 1 1 7.41 7.138 1 1 0 0 1 8.695 8.67z"/></g></svg>',svgs["sm1/todoist_logo.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M21 0H3a3 3 0 0 0-3 3v3.7L4 9c.4.2.8.2 1.1 0l8-4.6a.8.8 0 0 1 .8 0l1 .5c.2.2.1.6 0 .7L5.1 11c-.4.3-.7.3-1.2 0L0 8.8v2l4 2.4c.4.2.8.2 1.1 0l8-4.6a.8.8 0 0 1 .8 0l1 .5c.2.1.1.5 0 .6l-9.7 5.6c-.4.2-.7.3-1.2 0A857 857 0 0 1 0 13v2l4 2.3c.4.2.8.2 1.1 0l8-4.6a.8.8 0 0 1 .8 0l1 .5c.2.2.1.6 0 .7l-9.7 5.5c-.4.3-.7.3-1.2 0a857 857 0 0 1-4-2.3v4A3 3 0 0 0 3 24h18a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3"/></svg>',svgs["sm1/todoist_outline.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="currentColor" fill-rule="evenodd"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H6z"/><path d="M7.42 16.89l6.47-3.73c.14-.08.15-.32 0-.41l-.57-.32a.51.51 0 0 0-.5 0L7.4 15.55a.67.67 0 0 1-.67 0L4 13.96v1.35l2.72 1.58c.24.13.47.13.7 0m0-5.4l6.47-3.72c.14-.08.15-.33 0-.41l-.57-.32a.51.51 0 0 0-.5 0L7.4 10.16a.67.67 0 0 1-.67 0L4 8.57v1.35l2.72 1.58c.24.13.47.13.7 0"/><path d="M7.42 14.2l6.47-3.73c.14-.08.15-.33 0-.42l-.57-.32a.51.51 0 0 0-.5 0L7.4 12.87a.67.67 0 0 1-.67 0L4 11.26v1.36l2.72 1.57c.24.14.47.14.7 0"/></g></svg>',svgs["sm1/trash.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><rect width="14" height="1" x="5" y="6" fill="currentColor" rx=".5"/><path fill="currentColor" d="M10 9h1v8h-1V9zm3 0h1v8h-1V9z"/><path stroke="currentColor" d="M17.5 6.5h-11V18A1.5 1.5 0 0 0 8 19.5h8a1.5 1.5 0 0 0 1.5-1.5V6.5zm-9 0h7V5A1.5 1.5 0 0 0 14 3.5h-4A1.5 1.5 0 0 0 8.5 5v1.5z"/></g></svg>',svgs["sm1/twist.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#C4C4C4" d="M18 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h12zM8.89 8.4L4 7.14v1.37h4.93c.05 0 .07 0 .07-.05 0-.04-.03-.06-.11-.08zM7.5 11.74c0-.3.04-.45.29-.54l5.2-1.54a.02.02 0 0 0 .01-.02v-.43c0-.12-.06-.2-.15-.2l-.18.03-6.33.9a.39.39 0 0 0-.34.39v2.45c0 .22.17.36.38.32l1.1-.22a.02.02 0 0 0 .02-.02v-1.12zm2.32 1.06a.6.6 0 0 0-.32.56v2.73c0 .2.2.3.36.2l2.57-1.6 1.17.81a.08.08 0 0 0 .05.02c.04 0 .06-.02.07-.06l.55-1.92 1.43-.9a.64.64 0 0 0 .3-.54V9.7c0-.18-.1-.27-.23-.27-.07 0-.11.02-.15.04l-5.8 3.35z"/></svg>',svgs["sm1/unarchive.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M18.5 9.5h-13V18A1.5 1.5 0 0 0 7 19.5h10a1.5 1.5 0 0 0 1.5-1.5V9.5zm-14 0h15V7A1.5 1.5 0 0 0 18 5.5H6A1.5 1.5 0 0 0 4.5 7v2.5z"/><path fill="currentColor" d="M11.98 13.7l2.47 2.48a.5.5 0 1 0 .71-.7l-2.83-2.83a.5.5 0 0 0-.7 0L8.8 15.48a.5.5 0 0 0 .7.7l2.48-2.47z"/></g></svg>',svgs["sm1/upload.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M12 5.5L9.85 7.65a.5.5 0 1 1-.7-.71l2.64-2.65a1 1 0 0 1 1.42 0l2.64 2.65a.5.5 0 0 1-.7.7L13 5.5v9.3a.5.5 0 0 1-1 0V5.5z"/><path stroke="currentColor" stroke-linecap="round" d="M20.5 11.5v4.44c0 .89-.1 1.21-.28 1.54a1.88 1.88 0 0 1-.81.75c-.35.18-.7.27-1.65.27H7.24c-.95 0-1.3-.1-1.64-.27a1.88 1.88 0 0 1-.8-.75c-.2-.33-.29-.65-.29-1.54V11.5"/></g></svg>',svgs["sm1/warning.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="#FF9801" d="M13.77 4.8l7.3 12.17A2 2 0 0 1 19.36 20H4.75a2 2 0 0 1-1.72-3.03l7.3-12.17a2 2 0 0 1 3.44 0z"/><path fill="#FFF" d="M10.88 8.41h2.35l-.2 5.92h-1.95l-.2-5.92zm-.07 7.91c0-.7.45-1.11 1.24-1.11s1.26.4 1.26 1.11c0 .7-.47 1.11-1.26 1.11s-1.24-.4-1.24-1.1z"/></g></svg>'},"0DO4":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),a=n.n(r);function o(){return a.a.createElement("svg",{width:"24",height:"24"},a.a.createElement("path",{fill:"currentColor",d:"M7.39 12.339l.706.707-1.768 1.768a2 2 0 1 0 2.829 2.828l3.535-3.535a2 2 0 0 0 0-2.829l.707-.707a3 3 0 0 1 0 4.243l-3.535 3.535a3 3 0 0 1-4.243-4.242l1.768-1.768zm8.838-.354l-.707-.707 1.768-1.768a2 2 0 1 0-2.829-2.828l-3.535 3.536a2 2 0 0 0 0 2.828l-.707.707a3 3 0 0 1 0-4.243l3.535-3.535a3 3 0 0 1 4.243 4.243l-1.768 1.767z"}))}},"0Myy":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p}));var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("J4zp"),l=n.n(c),s=n("q1tI"),u=n("dE+u"),d=n("BsTD"),f=n("AnGN");n("ZjQ/");function m(e){var t=e.id,n=e.targetHighlightMode,r=void 0===n?"animated":n,a=e.initialScrollDelay,o=void 0===a?0:a;t=t.trim();var i=s.useState(!1),c=l()(i,2),d=c[0],m=c[1],p=s.useRef(o),h=s.useRef(null),v=Object(u.i)().hash.slice(1).trim(),b=v.length>0&&t.length>0&&v===t;s.useEffect((function(){if(b){var e=setTimeout((function(){var e;p.current=0,"function"==typeof(null===(e=h.current)||void 0===e?void 0:e.scrollIntoView)&&(h.current.scrollIntoView(!f.n&&{block:"center"}),m(!0))}),p.current);return function(){return clearTimeout(e)}}}),[b,d,o]);var g=b&&d;return s.useMemo((function(){return{id:t,ref:h,"data-location-target":g?"":void 0,"data-location-target-animated":g&&"animated"===r?"":void 0}}),[t,g,r])}var p=s.forwardRef((function(e,t){var n=e.id,r=e.initialScrollDelay,o=e.targetHighlightMode,c=e.children,l=i()(e,["id","initialScrollDelay","targetHighlightMode","children"]),u=m({id:n,initialScrollDelay:r,targetHighlightMode:o}),f=u.ref,p=i()(u,["ref"]),h=Object(d.a)([f,t]);return s.createElement("div",a()({},l,p,{ref:h}),c)}))},"0b/R":function(e,t,n){},"0dfK":function(e,t,n){},"0tNw":function(e,t,n){"use strict";n.r(t),n.d(t,"getUserPlan",(function(){return f})),n.d(t,"canAddSections",(function(){return m})),n.d(t,"canAddProjects",(function(){return p})),n.d(t,"canAddTasks",(function(){return h})),n.d(t,"canAddFilters",(function(){return v})),n.d(t,"canUseFilters",(function(){return b})),n.d(t,"canAddLabels",(function(){return g})),n.d(t,"canUseLabels",(function(){return _})),n.d(t,"canAddCollaborators",(function(){return y})),n.d(t,"canAddTimeReminders",(function(){return O})),n.d(t,"canAddLocationReminders",(function(){return j})),n.d(t,"canUseReminders",(function(){return w})),n.d(t,"canAddComments",(function(){return E})),n.d(t,"canUploadAttachments",(function(){return k})),n.d(t,"canAccessCompletedView",(function(){return D})),n.d(t,"canAccessWeeklyTrends",(function(){return C})),n.d(t,"canAccessActivityLog",(function(){return S})),n.d(t,"canUseTemplates",(function(){return I})),n.d(t,"canForwardEmails",(function(){return T})),n.d(t,"canUseCalendarFeeds",(function(){return A})),n.d(t,"getActivityLogDays",(function(){return x}));var r=n("peh1"),a=n("PRk6"),o=n("kbOS"),i=n("k0om"),c=n("S+H7"),l=n("jVEK"),s=n("G/av"),u=n("ejxE"),d=n.n(u),f=Object(r.createSelector)((function(e){return e.user}),(function(e){return Object(l.n)(e)}),(function(e){return e.userPlanLimits}),(function(e,t,n){return n||(t&&e.business_account_id?{current:s.c,next:null}:t?{current:s.b,next:s.c}:{current:s.a,next:s.b})})),m=Object(r.createSelector)(f,(function(e,t){return Object(a.b)(t)(e)}),(function(e,t){return e.current.max_sections>t.length})),p=Object(r.createSelector)(f,o.b,(function(e,t){return e.current.max_projects>t.filter((function(e){return!e.inbox_project&&!e.team_inbox})).length})),h=Object(r.createSelector)(f,(function(e,t){return Object(i.d)(e)[t]}),(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return n}),(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=e.current.max_tasks;return r>=t.length+n})),v=Object(r.createSelector)(f,(function(e){return e.filters}),(function(e,t){return e.current.max_filters>d()(t).filter((function(e){return 0===e.is_deleted})).length})),b=Object(r.createSelector)(f,(function(e){return e.current.filters})),g=Object(r.createSelector)(f,(function(e){return e.labels}),(function(e,t){return e.current.max_labels>d()(t).filter((function(e){return 0===e.is_deleted})).length})),_=Object(r.createSelector)(f,(function(e){return e.current.labels})),y=Object(r.createSelector)(f,(function(e,t){return Object(c.j)(e,t)}),(function(e,t){return e.current.max_collaborators>t.length})),O=Object(r.createSelector)(f,(function(e){return e.reminders}),(function(e,t){return e.current.max_reminders_time>d()(t).filter((function(e){return"location"!==e.type&&!e.is_deleted})).length})),j=Object(r.createSelector)(f,(function(e){return e.reminders}),(function(e,t){return e.current.max_reminders_location>d()(t).filter((function(e){return"location"===e.type&&!e.is_deleted})).length})),w=Object(r.createSelector)(f,(function(e){return e.current.reminders})),E=Object(r.createSelector)(f,(function(e){return e.current.comments})),k=Object(r.createSelector)(f,(function(e){return 0!==e.current.upload_limit_mb})),D=Object(r.createSelector)(f,(function(e){return e.current.completed_tasks})),C=Object(r.createSelector)(f,(function(e){return e.current.weekly_trends})),S=Object(r.createSelector)(f,(function(e){return e.current.activity_log})),I=Object(r.createSelector)(f,(function(e){return e.current.templates})),T=Object(r.createSelector)(f,(function(e){return e.current.email_forwarding})),A=Object(r.createSelector)(f,(function(e){return e.current.calendar_feeds})),x=Object(r.createSelector)(f,(function(e){return e.current.activity_log_limit}))},"1/Z5":function(e,t,n){"use strict";var r=n("jqHE");n.d(t,"a",(function(){return r.a}))},"17Jv":function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var r=n("o0o1"),a=n.n(r),o=n("yXPU"),i=n.n(o),c=n("J4zp"),l=n.n(c),s=n("lwsE"),u=n.n(s),d=n("W8MJ"),f=n.n(d),m=n("lSNA"),p=n.n(m),h=n("AnGN"),v=n("maC2"),b=n("oHMr"),g=n("dGQG"),_=n("7W2i"),y=n.n(_),O=n("a1gu"),j=n.n(O),w=n("Nsbk"),E=n.n(w);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E()(e);if(t){var a=E()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var D=function(e){y()(n,e);var t=k(n);function n(){return u()(this,n),t.apply(this,arguments)}return n}(n("S6TM").IpcService),C=n("eY+4"),S=n("71j2"),I=n("it2E"),T=n("hwkv"),A=n("RhW5");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L,M=function(){function e(){var t=this;u()(this,e),p()(this,"ipc",void 0),p()(this,"pullObservers",new Array),p()(this,"tasksDueToday",0),this.ipc=new D(new URL(window.location.origin),"com.todoist.ipc",(function(e){return"string"==typeof e.data&&e.data.startsWith("TODOIST_INITED")}),(function(e){t.pullObservers.forEach((function(t){return t.pullReceived(e)})),"notificationActivated"===e.method&&t.notificationActivated(e.data)})),this.ipc.push("bridgeReady")}var t;return f()(e,[{key:"onLoginCompleted",value:function(e){this.ipc.push("login",e)}},{key:"onLogoutCompleted",value:function(){this.ipc.push("logout")}},{key:"focusMainWindow",value:function(){this.ipc.push("focusDesktopApp")}},{key:"titleBarDoubleClick",value:function(){Object(h.h)()&&this.ipc.push("titleBarDoubleClick")}},{key:"changeWindowState",value:function(e){this.ipc.push("changeWindowState",e)}},{key:"registerForBadgeUpdates",value:function(){var e=this,t=b.default.getState(),n=Object(v.g)(t)+Object(v.d)(t);this.ipc.push("setBadge",n),Object(g.a)(b.default,v.g,v.d,(function(t,n){var r=t+n;r!==e.tasksDueToday&&(e.tasksDueToday=r,e.ipc.push("setBadge",r))}))}},{key:"registerForTodayUpdates",value:function(){var e=this;Object(g.a)(b.default,S.b.getOverdueAndToday,(function(t){var n=Array.from(t),r=l()(n,2),a=r[0],o=r[1];e.ipc.push("setTodayItems",{todayItems:Object(A.a)(a),overdueItems:Object(A.a)(o)})}))}},{key:"registerForProjectUpdates",value:function(){var e=this;Object(g.a)(b.default,(function(e){return e.projects}),(function(){var t,n=[],r=R(I.a.getAll({with_indent:!0}));try{for(r.s();!(t=r.n()).done;){var a=t.value,o=P({},a);T.a.isProjectShared(a.id)&&(o.collaborators=T.a.getAll(o.id)),n.push(o)}}catch(e){r.e(e)}finally{r.f()}e.ipc.push("setProjects",n)}))}},{key:"subscribeForPulls",value:function(e){this.pullObservers.push(e)}},{key:"unsubscribeFromPulls",value:function(e){this.pullObservers&&0!==this.pullObservers.length&&(this.pullObservers=this.pullObservers.filter((function(t){return t!==e})))}},{key:"notify",value:function(e){this.ipc.push("notify",e)}},{key:"notificationActivated",value:function(e){if("reminder"===e.notification_type)return C.a.navigateTo({task:{id:e.id}}),void this.focusMainWindow();var t=P({},e);for(var n in e){var r=Number(e[n]);isNaN(r)||(t[n]=r)}var a=C.b.getCallbackForNotification(t);a&&a(),this.focusMainWindow()}},{key:"setIgnoreMouseEvents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ipc.push("setIgnoreMouseEvents",{ignore:e,forward:t.forward})}},{key:"getPreference",value:(t=i()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ipc.request("getPreference",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"setPreference",value:function(e,t){this.ipc.push("setPreference",{path:e,value:t})}},{key:"sendQuickAddReady",value:function(){this.ipc.push("quickAddReady")}},{key:"sendQuickAddClosed",value:function(){this.ipc.push("quickAddClosed")}},{key:"sendQuickAddAdded",value:function(){this.ipc.push("quickAddAdded")}},{key:"sendQuickAddAdd",value:function(e){this.ipc.push("quickAddAddTask",e)}}]),e}(),F=n("FMO/"),z=function(){function e(){u()(this,e)}var t;return f()(e,[{key:"onLoginCompleted",value:function(){}},{key:"onLogoutCompleted",value:function(){}},{key:"focusMainWindow",value:function(){window.focus()}},{key:"titleBarDoubleClick",value:function(){}},{key:"registerForBadgeUpdates",value:function(){}},{key:"registerForTodayUpdates",value:function(){}},{key:"registerForProjectUpdates",value:function(){}},{key:"changeWindowState",value:function(){}},{key:"subscribeForPulls",value:function(){}},{key:"unsubscribeFromPulls",value:function(){}},{key:"notify",value:function(e){return F.a.notify(e)}},{key:"setIgnoreMouseEvents",value:function(e){}},{key:"getPreference",value:(t=i()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(void 0));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"setPreference",value:function(e,t){}},{key:"sendQuickAddReady",value:function(){}},{key:"sendQuickAddClosed",value:function(){}},{key:"sendQuickAddAdded",value:function(){}},{key:"sendQuickAddAdd",value:function(){}}]),e}();function B(){return L||(L=h.l?new M:new z),L}},"181E":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return s}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("RZq6"),l=new(function(){function e(){a()(this,e),this.set_delayed=this.set_delayed.bind(this),this.get=this.get.bind(this),this.remove=this.remove.bind(this),this._clear_delayed_set=this._clear_delayed_set.bind(this),this.commitAllDelayed=this.commitAllDelayed.bind(this),this.commitAll=this.commitAll.bind(this),this._commit=this._commit.bind(this),this.clear_all_cached_and_delayed=this.clear_all_cached_and_delayed.bind(this),this.cache={},this.delayed_set={},this.manual_commit=!1}return i()(e,[{key:"set_delayed",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0!==t){if(this.cache[e]=t,this._clear_delayed_set(e),!0===r)return this._commit(e,t),t;if(!0!==this.manual_commit){var a=function(){n._commit(e,n.cache[e]),n.delayed_set[e]&&delete n.delayed_set[e]};this.delayed_set[e]={timeoutId:setTimeout(a,.5),updateFn:a}}return t}this.remove(e)}},{key:"get",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0!==this.cache[e]&&!1===n)return this.cache[e];var r=localStorage.getItem(e);if(null===r)return null;if("undefined"===r)return this.remove(e),null;try{t=window.JSON.parse(r)}catch(n){throw c&&c.captureError(new Error("$storage deserialize error"),{extra:{storage_key:e,value:t,error:n.message}}),n}return this.cache[e]=t,t}},{key:"remove",value:function(e){localStorage.removeItem(e),this.cache[e]&&delete this.cache[e],this._clear_delayed_set(e)}},{key:"_clear_delayed_set",value:function(e){this.delayed_set[e]&&(clearTimeout(this.delayed_set[e].timeoutId),delete this.delayed_set[e])}},{key:"commitAllDelayed",value:function(){for(var e in this.cache){var t=this.cache[e];this.set_delayed(e,t)}}},{key:"commitAll",value:function(){for(var e in this.delayed_set){var t=this.delayed_set[e],n=t.timeoutId,r=t.updateFn;clearTimeout(n),r()}}},{key:"_commit",value:function(e,t){var n=JSON.stringify(t);n!==localStorage.getItem(e)&&localStorage.setItem(e,n)}},{key:"clear_all_cached_and_delayed",value:function(e){for(e in this.cache)this._clear_delayed_set(e);this.cache={},this.delayed_set={}}}]),e}()),s=function(e){return{set:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l.set_delayed(e,t,n)},get:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l.get(e,t)},clear:function(){l.remove(e)}}};window.$storage=s,window.GlobalStorage=l},"188l":function(e,t,n){"use strict";var r=n("RIqP"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("AnGN"),l=n("MrOw");Signals.connect("open_print_mode",(function(){var e,t=window.location,n=t.pathname,r=t.search;!(c.a.isWindowApp||c.a.isOutlookApp||c.a.isChromeApp)&&(e=window.open());var a={onSuccess:function(){var t=r?"".concat(n).concat(r,"&print_mode=1"):"".concat(n,"?print_mode=1");e?e.location=t:window.open(t)}};return l.default.getInstance().sync(a,!0),!1}));var s,u=n("PI/q"),d=n("RZq6"),f=n("NZFV"),m=n("XtcL"),p=n("jVEK"),h=n("KpGl"),v=n("TQFH"),b=n("DwX5"),g=n.n(b),_=n("duPW"),y=n.n(_),O=n("uS8r"),j=n.n(O),w=n("Snkc"),E=n.n(w),k=n("ANjH"),D=n("k08V"),C=n.n(D),S=n("oHMr");function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}S.default.subscribe((function(){var e,t,n=s;(s=S.default.getState().user)&&s!=n&&(window.User=s,window.Settings={AMPM:1==s.time_format,US_DATES:1==s.date_format,START_PAGE:s.start_page,START_DAY:s.start_day?s.start_day:1,NEXT_WEEK:s.next_week?s.next_week:1,WEEK_START_DAY:null!==(e=s.weekend_start_day)&&void 0!==e?e:1},(t=s.lang)&&("ja"==t||"ko"==t||t.startsWith("zh"))&&(window.Settings.US_DATES=!0))})),void 0===window.todoist&&(window.todoist={}),window.todoist.updateUser=function(e){S.default.dispatch(Object(p.o)(e))},window.todoist.markTooltipUnseen=function(e){S.default.dispatch(Object(f.p)(e))},window.todoist.openSettingWindow=function(e){u.a.showPrefs(e)},window.todoist.testSentry=function(){try{throw new Error("Sentry setup test")}catch(e){d.captureError(e)}},window.todoist.showTrialTooltip=function(){var e=T(T({},window.User),{},{is_premium:!1,free_trail_expires:void 0});S.default.dispatch(Object(p.o)(e)),S.default.dispatch(Object(f.r)([].concat(a()(S.default.getState().tooltip.scheduled),[f.g])))},window.todoist.showPremiumWillExpireTooltip=function(){S.default.dispatch(Object(f.r)([].concat(a()(S.default.getState().tooltip.scheduled),[f.f])))},window.todoist.showCompleteFirstTaskTooltip=function(){var e=new Date;e.setDate(e.getDate()-1),S.default.dispatch(Object(p.o)({join_date:e})),S.default.dispatch(Object(f.p)(f.c)),Signals.sendSignal("refresh_interface")},window.todoist.scheduleTooltip=function(e){S.default.dispatch(Object(f.r)([].concat(a()(S.default.getState().tooltip.scheduled),[e])))},window.todoist.resetTodayCompletedCount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;S.default.dispatch(Object(m.g)(e))},window.todoist.resetThisWeekCount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;S.default.dispatch(Object(m.f)(e))},window.todoist.markTooltipUnseen=function(e){S.default.dispatch(Object(f.p)(e))},window.todoist.store=S.default,window.todoist.printProjectList=function(){var e=$values(S.default.getState().projects);e.sort((function(e,t){return e.item_order-t.item_order})),console.table(e,["id","name","item_order","indent","parent_id","child_order"])};window.todoist.printProjectTasks=function(e){var t=Object(v.E)(e)(S.default.getState()),n=Object(k.d)(C.a,j()((function(e){return[].concat(a()(t[e]),[{}])})),(function(e){return[null].concat(a()(e))}),j()((function(e){return e.id})),E()("child_order"),g()((function(t){return t.project_id===e})),y()("sections"))(S.default.getState());console.table(n,["id","content","project_id","section_id","item_order","indent","parent_id","child_order"])},window.todoist.printInbox=function(){window.todoist.printProjectTasks(S.default.getState().user.inbox_project)},window.todoist.printSortedProjectList=function(){var e=Object(h.b)(S.default.getState());console.table(e,["id","name","item_order","indent","parent_id","child_order"])}},"1AK2":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=$toDOM('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><rect width="14" height="1" x="5" y="6" fill="currentColor" rx=".5"/><path fill="currentColor" d="M10 9h1v8h-1V9zm3 0h1v8h-1V9z"/><path stroke="currentColor" d="M17.5 6.5h-11V18A1.5 1.5 0 0 0 8 19.5h8a1.5 1.5 0 0 0 1.5-1.5V6.5zm-9 0h7V5A1.5 1.5 0 0 0 14 3.5h-4A1.5 1.5 0 0 0 8.5 5v1.5z"/></g></svg>'),o=$toDOM('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="#FF9801" d="M13.77 4.8l7.3 12.17A2 2 0 0 1 19.36 20H4.75a2 2 0 0 1-1.72-3.03l7.3-12.17a2 2 0 0 1 3.44 0z"/><path fill="#FFF" d="M10.88 8.41h2.35l-.2 5.92h-1.95l-.2-5.92zm-.07 7.91c0-.7.45-1.11 1.24-1.11s1.26.4 1.26 1.11c0 .7-.47 1.11-1.26 1.11s-1.24-.4-1.24-1.1z"/></g></svg>'),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.render=this.render.bind(this),this.remove=this.remove.bind(this),this.updateProgress=this.updateProgress.bind(this),this.uploadDone=this.uploadDone.bind(this),this._generateDelIcon=this._generateDelIcon.bind(this),this.file_obj=t,this.file_obj.addView(this)}return r(e,[{key:"render",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=void 0,n=this.file_obj.file;t=e?this._generateDelIcon():null;var r=n.name||n.fileName;return!r&&this.file_obj.file_server_info&&(r=this.file_obj.file_server_info.title),this.view=DIV({c:"file_to_upload"},t,this.filename=SPAN({c:"filename"},r),this.progress=B({c:"progress_bar"})),this.updateProgress(this.file_obj.progress_prct),this.view.file_view=this,this.view}},{key:"remove",value:function(){$remove(this.view,this.progress,this.filename),this.file_obj.removeView(this),this.view.file_view=null,this.view=this.progress=this.filename=this.file_obj=null}},{key:"updateProgress",value:function(e){var t=this;if(this.file_obj.error){var n=o.cloneNode(!0);IstTooltip.showSimpleText(n,_("Could not upload the file due to an unknown error. Click to try again.")),$AEV(n,"click",(function(){return IstTooltip.hide(!0),t.file_obj.upload(),!1})),$replace(this.progress,n)}else this.file_obj.success?$replace(this.progress,null):100===e?$replace(this.progress,Indicator.cssSpinner()):$replace(this.progress,SPAN(e+"%"))}},{key:"uploadDone",value:function(e){this.progress&&this.filename&&($remove(this.progress),$swap(this.filename,A({href:e.file_url,target:"_blank"},e.file_name||e.title)))}},{key:"_generateDelIcon",value:function(){var e=this,t=SPAN({c:"icon"},a.cloneNode(!0));return $AEV(t,"click",(function(){e.file_obj.reset(),e.remove()})),t}}]),e}();window.GFileView=i},"1Sse":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("lSNA");var r=n("q1tI"),a=n.n(r),o=n("TSYQ"),i=n.n(o),c=(n("Pxnj"),n("++xj")),l=n("4eld"),s=n("gd9Y"),u=(n("JAGl"),"SidebarListItem"),d="SidebarListItem--selected",f="SidebarListItem__icon",m="SidebarListItem__button",p="SidebarListItem__content";function h(e){var t=e.linkTo,n=e.className,r=e.onContextMenu,o=e.onMenuClick,h=e.children,v=e.leftIcon,b=e.color,g=e.menuButtonLabel;return a.a.createElement(s.b,{view:t,activeClassName:d,className:i()(u,n),onContextMenu:r,end:!0},a.a.createElement("span",{className:f,style:{color:b}},v),a.a.createElement("span",{className:p},h),o?a.a.createElement(l.a,{onClick:function(e){e.preventDefault(),o(e)},className:m,title:g,"aria-label":g},a.a.createElement(c.a,null)):null)}},"1eYM":function(e,t,n){e.exports={container:"_3zPtYHFspUhtp9byQF_bkf"}},"1tNa":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return p}));var r=n("lSNA"),a=n.n(r),o=n("duPW"),i=n.n(o),c=n("qRd9"),l=n("lzDQ"),s=n("TQFH"),u=n("XOeF");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){var t=e.text;return{type:"DRAFT_ADD",payload:{key:h({type:e.parentType,id:e.parentId}),value:t}}},p=function(e,t){var n=t.id,r=t.type;return i()(["drafts",h({type:r,id:n})],e)};function h(e){var t=e.type,n=e.id;return"".concat(t,":").concat(n)}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:return t.payload.drafts?f({},t.payload.drafts):e;case"DRAFT_ADD":var n=t.payload,r=n.key,o=n.value;if(!o){var i=f({},e);return delete i[r],i}return f(f({},e),{},a()({},r,o));case l.a:var d=t.payload,m=d.item_id?l.c:l.d,p=h({type:m,id:d.item_id||d.project_id}),v=f({},e);return delete v[p],v;case s.e:var b=t.payload.ids;if(b&&b.length>0){var g=f({},e);return b.forEach((function(e){var t=h({type:l.c,id:e});delete g[t]})),g}return e;case u.c:var _=t.payload;if(_&&_.length>0){var y=f({},e);return _.forEach((function(e){var t=h({type:l.d,id:e});delete y[t]})),y}return e;default:return e}}},"1zEf":function(e,t,n){"use strict";n.d(t,"r",(function(){return r})),n.d(t,"s",(function(){return a})),n.d(t,"q",(function(){return o})),n.d(t,"j",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"n",(function(){return l})),n.d(t,"p",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"o",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"m",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"g",(function(){return g})),n.d(t,"l",(function(){return _})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return O}));var r="/contact",a="/help",o="/help/articles/whats-new",i="/help/articles/205063212",c="/help/articles/11500312808",l="/help/articles/205348301",s="/help/articles/360001450039",u="/help/articles/360000031059",d="/help/articles/360000029000",f="/help/articles/360019711020",m="/help/articles/209430045",p="/help/articles/205348311",h="/help/articles/360013988740",v="/help/articles/360000031039",b="/help/articles/205348311",g="/help/articles/360000394949",_="/help/articles/205064592",y="/help/articles/208821185",O="/help/articles/206209959"},"1ztj":function(e,t,n){e.exports={container:"_3fz8w59iaUmbFO68eWHDBq",listItem:"QtEfan88R_BsrmpBr6RgX",listItemIcon:"_1WE8x1kvf34z5_4oqdjVwo",listItemContent:"enkpVq8MAp7eJX_FYuUYt",listItemNewSidebarDesign:"dFbDVMk8V8_ZasRk4uz3U",listItemLabel:"kYN4k_62Peyqa4AP16sXS",listItemCount:"_3Fzr1fFOKxw3iq6wrd0X3J",menuButton:"_1TeUr3rYSvt8szLlxjg6Cl",listItemSelected:"_2eMBivKPM-Ro3XtO7HSe1Z",listItemHighlighted:"_3JLBN40DFgJQnKerMtTmbz",toggleExpandButton:"_1-Ul9BCJFlDLfYngftT1J6",toggleCountOrMenuButtonVisibilityBasedOnFocus:"DzEmja1dgG9T2rnT97HfB"}},"2JC7":function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("q1tI"),i=n.n(o);t.a=function(e){return i.a.createElement("svg",a()({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","data-svgs-path":"sm1/comments.svg"},e),i.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M11.707 20.793A1 1 0 0 1 10 20.086V18H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4.5l-2.793 2.793z"}))}},"2Sab":function(e,t,n){},"2hSK":function(e,t){var n=Class({holder:null,cur_elm:null,shown:!1,init:function(){!this.holder&&$body()&&(this.holder=DIV({c:"ist_tooltip_holder"}),this.updateAlignment(),$hide(this.holder),$add($body(),this.holder),this._onScroll=$b(this._onScroll,this),$AEV(window,"scroll",this._onScroll))},setAlignment:function(e){this.alignment=e,this.updateAlignment()},showSimpleText:function(e,t,n,r,a,o){var i=this;$AEV(e,"mouseover",(function(c){if($isFunction(n)&&!n(c))return!1;$isFunction(t)&&(t=t(c)),i.show(e,DIV({c:"ist_tooltip_content"},t),c,r,a,o)})),$AEV(e,"mouseout",$b(this.hide,this))},showTooltip:function(e,t,n,r,a,o){var i=this;$AEV(e,"mouseover",(function(c){var l=t;return $isFunction(t)&&(l=t(c)),l=$isString(l)?$setHTML(DIV({c:"ist_tooltip_content"}),l):DIV({c:"ist_tooltip_content"},l),i.show(e,l,c,n,r,a,o)})),$AEV(e,"mouseout",$b(this.hide,this))},show:function(e,t,n,r,a,o,i){return 1!=o&&(o=!1),this.flip=i,this.cur_elm=e,$setVisibility(t,!1),this.shown=!0,$replace(this.holder,t),this.top_offset=r,this.left_offset=a,this.include_scroll_top=o,$show(this.holder),this.updateAlignment(),$setVisibility(t,!0),this.locate(n),!1},hide:function(e){var t=this;if(t.holder){this.shown=!1;var n=function(){t.shown||($hide(t.holder),t.cur_elm=null,t.top_offset=0,t.left_offset=0)};return $replace(t.holder,null),1==e?n():setTimeout(n,100),!1}},destory:function(){$remove($all("div","IstTooltip_arrow_top",this.holder)),$remove(this.holder),$REV(window,"scroll",this._onScroll),this.holder=null,this._onScroll=null},updateAlignment:function(){$remove($all("div","IstTooltip_arrow_top",this.holder)),this.alignment&&(this.flip?$add(this.holder,DIV({c:"IstTooltip_arrow_top"})):$addToTop(this.holder,DIV({c:"IstTooltip_arrow_top"})))},locate:function(e){var t=this.cur_elm;if(t){var n=t.getBoundingClientRect(),r={x:n.left,y:n.top},a=r.x-5,o=this.holder.offsetWidth,i=$winSize().w;$hasClass(t,"IstTooltip_force_right")?(this.setAlignment("right"),$addClass(this.holder,"ist_tooltip_right"),$removeClass(this.holder,"ist_tooltip_left")):$hasClass(t,"IstTooltip_force_left")?(this.setAlignment("left"),$addClass(this.holder,"ist_tooltip_left"),$removeClass(this.holder,"ist_tooltip_right")):a+o+10>i?(a-=o-10-t.offsetWidth,this.setAlignment("right"),$addClass(this.holder,"ist_tooltip_right"),$removeClass(this.holder,"ist_tooltip_left")):(this.setAlignment("left"),$addClass(this.holder,"ist_tooltip_left"),$removeClass(this.holder,"ist_tooltip_right")),$isNumber(this.top_offset)?r.y+=this.top_offset:$isFunction(this.top_offset)&&(r.y+=this.top_offset());var c=null;if($isNumber(this.left_offset)?c=this.left_offset:$isFunction(this.left_offset)&&(c=this.left_offset()),null!=c&&("right"==this.alignment&&(c=-c),a+=c),1==this.flip)var l=r.y-this.holder.offsetHeight;else l=r.y+t.offsetHeight+2;if($hasClass(t,"fixed_pos")&&(l+=$scrollTop()),this.include_scroll_top&&(l+=$scrollTop()),t.on_ist_tooltip_locate){var s=t.on_ist_tooltip_locate(l,a);l=s[0],a=s[1]}$setTop(this.holder,l),$setLeft(this.holder,a)}},_onScroll:function(){this.locate()}});IstTooltip=new n,$AEV(window,"load",$b(IstTooltip.init,IstTooltip))},"3/82":function(e,t,n){"use strict";n.d(t,"f",(function(){return C.c})),n.d(t,"e",(function(){return x})),n.d(t,"c",(function(){return P})),n.d(t,"b",(function(){return N})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return M})),n.d(t,"g",(function(){return F})),n.d(t,"h",(function(){return z})),n.d(t,"a",(function(){return B})),n.d(t,"d",(function(){return V}));var r=n("lSNA"),a=n.n(r),o=n("ANjH"),i=n("uS8r"),c=n.n(i),l=n("DwX5"),s=n.n(l),u=n("ejxE"),d=n.n(u),f=n("duPW"),m=n.n(f),p=n("Snkc"),h=n.n(p),v=n("b3vA"),b=n.n(v),g=n("qOpA"),_=n.n(g);var y=n("3EZw"),O=n.n(y),j=n("n7q7"),w=n("4rXO"),E=n("Z0cm"),k=n.n(E),D=n("Qi13"),C=n("QPCg");function S(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=O()((function(e,t,n){var r;null!=(r=t)&&"function"==typeof r[Symbol.iterator]&&(t=new Set(t));var i=t instanceof Set?function(e){return t.has(e.id)}:t,l=new Set(Object(o.d)(c()((function(e){return e.id})),s()(i),d.a,m()(e))(n));if(0===l.size)return n;var u,f=A({},n[e]),p=S(l);try{for(p.s();!(u=p.n()).done;){delete f[u.value]}}catch(e){p.e(e)}finally{p.f()}return A(A({},n),{},a()({},e,f))})),P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.removeArchived,a=void 0===r||r;if(!t||0==t.length)return e;var o,i=A({},e),c=S(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,s=l.id,u=l.is_deleted,d=l.is_archived;if(a&&(u||d))delete i[s];else if(i[s]){var f=e[s];i[s]=A(A({},f),l)}else i[s]=l}}catch(e){c.e(e)}finally{c.f()}return i},R=Math.pow(2,28)-1,N=function(e){return e<=R},L=O()((function(e,t){return Object(j.a)(t)||t>R?t:e.user.unique_prefix<<28|t})),M=function(e,t,n){k()(e)||(e=[e]);var r=Object(o.d)(b()((function(e){return A(A({},e),t)})),_()(e))(n);return A(A({},n),r)},F=O()((function(e,t){e=k()(e)?e:[e];var n=A({},t),r=!1;return e.forEach((function(e){if(Object.prototype.hasOwnProperty.call(t,e)){var a=n[e];if(k()(a))n[e]=a.map((function(e){var t=D.a.getRealId(e);return e!==t&&(r=!0),t}));else{var o=D.a.getRealId(a);a!==o&&(r=!0),n[e]=o}}})),r?n:t})),z=O()((function(e,t,n){e=k()(e)?e:[e];var r=A({},n),a=!1;return e.forEach((function(e){if(Object.prototype.hasOwnProperty.call(n,e)){var o=r[e];if(k()(o))r[e]=o.map((function(e){var n=t[e]||e;return e!==n&&(a=!0),n}));else{var i=t[o]||o;o!==i&&(a=!0),r[e]=i}}})),a?r:n}));function B(e,t){return e=e.toLowerCase(),null==t||0===t.length||""===e?[]:Object(o.d)(c()((function(e){return e.e})),h()(["i","e.item_order","e.id"]),s()((function(e){return-1!==e.i})),c()((function(t){return{i:Object(w.a)(e,t.name),e:t}})),s()((function(e){return!e.is_archived&&!e.is_deleted})))(t)}function V(e){return(e||[]).reduce((function(e,t){return t.project_id&&(e.projects[t.project_id]=A(A({},t),{},{id:t.project_id})),t.section_id&&(e.sections[t.section_id]=A(A({},t),{},{id:t.section_id})),t.item_id&&(e.items[t.item_id]=A(A({},t),{},{id:t.item_id})),e}),{projects:{},sections:{},items:{}})}},"309x":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var r=n("lSNA"),a=n.n(r),o=n("J4zp"),i=n.n(o),c=n("q1tI"),l=n.n(c),s=n("Vbab"),u=n("Pp/T");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=l.a.createContext({});function p(e){var t=e.children,n=Object(c.useState)(!1),r=i()(n,2),a=r[0],o=r[1],d=Object(c.useState)({}),p=i()(d,2),h=p[0],v=p[1],b=Object(c.useState)({}),g=i()(b,2),_=g[0],y=g[1],O=Object(c.useState)(),j=i()(O,2),w=j[0],E=j[1],k=Object(c.useState)(),D=i()(k,2),C=D[0],S=D[1],I=Object(c.useState)(),T=i()(I,2),A=T[0],x=T[1],P=Object(c.useState)(),R=i()(P,2),N=R[0],L=R[1],M=Object(c.useState)(),F=i()(M,2),z=F[0],B=F[1],V=Object(c.useState)(),$=i()(V,2),H=$[0],U=$[1],q=Object(c.useState)(),G=i()(q,2),W=G[0],K=G[1],Y=Object(c.useState)(),J=i()(Y,2),Q=J[0],Z=J[1],X=Object(c.useState)(),ee=i()(X,2),te=ee[0],ne=ee[1],re=Object(c.useState)(),ae=i()(re,2),oe=ae[0],ie=ae[1],ce=Object(c.useState)(),le=i()(ce,2),se=le[0],ue=le[1],de=Object(c.useState)(),fe=i()(de,2),me=fe[0],pe=fe[1],he=Object(c.useState)(),ve=i()(he,2),be=ve[0],ge=ve[1],_e=Object(c.useState)(),ye=i()(_e,2),Oe=ye[0],je=ye[1],we=Object(c.useState)(),Ee=i()(we,2),ke=Ee[0],De=Ee[1],Ce=Object(c.useMemo)((function(){return{activeKeyMaps:h,setActiveKeyMaps:v,activeHandlers:_,setActiveHandlers:y,activeTask:w,setActiveTask:E,isCommandMenuShown:a,globalContext:C,setGlobalContext:S,globalHandlers:A,setGlobalHandlers:x,globalKeyMap:N,setGlobalKeyMap:L,modalHandlers:z,setModalHandlers:B,modalKeyMap:H,setModalKeyMap:U,projectViewHandlers:W,setProjectViewHandlers:K,projectViewKeyMap:Q,setProjectViewKeyMap:Z,taskHandlers:te,setTaskHandlers:ne,taskKeyMap:oe,setTaskKeyMap:ie,taskListHandlers:me,setTaskListHandlers:pe,taskListKeyMap:be,setTaskListKeyMap:ge,taskPickers:se,setTaskPickers:ue,upcomingViewHandlers:Oe,setUpcomingViewHandlers:je,upcomingViewKeyMap:ke,setUpcomingViewKeyMap:De}}),[h,_,w,a,E,C,A,N,z,H,W,Q,te,oe,me,be,se,Oe,ke]),Se=Object(c.useCallback)((function(){o(!a)}),[a]),Ie=Object(c.useMemo)((function(){return{OPEN_COMMAND_MENU:function(e){null==e||e.preventDefault(),Se()}}}),[Se]);return Object(c.useEffect)((function(){var e={OPEN_COMMAND_MENU:{name:Object(s.a)("Open command menu"),sequences:["command+k","ctrl+k"],action:"keydown"}};H?(v(f(f({},H),e)),y(f(f({},z),Ie))):(v(f(f(f(f(f(f({},oe),be),Q),ke),e),N)),y(f(f(f(f(f(f({},te),me),W),Oe),Ie),A)))}),[Ie,N,A,z,H,W,Q,oe,te,be,me,ke,Oe]),l.a.createElement(m.Provider,{value:Ce},t,l.a.createElement(u.a,{isOpen:a,setIsCommandMenuShown:o}))}function h(){return l.a.useContext(m)}},"32ZO":function(e,t,n){"use strict";var r,a={menuSaveAndAdd:function(e,t){return function(){var n=e.current_form;n&&""!==$gc(n,null,"richtext_editor").proxyGetValue()?"edit"==e.current_mode?e.saveItem(n,(function(){e.showAddItem(!0,t)})):e.addItem(n,(function(){e.showAddItem(!0,t)})):e.showAddItem(!0,t)}},getAndResetCurrent:function(e,t){if(!e)return null;var n=e.current_holder;return e.current_holder=null,!1!==t&&e.hide(),n}},o=n("QF5v"),i=n("wOFH"),c=n("UCf1"),l=n("it2E");t.a={get:function(){return r},init:function(e){return(r=new IstMenu).addItems(IstMenu.createItem(_("Add project above"),a.menuSaveAndAdd(e,!0),{extra_class:"project_archive_action project_inbox_action",icon:svgs.get("sm1/add_above.svg"),attr:{"data-track":"projects|menu_add_project_above"}}),IstMenu.createItem(_("Add project below"),a.menuSaveAndAdd(e,!1),{extra_class:"project_archive_action",icon:svgs.get("sm1/add_below.svg"),attr:{"data-track":"projects|menu_add_project_below"}}),IstMenu.createSeparator("project_archive_action"),IstMenu.createItem(_("Edit project"),$p(e.saveCurrentItem,e.editCurrentItem),{extra_class:"project_archive_action project_inbox_action",icon:svgs.get("sm1/edit.svg"),attr:{"data-track":"projects|menu_edit"}}),IstMenu.createItem(_x("project_menu","Share project"),(function(){var e=a.getAndResetCurrent(r);return e&&c.a.show(e.json.id),!1}),{extra_class:"project_archive_action",icon:svgs.get("sm1/add_member.svg"),attr:{"data-track":"projects|menu_share_project"}}),IstMenu.createItem(_("Add to favorites"),(function(){var e=a.getAndResetCurrent(r);e&&l.a.update(e.json.id,{is_favorite:1})}),{extra_class:"project_add_favorite_action",icon:svgs.get("sm1/heart.svg"),attr:{"data-track":"projects|menu_add_to_favorites"}}),IstMenu.createSeparator("project_archive_action project_inbox_action")),r.addItems(IstMenu.createItem(_("Duplicate project"),(function(){var e=a.getAndResetCurrent(r);e&&l.a.duplicate(e.json.id)}),{extra_class:"project_archive_action",icon:svgs.get("sm1/duplicate.svg"),attr:{"data-track":"projects|menu_duplicate_project"}})),r.addItems(IstMenu.createItem(_("Email tasks to this project"),(function(){var e=a.getAndResetCurrent(r);return i.a.showProjectEmail(e.json.id)}),{extra_class:"project_archive_action",icon:svgs.get("sm1/mail.svg"),attr:{"data-track":"projects|menu_email_tasks"}}),IstMenu.createItem(_("Project calendar feed"),(function(){var e=a.getAndResetCurrent(r);return i.a.showCalFeed(e.json.id)}),{extra_class:"project_archive_action",icon:svgs.get("sm1/list.svg"),attr:{"data-track":"projects|menu_project_calendar_feed"}}),IstMenu.createSeparator("project_archive_action project_inbox_action"),IstMenu.createItem(SPAN({id:"menu_archive_text",class:"menu_label"},_("Archive project")),(function(){var t=a.getAndResetCurrent(r);t&&(t.json.is_archived?o.a.unarchive(t):(o.a.archive(t),window.location.pathname==="/app/project/".concat(t.json.id)&&e.navigateTo({view:{type:"inbox"},replace:!0})));return!1}),{extra_class:"project_inbox_action",icon:svgs.get("sm1/archive.svg"),attr:{"data-track":"projects|menu_archive"}}),IstMenu.createItem(SPAN({id:"menu_delete_text",class:"menu_label"},_("Delete project")),(function(){var t=a.getAndResetCurrent(r);return e.deleteCurrentItem(t,(function(){window.location.pathname==="/app/project/".concat(t.json.id)&&e.navigateTo({view:{type:"inbox"},replace:!0})}))}),{extra_class:"project_inbox_action danger",icon:svgs.get("sm1/trash.svg"),attr:{"data-track":"projects|menu_delete"}})),r.hide_menu_icon=!0,$AEV(document,"click",r.hide),r}}},"3AAN":function(e,t,n){"use strict";n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return D})),n.d(t,"h",(function(){return C})),n.d(t,"l",(function(){return S})),n.d(t,"j",(function(){return I})),n.d(t,"c",(function(){return A})),n.d(t,"b",(function(){return x})),n.d(t,"e",(function(){return P})),n.d(t,"d",(function(){return R})),n.d(t,"k",(function(){return N})),n.d(t,"i",(function(){return M})),n.d(t,"a",(function(){return F}));var r=n("lSNA"),a=n.n(r),o=n("FfTA"),i=n("P/G1"),c=n.n(i),l=n("QVEU"),s=n.n(l),u=n("RT6a"),d=n.n(u),f=n("DwX5"),m=n.n(f),p=n("Snkc"),h=n.n(p),v=n("uS8r"),b=n.n(v),g=n("peh1"),_=n("Qi13"),y=n("ANjH"),O=n("4rXO"),j=n("k0om");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){return e.labels[t=_.a.getRealId(t)]}function D(e,t){if(arguments.length<1)throw new Error("First argument is required");var n=Object(g.createSelector)((function(e){return e.labels}),(function(t){return Object(y.d)(d()((function(t){return t.name===e})),c.a)(t)}));return 1===arguments.length?n:n(t)}function C(e,t){var n=e.labels;return L(Object.values(n),t)}function S(e){var t=e.labels,n=Object.values(t);return 0===n.length?1:n.reduce((function(e,t){return Math.max(e,t.item_order)}),Number.NEGATIVE_INFINITY)}function I(e){var t=e.labels;return Object.values(t).length}var T=Object(o.a)((function(e){var t=Object(j.n)(e),n={};return t.forEach((function(e){var t=e.labels;(void 0===t?[]:t).forEach((function(e){n[e]||(n[e]={name:e})}))})),n})),A=Object(g.createSelector)(T,(function(e){return e.labels}),(function(e,t){var n=s()(c()(t),(function(e){return e.name}));return E(E({},e),n)})),x=Object(g.createSelector)(A,c.a),P=Object(g.createSelector)(x,Object(y.d)(h()("name"),m()((function(e){return void 0===e.id})))),R=Object(g.createSelector)(x,Object(y.d)(h()("item_order"),m()((function(e){return void 0!==e.id})))),N=Object(g.createSelector)(R,m()((function(e){return e.is_favorite})));function L(e,t){return Object(y.d)(b()((function(e){return e.label})),h()(["i","label.item_order","label.id","label.name"]),m()((function(e){return-1!==e.i})),b()((function(e){return{i:Object(O.a)(t,e.name),label:e}})))(e)}function M(e,t){return L(x(e),t)}var F=Object(g.createSelector)(A,(function(e){return function(t,n){var r=e[t].item_order,a=e[n].item_order;return r===a?0:r<a?-1:1}}))},"3ROq":function(e,t,n){},"3SZs":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n("q1tI"),a=n("Ymoq");function o(e,t){if(0!==(e=e.trim()).length)return function(e,t){return e=e.toLowerCase(),null===t||""===e?[]:Object.keys(t).filter((function(n){return t[n].name.toLowerCase().includes(e)}))}(e,t)}var i=n("TPQe"),c=n("Vbab"),l=n("xDOP"),s=n.n(l),u=n("UVeO"),d=n("Yq95");function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=r.createElement("path",{fill:"currentColor",d:"M10.5 17h9a.5.5 0 110 1h-9a.5.5 0 110-1zm0-6h9a.5.5 0 110 1h-9a.5.5 0 110-1zm0-6h9a.5.5 0 110 1h-9a.5.5 0 110-1zM5.75 18.75a1.25 1.25 0 110-2.5 1.25 1.25 0 010 2.5zm0-6a1.25 1.25 0 110-2.5 1.25 1.25 0 010 2.5zm0-6a1.25 1.25 0 110-2.5 1.25 1.25 0 010 2.5z"});function p(e){return r.createElement("svg",f({width:24,height:24,viewBox:"0 0 24 24"},e),m)}n.p;var h=n("Q05W"),v=n("Akve");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=r.createElement("path",{d:"M12 3a9 9 0 017.079 14.559l.143-.187a8.91 8.91 0 01-.536.653l-.073.08-.117.124a8.4 8.4 0 01-.637.603l-.098.083c-.05.042-.1.083-.152.124l-.074.058c-.044.034-.087.068-.132.101l-.106.079c-.04.03-.08.058-.12.086l-.125.087-.049.032a8.919 8.919 0 01-.604.372l-.033.018-.064.035-.176.094-.055.028a8.001 8.001 0 01-.208.102l-.044.02c-.064.031-.13.061-.196.09l-.095.041-.13.054-.121.049a8.967 8.967 0 01-.507.18l-.095.03c-.075.024-.15.046-.225.068l-.03.008-.228.06-.07.017c-.273.066-.552.12-.835.16l-.12.017-.185.022-.108.011-.16.014-.143.01a6.961 6.961 0 01-.204.01l-.062.003A10.34 10.34 0 0112 21h-.005l-.26-.004-.04-.001L12 21a8.95 8.95 0 01-.367-.007l-.204-.01-.144-.011-.16-.014-.106-.01-.186-.023-.12-.016a9.206 9.206 0 01-.836-.16l-.069-.018-.228-.06-.03-.008-.225-.067-.095-.03a9.838 9.838 0 01-.507-.181l-.121-.049-.13-.054-.095-.04-.197-.09-.043-.02c-.07-.034-.14-.068-.208-.103L7.874 20a5.937 5.937 0 01-.176-.094l-.064-.035-.033-.018a9.224 9.224 0 01-.604-.372c-.017-.01-.033-.022-.05-.033l-.124-.086-.12-.086-.107-.08c-.044-.032-.087-.066-.13-.1l-.076-.059-.15-.123c-.034-.027-.066-.055-.099-.083a9.688 9.688 0 01-.638-.603l-.116-.124-.073-.08a9.609 9.609 0 01-.347-.409l-.045-.057A9 9 0 0112 3zm0 13c-2.82 0-4.978.519-5.94 1.36A7.985 7.985 0 0012 20c2.302 0 4.44-.978 5.94-2.64C16.978 16.518 14.82 16 12 16zm0-12a8 8 0 00-6.561 12.578C6.742 15.472 9.253 15 12 15s5.258.472 6.562 1.577A8 8 0 0012 4zm0 2.5a3.75 3.75 0 110 7.5 3.75 3.75 0 010-7.5zm0 1a2.75 2.75 0 100 5.5 2.75 2.75 0 000-5.5z",fill:"currentColor"});function _(e){return r.createElement("svg",b({width:24,height:24},e),g)}n.p;var y=n("RU3q"),O=n("9qUF"),j=n("Ku9o"),w=n("faDx"),E=n("xlpU");function k(e){var t=e.onSearchResultSelected,n=e.keyMap,i=Object(a.f)().inputValue.trim(),l=0===i.length?Object.keys(n).sort((function(e){return"OPEN_QUICK_ADD"===e?-1:1})):o(i,n),u=null==l?void 0:l.filter((function(e){return"OPEN_COMMAND_MENU"!==e}));return r.createElement(r.Fragment,null,null==u?void 0:u.map((function(e,o){return r.createElement(a.c,{value:e,key:"shortcut-option-".concat(o),onClick:function(n){return t(e,n)}},r.createElement(D,{result:e,keySequence:n[e]}))})),(null==u?void 0:u.length)?null:r.createElement("p",{className:s.a.emptyMessage},Object(c.a)("No results. Try something else like \u201cInbox\u201d.")))}function D(e){var t=e.result,n=e.keySequence;return r.createElement("span",{className:s.a.result},r.createElement("div",{className:s.a.results_icon_container,"data-icon-type":"".concat(t.toLowerCase(),"_icon"),"aria-hidden":!0},function(e){switch(e){case"GO_TO_HOME_VIEW":return r.createElement(u.S,null);case"GO_TO_INBOX":return r.createElement(u.T,null);case"GO_TO_TEAM_INBOX":return r.createElement(u.dc,null);case"GO_TO_TODAY":return r.createElement(u.fc,null);case"GO_TO_UPCOMING":return r.createElement(v.a,null);case"GO_TO_LABELS":return r.createElement(u.Y,null);case"GO_TO_PROJECTS":return r.createElement(p,null);case"GO_TO_SECTION":return r.createElement(h.a,null);case"OPEN_QUICK_ADD":return r.createElement(u.Hb,null);case"OPEN_QUICK_FIND":return r.createElement(u.Vb,null);case"OPEN_NOTIFICATIONS":return r.createElement(u.tb,null);case"OPEN_USER_MENU":return r.createElement(_,null);case"OPEN_HELP_MENU":return r.createElement(u.Q,null);case"OPEN_PRODUCTIVITY_MENU":return r.createElement(d.a,{vacationMode:!1,progress:0,outline:!0});case"OPEN_SETTINGS":return r.createElement(u.Wb,null);case"OPEN_THEMES":return r.createElement(u.ec,null);case"OPEN_ACTIVITY_LOG":return r.createElement(u.a,null);case"TOGGLE_LEFT_MENU":return r.createElement(u.N,null);case"PROJECT_VIEW_SHARE_PROJECT":return r.createElement(u.Bb,null);case"PROJECT_VIEW_OPEN_PROJECT_ACTIONS":return r.createElement(u.kb,null);case"UPCOMING_VIEW_GO_TO_TODAY":return r.createElement(y.a,null);case"UPCOMING_VIEW_OPEN_MONTH_PICKER":return r.createElement(O.a,null);case"UPCOMING_VIEW_PREVIOUS_WEEK":return r.createElement(j.a,null);case"UPCOMING_VIEW_NEXT_WEEK":return r.createElement(w.a,null);case"TASK_ACTIONS_EDIT_TASK":return r.createElement(u.F,null);case"TASK_ACTIONS_COMPLETE_TASK":return r.createElement(u.s,null);case"TASK_ACTIONS_OPEN_TASK_VIEW":return r.createElement(u.mc,null);case"TASK_ACTIONS_COPY_LINK_TO_TASK":return r.createElement(u.db,null);case"TASK_ACTIONS_SET_PRIORITY_LEVEL_1":return r.createElement(u.Mb,{priority:4});case"TASK_ACTIONS_SET_PRIORITY_LEVEL_2":return r.createElement(u.Mb,{priority:3});case"TASK_ACTIONS_SET_PRIORITY_LEVEL_3":return r.createElement(u.Mb,{priority:2});case"TASK_ACTIONS_SET_PRIORITY_LEVEL_4":return r.createElement(u.Mb,{priority:1});case"TASK_ACTIONS_ASSIGN_TASK":return r.createElement(u.j,null);case"TASK_ACTIONS_OPEN_TASK_IN_PROJECT":return r.createElement(p,null);case"TASK_ACTIONS_OPEN_TASK_ACTIONS_MENU":return r.createElement(u.lb,null);case"TASK_ACTIONS_SCHEDULE_TASK":return r.createElement(O.a,null);case"TASK_ACTIONS_REMOVE_DUE_DATE":return r.createElement(u.v,null);case"TASK_ACTIONS_CHANGE_PROJECT":return r.createElement(u.Pb,null);case"TASK_ACTIONS_CHANGE_PRIORITY":return r.createElement(u.Mb,{priority:1});case"TASK_ACTIONS_CHANGE_LABELS":return r.createElement(u.Y,null);case"TASK_ACTIONS_COMMENT_ON_TASK":return r.createElement(u.ob,null);case"TASK_DETAIL_VIEW_GO_TO_SUBTASKS":return r.createElement(E.a,null);case"TASK_DETAIL_VIEW_GO_TO_COMMENTS":return r.createElement(u.ob,null);case"TASK_DETAIL_VIEW_GO_TO_ACTIVITY":return r.createElement(u.a,null);default:return""}}(t)),n.name,r.createElement("div",{className:s.a.results_sequences_container},r.createElement(i.a,{actionName:t,sequences:n.sequences})))}},"3eY4":function(e,t,n){},"3vOc":function(e,t,n){e.exports=n.p+"assets/images/c7fb7235a31788a7a73256e93034acbd.png"},"4PH6":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return m}));var r=n("lSNA"),a=n.n(r),o=n("kbOS");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l="NOTIFY_ADD_TO_PROJECT",s=function(){return{type:"UNDO_CLEAR"}},u=function(e){return{type:"UNDO_PUSH_MESSAGE",payload:e}},d=function(e,t){return function(n,r){var a=Object(o.e)(r(),t);n({type:l,payload:{itemID:e,project:a}})}},f=function(e,t){var n=c({createdAt:new Date},e);return c(c({},t),{},{undo:n})},m=function(e,t){var n={createdAt:new Date,message:e};return c(c({},t),{},{undo:n})};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UNDO_CLEAR":return null;case"UNDO_PUSH_MESSAGE":return{createdAt:new Date,message:t.payload};case l:return c({type:t.type,createdAt:new Date},t.payload);default:return e}}},"4eld":function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),l=n.n(c),s=n("17x9"),u=n.n(s),d=n("BsTD"),f=n("/gRr"),m=n("in4X"),p=l.a.forwardRef((function(e,t){var n=e.children,r=e.className,o=e.disabled,s=void 0!==o&&o,u=e.onClick,p=e.title,h=e.type,v=void 0===h?"button":h,b=e.as,g=void 0===b?"button":b,_=e.tooltipProps,y=void 0===_?{}:_,O=e.shortcut,j=e.blurPreviousFocus,w=void 0===j||j,E=i()(e,["children","className","disabled","onClick","title","type","as","tooltipProps","shortcut","blurPreviousFocus"]),k=Object(c.useRef)(null),D=Object(d.a)([t,k]);"submit"===v&&"button"!==g&&(console.warn('A custom button element cannot have type="submit"'),g="button");var C="button"!==g,S=C&&null!=u?function(e){var t=Object(f.a)(e);e.target!==k.current||" "!==t&&"Enter"!==t||u(e),E.onKeyPress&&E.onKeyPress(e)}:E.onKeyPress;var I=C?{role:"button",tabIndex:0}:{type:v,disabled:s},T=g,A=l.a.createElement(T,a()({},I,E,{ref:D,onClick:s?void 0:u,onKeyPress:s?void 0:S,onMouseDown:s?void 0:function(e){e.preventDefault(),document.activeElement&&document.activeElement instanceof HTMLElement&&w&&document.activeElement.blur(),E.onMouseDown&&E.onMouseDown(e)},className:r,"aria-disabled":s?"true":void 0}),n);return p&&!s?l.a.createElement(m.b,a()({label:O?l.a.createElement(m.a,{title:p,shortcut:O}):p},y),A):A}));p.propTypes={children:u.a.node,className:u.a.string,disabled:u.a.bool,onClick:u.a.func,title:u.a.node,type:u.a.oneOf(["submit","button"]),as:u.a.oneOf(["button","div","span","li","h1"]),shortcut:u.a.oneOfType([u.a.oneOf([null]),m.a.propTypes.shortcut]),tooltipProps:u.a.object,onKeyPress:u.a.func,onMouseDown:u.a.func,blurPreviousFocus:u.a.bool},t.a=p},"4rXO":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=null!="".normalize;function a(e,t){e=e.toLowerCase(),t=t.toLowerCase();var n,a=(n=t,r?n.normalize("NFD").replace(/[\u0300-\u036e\u1dc0-\u1dfe\u20d0-\u20fe\ufe20-\ufe2e\u3099-\u309a]+/g,""):n),o=t.indexOf(e),i=a.indexOf(e);return-1!==o?o:-1!==i?i:-1}},"4vAh":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),a=n.n(r);function o(){return a.a.createElement("svg",{width:"24",height:"24"},a.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M6.355 17.438a7.5 7.5 0 1 1 11.29 0l1.709 1.708a.5.5 0 0 1-.708.708l-1.708-1.709A7.471 7.471 0 0 1 12 20c-1.891 0-3.619-.7-4.938-1.855l-1.708 1.709a.5.5 0 0 1-.708-.708l1.709-1.708zM12 19a6.5 6.5 0 1 0 0-13 6.5 6.5 0 0 0 0 13zm0-7h2.5a.5.5 0 1 1 0 1h-3a.5.5 0 0 1-.5-.5V8a.5.5 0 1 1 1 0v4zm4.604-6.896a.5.5 0 0 1-.708-.708l.336-.335a2.5 2.5 0 0 1 3.536 0l.671.671a2.5 2.5 0 0 1 0 3.536l-.335.336a.5.5 0 0 1-.708-.708l.336-.335a1.5 1.5 0 0 0 0-2.122l-.671-.671a1.5 1.5 0 0 0-2.122 0l-.335.336zM4.605 7.898a.5.5 0 0 1-.707.707l-.337-.337a2.5 2.5 0 0 1 0-3.536l.671-.671a2.5 2.5 0 0 1 3.536 0l.337.337a.5.5 0 0 1-.707.707l-.337-.337a1.5 1.5 0 0 0-2.122 0l-.671.671a1.5 1.5 0 0 0 0 2.122l.337.337z"}))}},"563Y":function(e,t,n){},"5G4A":function(e,t,n){e.exports={componentBox:"vtUefe4jUdL1dFdWlb25t","position-absolute":"_1FdhLWcBBZnfQCEqWlqnmS","position-fixed":"_1dxc4eiqazgwC_k4Tcw60K","position-relative":"_3eWuTXS3Gfbw3Q84fNH3fG","position-sticky":"rRGabifu75cmoX48_2NkL","display-block":"_2q7A1e3jddgAxzMbXSeYsv","display-flex":"_2cyg4g2jAvJOn4ymBIgoN9","display-inline":"_2haGxX23NaRZ9NMVnnUMUK","display-inlineBlock":"_1ozmAbcjDkPSkFV1oc1se1","display-none":"jFre8WzyInXcXXN-ZWCEn","tablet-display-block":"_3G-KSbmYwfM5sNtl6P__rK","tablet-display-flex":"_2XIs1R_PXku_PTkvjWwwac","tablet-display-inline":"_5RXgzofQWfTNnL8bReSU_","tablet-display-inlineBlock":"_2PT7g2qFWmvqyNWYa8SnfE","tablet-display-none":"_3QYGkW-bAXgmDdw7DjVUUa","desktop-display-block":"_1uoiKI2uDUrDx6WrTWhHA9","desktop-display-flex":"_1KRP-Mu_ffQMkjtyboY_5F","desktop-display-inline":"_37isll5JSmR2P5yot6IK2g","desktop-display-inlineBlock":"GqGj-2P6Yq5ZRLGJUR9ex","desktop-display-none":"_2nf8LcRyVBG7NaoZaC5Z-h","minWidth-0":"_3BdCu85uF9wnQ_P_L-mYQg","minWidth-xsmall":"_3tFq23cfU-I3hPy9fCk8TB","minWidth-small":"_3QqOlWg_LXNhTMua8GnAYz","minWidth-medium":"_2wn8L3aj-2V3wjATM00pbo","minWidth-large":"_17pCSZvKAEEZD8Te3bkRgC","minWidth-xlarge":"_3bPTuH8W0KqAAveD02fK_6","maxWidth-xsmall":"fpYL1n1XcJX3SipMa40-K","maxWidth-small":"_3DrkY9HbeWWTYAe1s3e6XR","maxWidth-medium":"_3bVEoc6tAJqnd57pUYqRdK","maxWidth-large":"_3e4baf4lfz5y11rv6Ts-wJ","maxWidth-xlarge":"_1aMJS4vD3V_mp4icu93E7J","flexDirection-column":"_3PwxXH4VKldNCpqm4OWLWY","flexDirection-row":"GVjfcqu65G6jYtj7c-hkf","tablet-flexDirection-column":"_2FNKA0sxajB6foCqUGLRVa","tablet-flexDirection-row":"_3ioCkCfhsyF7buCmNTdTWO","desktop-flexDirection-column":"_3oyclcX7dzW-EfnJzJzbkW","desktop-flexDirection-row":"_1zVR2VEy5zcwgLizOKgpUA","flexWrap-wrap":"APHHjqgRsXjslSMRAWVsy","flexWrap-nowrap":"_3-L71zN60dT5wkHr7V5kU5","flexShrink-0":"_1mHWPf6OGiJXFqg5XPJ-cL","flexGrow-0":"KdL9z6vJQYYYqOPYbm9P9","flexGrow-1":"_1cFRyPz16IZ9hReRBXFL2_","alignItems-flexStart":"_17EDOi2GCoexCzNSoXE_qv","alignItems-center":"_2ZqAiNfL06IJ_21CNpxYJD","alignItems-flexEnd":"_3Cm_cRsBvheElSXoy6M96E","tablet-alignItems-flexStart":"_3WczBeG0Cu3g5jHybAAYLy","tablet-alignItems-center":"_2mlmXWEG0rJ6oTNqHc8Z5T","tablet-alignItems-flexEnd":"T3IW_Nq8Zjyy-65W4XkeM","desktop-alignItems-flexStart":"_12m-UbzPPU8zhOqPcRsCTK","desktop-alignItems-center":"_1XU5prQksf79O2YcReDJCp","desktop-alignItems-flexEnd":"rZaWepijUiujCMXOoqYqs","justifyContent-flexStart":"QhdJvSUEi5PPhsL6RBcyM","justifyContent-center":"_2avrDMUvEXX-pVxqwfeqnH","justifyContent-flexEnd":"bvnCyuGaERKU27kPEdBku","justifyContent-spaceBetween":"_2HXwWIgXmcj2rqoh9wxfCb","tablet-justifyContent-flexStart":"_1squqCXyGSrsInHs2nKp3S","tablet-justifyContent-center":"r6YTs3Tye3L4YIix-bgn7","tablet-justifyContent-flexEnd":"GHrV13vnI0q3eSp7-slvw","tablet-justifyContent-spaceBetween":"_1kg99nBZUVSUToHLVg3L9g","desktop-justifyContent-flexStart":"_2L7-1fY-pAfy-90SCCU3yO","desktop-justifyContent-center":"_1_bQVHB5ODjd9OTV2W19mo","desktop-justifyContent-flexEnd":"_3xWaAhlGRkMidbR4gIVAR_","desktop-justifyContent-spaceBetween":"JSG7-IoEpsiBFbrz8ylrE","overflow-hidden":"_362eOdjHdqk1bwBdJ-NGZp","overflow-auto":"_1_ao7Vs2wFMlaD60bbe7SU","overflow-visible":"_3p5OlQYILFgJftAcTmeCHM","overflow-scroll":"_16FP6PfqM_4VYkxD7FmJlC","width-full":"_32PL4Nv-sdmWnl1PT7FUoa","width-auto":"yCPSPD7q7XkMP5Srsu2Qr","height-full":"W4QQgVP-4RU4rM2lxre2q","height-auto":"W79_BlpedYwKgXdfzMkxr","paddingTop-xsmall":"_2pAyMoWotU2d5uD3oydtq1","paddingTop-small":"_93pkeyYM37adaglJuzcnt","paddingTop-medium":"_36ltRzasQvRdLkxM_hJlNh","paddingTop-large":"_3nFsZuXNWotHTmDKV_0_Ei","paddingTop-xlarge":"_2U_AfsRjzOfcfddATZsKzw","tablet-paddingTop-xsmall":"_2dEQ1DSgmA_ic_m6IrbWvr","tablet-paddingTop-small":"TZBwIl_1H22hw002BriUy","tablet-paddingTop-medium":"_1aZFySTj8g0VavyYxyRV99","tablet-paddingTop-large":"_10IRABqnK0068PDnjD4hqr","tablet-paddingTop-xlarge":"Ubsn7clTGbVRXGYiwNJ6m","desktop-paddingTop-xsmall":"_2pBY1Dvg0UCNeTT85kF-5W","desktop-paddingTop-small":"_3aaAHXyOS1Pk825tP4vJgg","desktop-paddingTop-medium":"_6c6LoKW3mPE1hKQPk6dV","desktop-paddingTop-large":"_3MnW7IICJDw5n2qk3e1sQN","desktop-paddingTop-xlarge":"_1qojYA0lK0DXm8Gs31CqP2","paddingRight-xsmall":"_39G3Yqh39Y7FOwa6MVlwfq","paddingRight-small":"FvxZxjRNX4ZoLkI9n4Wbt","paddingRight-medium":"_2aMrt0S_LNqoDilRYxDjPf","paddingRight-large":"_3BKQqk0LV3yDk-nVN_sfxX","paddingRight-xlarge":"_26AFRtuiADa5NhVmC6XsIY","tablet-paddingRight-xsmall":"_2_vgqQFOuUx1jmI2MyO8Tg","tablet-paddingRight-small":"_1mv5qkXpBhNuAm-R9tnZri","tablet-paddingRight-medium":"_1TA6Oc0U7vIHyLy-MBut_X","tablet-paddingRight-large":"_3GWe6o5BWezroAA1GcDnmC","tablet-paddingRight-xlarge":"zjueFyXIoQzPLVDjzYKp5","desktop-paddingRight-xsmall":"XYx74PFZIBDlWdoExhEFk","desktop-paddingRight-small":"_2hPZCVUwZYKUD5mpD_HFUe","desktop-paddingRight-medium":"_2SL7DPmj4OhN-I7FD6gaR8","desktop-paddingRight-large":"_1KKOMF4qxyGbPUuJ7Yt6x3","desktop-paddingRight-xlarge":"_12EYfrkEfH9o6Za9Y2pF82","paddingBottom-xsmall":"_2U7tOiFlim1W5xFVUd93YP","paddingBottom-small":"_3IiXDbSAmp4PO89jwIPkJX","paddingBottom-medium":"_1dk8JyJ9xcBepgFEdyX3Ds","paddingBottom-large":"I506nt82XWYt74VU0D3qk","paddingBottom-xlarge":"_2GgtvgRhe5oYtWXLfoyqmg","tablet-paddingBottom-xsmall":"_31DWz9ez-LhyKd8kWTtbkf","tablet-paddingBottom-small":"_1xaOwSdkhbSMFY6iMZR7u8","tablet-paddingBottom-medium":"_2rqSLXuidiUX5MKaxjInIS","tablet-paddingBottom-large":"_3tcWr7NBqD7DC8gDfgwNch","tablet-paddingBottom-xlarge":"UVJbIPWESgjPdDRlcPBcC","desktop-paddingBottom-xsmall":"_29jOBw3N-EB0UFN8L9ynmF","desktop-paddingBottom-small":"_27GK024CpdjJebu_zJScDu","desktop-paddingBottom-medium":"_3XjvvW5q0VNoIG_TsP2oiG","desktop-paddingBottom-large":"_2yr0cOd7LMmh3l_THjf9lf","desktop-paddingBottom-xlarge":"_2ZrC62TgB6euJfxxEl3vAz","paddingLeft-xsmall":"_2aO8Yv4x3SVm_mC_M-pHVD","paddingLeft-small":"ToEEs6eDDwCLmyFEtbLot","paddingLeft-medium":"_3CGxkHJNIayEi3YYE2-op-","paddingLeft-large":"_2p-0Jc5Fag74yJHG-NAYKb","paddingLeft-xlarge":"_6pcXL1GOVxURW_KERF4TL","tablet-paddingLeft-xsmall":"_1-fl7ftEuBToz7Cyv03AR-","tablet-paddingLeft-small":"_1MLhztxugEkiiWZTexK5Op","tablet-paddingLeft-medium":"_3_BBWovFYq-EY_CBwHeUkR","tablet-paddingLeft-large":"_3KPlLG-Uy6KIRB-4qSvOf-","tablet-paddingLeft-xlarge":"_29jmatdNVfpHpU885mV83u","desktop-paddingLeft-xsmall":"_3dO22f3240fVlROg9N4PdJ","desktop-paddingLeft-small":"_2eksMkx5H6j37s_u8vGcj1","desktop-paddingLeft-medium":"_1Zi0FldtypyDwSUp2t6ybX","desktop-paddingLeft-large":"JTWhpimAKjaGIUImKgCiv","desktop-paddingLeft-xlarge":"_3L_gCPH74wmJR9ixnuvPHB","bg-default":"_1lxzai3_EoK4X7hMO6B0yc","bg-aside":"_2aexOtHfzUsOVE-A2GDDsU","bg-highlight":"_1gJPtPechpx8bwYdjIOTyK","bg-selected":"An-rDk5qka-HkrpfsGcsT","borderRadius-standard":"_2JUMm9v17kIVW2pqLakP7n","borderRadius-full":"_1Tz4DUZMX6iObtzicSBhJT","border-standard":"_109dHHPfKdoKVArBtEEGfq",componentStack:"_3VY1qt2lyK-PiSM89jHM3z","space-xsmall":"xjveSKuqDCANO9f8cghjQ","space-small":"_33Jg-ZaaomUCgwvp_IaQbc","space-medium":"qg7BeKQxseZa2NDWtNXwx","space-large":"_1W9dSRd2lFLpq-XFy9a2J5","space-xlarge":"_2df-B5lBt7mHEJ9bUYpn2G","tablet-space-xsmall":"_1JuxWVD4Uut-it0AhKnDth","tablet-space-small":"_2GlQgdTsFxxKJwsY3JLJ9w","tablet-space-medium":"_3Fyxx_IR5e1t_VAV_RYswC","tablet-space-large":"w72mRlepwGGaJ2LtPZQB6","tablet-space-xlarge":"_210lEpXm3ymCUy5ekfv3KK","desktop-space-xsmall":"_23yre1MZLSlAzTPs5pkr0C","desktop-space-small":"VXecHv1B2D8pWgmhdSJ9h","desktop-space-medium":"_3ffCmYLlBc-KH45F6KIVJG","desktop-space-large":"_2u5GoAQ22kweFJUTwWsd1b","desktop-space-xlarge":"_2EFQYAXA9sXOfbarMTh4x9",componentColumns:"_3G4doiXhhI0zNRyMX8gFZt",componentColumn:"_1Jed6408gHZyESjeGtJnZN","columnWidth-auto":"_3AVkHQTSR--8i0OAHBzXId","columnWidth-1-2":"_1FJ5TQ-ivH-KG27t6Fy0Uc","columnWidth-1-3":"_26VhftZnC1x8PAnC4-jKQG","columnWidth-2-3":"_24-rtzJDB7mqYwd5r-fP8F","columnWidth-1-4":"_1UlFGCDYsdt02NKHy735ur","columnWidth-3-4":"_3iG0pZKS71SrYb1m4DxSs0","columnWidth-1-5":"_1AXbC4U7RseUcn-CplYi5i","columnWidth-2-5":"_1fz6lrRjdZ05EPGYC3LN5Y","columnWidth-3-5":"_3Iy8NgX6Tj-i1hOzu-6NkM","columnWidth-4-5":"_3KPHp1juegIl7LQ_WBF75i",componentDivider:"KTcuUi9-Vft44LuMEE0TV","dividerWeight-strong":"_1H0rYUSCKwCuYhR0JvMkd4",componentInline:"cni6qTNfZ2VIvztib-wuN",componentHeading:"iK105KHf72VL07HymI_HD","weight-light":"_1tUx50p_vmYu6nYDr_r9Er","size-larger":"_2rhDb2GQLABVgx7Y9gNCi0","size-smaller":"_3rruG9i8qMAx3dNj4xTO2d",componentText:"S5rZeckYgARPwE-_ThcZ6","size-xsmall":"_1olaX7dmDTCi4BBoSsIfjM","size-small":"_1Yj_CY8z7XpxG9tMfvBvXR","size-large":"_32kIO52sgIakRhnvZd3_dD","size-xlarge":"V4t0sHdZgw8NnFO_JOvZ5","weight-medium":"_6fQCMEAoU88QWOqGsDCf3","weight-strong":"_2WZsbX3HK5ixala3gdkhw_","tone-secondary":"_2TY4VMBxHq1nZUhMYcU3BC","tone-danger":"_3vTYIH6JkLKPY-4UsI38KA",truncateText:"_3f5Yfx9U9ffLXrMMJIkRdP",componentTextLink:"i5b0D-AEZ2RdvmNvAqQOB",componentAlert:"_2j68HvuVm79IZW4rj-Ug44","tone-info":"_2sSyPK8YsJT3b6PnfPDpxn","tone-positive":"_1aWpgRTulJyhfmXZDt8LFK","tone-caution":"_10cqeLvS1sLS0PE4AvJ1wP","tone-critical":"_3mXRYbKBsvR8Cq2qZeil6b",componentNotice:"_36DrY1CEes-97GCpuoFnuV",fieldHint:"_3eDDcogUBdTHcDQt9d-X4e",componentBaseField:"EAiMPYh6e_cTvkEdZDEZr",primaryLabel:"_3Yk_RHOGTCisb-eWZBVqJy",secondaryLabel:"_1HuX-thvTHi9l4JzNev3t_",auxiliaryLabel:"_1pbBggr-Y1tlvJhNaoVJJV",componentTextField:"_5oo2hQVIlDmYYt3ycOjEo",inputWrapper:"_3F4iK1zrc8WuSu7bwJtRIV",componentPasswordField:"_3QBYRKwpCyPStNB1qQZiDb",componentTextArea:"_2noSC_NMHIHZkpx9kEyNI4",componentSelectField:"_2rbWVt5t_TvaIeLLSRg3C4",selectWrapper:"_37cZ4xxCEvw9fEqaXXhUxS",componentSwitchField:"_2KdFnMm64yP5A2M8h4QRx5",switchDisabled:"_31henxB3Tqq7ZGD_pTSaa6",componentButtonLink:"_2WcBMC0hM9wdGanOLiSDfy"}},"5GVm":function(e,t,n){"use strict";n.d(t,"e",(function(){return j})),n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return D})),n.d(t,"f",(function(){return C}));var r=n("J4zp"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("OljV"),l=n("bt/X"),s=n.n(l),u=n("duPW"),d=n.n(u),f=n("Gjrf"),m=n.n(f),p=n("3/82"),h=n("DoMW"),v=n("VKKv"),b=n("HFim"),g=n("/lEg");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=e.directChildren,n=e.type,r=e.item,a=e.itemId,o=e.completed,i=e.completedNumber,l=void 0===i?0:i,s=e.dateCompleted,u=void 0===s?Object(c.a)(new Date,{toUTC:!0}):s,d=e.state,f={item:y(y({},Object(v.b)(r)),{},{date_completed:u,checked:1}),completed:Object(p.d)([{item_id:r.id,completed_items:l+t.length}])},h=o[n][a],b=h&&h.completedItems||[];if("sections"===n&&"number"==typeof r.id){var _=r.id;b=b.filter((function(e){return e.item.id!==Object(g.b)(_,d)}))}var O=[f].concat(b);return y(y({},h),{},{completedItems:m()((function(e){return e.item.id}),O)})}function j(e,t){var n=D(t),r=n.itemId,a=n.type,o=d()("".concat(a,".").concat(r,".completedItems"),e);return o&&0!==o.length?y(y({},e),{},i()({},a,y(y({},e[a]),{},i()({},r,y(y({},e[a][r]),{},{completedItems:o.filter((function(e){return e.item.id!==t.id}))}))))):e}function w(e,t){var n,r,a,o,i,c;return t.parent_id?(null===(n=e.items[t.parent_id])||void 0===n||null===(r=n.completedItems)||void 0===r?void 0:r.some((function(e){return e.item.id===t.id})))||!1:t.section_id?(null===(a=e.sections[t.section_id])||void 0===a||null===(o=a.completedItems)||void 0===o?void 0:o.some((function(e){return e.item.id===t.id})))||!1:t.project_id&&(null===(i=e.projects[t.project_id])||void 0===i||null===(c=i.completedItems)||void 0===c?void 0:c.some((function(e){return e.item.id===t.id})))||!1}function E(e){var t=e.item,n=e.childTasks,r=e.completed,a=e.completedItems,o=e.dateCompleted,c=e.state,l=s()(n,"parent_id"),u=D(t),d=u.itemId,f=u.type,m=l[t.id]||[],p=r.items[t.id],h=O({directChildren:m,type:f,item:t,itemId:d,completed:a,completedNumber:p&&p.completed_items||0,dateCompleted:o,state:c}),v=y(y({},a),{},i()({},f,y(y({},a[f]),{},i()({},d,h)))),b=y(y({},v),{},{items:y(y({},v.items),{},i()({},t.id,y(y({},v.items[t.id]),{},{collapsed:void 0===t.collapsed?1:t.collapsed})))});return n.slice().reverse().reduce((function(e,t){var n,a=t.parent_id;if(!a)return e;var s=l[t.id]||[],u=r.items[t.id],d=O({directChildren:s,item:t,type:"items",itemId:a,completed:e,completedNumber:u&&u.completed_items||0,dateCompleted:o,state:c});return y(y({},e),{},{items:y(y({},e.items),{},(n={},i()(n,t.id,y(y({},e.items[t.id]),{},{collapsed:void 0===t.collapsed?1:t.collapsed})),i()(n,a,d),n))})}),b)}function k(e,t){if("project_id"in e)return{project_id:e.project_id};if("section_id"in e){var n,r,a,o=null!==(n=t.sections[e.section_id])&&void 0!==n?n:null===(r=Object(b.b)(t,{id:e.section_id}))||void 0===r?void 0:r.section;return{section_id:null!==(a=null==o?void 0:o.remote_id)&&void 0!==a?a:e.section_id}}return{parent_id:e.item_id}}function D(e){var t=e.parent_id||e.section_id||e.project_id,n="projects";return e.parent_id?n="items":e.section_id&&(n="sections"),{itemId:t,type:n}}function C(e,t){return Object.entries(e).reduce((function(e,n){var r,o,c=a()(n,2),l=c[0],s=c[1],u=null!==(r=t[l])&&void 0!==r?r:l,d=null===(o=s.completedItems)||void 0===o?void 0:o.map((function(e){var n;return y(y({},e),{},{item:y(y({},e.item),{},{id:t[e.item.id]||e.item.id,parent_id:e.item.parent_id?null!==(n=t[e.item.parent_id])&&void 0!==n?n:e.item.parent_id:null}),completed:y(y({},e.completed),{},{items:Object(h.a)(Object.entries(e.completed.items).map((function(e){var n,r,o=a()(e,2),i=o[0];return y(y({},o[1]),{},{id:null!==(n=t[i])&&void 0!==n?n:i,item_id:null!==(r=t[i])&&void 0!==r?r:i})})))})})}));return y(y({},e),{},i()({},u,y(y({},s),{},{completedItems:d})))}),{})}},"5IEK":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("pVnL"),a=n.n(r),o=n("q1tI");function i(e){return o.createElement("svg",a()({width:"24",height:"24",viewBox:"0 0 24 24"},e),o.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M5.914 11.086l4.5-4.5A2 2 0 0 1 11.828 6H16a2 2 0 0 1 2 2v4.172a2 2 0 0 1-.586 1.414l-4.5 4.5a2 2 0 0 1-2.828 0l-4.172-4.172a2 2 0 0 1 0-2.828zM14 11a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}))}},"5alK":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{fill:"currentColor",d:"M12 6c3.052 0 5.5 2.448 5.5 5.5 0 1.32-.393 2.274-1.266 3.562l-.425.615c-.588.856-.891 1.411-1.078 2.02l-.468 2.338a1.2 1.2 0 01-1.177.965h-2.172a1.2 1.2 0 01-1.177-.965l-.458-2.291c-.21-.68-.512-1.23-1.088-2.067l-.425-.615C6.893 13.774 6.5 12.819 6.5 11.5 6.5 8.448 8.948 6 12 6zm1.65 12h-3.3l.368 1.84a.2.2 0 00.196.16h2.172a.2.2 0 00.196-.16L13.65 18zM12 7c-2.5 0-4.5 2-4.5 4.5 0 2.326 1.73 3.353 2.576 5.498h3.848c.845-2.145 2.576-3.172 2.576-5.498C16.5 9 14.5 7 12 7zm7.582 7.1l1.848.765a.5.5 0 11-.383.924l-1.847-.766a.5.5 0 01.382-.923zm-14.511.27a.5.5 0 01-.27.653l-1.848.766a.5.5 0 01-.383-.924l1.848-.765a.5.5 0 01.653.27zM21.7 7.482a.5.5 0 01-.27.653l-1.849.765a.5.5 0 01-.382-.923l1.847-.766a.5.5 0 01.654.27zm-18.748-.27l1.847.765a.5.5 0 01-.382.923L2.57 8.135a.5.5 0 11.383-.924zm13.065-5.413a.5.5 0 01.27.654L15.524 4.3a.5.5 0 01-.923-.382l.765-1.848a.5.5 0 01.653-.27zm-7.383.27l.766 1.85a.5.5 0 01-.923.382L7.71 2.453a.5.5 0 11.924-.383z"});function i(e){return r.createElement("svg",a({width:24,height:24},e),o)}n.p},"5hR1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{fill:"currentColor",d:"M18 4a2 2 0 012 2v6.172c0 .53-.21 1.039-.586 1.414l-6.5 6.5c-.78.78-2.047.78-2.828 0l-6.172-6.172a2.001 2.001 0 010-2.828l6.5-6.5A1.998 1.998 0 0111.828 4H18zm0 1h-6.172a.997.997 0 00-.707.293l-6.5 6.5a1 1 0 000 1.414l6.172 6.172a1 1 0 001.414 0l6.5-6.5a1 1 0 00.293-.707V6a1 1 0 00-1-1zm-3.25 3a1.25 1.25 0 110 2.5 1.25 1.25 0 010-2.5z"});function i(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24"},e),o)}n.p},"6O1D":function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return E.a})),n.d(t,"c",(function(){return E.b})),n.d(t,"d",(function(){return x})),n.d(t,"f",(function(){return K})),n.d(t,"g",(function(){return J})),n.d(t,"e",(function(){return Q})),n.d(t,"h",(function(){return Z}));n("Pp/T"),n("3SZs"),n("TPQe");var r=n("lSNA"),a=n.n(r),o=n("J4zp"),i=n.n(o),c=n("q1tI"),l=n.n(c),s=n("17x9"),u=n.n(s),d=n("lGOm"),f=n("Vbab"),m={OPEN_QUICK_ADD:{name:Object(f.a)("Open Quick Add"),sequence:"q",action:"keypress"},GO_TO_HOME_VIEW:{name:Object(f.a)("Go to home view"),sequence:"h",action:"keypress"},GO_TO_INBOX:{name:Object(f.a)("Go to Inbox"),sequence:"g i",action:"keypress"},GO_TO_TEAM_INBOX:{name:Object(f.a)("Go to Team Inbox"),sequence:"g shift+i",action:"keypress"},GO_TO_TODAY:{name:Object(f.a)("Go to Today"),sequence:"g t",action:"keypress"},GO_TO_UPCOMING:{name:Object(f.a)("Go to Upcoming"),sequence:"g u",action:"keypress"},GO_TO_LABELS:{name:Object(f.a)("Go to labels"),sequence:"g l",action:"keyup"},GO_TO_PROJECTS:{name:Object(f.a)("Go to projects"),sequence:"g p",action:"keyup"},GO_TO_SECTION:{name:Object(f.a)("Go to sections"),sequence:"g /",action:"keydown"},OPEN_QUICK_FIND:{name:Object(f.a)("Open Quick Search"),sequence:"",sequences:["f","/"],action:"keyup"},OPEN_NOTIFICATIONS:{name:Object(f.a)("Open notifications"),sequence:"o n",action:"keypress"},OPEN_USER_MENU:{name:Object(f.a)("Open user menu"),sequence:"o u",action:"keypress"},OPEN_HELP_MENU:{name:Object(f.a)("Open help menu"),sequence:"o h",action:"keypress"},OPEN_PRODUCTIVITY_MENU:{name:Object(f.a)("Open productivity menu"),sequence:"o p",action:"keypress"},OPEN_SETTINGS:{name:Object(f.a)("Open settings"),sequence:"o s",action:"keypress"},OPEN_THEMES:{name:Object(f.a)("Open themes"),sequence:"o t",action:"keypress"},OPEN_ACTIVITY_LOG:{name:Object(f.a)("Open activity log"),sequence:"o a",action:"keypress"},OPEN_KEYBOARD_SHORTCUTS_MODAL:{name:Object(f.a)("Keyboard shortcuts"),sequence:"",sequences:["?","shift+?"],action:"keypress"},TOGGLE_LEFT_MENU:{name:Object(f.a)("Open or close menu"),sequence:"",sequences:["m"],action:"keypress"}},p={PROJECT_VIEW_SHARE_PROJECT:{name:Object(f.a)("Share project"),sequence:"shift+s",action:"keydown"},PROJECT_VIEW_OPEN_PROJECT_ACTIONS:{name:Object(f.a)("Open project actions menu"),sequence:"w",action:"keydown"}},h=n("AnGN"),v={TASK_ACTIONS_EDIT_TASK:{name:Object(f.a)("Edit task"),sequence:"e",action:"keydown"},TASK_ACTIONS_COMPLETE_TASK:{name:Object(f.a)("Complete task"),sequence:h.o?"cmd+enter":"ctrl+enter",action:"keydown"},TASK_ACTIONS_OPEN_TASK_VIEW:{name:Object(f.a)("Open task view"),sequence:"enter",action:"keydown"},TASK_ACTIONS_COPY_LINK_TO_TASK:{name:Object(f.a)("Copy link to task"),sequence:h.o?"shift+cmd+,":"shift+ctrl+,",action:"keydown"},TASK_ACTIONS_SET_PRIORITY_LEVEL_1:{name:Object(f.a)("Set priority level 1"),sequence:"1",action:"keydown"},TASK_ACTIONS_SET_PRIORITY_LEVEL_2:{name:Object(f.a)("Set priority level 2"),sequence:"2",action:"keydown"},TASK_ACTIONS_SET_PRIORITY_LEVEL_3:{name:Object(f.a)("Set priority level 3"),sequence:"3",action:"keydown"},TASK_ACTIONS_SET_PRIORITY_LEVEL_4:{name:Object(f.a)("Set priority level 4"),sequence:"4",action:"keydown"},TASK_ACTIONS_ASSIGN_TASK:{name:Object(f.a)("Assign task"),sequence:"shift+r",action:"keydown"},TASK_ACTIONS_OPEN_TASK_IN_PROJECT:{name:Object(f.a)("Go to project"),sequence:"shift+g",action:"keydown"},TASK_ACTIONS_EXPAND_OR_COLLAPSE_TASK:{name:Object(f.a)("Expand/collapse task"),sequence:"shift+e",action:"keydown"},TASK_ACTIONS_INCREASE_INDENT_TASK:{name:Object(f.a)("Increase indent"),sequence:h.o?"cmd+right":"ctrl+right",action:"keydown"},TASK_ACTIONS_DECREASE_INDENT_TASK:{name:Object(f.a)("Decrease indent"),sequence:h.o?"cmd+left":"ctrl+left",action:"keydown"},TASK_ACTIONS_OPEN_TASK_ACTIONS_MENU:{name:Object(f.a)("Open task actions menu"),sequence:".",action:"keydown"},TASK_ACTIONS_SCHEDULE_TASK:{name:Object(f.a)("Schedule task"),sequence:"t",action:"keydown"},TASK_ACTIONS_REMOVE_DUE_DATE:{name:Object(f.a)("Remove due date"),sequence:"shift+t",action:"keydown"},TASK_ACTIONS_CHANGE_PROJECT:{name:Object(f.a)("Move task"),sequence:"v",action:"keydown"},TASK_ACTIONS_CHANGE_PRIORITY:{name:Object(f.a)("Change priority"),sequence:"y",action:"keydown"},TASK_ACTIONS_CHANGE_LABELS:{name:Object(f.a)("Change label"),sequence:"l",action:"keydown"},TASK_ACTIONS_COMMENT_ON_TASK:{name:Object(f.a)("Comment on task"),sequence:"c",action:"keydown"}},b={TASK_ACTIONS_MOVE_FOCUS_TO_TASK_ABOVE:{name:Object(f.a)("Move focus to the previous task"),sequence:"",sequences:["up","k"],action:"keydown"},TASK_ACTIONS_MOVE_FOCUS_TO_TASK_BELOW:{name:Object(f.a)("Move focus to the next task"),sequence:"",sequences:["down","j"],action:"keydown"},TASK_ACTIONS_MOVE_FOCUS_TO_LEFT_COLUMN:{name:Object(f.a)("Move focus to the left"),sequence:"left",action:"keydown"},TASK_ACTIONS_MOVE_FOCUS_TO_RIGHT_COLUMN:{name:Object(f.a)("Move focus to the right"),sequence:"right",action:"keydown"}},g={TASK_DETAIL_VIEW_GO_TO_SUBTASKS:{name:Object(f.a)("Go to Sub-tasks tab of a task"),sequence:"alt+shift+s",action:"keydown"},TASK_DETAIL_VIEW_GO_TO_COMMENTS:{name:Object(f.a)("Go to Comments tab of a task"),sequence:"alt+shift+c",action:"keydown"},TASK_DETAIL_VIEW_GO_TO_ACTIVITY:{name:Object(f.a)("Go to Activity tab of a task"),sequence:"alt+shift+a",action:"keydown"}},_=h.o?"option":"alt",y={UPCOMING_VIEW_GO_TO_TODAY:{name:Object(f.a)('Go to Today in "Upcoming"'),sequence:"".concat(_,"+shift+y"),action:"keydown"},UPCOMING_VIEW_OPEN_MONTH_PICKER:{name:Object(f.a)("Open month picker"),sequence:"o m",action:"keydown"},UPCOMING_VIEW_PREVIOUS_WEEK:{name:Object(f.a)("Previous week"),sequence:"shift+left",action:"keydown"},UPCOMING_VIEW_NEXT_WEEK:{name:Object(f.a)("Next week"),sequence:"shift+right",action:"keydown"}},O=n("s+Lk"),j=n("gd9Y"),w=n("PI/q"),E=n("309x"),k=n("/MKj"),D=n("/6o7"),C=n("f7NS"),S=n("cAKr");function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e){var t=e.children,n=Object(c.useState)(),r=i()(n,2),a=r[0],o=r[1],s=Object(c.useState)(),u=i()(s,2),f=u[0],p=u[1],h=Object(c.useState)(),v=i()(h,2),b=v[0],g=v[1],_=Object(c.useState)(),y=i()(_,2),I=y[0],A=y[1],x=Object(c.useState)(),P=i()(x,2),R=P[0],N=P[1],L=Object(c.useState)(),M=i()(L,2),F=M[0],z=M[1],B=Object(c.useState)(),V=i()(B,2),$=V[0],H=V[1],U=Object(E.b)(),q=U.activeHandlers,G=U.activeKeyMaps,W=U.activeTask,K=U.globalContext,Y=U.globalHandlers,Q=U.modalHandlers,Z=U.modalKeyMap,X=U.setActiveTask,ee=U.setGlobalContext,te=U.setGlobalHandlers,ne=U.setGlobalKeyMap,re=Object(j.h)(),ae=Object(k.g)(),oe=Object(k.h)((function(e){return e.user})).team_inbox,ie=Object(c.useMemo)((function(){var e=T({},m);return"number"!=typeof oe&&delete e.GO_TO_TEAM_INBOX,e}),[oe]),ce=Object(c.useMemo)((function(){return{activateQuickFindInput:a,setActivateQuickFindInput:o,openHelpMenu:f,setOpenHelpMenu:p,openProductivity:I,setOpenProductivity:A,openNotifications:b,setOpenNotifications:g,openSettings:R,setOpenSettings:N,quickFindInputValue:F,setQuickFindInputValue:z,toggleLeftMenu:$,setToggleLeftMenu:H}}),[a,f,I,b,R,F,$]),le=Object(c.useCallback)((function(){O.a.show()}),[]),se=Object(c.useCallback)((function(e,t){if(null==t||t.preventDefault(),"function"==typeof ce.activateQuickFindInput&&"function"==typeof ce.quickFindInputValue){var n="";"label"===e?n="@":"project"===e?n="#":"section"===e&&(n="/"),ce.activateQuickFindInput(),ce.quickFindInputValue(n)}}),[ce]),ue=Object(c.useCallback)((function(){setTimeout((function(){ae(Object(D.d)({type:D.a.QUICK_ADD}))}))}),[ae]),de=Object(c.useCallback)((function(e){re({view:{type:e}})}),[re]),fe=Object(c.useCallback)((function(e){re({view:{type:"project",projectId:e}})}),[re]),me=Object(c.useCallback)((function(){Boolean(ce.openNotifications)&&"function"==typeof ce.openNotifications&&ce.openNotifications()}),[ce]),pe=Object(c.useCallback)((function(){Boolean(ce.openSettings)&&"function"==typeof ce.openSettings&&ce.openSettings()}),[ce]),he=Object(c.useCallback)((function(){Boolean(ce.openHelpMenu)&&"function"==typeof ce.openHelpMenu&&ce.openHelpMenu()}),[ce]),ve=Object(c.useCallback)((function(){Boolean(ce.openProductivity)&&"function"==typeof ce.openProductivity&&ce.openProductivity()}),[ce]),be=Object(c.useCallback)((function(){Boolean(ce.toggleLeftMenu)&&"function"==typeof ce.toggleLeftMenu&&ce.toggleLeftMenu()}),[ce]),ge=Object(c.useCallback)((function(){w.a.showPrefs()}),[]),_e=Object(c.useCallback)((function(){w.a.showPrefs("theme")}),[]),ye=Object(c.useMemo)((function(){return T(T({GO_TO_HOME_VIEW:le,GO_TO_INBOX:function(){return de("inbox")}},"number"==typeof oe?{GO_TO_TEAM_INBOX:function(e){e.preventDefault(),fe(oe)}}:null),{},{GO_TO_TODAY:function(){return de("today")},GO_TO_UPCOMING:function(){return de("upcoming")},GO_TO_LABELS:function(){return se("label")},GO_TO_PROJECTS:function(){return se("project")},GO_TO_SECTION:function(e){return se("section",e)},OPEN_QUICK_ADD:ue,OPEN_QUICK_FIND:function(e){return se(null,e)},OPEN_NOTIFICATIONS:me,OPEN_USER_MENU:pe,OPEN_HELP_MENU:he,OPEN_PRODUCTIVITY_MENU:ve,OPEN_SETTINGS:ge,OPEN_THEMES:_e,OPEN_ACTIVITY_LOG:function(){return de("activity")},TOGGLE_LEFT_MENU:be,OPEN_KEYBOARD_SHORTCUTS_MODAL:S.a})}),[le,de,fe,se,ue,me,pe,he,ve,ge,_e,be,oe]);return Object(c.useEffect)((function(){K||"function"!=typeof ee||ee(ce)}),[ce,K,ee]),Object(c.useEffect)((function(){te&&ne&&(te(ye),ne(ie))}),[ie,Y,ye,te,ne,oe]),Object(c.useEffect)((function(){return function(){null==te||te(null),null==ne||ne(null)}}),[te,ne]),Object(c.useEffect)((function(){function e(){W&&(null==X||X(null),document.activeElement instanceof HTMLElement&&document.activeElement.blur())}return window.addEventListener("blur",e),function(){window.removeEventListener("blur",e)}}),[W,X]),Object(d.configure)({ignoreEventsCondition:function(e){var t=null==e?void 0:e.target,n=Boolean(document.querySelector("#GB_window"))||Boolean(document.querySelector(".".concat(C.modalBoxClass)))||Boolean(document.querySelector(".popper"));if("INPUT"===(null==t?void 0:t.tagName)||"SELECT"===(null==t?void 0:t.tagName)||"TEXTAREA"===(null==t?void 0:t.tagName)||"true"===(null==t?void 0:t.contentEditable)){if(!("Meta"===e.key||"k"===e.key&&e.metaKey))return!0;if(!n)return!1}return!!n&&(!("Meta"===e.key||"k"===e.key&&e.metaKey)&&!(Boolean(Q)&&Boolean(Z)))}}),J(),l.a.createElement(l.a.Fragment,null,l.a.createElement(d.GlobalHotKeys,{keyMap:G,handlers:q,allowChanges:!0},t))}function x(e){var t=e.handleShareOptionClick,n=e.handleProjectActionsClick,r=Object(E.b)(),a=r.projectViewHandlers,o=r.projectViewKeyMap,i=r.setProjectViewHandlers,l=r.setProjectViewKeyMap,s=Object(c.useMemo)((function(){return{PROJECT_VIEW_SHARE_PROJECT:function(e){null==e||e.preventDefault(),t()},PROJECT_VIEW_OPEN_PROJECT_ACTIONS:function(e){null==e||e.preventDefault(),n()}}}),[t,n]);Object(c.useEffect)((function(){i&&l&&!a&&!o&&(i(s),l(p))}),[s,a,o,i,l]),Object(c.useEffect)((function(){return function(){null==i||i(null),null==l||l(null)}}),[i,l])}A.propTypes={children:u.a.node.isRequired};var P=n("RIqP"),R=n.n(P),N=n("GpCm"),L=n("FUwg"),M=n("UDQ1"),F=n("I2PJ"),z=n("YrBN"),B=n("Xczw"),V=n("Y+p1"),$=n.n(V),H=n("A72/"),U=n("k0om");var q=n("n7q7");function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e){var t=e.allowIndentChange,n=e.handleAssigneeSelect,r=e.handleDueDateSelect,a=e.handleEditClick,o=e.handleLabelSelect,s=e.handleOpenTaskActions,u=e.isCollapsed,d=e.isItemComplete,m=e.isProjectShared,p=e.item,h=e.itemId,b=e.onCheckedChange,g=e.onLinkCopy,_=e.onMoveToProject,y=e.onUpdate,O=e.showGoToProject,w=e.taskItemRef,D=e.toggleCollapsed,C=e.showCollapser,S=Object(k.h)((function(e){var t,n,r,a="project"===e.mainView.type?null===(t=e.mainView.ids)||void 0===t?void 0:t[0]:null;return!!a&&"board"===(null===(n=e.projects)||void 0===n||null===(r=n[a])||void 0===r?void 0:r.view_style)})),I=Object(c.useState)(u),T=i()(I,2),A=T[0],x=T[1],P=Object(E.b)(),V=P.setActiveTask,G=P.setTaskHandlers,K=P.setTaskKeyMap,Y=P.setTaskPickers,J=P.taskHandlers,Q=P.taskKeyMap,Z=P.taskPickers,X=Object(c.useState)(!1),ee=i()(X,2),te=ee[0],ne=ee[1],re=Object(c.useState)(!1),ae=i()(re,2),oe=ae[0],ie=ae[1],ce=Object(c.useState)(!1),le=i()(ce,2),se=le[0],ue=le[1],de=Object(c.useState)(!1),fe=i()(de,2),me=fe[0],pe=fe[1],he=Object(c.useState)(!1),ve=i()(he,2),be=ve[0],ge=ve[1],_e=Object(j.h)(),ye=Object(k.h)((function(e){return Object(U.a)(p.id,e)})),Oe=Object(k.h)((function(e){return Object(U.g)(p.id,e)})),je=Object(k.h)((function(e){return Object(U.l)(p.project_id)(e)})),we=Object(c.useCallback)((function(e){y({id:p.id,priority:e}),ue(!1)}),[y,p.id]),Ee=Object(c.useCallback)((function(){var e;null==w||null===(e=w.current)||void 0===e||e.focus()}),[w]),ke=Object(c.useMemo)((function(){var e=d?null:{TASK_ACTIONS_EDIT_TASK:function(e){e.preventDefault(),a()}},n=m&&!d?{TASK_ACTIONS_ASSIGN_TASK:function(e){e.preventDefault(),ne(!0)}}:null,r=O?{TASK_ACTIONS_OPEN_TASK_IN_PROJECT:function(){_e({view:{type:"project",projectId:p.project_id}})}}:null,o=d?null:{TASK_ACTIONS_SET_PRIORITY_LEVEL_1:function(e){e.preventDefault(),y({id:p.id,priority:4})}},i=d?null:{TASK_ACTIONS_SET_PRIORITY_LEVEL_2:function(e){e.preventDefault(),y({id:p.id,priority:3})}},c=d?null:{TASK_ACTIONS_SET_PRIORITY_LEVEL_3:function(e){e.preventDefault(),y({id:p.id,priority:2})}},l=d?null:{TASK_ACTIONS_SET_PRIORITY_LEVEL_4:function(e){e.preventDefault(),y({id:p.id,priority:1})}},u=d?null:{TASK_ACTIONS_CHANGE_PROJECT:function(e){e.preventDefault(),ge(!0)}},f=d?null:{TASK_ACTIONS_CHANGE_PRIORITY:function(e){e.preventDefault(),ue(!0)}},v=!d&&H.o?{TASK_ACTIONS_CHANGE_LABELS:function(e){e.preventDefault(),pe(!0)}}:null,_=t?{TASK_ACTIONS_INCREASE_INDENT_TASK:function(e){var t;if(e.preventDefault(),4!==ye.length&&h){var n=document.querySelector('[data-task-navigation-element="'.concat(h,'"]'));if(n&&p.indent){var r=function(e,t){var n=e.previousElementSibling;if(!t)return n;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}(n,'[data-item-indent="'.concat(p.indent,'"]')),a=null==r?void 0:r.getAttribute("data-task-navigation-element");if(a){var o=Object(q.a)(a)?a:Number(a),i=je[null!==(t=p.section_id)&&void 0!==t?t:"null"].filter((function(e){return e.parent_id===o})),c=Math.max.apply(Math,R()(i.map((function(e){return e.child_order}))).concat([0]));if(o){y({id:p.id,parent_id:o,project_id:p.project_id,section_id:p.section_id,child_order:c+1});var l=document.querySelector('[data-selection-id="'.concat(p.id,'"] [role="button"]'));l&&l instanceof HTMLElement&&l.focus()}}}}}}:null,j=t?{TASK_ACTIONS_DECREASE_INDENT_TASK:function(e){var t,n;if((e.preventDefault(),h)&&(document.querySelector('[data-task-navigation-element="'.concat(h,'"]'))&&p.indent)){var r=null==ye||null===(t=ye[1])||void 0===t?void 0:t.id,a=je[null!==(n=p.section_id)&&void 0!==n?n:"null"],o=r?a.filter((function(e){return e.parent_id===r})):a,i=Math.max.apply(Math,R()(o.map((function(e){return e.child_order}))).concat([0]));y({id:p.id,parent_id:r,project_id:p.project_id,section_id:p.section_id,child_order:i+1});var c=document.querySelector('[data-selection-id="'.concat(p.id,'"] [role="button"]'));c&&c instanceof HTMLElement&&c.focus()}}}:null;return W(W(W(W(W(W(W(W(W(W(W(W({},e),{},{TASK_ACTIONS_COMPLETE_TASK:function(e){e.preventDefault(),b(p.id,d?0:1,e)},TASK_ACTIONS_OPEN_TASK_VIEW:function(e){(null==w?void 0:w.current)!==e.target&&e.isTrusted||(e.preventDefault(),_e({task:{id:p.id}}))},TASK_ACTIONS_COPY_LINK_TO_TASK:function(e){e.preventDefault(),g(p.id)}},o),i),c),l),{},{TASK_ACTIONS_OPEN_TASK_ACTIONS_MENU:s},u),{},{TASK_ACTIONS_COMMENT_ON_TASK:function(e){e.preventDefault(),_e({task:{id:p.id,tab:"comments"}})},TASK_ACTIONS_REMOVE_DUE_DATE:function(e){e.preventDefault(),y({id:p.id,due:null}),Ee()},TASK_ACTIONS_SCHEDULE_TASK:function(e){e.preventDefault(),ie(!0)},TASK_ACTIONS_EXPAND_OR_COLLAPSE_TASK:function(e){e.preventDefault(),D&&D(e),V&&V(h)}},f),v),n),r),_),j)}),[t,Ee,a,s,d,m,p,h,ye,_e,b,g,y,je,V,O,w,D]);return Object(c.useEffect)((function(){var e=W({},v);if(d&&["TASK_ACTIONS_EDIT_TASK","TASK_ACTIONS_SET_PRIORITY_LEVEL_1","TASK_ACTIONS_SET_PRIORITY_LEVEL_2","TASK_ACTIONS_SET_PRIORITY_LEVEL_3","TASK_ACTIONS_SET_PRIORITY_LEVEL_4","TASK_ACTIONS_CHANGE_PROJECT","TASK_ACTIONS_CHANGE_PRIORITY","TASK_ACTIONS_CHANGE_LABELS","TASK_ACTIONS_INCREASE_INDENT_TASK","TASK_ACTIONS_DECREASE_INDENT_TASK","TASK_ACTIONS_ASSIGN_TASK"].forEach((function(t){return delete e[t]})),S)delete e.TASK_ACTIONS_INCREASE_INDENT_TASK,delete e.TASK_ACTIONS_DECREASE_INDENT_TASK;else if(t){var n,r;if(!h)return;var a=document.querySelector('[data-task-navigation-element="'.concat(h,'"]')),o=(null==a||null===(n=a.previousElementSibling)||void 0===n?void 0:n.getAttribute("data-task-navigation-element"))===(null===(r=p.parent_id)||void 0===r?void 0:r.toString()),i=Math.max.apply(Math,R()(Oe.map((function(e){return e.indent}))).concat([0]));(ye.length>=4||o||5===i)&&delete e.TASK_ACTIONS_INCREASE_INDENT_TASK,0===ye.length&&delete e.TASK_ACTIONS_DECREASE_INDENT_TASK}else delete e.TASK_ACTIONS_INCREASE_INDENT_TASK,delete e.TASK_ACTIONS_DECREASE_INDENT_TASK;m||delete e.TASK_ACTIONS_ASSIGN_TASK,O||delete e.TASK_ACTIONS_OPEN_TASK_IN_PROJECT,H.o||delete e.TASK_ACTIONS_CHANGE_LABELS,C||delete e.TASK_ACTIONS_EXPAND_OR_COLLAPSE_TASK,e.TASK_ACTIONS_COMPLETE_TASK.name=d?Object(f.a)("Uncomplete task"):Object(f.a)("Complete task"),G&&K&&!J&&!Q?(G(ke),K(e)):G&&K&&u!==A&&(x(u),G(ke),K(e))}),[t,ke,S,u,d,m,p,ye,Oe,h,A,je,G,K,C,O,J,Q]),Object(c.useEffect)((function(){var e={showAssigneePickerForShortcut:te,showDatePickerForShortcut:oe,showPriorityPickerForShortcut:se,showLabelPickerForShortcut:me,showProjectPickerForShortcut:be};$()(Z,e)||null==Y||Y(e)}),[Z,Y,te,oe,se,me,be]),Object(c.useEffect)((function(){return function(){null==G||G(null),null==K||K(null),null==Y||Y(null)}}),[G,K,Y]),l.a.createElement(l.a.Fragment,null,oe&&l.a.createElement(N.c,{isShown:!0,onClose:function(){return ie(!1)},placement:"bottom-start",referenceElement:(null==w?void 0:w.current)||void 0,withArrow:!1},l.a.createElement(L.a,{selectedDate:p.due,selectedItems:[p],onClose:function(){return ie(!1)},onDateSelect:function(e){ie(!1),r(e)}})),me&&l.a.createElement(F.a,{childlessRef:w,isShown:!0,onChange:o,onClose:function(){return pe(!1)},onUpdated:function(){return pe(!1)},placement:"bottom-start",value:p.labels}),se&&l.a.createElement(z.a,{childlessRef:w,isShown:!0,className:"item_action item_actions_priority",priority:p.priority,onSelect:we,onClose:function(){return ue(!1)},placement:"bottom-start"}),te&&l.a.createElement(M.a,{childlessRef:w,isShown:!0,onChange:n,onClose:function(){return ne(!1)},projectId:p.project_id,value:p.responsible_uid,position:"bottom-start"}),be&&l.a.createElement(B.a,{isShown:!0,onSelect:function(e){var t=e.project_id,n=e.section_id;_({id:p.id,project_id:t,section_id:n})},selectedProjectId:p.project_id,selectedSectionId:p.section_id,withSectionSelection:!0,childlessRef:w.current,onClose:function(){return ge(!1)},placement:"bottom-start",withArrow:!1}))}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(){var e=Object(k.h)((function(e){var t,n,r,a="project"===e.mainView.type?null===(t=e.mainView.ids)||void 0===t?void 0:t[0]:null;return!!a&&"board"===(null===(n=e.projects)||void 0===n||null===(r=n[a])||void 0===r?void 0:r.view_style)})),t=Object(c.useState)(),n=i()(t,2),r=n[0],o=n[1],l=Object(c.useState)(),s=i()(l,2),u=s[0],d=s[1],m=Object(c.useState)(),p=i()(m,2),h=p[0],v=p[1],g="[data-task-navigation-element], [data-add-task-navigation-element]",_=Object(E.b)(),y=_.activeTask,O=_.setActiveTask,j=_.taskListHandlers,w=_.taskListKeyMap,D=_.setTaskListHandlers,C=_.setTaskListKeyMap;Object(c.useEffect)((function(){var e,t;if(null===(e=document.activeElement)||void 0===e?void 0:e.hasAttribute("data-add-task-navigation-element"))o(null===(t=document.activeElement)||void 0===t?void 0:t.parentElement);else if(y){var n='[data-task-navigation-element="'.concat(y,'"]'),r=document.querySelector(n);o(r)}else o(null)}),[y,e]);var S=Object(c.useCallback)((function(e,t){e.preventDefault();var n,a=document.querySelectorAll(g);if(r){var i=R()(a).indexOf(r);n="up"===t?a[i-1]:a[i+1]}else n=a[0];if(n){var c=n.querySelector('[role="button"], button');if(c)c.focus();else{var l=n;null==l||l.focus(),o(l),null==O||O(null)}}}),[r,g,O]),I=Object(c.useCallback)((function(e,t){if(r){var n=document.querySelectorAll("[data-column-navigation-element]"),a=null==r?void 0:r.closest("[data-column-navigation-element]");if(a){var o=R()(n).indexOf(a),i="left"===t?n[o-1]:n[o+1];if(i){e.preventDefault();var c=i.querySelector("[data-task-navigation-element] button");if(c&&c instanceof HTMLElement)c.focus();else{var l=i.querySelector("[data-add-task-navigation-element]");l&&l instanceof HTMLElement&&l.focus()}}}}}),[r]),T=Object(c.useMemo)((function(){return{TASK_ACTIONS_MOVE_FOCUS_TO_TASK_ABOVE:function(e){S(e,"up")},TASK_ACTIONS_MOVE_FOCUS_TO_TASK_BELOW:function(e){S(e,"down")},TASK_ACTIONS_MOVE_FOCUS_TO_LEFT_COLUMN:function(e){I(e,"left")},TASK_ACTIONS_MOVE_FOCUS_TO_RIGHT_COLUMN:function(e){I(e,"right")}}}),[I,S]);Object(c.useEffect)((function(){if(r!==h){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b);if(r){if(e){var n=document.querySelectorAll("[data-column-navigation-element]"),o=null==r?void 0:r.closest("[data-column-navigation-element]");if(!o)return;var i=R()(n).indexOf(o),c=0===i,l=i===n.length-1;c&&delete t.TASK_ACTIONS_MOVE_FOCUS_TO_LEFT_COLUMN,l&&delete t.TASK_ACTIONS_MOVE_FOCUS_TO_RIGHT_COLUMN}else delete t.TASK_ACTIONS_MOVE_FOCUS_TO_LEFT_COLUMN,delete t.TASK_ACTIONS_MOVE_FOCUS_TO_RIGHT_COLUMN;var s=document.querySelectorAll(g),m=R()(s).indexOf(r),p=0===m,_=m===s.length-1;t.TASK_ACTIONS_MOVE_FOCUS_TO_TASK_BELOW.name=Object(f.a)("Move focus to the next task"),p&&delete t.TASK_ACTIONS_MOVE_FOCUS_TO_TASK_ABOVE,_&&delete t.TASK_ACTIONS_MOVE_FOCUS_TO_TASK_BELOW}else delete t.TASK_ACTIONS_MOVE_FOCUS_TO_LEFT_COLUMN,delete t.TASK_ACTIONS_MOVE_FOCUS_TO_RIGHT_COLUMN,delete t.TASK_ACTIONS_MOVE_FOCUS_TO_TASK_ABOVE,t.TASK_ACTIONS_MOVE_FOCUS_TO_TASK_BELOW.name=Object(f.a)("Move focus to the first task");D&&C&&!j&&!w?(D(T),C(t)):(D&&C&&y!==u||D&&C&&r!==h)&&(d(y),v(r),D(T),C(t))}}),[y,r,g,T,e,u,h,D,C,j,w]),Object(c.useEffect)((function(){return function(){null==D||D(null),null==C||C(null)}}),[D,C])}function Q(e){var t=e.handleGoToSubtasksTab,n=e.handleGoToCommentsTab,r=e.handleGoToActivityTab,a=Object(E.b)(),o=a.modalHandlers,i=a.modalKeyMap,l=a.setModalHandlers,s=a.setModalKeyMap,u=Object(c.useMemo)((function(){return{TASK_DETAIL_VIEW_GO_TO_SUBTASKS:function(e){null==e||e.preventDefault(),t()},TASK_DETAIL_VIEW_GO_TO_COMMENTS:function(e){null==e||e.preventDefault(),n()},TASK_DETAIL_VIEW_GO_TO_ACTIVITY:function(e){null==e||e.preventDefault(),r()}}}),[t,n,r]);Object(c.useEffect)((function(){l&&s&&!o&&!i&&(l(u),s(g))}),[u,o,i,l,s]),Object(c.useEffect)((function(){return function(){null==l||l(null),null==s||s(null)}}),[l,s])}function Z(e){var t=e.handleNextWeekClick,n=e.handlePreviousWeekClick,r=e.handleTodayClick,a=e.setIsDatePickerShown,o=e.weekDate,l=Object(c.useState)(o),s=i()(l,2),u=s[0],d=s[1],f=Object(E.b)(),m=f.upcomingViewHandlers,p=f.upcomingViewKeyMap,h=f.setUpcomingViewHandlers,v=f.setUpcomingViewKeyMap,b=Object(c.useMemo)((function(){return{UPCOMING_VIEW_GO_TO_TODAY:r,UPCOMING_VIEW_NEXT_WEEK:function(e){null==e||e.preventDefault(),t()},UPCOMING_VIEW_OPEN_MONTH_PICKER:function(){return a(!0)},UPCOMING_VIEW_PREVIOUS_WEEK:function(e){null==e||e.preventDefault(),n()}}}),[r,a,t,n]);Object(c.useEffect)((function(){u!==o&&(null==h||h(b),d(o))}),[b,u,h,d,o]),Object(c.useEffect)((function(){h&&v&&!m&&!p&&(h(b),v(y))}),[b,m,p,h,v]),Object(c.useEffect)((function(){return function(){null==h||h(null),null==v||v(null)}}),[h,v])}},"6Z8W":function(e,t){var n,r;GB_show=window.old_GB_show=function(e,t,n,r,a){return new GB_Window({caption:e,height:n||500,width:r||500,fullscreen:!1,callback_fn:a,use_fx:!0,overlay_click_close:!0,show_loading:!0}).show(t)},GB_showFullScreen=function(e,t,n){return new GB_Window({caption:e,fullscreen:!0,use_fx:!0,callback_fn:n}).show(t)},GB_HTMLWindow=GB_Window.extend({init:function(e,t){this.elm=e,this.parent(t)},initFrame:function(){if(!this.iframe){this.iframe=ICE.DIV(this.elm),$addClass(this.elm,"GB_iframe_html"),this.middle_cnt=ICE.DIV({class:"content"},DIV({c:"iframe_holder"},this.iframe)),this.top_cnt=ICE.DIV(),this.bottom_cnt=ICE.DIV();var e=ICE.DIV({c:"GB_Window_holder shadow"});$add(e,this.top_cnt,this.middle_cnt,this.bottom_cnt),$setWidth(e,this.width+10),$add(this.g_window,e)}},initOverlay:function(){this.parent()},setFrameSize:function(){this.width;window.FLUID_MINI}}),GB_showYouTube=function(e,t,n,r,a){var o=r/n,i=Math.min($winSize().w,800),c=i/o,l=Math.min($winSize().w,800)-65,s=l/o;-1==(t=t.replace("/watch?v=","/embed/")).indexOf("?")?t+="?autoplay=1&vq=hd720&showinfo=0&rel=0&theme=light":t+="&autoplay=1&vq=hd720&showinfo=0&rel=0&theme=light";var u={width:l,height:s,src:t,frameborder:0,allowfullscreen:"allowfullscreen",border:0},d=DIV();$add(d,IFRAME(u));var f=GB_showHTML(e,d,c,i,a);return $addClass(f.g_window,"GB_video_player"),f},GB_showViemo=function(e,t,n,r,a){n||(n=450),r||(r=800);var o=$setHTML(DIV(),'<iframe src="'+t+'?portrait=0&amp;badge=0&amp;color=ffffff&amp;autoplay=1" width="'+r+'" height="'+n+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'),i=GB_showHTML(e,o,n,r,a);return $addClass(i.g_window,"GB_video_player"),!1},window.old_GB_showHTML=GB_showHTML=function(e,t,n,r,a){$winSize().w<450&&(r=Math.min(r,450));var o={caption:e,height:n||500,width:r||500,overlay_click_close:!0,fullscreen:!1,use_fx:!0};a&&$update(o,a);var i=new GB_HTMLWindow(t,o);return i.show(),i},GB_hideIfNeeded=function(e){return GB_CURRENT.length>0?GB_hide(e):e(),!1},$AEV(document,"compositionend",(function(e){n=new Date,r=!1})),$AEV(document,"compositionstart",(function(e){r=!0})),$AEV(document,"keyup",(function(e){var t=GB_CURRENT;if(function(e){var t=new Date,a=n&&t.getTime()-n.getTime()<1e3;return 27==e.keyAscii&&(r||a)}(e))return!1;if(27==e.keyAscii&&t.length>0){if(IstComplete.isShown())return IstComplete.hide(),!1;var a=$eventElm(e);return a&&a.cancelInput&&a.cancelInput(e)?($preventDefault(e),!1):(GB_hide(),!1)}return!0}));window.GB_show=function(e,t,n,r){var a=$winSize().w+50;if(a<450&&a<r){var o=window.open(t,"","height="+n+",width="+r+",scrollbars=yes");o.opener||(o.opener=self)}else window.old_GB_show(e,t,n,r);return!1}},"6ZPZ":function(e,t,n){},"70oM":function(e,t,n){var r=n("cDf5"),a="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;i(this,e),this.remove=this.remove.bind(this),this._annotate=this._annotate.bind(this),this._generateUI=this._generateUI.bind(this),this._attachEvents=this._attachEvents.bind(this),this._dragLeave=this._dragLeave.bind(this),this._dragEnter=this._dragEnter.bind(this),this._drop=this._drop.bind(this),this._traverseFiles=this._traverseFiles.bind(this),this._attachFile=this._attachFile.bind(this),this._uploadFiles=this._uploadFiles.bind(this),this._uploadFile=this._uploadFile.bind(this),this._generateDelIcon=this._generateDelIcon.bind(this),null==r&&(r=!1),this.multiple_uploads=r,this.original_holder=$(t),this.url=n,this.opts=a,a&&$update(this,a),this._annotate(),this._attachEvents()}return o(e,[{key:"remove",value:function(){return $REV(document,"dragleave",this._dragLeave),$REV(document,"dragenter",this._dragEnter),$REV(document,"dragover",this._dragEnter),$REV(document,"drop",this._drop),$remove(this.drop_holder),this.opts=null,this.url=null,this.multiple_uploads=null}},{key:"_annotate",value:function(){return $swap(this.original_holder,this._generateUI())}},{key:"_generateUI",value:function(){var e=void 0,t=void 0;return this.multiple_uploads?(e=_("Drag & drop files here"),t=_("select files from your computer...")):(e=_("Drag & drop one file here"),t=_("select one file from your computer...")),this.drop_holder=DIV({c:"uploader_dropzone"},e," ",_("or")," ",SPAN({c:"file_input_container"},this.regular_input=INPUT({name:"file",type:"file",multiple:this.multiple_uploads}),this.select_multiple=A({href:"#"},t)),this.file_list=UL()),DIV(this.drop_holder)}},{key:"_attachEvents",value:function(){var e=this;return this.regular_input.addEventListener("change",(function(){return e._traverseFiles(e.regular_input.files),e._uploadFiles()})),$AEV(document,"dragleave",this._dragLeave),$AEV(document,"dragenter",this._dragEnter),$AEV(document,"dragover",this._dragEnter),$AEV(document,"drop",this._drop)}},{key:"_dragLeave",value:function(e){return $preventDefault(e),$removeClass(this.drop_holder,"drop_over")}},{key:"_dragEnter",value:function(e){return $preventDefault(e),$addClass(this.drop_holder,"drop_over")}},{key:"_drop",value:function(e){return $preventDefault(e),this._traverseFiles(e.dataTransfer.files),$removeClass(this.drop_holder,"drop_over"),this._uploadFiles(),!1}},{key:"_traverseFiles",value:function(e){var t=this;return!this.multiple_uploads&&e.length>1?(alert(_("It's only possible to upload one file at a time when using the `Files` tab")),!1):void 0!==(void 0===e?"undefined":a(e))?Array.from(e).map((function(e){return t._attachFile(e)})):$setHTML(this.file_list,_("No support for the File API in this web browser"))}},{key:"_attachFile",value:function(e){var t=void 0,n=this._generateDelIcon();return $add(this.file_list,t=LI({c:"file_to_upload"},n,e.name||e.fileName,B({c:"progress_bar"}))),t.file_obj=e}},{key:"_uploadFiles",value:function(){var e=$all("li","file_to_upload"),t=$all("li","file_uploaded");if(t.length>0&&0===e.length)this.opts.allFilesUploaded&&this.opts.allFilesUploaded();else if(0===e.length&&0===t.length)alert(_("You did not select any files..."));else{IstButton.disable(this.btn_upload_files);var n=!0,r=!1,a=void 0;try{for(var o,i=Array.from(e)[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value;return this._uploadFile(c),!1}}catch(e){r=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}}return!1}},{key:"_uploadFile",value:function(e){var t=this,n=e.file_obj,r=$child(e,"b");$swap($child(e,"svg"),Indicator.cssSpinner());var a=new XMLHttpRequest;a.upload.addEventListener("progress",(function(e){if(e.lengthComputable)return $setHTML(r,parseInt(e.loaded/e.total*100)+"%")}),!1);var o=function(n){return n||(n=_("An unknown error happened")+". "+_("Please try again later. We're sorry for the trouble.")),alert(n),$swap($child(e,"div","spinner"),t._generateDelIcon()),IstButton.enable(t.btn_upload_files),$setHTML(r,"")};a.addEventListener("load",(function(n){var r=void 0;try{r=JSON.parse(n.currentTarget.responseText)}catch(e){return o()}return r.errors?o(r.errors):($removeClass(e,"file_to_upload"),$addClass(e,"file_uploaded"),t.opts&&t.opts.fileUploaded&&t.opts.fileUploaded(r.file_url,r.filename,!1),t._uploadFiles())}),!1),a.addEventListener("error",(function(){return o()}));var i=new FormData;return i.append("file_name",n.name||n.fileName),i.append("file_size",n.size||n.fileSize),i.append("file_type",n.type||n.fileType),i.append("file",n),a.open("POST",this.url,!0),a.send(i)}},{key:"_generateDelIcon",value:function(e){var t=l.cloneNode(!0);return $AEV(t,"click",(function(e){var t=$parent($eventElm(e),"li");return t.file=null,$remove(t)})),t}}]),e}(),l=$toDOM('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><rect width="14" height="1" x="5" y="6" fill="currentColor" rx=".5"/><path fill="currentColor" d="M10 9h1v8h-1V9zm3 0h1v8h-1V9z"/><path stroke="currentColor" d="M17.5 6.5h-11V18A1.5 1.5 0 0 0 8 19.5h8a1.5 1.5 0 0 0 1.5-1.5V6.5zm-9 0h7V5A1.5 1.5 0 0 0 14 3.5h-4A1.5 1.5 0 0 0 8.5 5v1.5z"/></g></svg>');window.GHtml5Uploader=c},"71j2":function(e,t,n){"use strict";n.d(t,"c",(function(){return J})),n.d(t,"d",(function(){return Z})),n.d(t,"a",(function(){return ee}));var r=n("J4zp"),a=n.n(r),o=n("peh1"),i=n("aSPn"),c=n("44Ds"),l=n.n(c),s=n("UB5X"),u=n.n(s),d=n("4qC0"),f=n.n(d),m=n("P/G1"),p=n.n(m),h=n("7GkX"),v=n.n(h);function b(e){this.size=0,this.limit="number"==typeof e?e:10,this.map={},this.head=null,this.tail=null}b.prototype.lrunode=function(e,t){null!=e&&(this.key=e),null!=t&&(this.value=t),this.prev=null,this.next=null},b.prototype.setHead=function(e){e.next=this.head,e.prev=null,null!==this.head&&(this.head.prev=e),this.head=e,null===this.tail&&(this.tail=e),this.size++,this.map[e.key]=e},b.prototype.set=function(e,t){if(!u()(e)&&!f()(e))throw new Error("Invalid arguemnt. key has to be string or number, but ".concat(e," is received"));var n=new b.prototype.lrunode(e,t);return this.map[e]?(this.map[e].value=n.value,this.delete(n.key)):this.size>=this.limit&&(delete this.map[this.tail.key],this.size--,this.tail=this.tail.prev,this.tail.next=null),this.setHead(n),this},b.prototype.get=function(e){if(this.map[e]){var t=this.map[e].value,n=new b.prototype.lrunode(e,t);return this.delete(e),this.setHead(n),t}},b.prototype.has=function(e){return!!this.map[e]},b.prototype.delete=function(e){if(!this.has(e))return!1;var t=this.map[e];return null!==t.prev?t.prev.next=t.next:this.head=t.next,null!==t.next?t.next.prev=t.prev:this.tail=t.prev,delete this.map[e],this.size--,!0},b.prototype.clear=function(e){this.size=0,this.map={},this.head=null,this.tail=null,"number"==typeof e&&(this.limit=e)},b.prototype.forEach=function(e){for(var t=this.head,n=0;t;)e.apply(this,[t,n,this]),n++,t=t.next},b.prototype.values=function(){return p()(this.map).map((function(e){return e.value}))},b.prototype.keys=function(){return v()(this.map)};var g=n("lwsE"),_=n.n(g),y=n("W8MJ"),O=n.n(y),j=n("lSNA"),w=n.n(j),E=n("AcaU"),k=n("bQTK"),D=n("RZq6"),C={en:k};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=C[e];return t||C.en}function I(e){return"en"===e?Promise.resolve():function(e){switch(e){case"cs":return n.e(3).then(n.bind(null,"+VRH"));case"da":return n.e(5).then(n.bind(null,"hc/k"));case"de":return n.e(7).then(n.bind(null,"uOsg"));case"es":return n.e(10).then(n.bind(null,"U49I"));case"fi":return n.e(12).then(n.bind(null,"ocgI"));case"fr":return n.e(14).then(n.bind(null,"5hW2"));case"it":return n.e(16).then(n.bind(null,"wh5H"));case"ja":return n.e(18).then(n.bind(null,"yWgE"));case"ko":return n.e(20).then(n.bind(null,"r3+S"));case"nb":return n.e(22).then(n.bind(null,"6CGn"));case"nl":return n.e(24).then(n.bind(null,"6+mK"));case"pl":return n.e(26).then(n.bind(null,"r54c"));case"pt_BR":return n.e(30).then(n.bind(null,"OIYx"));case"ru":return n.e(31).then(n.bind(null,"PW8C"));case"sv":return n.e(34).then(n.bind(null,"eIHg"));case"tr":return n.e(50).then(n.bind(null,"lNdR"));case"zh_TW":return n.e(69).then(n.bind(null,"UHbZ"));case"zh_CN":return n.e(67).then(n.bind(null,"ZI3f"));default:return Object(D.captureInfoLog)("filterist.i18n: unrecognized lang code '".concat(String(e),"'")),Promise.resolve(k)}}(e).then((function(t){C[e]=t}))}var T=n("Jv0Z"),A=n("lDtu"),x=[!1,null,null],P=function(){function e(t,n){_()(this,e),w()(this,"rex",void 0),w()(this,"tokenFn",void 0),this.rex=t,this.tokenFn=n}return O()(e,[{key:"match",value:function(e,t){var n=e.substring(t),r=this.rex.exec(n);if(null===r)return x;if(0!==r.index)throw new T.b("Programming Error: matcher should only match the beginning of string. (Rex: ".concat(this.rex.toString(),")"));return t+=r[0].length,[!0,this.tokenFn(r),t]}}]),e}(),R=function(){function e(t,n,r,a){_()(this,e),w()(this,"rex",void 0),w()(this,"tokenCls",void 0),w()(this,"dateistLangs",void 0),w()(this,"dateistOpt",void 0),this.rex=t,this.tokenCls=a,this.dateistLangs=n,this.dateistOpt=r}return O()(e,[{key:"match",value:function(e,t){var n=e.substring(t),r=this.rex.exec(n);if(null===r)return x;if(0!==r.index)throw new T.b("Programming Error: matcher should only match the beginning of string. (Rex: ".concat(this.rex.toString(),")"));var a=r[1],o=null,i=null;try{var c=A.a.parse_multiple(a,this.dateistLangs,this.dateistOpt);c.due_date&&!c.is_recurring&&(o=c.due_date,i=c.date_lang)}catch(e){}return o&&i?(t+=r[0].length,a=a.trim(),[!0,new this.tokenCls(a,i,this.dateistOpt),t]):x}}]),e}(),N=function(){function e(t,n){_()(this,e),w()(this,"dateistLangs",void 0),w()(this,"dateistOpt",void 0),this.dateistLangs=t,this.dateistOpt=n}return O()(e,[{key:"match",value:function(e,t){for(var n=e.substring(t),r=null,a=null,o=null,i=1;i<=n.length&&i<30&&![",",")","|","&"].includes(n[i-1]);i++){var c=n.slice(0,i);try{var l=A.a.parse_multiple(c,this.dateistLangs,this.dateistOpt);l.due_date&&!l.is_recurring&&(r=l,a=c,o=i)}catch(e){}}return null===r||null===a||null===o?x:(t+=o,a=a.trim(),[!0,new E.l(a,r.date_lang,this.dateistOpt),t])}}]),e}(),L={LEFT:{tokenCls:E.q,paramType:null},RIGHT:{tokenCls:E.B,paramType:null},AND:{tokenCls:E.c,paramType:null},OR:{tokenCls:E.w,paramType:null},NOT:{tokenCls:E.v,paramType:null},VIEW_ALL:{tokenCls:E.M,paramType:null},NO_PRIORITY:{tokenCls:E.t,paramType:null},ALL:{tokenCls:E.b,paramType:null},TO_OTHERS:{tokenCls:E.K,paramType:null},TO_ME:{tokenCls:E.J,paramType:null},NO_DUE_DATE:{tokenCls:E.r,paramType:null},NO_LABELS:{tokenCls:E.s,paramType:null},ASSIGNED:{tokenCls:E.d,paramType:null},SHARED:{tokenCls:E.E,paramType:null},DUE_RECURRING:{tokenCls:E.o,paramType:null},NO_TIME:{tokenCls:E.u,paramType:null},SUBTASK:{tokenCls:E.F,paramType:null},OVERDUE:{tokenCls:E.x,paramType:null},LABEL:{tokenCls:E.p,paramType:"string"},PROJECT:{tokenCls:E.z,paramType:"string"},PROJECT_SINGLE:{tokenCls:E.A,paramType:"string"},SECTION:{tokenCls:E.D,paramType:"string"},SEARCH:{tokenCls:E.C,paramType:"string"},PRIORITY:{tokenCls:E.y,paramType:"number"},WITHIN_DAYS:{tokenCls:E.N,paramType:"number"},ASSIGNED_TO:{tokenCls:E.f,paramType:"collaborator"},ASSIGNED_BY:{tokenCls:E.e,paramType:"collaborator"},ADDED_BY:{tokenCls:E.a,paramType:"collaborator"},CREATED:{tokenCls:E.i,paramType:"date"},CREATED_BEFORE:{tokenCls:E.k,paramType:"date"},CREATED_AFTER:{tokenCls:E.j,paramType:"date"},DUE:{tokenCls:E.l,paramType:"date"},DUE_BEFORE:{tokenCls:E.n,paramType:"date"},DUE_AFTER:{tokenCls:E.m,paramType:"date"}};function M(e,t,n,r,o){var i=Object.entries(e).reduce((function(e,t){var n=a()(t,2),r=n[0],o=n[1].map((function(e){return[r,e]}));return e=e.concat(o)}),[]).map((function(e){var i=a()(e,2),c=i[0],l=i[1],s=L[c];if(!s)throw new Error("Missing matcher info for token type ".concat(c,". If you are adding new query, please adding 'tokenMatcherInfo' entry"));var u=s.tokenCls;switch(s.paramType){case null:case"string":case"number":case"collaborator":return new P(l,(function(e){return function(e,t,n,r){var a,o=L[e],i=o.paramType,c=o.tokenCls;switch(i){case"string":if(!t)throw new Error("Missing expected capture group");a=t[1].trim();break;case"number":if(!t)throw new Error("Missing expected capture group");a=parseInt(t[1],10);break;case"collaborator":if(!t)throw new Error("Missing expected capture group");a=t[1].trim().toLowerCase();var l=n.ME,s=n.OTHERS;l.includes(a)&&(a=E.g),s.includes(a)&&(a=E.h)}if(c===E.x)return new E.x(r);if(c===E.N){var u=a;return new E.N(u,r)}return new c(a)}(c,e,t,o)}));case"date":return new R(l,n,r,u);default:throw new Error("Unrecognized paramType")}}));return i.push(new N(n,r)),i.sort(F),i}function F(e,t){if(e instanceof N)return 1;if(t instanceof N)return-1;if(!e.rex||!t.rex)throw new Error("Assertion error: expect matcher have the rex property");var n=t.rex.source.length-e.rex.source.length;return 0!==n?n:t.rex.source>e.rex.source?1:-1}var z=n("7gDd");function B(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var H=function(){function e(t){_()(this,e),w()(this,"matchers",void 0);var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isUSDate:1,isAMPM:0,nextWeek:1,startDay:1,weekendStartDay:1},t),r=S(n.lang).tokenRegexDef,a=S(n.lang).specialCollaboratorVal,o=["en"];n.lang&&o.push(Object(z.a)(n.lang));var i={us_dates:n.isUSDate,am_pm:n.isAMPM,now_date:n.now,next_week:n.nextWeek,start_day:n.startDay,weekend:n.weekendStartDay};this.matchers=M(r,a,o,i,n.now)}return O()(e,[{key:"tokenize",value:function(e){for(var t=[],n=0;n<e.length;){var r=this.nextToken(e,n),o=a()(r,2),i=o[0],c=o[1];t.push(i),n=c}return t}},{key:"nextToken",value:function(e,t){var n,r=B(this.matchers);try{for(r.s();!(n=r.n()).done;){var o=n.value.match(e,t),i=a()(o,3),c=i[0],l=i[1],s=i[2];if(c&&l&&s)return l.index=t,l.matchedStr=e.substring(t,s),[l,s]}}catch(e){r.e(e)}finally{r.f()}var u=t;t+=1;e:for(;t<e.length;){var d,f=B(this.matchers);try{for(f.s();!(d=f.n()).done;){var m=d.value.match(e,t);if(a()(m,1)[0])break e}}catch(e){f.e(e)}finally{f.f()}t+=1}var p=e.substring(u,t),h=new E.L(p);return h.index=u,h.matchedStr=p,[h,t]}}]),e}(),U=function(){function e(t){_()(this,e),w()(this,"token",void 0),w()(this,"left",void 0),w()(this,"right",void 0),w()(this,"parent",void 0),this.token=t}return O()(e,[{key:"setLeft",value:function(e){if(this.token.type!==E.G&&this.token.type!==E.I)throw new T.b("Cannot attach children for token (type: ".concat(this.token.type,")"));this.left=e,this.left.parent=this}},{key:"setRight",value:function(e){if(this.token.type!==E.G)throw new T.b("Cannot attach children for token (type: ".concat(this.token.type,")"));this.right=e,this.right.parent=this}},{key:"hasChild",value:function(){return Boolean(this.right||this.left)}},{key:"isLeaf",value:function(){return!this.hasChild()}},{key:"toString",value:function(){return this.right||this.left?this.left&&this.right?"(".concat(this.left.toString()," ").concat(this.token.toString()," ").concat(this.right.toString(),")"):this.left?"".concat(this.token.toString(),"(").concat(this.left.toString(),")"):"":this.token.toString()}},{key:"eval",value:function(e,t){if(!this.hasChild())return this.token.eval(e,t);if(this.token instanceof E.c){if(!this.left||!this.right)throw new T.b("Invalid tree structure");return this.left.eval(e,t)&&this.right.eval(e,t)}if(this.token instanceof E.w){if(!this.left||!this.right)throw new T.b("Invalid tree structure");return this.right.eval(e,t)||this.left.eval(e,t)}if(this.token instanceof E.v){if(!this.left)throw new T.b("Invalid tree structure");return!this.left.eval(e,t)}throw new T.b("Unrecognized operand token type")}},{key:"traverseUp",value:function(e){this.parent&&(e(this.parent),this.parent.traverseUp(e))}},{key:"traverseLeafs",value:function(e){this.isLeaf()?e(this):(this.left&&this.left.traverseLeafs(e),this.right&&this.right.traverseLeafs(e))}},{key:"leafNodes",value:function(){var e=[];return this.traverseLeafs((function(t){return e.push(t)})),e}},{key:"parentNodes",value:function(){var e=[];return this.traverseUp((function(t){return e.push(t)})),e}},{key:"find",value:function(e){var t=[];return e(this)&&t.push(this),this.left&&(t=t.concat(this.left.find(e))),this.right&&(t=t.concat(this.right.find(e))),t}},{key:"exist",value:function(e){return this.find(e).length>0}},{key:"clone",value:function(){var t=new e(this.token);if(this.isLeaf())return t;if(this.left){var n=this.left.clone();t.setLeft(n)}if(this.right){var r=this.right.clone();t.setRight(r)}return t}}]),e}(),q=function(){function e(t){_()(this,e),w()(this,"tokens",void 0),w()(this,"cursor",void 0),w()(this,"root",void 0),this.tokens=t,this.cursor=0,this.root=null}return O()(e,[{key:"next",value:function(){if(this.cursor>=this.tokens.length)return null;var e=this.tokens[this.cursor];return this.cursor=this.cursor+1,e}},{key:"peak",value:function(){return this.cursor>=this.tokens.length?null:this.tokens[this.cursor]}},{key:"buildQueryTree",value:function(){var e=this.expr();if(null!==this.next())throw new T.a(this.tokens);return e}},{key:"expr",value:function(){return this.expr4()}},{key:"expr4",value:function(){var e=this.expr3();if(this.peak()instanceof E.w){var t=this.next(),n=new U(t);return n.setLeft(e),n.setRight(this.expr4()),n}return e}},{key:"expr3",value:function(){var e=this.expr2();if(this.peak()instanceof E.c){var t=this.next(),n=new U(t);return n.setLeft(e),n.setRight(this.expr3()),n}return e}},{key:"expr2",value:function(){if(this.peak()instanceof E.v){var e=this.next(),t=new U(e);return t.setLeft(this.expr2()),t}return this.expr1()}},{key:"expr1",value:function(){var e=this.next();if(null===e)throw new T.a(this.tokens);if(e.type===E.H)return new U(e);if(e instanceof E.q){var t=this.expr();if(!((e=this.next())instanceof E.B))throw new T.a(this.tokens);return t}throw new T.a(this.tokens)}}]),e}();var G=n("A0QH"),W=n("nbr2");function K(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J=Object(o.createSelector)((function(e){return e.user}),(function(e){var t=e||{},n=t.start_day,r=t.next_week,a=t.weekend_start_day,o=t.date_format,i=t.time_format;return{lang:t.lang,isUSDate:o,isAMPM:i,nextWeek:r,startDay:n,weekendStartDay:a}})),Q=Object(i.a)((function(e){return new H(e)}));function Z(e){return I(e).then((function(){Q.clearCache()}))}var X=l()((function(e,t){var n=Q(t).tokenize(e),r=n.filter((function(e){return e instanceof E.L}));if(r.length>0){var a=r[0];throw new T.c(e,a.index,a.matchedStr)}return[n,function(e){return new q(e).buildQueryTree()}(n)]}),(function(e,t){var n=t.lang,r=t.isUSDate,a=t.isAMPM;return"".concat(n,"-").concat(r.toString(),"-").concat(a.toString(),"-").concat(e)}));X.cache=new b(100);var ee=l()((function(e,t){try{var n=e.split(",").map((function(e){var n=X(e,t),r=a()(n,2)[1];return function(e,t){return r.eval(e,t)}}));return function(t,r){try{var a,o=K(n);try{for(o.s();!(a=o.n()).done;){if((0,a.value)(t,r))return!0}}catch(e){o.e(e)}finally{o.f()}return!1}catch(n){return D.default.captureError(n,{tags:{where:"_createFilterFunc"},extra:{item:t,query:e}}),!1}}}catch(e){if(e instanceof T.c||e instanceof T.a)return function(){return!1};throw e}}),(function(e,t){var n=t.lang,r=t.isUSDate,a=t.isAMPM,o=t.nextWeek,i=t.now;return i?"".concat(n,"-").concat(r,"-").concat(a,"-").concat(o,"-").concat(e,"-").concat(i.getTime()):"".concat(n,"-").concat(r,"-").concat(a,"-").concat(o,"-").concat(e)}));function te(e,t){for(var n=J(t),r=W.a.itemGetUncompleted(t),o=e.split(","),i=[],c=function(c){var l=void 0,s=void 0;try{var u=X(o[c],n),d=a()(u,2);l=d[0],s=d[1]}catch(t){if(!(t instanceof T.c))throw t;var f=o.map((function(e){return e.length})).slice(0,c).reduce((function(e,t){return e+t}),t.index);throw new T.c(e,f,t.badSymbol)}var m=r.filter((function(e){return!e.in_history&&!e.checked&&s.eval(e,t)})),p=G.c(l,s,m);i=i.concat(p)},l=0;l<o.length;l++)c(l);return i}ee.cache=new b(100);t.b={createFilterFunc:ee,getFilteristConfig:J,filter:te,getOverdueAndToday:function(e){var t=te("overdue & !assigned to: other, today & !assigned to: other",e),n=a()(t,2),r=n[0],o=n[1];return[o&&o.items?o.items:[],r&&r.items?r.items:[]]},UnrecognizedSymbolError:T.c,GrammarError:T.a}},"7BR2":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"g",(function(){return m}));var r=n("LYyr"),a=n("Ek05"),o=n("lDtu"),i="relativeTime",c="absoluteTime",l="location",s=null;function u(){return null!==s?s:s=new Promise((function(e){if(window.google&&window.google.maps)return e();var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?libraries=places&async=2&key=AIzaSyCXMDZI-DQwpQ72521KB_V45LXL1Zm_lHU",t.onload=e,document.body.appendChild(t)}))}var d=function(){return{0:_("0 min"),10:_("10 min"),30:_("30 min"),45:_("45 min"),60:_("1 hour"),120:_("2 hours"),180:_("3 hours"),1440:_("1 day"),2880:_("2 days"),4320:_("3 days"),10080:_("1 week")}};function f(e){if("absolute"===e.type){if(e.due.is_recurring)return[e.due.string];var t=e.due.toDate();return[a.a.humanizeDayDiff(o.b.day_diff(new Date,t),t)]}if("location"===e.type)return[e.name,"on_enter"===e.loc_trigger?_("When I arrive"):_("When I leave")];if("relative"===e.type){var n=d()[e.minute_offset];return void 0!==n?[_("%s before").replace("%s",n)]:[Object(r.a)(_nx("reminder","1 min before","{n} min before",e.minute_offset),{n:e.minute_offset})]}}function m(e){var t=a.a.parse(e);if(""===e)return{error:_("Date can't be empty")};if(t.error||!t.due_date)return{error:_("Invalid date")};if(t.due_date&&!o.b.has_time(t.due_date)){var n=t;if((t=a.a.parse(t.date_string+" @ 9:00")).due_date){var r=new Date;if(o.b.day_diff(r,t.due_date)>=365){var i=r.getHours()+3,c="00";i>23&&(i=23,c=29),t=a.a.parse(n.date_string+" @ "+i+":"+c)}}}return t}},"7Q2f":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),a=n.n(r);function o(e){var t=e.className;return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-svgs-path":"sm1/priority_flag.svg",className:t},a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{d:"M0 0h24v24H0z"}),a.a.createElement("g",{fill:"currentColor"},a.a.createElement("path",{d:"M5 5.5L6 5v14.5a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5v-14z"}),a.a.createElement("path",{fillRule:"nonzero",d:"M5 13.51V5.29l.26-.15c.17-.09.46-.21.88-.33 1.62-.47 3.65-.46 6.02.31a11.9 11.9 0 0 0 6.91.15l.21-.06.09-.02.1-.01c.18-.05.18-.05.51.5l.01 8.29-.32.12c-.2.08-.58.2-1.09.31a12.7 12.7 0 0 1-6.74-.33 9.2 9.2 0 0 0-5.43-.3 3.66 3.66 0 0 0-.67.25.5.5 0 0 1-.74-.47.5.5 0 0 1 0-.04zm1.14-.7a10.2 10.2 0 0 1 6.02.31 11.72 11.72 0 0 0 6.83.15V6.32a12.63 12.63 0 0 1-.47.11c-2.08.43-4.34.4-6.68-.36A9.2 9.2 0 0 0 6 5.91v6.94l.14-.04z"}))))}},"7SpX":function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),o=n("VLRb");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var c={getChildren:function(e,t){for(var n=t&&[e]||[],r=e.json.indent,a=e.nextSibling,o=e.json.project_id;a;)if($hasClass(a,"manager")||$hasClass(a,"reorder_item"))a=a.nextSibling;else{if(!a.json||!a.json.indent||a.json.indent<=r)break;if(o!=a.json.project_id)break;n.push(a),a=a.nextSibling}return n},showHideChildren:function(e,t){var n=[];t&&t.json&&n.push(t),n=n.concat(e);for(var r={},a=0;a<n.length;a++){var o=n[a].json;if(o)for(var i=a+1;i<n.length;i++){var c=n[i].json;if(!c)break;if(c.indent<=o.indent)break;r[c.id]=o}}$map(n,(function(e){var t=e.json;if(t){for(var n=!0,a=t;a=r[a.id];)if(a.collapsed){n=!1;break}n?$show(e):$hide(e)}}))},getParent:function(e,t){t||(t=e.json.indent);for(var n=e.previousSibling;n;)if(n.json&&n.json.id&&!n.is_manager){if(n.json.indent<t)return n;n=n.previousSibling}else n=n.previousSibling;return null},getParentChildOrder:function(e){for(var t=this.getParent(e),n=t&&t.json?t.json.id:null,r=e.previousSibling,a=1;r;){if(r.json&&r.json.id&&!r.is_manager){if(r.json.id===n)break;a++}r=r.previousSibling}return{parent_id:n,child_order:a}},imgOnMouseOver:function(e,t,n){$AEV(e,"mouseover",(function(){$removeClass(e,t),$addClass(e,n)})),$AEV(e,"mouseout",(function(){$removeClass(e,n),$addClass(e,t)}))},getMenuEditIcon:function(){var e=DIV({class:"icon menu gear_menu"});return $add(e,svgs.get("sm1/more_small.svg")),e.is_menu_icon=!0,e},getIndent:function(e){if(!e)return 1;var t=e.className.match(/indent_(\d)/);return t?parseInt(t[1]):1},setIndent:function(e,t,n){n||(o.a.mark("GenericManagerUtils/setIndent"),$map([1,2,3,4,5],(function(t){$removeClass(e,"indent_"+t)}))),$addClass(e,"indent_"+t),e.json&&(e.indent=t,e.json.indent=t)},attachClick:function(e,t){if(window.PRINT_MODE)return!1;$AEV(e,"click",(function(e){if(2==e.button)return!1;var n=$eventElm(e);if($hasClass(n,"clickable"))return!0;if(document.selection&&document.selection.createRange().text)return!0;if("input"==$nodeName(n))return!0;if(e.ctrl||e.shift)return!0;if(e._propogated_from_note_icon)return!0;if(n.closest(".task_item_actions"))return!0;if(n.closest(".arrow"))return!0;var r=n&&$gp(n,"a");return!(n&&!r&&!$hasClass(n,"label"))||t(e)}))},genCancel:function(e,t,n,r,o){r=r||_("Cancel");var c=A(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({class:"cancel",href:"",tabIndex:4},o),r);return c.onclick=function(r){var a=$parent(c,e);return $remove(a),n.current_form=null,n.current_cancel=null,$isFunction(t)&&t(r),!1},c},openParents:function(e){var t=c;if(e)for(var n=t.getParent(e);n;){var r=n.json.collapsed;n.json.collapsed=0,r&&t.showHideChildren(c.getChildren(n),n),n=t.getParent(n)}},normalizeIndent:function(e,t){if(t){var n=t.previousSibling;n&&$hasClass(n,"reorder_item")&&(n=n.previousSibling),!n&&e.json&&e.json.indent>1&&c.setIndent(e,1)}},updateParentIds:function(e,t,n){var r=c.getParent(e),a=null;r&&(a=r.json.id),e.json.parent_id!=a&&t.update(e.json.id,{parent_id:a});var o=c.getChildren(e);c.normalizeChildren(e,n,t),c.normalizeChildren(e,o,t);var i=[];i=(i=i.concat(n)).concat(o);var l={};$map(i,(function(e){if(!l[e.json.id]){l[e.json.id]=!0;var n=c.getParent(e),r=null;n&&(r=n.json.id);var a={};e.json.parent_id!=r&&(a.parent_id=r),!n&&e.json.indent>1?a.indent=1:n&&n.json.indent!=e.json.indent+1&&(a.indent=n.json.indent+1,a.indent>t.max_indent&&(a.indent=t.max_indent)),a.indent&&c.setIndent(e,a.indent),$keys(a).length>0&&t.update(e.json.id,a)}}))},normalizeChildren:function(e,t,n){if(t.length>0){var r=t[0];if(r.json.indent!=e.json.indent+1){var a=e.json.indent+1-r.json.indent;$map(t,(function(e){var t=e.json.indent+a;t>n.max_indent&&(t=n.max_indent),c.setIndent(e,t),n.update(r.json.id,{indent:t})}))}}}};window.GenericManagerUtils=c,t.a=c},"7dGA":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c}));var r=function(){return[_x("weekday_sunday","S"),_x("weekday_monday","M"),_x("weekday_tuesday","T"),_x("weekday_wednesday","W"),_x("weekday_thursday","T"),_x("weekday_friday","F"),_x("weekday_saturday","S")]},a=function(){return[_x("mm/yy","Jan"),_x("mm/yy","Feb"),_x("mm/yy","Mar"),_x("mm/yy","Apr"),_x("mm/yy","May"),_x("mm/yy","Jun"),_x("mm/yy","Jul"),_x("mm/yy","Aug"),_x("mm/yy","Sep"),_x("mm/yy","Oct"),_x("mm/yy","Nov"),_x("mm/yy","Dec")]},o="SCROLL_PREV",i="SCROLL_TOP",c="SCROLL_NEXT"},"7gDd":function(e,t,n){"use strict";function r(e){return"zh_TW"===e?"tw":"cs"===e||"tr"===e?"en":e.toLowerCase().substring(0,2)}n.d(t,"a",(function(){return r}))},"7ptE":function(e,t,n){"use strict";function r(e){return navigator.clipboard?navigator.clipboard.writeText(e):window.clipboardData?(window.clipboardData.setData("Text",e),Promise.resolve()):function(e){var t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="0",t.style.top="0",t.style.zIndex="-1",t.style.opacity="0",t.setAttribute("readonly",""),document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length);var n=document.execCommand("copy");return t.remove(),n?Promise.resolve():Promise.reject(new Error("Cannot copy"))}(e)}n.d(t,"a",(function(){return r})),r.supported=navigator.clipboard||window.clipboardData||document.queryCommandSupported&&document.queryCommandSupported("copy")},"81N4":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return d}));var r=n("lSNA"),a=n.n(r);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){return{type:"UPDATE_EXTERNAL_SERVICE_LOCATION",payload:{href:e,title:t}}}function l(e,t){return{type:"UPDATE_CURRENT_EMAIL_OBJECT",payload:{id:e,title:t}}}function s(){return{type:"REMOVE_CURRENT_EMAIL_OBJECT"}}function u(e){var t=function(e){return e&&e.externalServices?e.externalServices.currentLocation:null}(e);return t?{defaultFields:{content:"[".concat(t.title,"](").concat(t.href,")")}}:void 0}function d(e){var t=function(e){return e&&e.externalServices?e.externalServices.currentEmailObject:null}(e);return t?{defaultFields:{content:"[".concat(t.title,"](#openOutlook/").concat(t.id,")")}}:void 0}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_EXTERNAL_SERVICE_LOCATION":return i(i({},e),{},{currentLocation:i({},t.payload)});case"UPDATE_CURRENT_EMAIL_OBJECT":return i(i({},e),{},{currentEmailObject:i({},t.payload)});case"REMOVE_CURRENT_EMAIL_OBJECT":return delete e.currentEmailObject,e;default:return e}}},"888E":function(e,t,n){},"8LmN":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getButton=this.getButton.bind(this),this.showEmoticons=this.showEmoticons.bind(this),this._selectEmoticon=this._selectEmoticon.bind(this),$AEV(document,"mousedown",(function(e){var n=e&&$eventElm(e);if(t.emo_holder&&!$hasClass(n,"emoselect")&&!$hasClass(n,"emoticon")&&!$hasClass(n,"emoji"))return $hide(t.emo_holder)}))}return r(e,null,[{key:"initClass",value:function(){this.prototype.orginal_mapping=[[":-D","\ud83d\ude03"],[":-)","\ud83d\ude0a"],[";-)","\ud83d\ude09"],[";-D","\ud83d\ude02"],["^_^","\ud83d\ude01"],["(love)","\ud83d\ude0d"],[":-o","\ud83d\ude2e"],[":-P","\ud83d\ude0b"],[":-S","\ud83d\ude15"],[":-(","\ud83d\ude1e"],["-_-;","\ud83d\ude13"],["O:-)","\ud83d\ude07"],["X-(","\ud83d\ude21"],["}:-)","\ud83d\ude08"],[":-X","\ud83d\ude37"],[":-|","\ud83d\ude10"],[":-/","\ud83d\ude15"],[":'-(","\ud83d\ude22"],["(+1)","\ud83d\udc4d"],["(-1)","\ud83d\udc4e"],["(heart)","\u2764\ufe0f"],["(star)","\u2b50\ufe0f"],["(doh)","\ud83d\ude2b"]]}}]),r(e,[{key:"getButton",value:function(e,t,n,r){null==t&&(t=32),null==n&&(n=-50);var a=IstButton.createMiniButton(o.cloneNode(!0),null,r);return $AEV(a,"click",$p(this.showEmoticons,a,e,t,n)),a}},{key:"showEmoticons",value:function(e,t,n,r,a){var o=void 0,i=this._getHolder(),c=GB_getLast();o=c?c.cur_zindex+5e4:5e4,i.style.zIndex=o,this.textarea=t;var l=$position(e);return $hasClass(e,"fixed_pos")&&(l.y+=$scrollTop()),$setLeft(this.emo_holder,l.x+n),$setTop(this.emo_holder,l.y+r),$show(this.emo_holder),!1}},{key:"_selectEmoticon",value:function(e){return LibEdit.insertAtCursor(this.textarea," "+e+" ",!1),$hide(this.emo_holder),!1}},{key:"_getHolder",value:function(){if(this.emo_holder)return this.emo_holder;this.emo_holder=DIV({c:"emo_holder"});var e=!0,t=!1,n=void 0;try{for(var r,a=Array.from(this.orginal_mapping)[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var o=r.value,i=A({href:"#",c:"emoselect"},SPAN({c:"emoselect"},o[1]));$AEV(i,"click",$p(this._selectEmoticon,o[0])),$add(this.emo_holder,i)}}catch(e){t=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw n}}return!$isMac()&&window.twemoji&&window.twemoji.parse(this.emo_holder),$hide(this.emo_holder),$add($body(),this.emo_holder),this.emo_holder}}]),e}();a.initClass();var o=$toDOM('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="currentColor"><path d="M9.375 11.75a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25zm5.25 0a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25zm.603 1.75a3.335 3.335 0 0 1-6.456 0h6.456z"/><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 1a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"/></g></svg>');window.Emoticons=new a},"8qSS":function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),l=n.n(c),s=n("17x9"),u=n.n(s);function d(e){var t=e.size,n=void 0===t?"medium":t,r=i()(e,["size"]);return"small"===n?l.a.createElement("svg",a()({width:"12",height:"12",viewBox:"0 0 12 12"},r),l.a.createElement("g",{fill:"none",fillRule:"evenodd"},l.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M9.5 1A1.5 1.5 0 0 1 11 2.5v5A1.5 1.5 0 0 1 9.5 9H7.249L5.28 10.97A.75.75 0 0 1 4 10.44V9H2.5A1.5 1.5 0 0 1 1 7.5v-5A1.5 1.5 0 0 1 2.5 1h7zm0 1h-7a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5H5v1.836L6.835 8H9.5a.5.5 0 0 0 .5-.5v-5a.5.5 0 0 0-.5-.5z"}))):l.a.createElement("svg",a()({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","data-svgs-path":"sm1/comments.svg"},r),l.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M11.707 20.793A1 1 0 0 1 10 20.086V18H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4.5l-2.793 2.793zM11 20.086L14.086 17H19a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h6v3.086z"}))}d.propTypes={size:u.a.oneOf(["medium","small"])},t.a=d},"92A6":function(e,t,n){"use strict";var r=n("TSYQ"),a=n.n(r),o=n("OgjY"),i=n("lDtu");t.a=function(e){if(!e)return"";var t=new Date,n=new Date;n.setDate(n.getDate()+1);var r=e instanceof o.a?e:o.a.fromDate(new Date(e)),c=i.b.day_diff(t,r.toDate());return a()({date_future:c<=7&&c>1,date_overdue:r.isLessThan(t),date_today:r.isSameDate(t),date_tom:r.isSameDate(n)})}},"9L8O":function(e,t,n){"use strict";function r(){var e=new Date,t=e.getDate()>9?e.getDate():"0".concat(e.getDate()),n=e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1);return"".concat(e.getFullYear(),"-").concat(n,"-").concat(t)}n.d(t,"a",(function(){return r}))},"9VMT":function(e,t,n){},"9a1b":function(e,t,n){e.exports={listbox:"QJOVKMIMeqCArMXHzA1mI"}},"9d0M":function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),o=n("/MKj"),i=n("J4zp"),c=n.n(i),l=n("q1tI"),s=n.n(l),u=n("17x9"),d=n.n(u),f=n("GpCm"),m=n("4eld"),p=n("jlRT"),h=n("pVnL"),v=n.n(h),b=n("ncwO"),g=n("UVeO");function y(e){var t=e.locations,n=e.setPastLocation,r=t.map((function(e){var t=c()(e,3),n=t[0],r=t[1],a=t[2];return{id:"".concat(n,"-").concat(r,"-").concat(a),name:n,lat:parseFloat(r),lng:parseFloat(a)}}));return s.a.createElement(b.a,{label:_("Recent locations"),emptyResultsPlaceholder:_("No recent locations found."),items:r,selectedItemId:null,renderItem:function(e){var t=e.item;return s.a.createElement("div",{className:"reminders_picker_option"},t.name)},onSelect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.event;r&&r.stopPropagation(),n(e)},filterItems:function(e){var t=e.items,n=e.value;return t.filter((function(e){return e.name.includes(n)}))}},(function(e){var t=e.toggle,n=e.buttonProps;return s.a.createElement(m.a,v()({className:"reminders_picker_locations",onClick:t},n),s.a.createElement(g.q,null),s.a.createElement(g.fb,null))}))}y.propTypes={locations:d.a.array.isRequired,setPastLocation:d.a.func.isRequired};var O=n("7BR2");function j(e){var t=e.reminderTime,n=e.setReminderTime,r=Object(O.d)(),a=_("%s before").replace("%s",r[t]),o=Object.keys(r).map((function(e){var t=r[e];return{id:e=parseInt(e),name:t}}));return s.a.createElement(b.a,{label:_("Remind me"),className:"reminders_picker_relative_selector--container",emptyResultsPlaceholder:_("No matches. Press Esc to hide auto-completion."),items:o,selectedItemId:t,renderItem:function(e){var t=e.item;return s.a.createElement("div",{className:"reminders_picker_option"},t.name)},onSelect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.event;r&&r.stopPropagation(),n(e.id)},filterItems:function(e){var t=e.items,n=e.value;return t.filter((function(e){return e.name.includes(n)}))}},(function(e){var t=e.toggle,n=e.buttonProps;return s.a.createElement(m.a,v()({className:"reminders_picker_relative_selector",onClick:t},n),a,s.a.createElement(g.q,null))}))}j.propTypes={reminderTime:d.a.number.isRequired,setReminderTime:d.a.func.isRequired};var w=n("lrs5"),E=n("UDQ1");function k(e){var t=e.projectId,n=e.whoToNotify,r=e.setWhoToNotify;return s.a.createElement(E.a,{showUnassignedOption:!1,projectId:t,value:null==n?void 0:n.id,onChange:function(e){var t=e.target,n=Array.isArray(t.selectedUser)?t.selectedUser[0]:t.selectedUser;r(n)},className:"reminders_picker_collaborators"},s.a.createElement(w.b,{size:"small",user:n}),s.a.createElement(g.q,null))}k.propTypes={projectId:d.a.number.isRequired,whoToNotify:d.a.object.isRequired,setWhoToNotify:d.a.func.isRequired};var D=n("Vbab");function C(e){var t,n=e.reminderText,r=e.onReminderTextChange,a=e.reminderInterface,o=e.reminderTime,i=e.setReminderTime,u=e.whoToNotify,d=e.setWhoToNotify,p=e.type,h=e.onTypeChange,v=e.mapCanvasRef,b=e.googlePlacesRef,w=e.place,E=e.setPastLocation,C=e.isSharedProject,S=e.projectId,I=e.lastLocations,T=e.locationTriggerMoment,A=e.setLocationTriggerMoment,x=Object(l.useState)(!1),P=c()(x,2),R=P[0],N=P[1],L=Object(l.useRef)(null),M=Object(l.useRef)(null);Object(l.useEffect)((function(){p===O.a&&L.current?L.current.focus():p===O.b&&b.current&&b.current.focus()}),[p,b]);var F=p===O.a?Object(D.a)("today at 2pm"):Object(D.a)("Type location"),z=function(e){switch(e){case O.c:return s.a.createElement(g.R,null);case O.b:return s.a.createElement(g.fb,null);case O.a:default:return s.a.createElement(g.l,null)}}(p);function B(e,t){e.nativeEvent.stopImmediatePropagation(),e.stopPropagation(),h(t),r(""),N(!1)}var V=s.a.createElement(f.c,{referenceElement:null!==(t=M.current)&&void 0!==t?t:void 0,isShown:R,withArrow:!1,onClose:function(){return N(!1)}},s.a.createElement("div",{className:"reminders_picker_options"},s.a.createElement("div",{className:"reminders_picker_option",onClick:function(e){return B(e,O.a)}},s.a.createElement(g.l,{className:"reminders_picker_option__icon"}),_("Date and time")),"relative"===a?s.a.createElement("div",{className:"reminders_picker_option",onClick:function(e){return B(e,O.c)}},s.a.createElement(g.R,{className:"reminders_picker_option__icon"}),_("Before task")):null,s.a.createElement("div",{className:"reminders_picker_option",onClick:function(e){return B(e,O.b)}},s.a.createElement(g.fb,{className:"reminders_picker_option__icon"}),_("Location")))),$=p===O.a?s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{ref:L,value:n,onChange:function(e){return r(e.target.value)},placeholder:F}),C?s.a.createElement(k,{projectId:S,whoToNotify:u,setWhoToNotify:d}):null):null,H=p===O.c?s.a.createElement(s.a.Fragment,null,s.a.createElement(j,{reminderTime:o,setReminderTime:i}),C?s.a.createElement(k,{projectId:S,whoToNotify:u,setWhoToNotify:d}):null):null,U=p===O.b?s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{ref:b,placeholder:F}),s.a.createElement(y,{setPastLocation:E,locations:I})):null;return s.a.createElement("div",null,s.a.createElement("div",{className:"adder"},s.a.createElement(m.a,{ref:M,className:"switcher menu",onClick:function(){return N(!R)}},z,s.a.createElement(g.q,{className:"menu_icon"})),V,s.a.createElement("div",{className:"absolute reminders_picker_input_container"},$,H,U)),s.a.createElement("div",{className:"adder_below"},"location"===p?s.a.createElement("div",{className:"map_holder",style:{display:w?"block":"none"}},s.a.createElement("div",{className:"map",ref:v}),s.a.createElement("select",{value:T,onChange:function(e){A(e.target.value)}},s.a.createElement("option",{value:"on_enter"},_("When I arrive")),s.a.createElement("option",{value:"on_leave"},_("When I leave")))):null))}function S(e){var t=e.type,n=Object(l.useState)(null),r=c()(n,2),a=r[0],o=r[1],i=Object(l.useState)("on_enter"),s=c()(i,2),u=s[0],d=s[1],f=Object(l.useRef)(null),m=Object(l.useRef)(null),p=Object(l.useRef)(null);function h(e,t){return{name:e,loc_lat:"".concat(t.lat()),loc_long:"".concat(t.lng()),loc_trigger:u,radius:100}}return Object(l.useEffect)((function(){var e,n,r,a=!1;if("location"===t)return Object(O.f)().then((function(){n=new window.google.maps.places.Autocomplete(p.current),e=window.google.maps.event.addListener(n,"place_changed",i),r=window.google.maps.event.addDomListener(p.current,"keydown",(function(e){13===e.keyCode?a&&(e.preventDefault(),e.stopPropagation()):a=!0}))})),function(){e&&window.google&&window.google.maps.event.removeListener(e),r&&window.google&&window.google.maps.event.removeListener(r),f.current&&(f.current=null),o(null)};function i(){a=!1;var e=n.getPlace();o(e)}}),[t,p]),Object(l.useEffect)((function(){if(a){var e,t,n=a.geometry;if(a.geometry)f.current||(e=new window.google.maps.Map(m.current,{zoom:17,mapTypeControl:!1,zoomControl:!0,streetViewControl:!1}),t=new window.google.maps.Marker({map:e,anchorPoint:new window.google.maps.Point(0,-29),draggable:!0}),f.current={gmap:e,gmarker:t}),f.current.gmarker.setPosition(n.location),f.current.gmarker.setVisible(!0),f.current.startLocation=f.current.gmarker.getPosition(),n.viewport?f.current.gmap.fitBounds(n.viewport):(f.current.gmap.setCenter(n.location),f.current.gmap.setZoom(17))}}),[a]),{place:a,mapCanvasRef:m,googlePlacesRef:p,setPastLocation:function(e){Object(O.f)().then((function(){var t={name:e.name,geometry:{viewport:null,location:new window.google.maps.LatLng(e.lat,e.lng)}};o(t),p.current&&(p.current.value=t.name)}))},getPlace:function(){return new Promise((function(e,t){if(a&&f.current&&f.current.gmarker){var n=f.current,r=n.gmarker,o=n.startLocation,i=r.getPosition();if(o&&i.lat()===o.lat()&&i.lng()===o.lng())return e(h(a.name,i));!function(e,t){var n={location:new window.google.maps.LatLng(e.lat(),e.lng()),radius:"5"};new window.google.maps.places.PlacesService(f.current.gmap).nearbySearch(n,(function(e){return e&&e.length>0?t(e[0].name):t(null)}))}(i,(function(t){var n=t||a.name;e(h(n,i))}))}else t(new Error("Please select a location first"))}))},resetPlace:function(){o(null),p.current&&(p.current.value="",p.current.focus())},locationTriggerMoment:u,setLocationTriggerMoment:d}}C.propTypes={reminderText:d.a.string,onReminderTextChange:d.a.func.isRequired,reminderInterface:d.a.oneOf(["absolute","relative"]),type:d.a.oneOf(["absoluteTime","relativeTime","location"]),onTypeChange:d.a.func.isRequired,place:d.a.object,setPastLocation:d.a.func.isRequired,isSharedProject:d.a.bool.isRequired,projectId:d.a.number.isRequired,lastLocations:d.a.array.isRequired,mapCanvasRef:d.a.shape({current:d.a.any}).isRequired,googlePlacesRef:d.a.shape({current:d.a.any}).isRequired,locationTriggerMoment:d.a.oneOf(["on_enter","on_leave"]).isRequired,setLocationTriggerMoment:d.a.func.isRequired,reminderTime:d.a.number.isRequired,setReminderTime:d.a.func.isRequired,whoToNotify:d.a.object,setWhoToNotify:d.a.func.isRequired};var I=n("OgjY"),T=n("yn26"),A=n("1zEf");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){var t=e.item,n=e.onClose,r=e.onAddReminder,o=e.onDeleteReminder,i=e.reminders,u=void 0===i?[]:i,d=e.user,f=e.isSharedProject,h=e.lastLocations,v=Object(l.useState)(""),b=c()(v,2),y=b[0],j=b[1],w=Object(l.useState)(null),E=c()(w,2),k=E[0],D=E[1],P=Object(l.useState)(d),R=c()(P,2),N=R[0],L=R[1],M=t.due&&t.due.with_time?"relative":"absolute",F=Object(l.useState)("relative"===M?O.c:O.a),z=c()(F,2),B=z[0],V=z[1],$=Object(l.useState)(void 0===d.auto_reminder||-1===d.auto_reminder?30:d.auto_reminder),H=c()($,2),U=H[0],q=H[1],G=S({type:B}),W=G.mapCanvasRef,K=G.place,Y=G.googlePlacesRef,J=G.getPlace,Q=G.setPastLocation,Z=G.resetPlace,X=G.locationTriggerMoment,ee=G.setLocationTriggerMoment;Object(l.useEffect)((function(){B===O.c&&"absolute"===M&&V(O.a)}),[M,B]);return s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),B===O.b)J().then((function(e){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({item_id:t.id,type:"location"},e);r(B,n),Z()})).catch((function(){D(_("Please select a location first"))}));else{var n={item_id:t.id,service:"default"};if(B===O.a){var o=Object(O.g)(y);if(o.error)return D(o.error),!1;n.due=I.a.fromDateist(o),n.type="absolute"}else n.minute_offset=U,n.type="relative";f&&N&&N.id&&(n.notify_uid=N.id),r(B,n),j("")}}},s.a.createElement("div",{className:"reminders_picker_title_container"},s.a.createElement("h2",null,_("Reminders")),s.a.createElement(g.x,{onClick:n})),s.a.createElement("div",{className:"reminder_manager"},s.a.createElement(T.a,{item:t,reminders:u,onDeleteReminder:o}),s.a.createElement(C,{reminderInterface:M,reminderText:y,onReminderTextChange:j,locationTriggerMoment:X,setLocationTriggerMoment:ee,whoToNotify:N,setWhoToNotify:L,reminderTime:U,setReminderTime:q,setPastLocation:Q,type:B,mapCanvasRef:W,place:K,googlePlacesRef:Y,onTypeChange:V,isSharedProject:f,projectId:t.project_id,lastLocations:h}),s.a.createElement("div",null,s.a.createElement("a",{className:"help",target:"_blank noreferrer",href:A.n},s.a.createElement(g.Q,null)),s.a.createElement(m.a,{type:"submit",className:"ist_button ist_button_red"},_("Add reminder"))))),s.a.createElement(p.a.Box,{isOpen:Boolean(k),onDismiss:function(){return D(null)},closeOnOverlayClick:!0},s.a.createElement(p.a.Body,null,s.a.createElement("div",{className:"alert_holder"},s.a.createElement("div",{className:"text_holder"},k))),s.a.createElement(p.a.Actions,null,s.a.createElement(m.a,{className:"ist_button ist_button_red",onClick:function(){return D(null)}},_("OK")))))}P.propTypes={item:d.a.object.isRequired,onClose:d.a.func.isRequired,onDeleteReminder:d.a.func.isRequired,onAddReminder:d.a.func.isRequired,reminders:d.a.array,user:d.a.object.isRequired,isSharedProject:d.a.bool.isRequired,collaborators:d.a.array,lastLocations:d.a.array.isRequired};var R=n("X6fj");function N(e){var t=e.children,n=e.item,r=e.reminders,a=e.user,o=e.canUseReminders,i=e.userPlanLimits,u=e.isSharedProject,d=e.collaborators,m=e.onAddReminder,p=e.onDeleteReminder,h=e.onCloseReminder,v=void 0===h?function(){}:h,b=e.lastLocations,g=Object(l.useState)(!1),_=c()(g,2),y=_[0],O=_[1],j=Object(l.useRef)(null),w={ref:j,onClick:function(){o?O(!y):Object(R.b)({type:"REMINDERS",userPlanLimits:i})}};return s.a.createElement(s.a.Fragment,null,t(w),s.a.createElement(f.c,{className:"reminders_picker",referenceElement:j.current,isShown:y,withArrow:!0,onClose:function(){j.current.focus(),O(!1)},zIndex:!1},s.a.createElement(P,{item:n,reminders:r,onClose:function(){O(!1),v()},onAddReminder:m,onDeleteReminder:p,user:a,isSharedProject:u,collaborators:d,lastLocations:b})))}N.propTypes={children:d.a.func.isRequired,item:d.a.object.isRequired,reminders:d.a.array,user:d.a.object.isRequired,canUseReminders:d.a.bool.isRequired,userPlanLimits:d.a.object.isRequired,isSharedProject:d.a.bool.isRequired,collaborators:d.a.array,onAddReminder:d.a.func.isRequired,onDeleteReminder:d.a.func.isRequired,onCloseReminder:d.a.func,lastLocations:d.a.array.isRequired};var L=n("S+H7"),M=n("jVEK"),F=n("adfy"),z=n("NLcT"),B=n("p3jf"),V=n("A72/");function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.a=Object(o.c)((function(e,t){return{reminders:t.reminders||Object(B.f)(e)[t.item.id],isSharedProject:Object(L.m)(e,t.item.project_id),allCollaborators:Object(L.g)(e),user:Object(M.i)(e),lastLocations:F.a.getLastLocations(),canUseReminders:Object(V.p)(e),userPlanLimits:Object(V.s)(e),onDeleteReminder:function(e){t.onReminderDelete?t.onReminderDelete(e):t.item.id&&z.a.remove(e.id)},onCloseReminder:function(){t.onReminderClose&&t.onReminderClose()}}}),(function(e,t){return{onAddReminder:function(n,r){t.onReminderAdd?t.onReminderAdd(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:n},r)):t.item.id&&e("location"===n?Object(B.c)(r):Object(B.d)(r))}}}))(N)},"9l1k":function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),l=n.n(c),s=n("TSYQ"),u=n.n(s);t.a=function(e){var t=e.className,n=i()(e,["className"]);return l.a.createElement("svg",a()({className:u()("ring_spinner",t),width:"24",height:"24",viewBox:"0 0 24 24"},n),l.a.createElement("g",{fill:"none",fillRule:"nonzero"},l.a.createElement("path",{className:"inner",d:"M17.945 3.958A9.955 9.955 0 0 0 12 2c-2.19 0-4.217.705-5.865 1.9L5.131 2.16A11.945 11.945 0 0 1 12 0c2.59 0 4.99.82 6.95 2.217l-1.005 1.741z"}),l.a.createElement("path",{className:"outter",d:"M5.13 2.16L6.136 3.9A9.987 9.987 0 0 0 2 12c0 5.523 4.477 10 10 10s10-4.477 10-10a9.986 9.986 0 0 0-4.055-8.042l1.006-1.741A11.985 11.985 0 0 1 24 12c0 6.627-5.373 12-12 12S0 18.627 0 12c0-4.073 2.029-7.671 5.13-9.84z"})))}},"9qUF":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{d:"M18 4a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h12zm0 1H6a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V6a1 1 0 00-1-1zm-1 3a.5.5 0 010 1H7a.5.5 0 010-1h10z",fill:"currentColor"});function i(e){return r.createElement("svg",a({width:24,height:24},e),o)}n.p},A0QH:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return v}));var r=n("lwsE"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("bt/X"),l=n.n(c),s=n("OljV"),u=n("m0B0"),d=n("AcaU"),f=[d.l,d.n,d.m,d.x,d.N];var m=function e(t,n){a()(this,e),i()(this,"items",void 0),i()(this,"day_date",void 0),this.items=t,this.day_date=n},p=function e(t){a()(this,e),i()(this,"items",void 0),this.items=t},h=function e(t,n){a()(this,e),i()(this,"items",void 0),i()(this,"name",void 0),this.items=t,this.name=n};function v(e,t,n){if("day"===function e(t){if(t.isLeaf())return f.some((function(e){return t.token instanceof e}))?"day":"flat";if(t.token instanceof d.v)return"flat";if(!t.left||!t.right)throw new Error("Unexpected tree structure");var n="day"===e(t.left),r="day"===e(t.right);return t.token instanceof d.c?n||r?"day":"flat":t.token instanceof d.w&&n&&r?"day":"flat"}(t))return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=l()(e,(function(e){return e.due&&!Object(u.a)(t,e.due)&&e.due.getTime()<t.getTime()?"overdue":Object(s.a)(e.due,{dateOnly:!0})})),r=Object.keys(n).map((function(e){var t=n[e];if("overdue"===e)return new p(t);var r=t[0].due.toDate();return new m(t,r)})).sort((function(e,t){return e instanceof p?-1:t instanceof p?1:e.day_date<t.day_date?-1:1}));return r}(n);var r=function(e){var t=e.map((function(e){return e instanceof d.w||e instanceof d.c?" ".concat(e.matchedStr," "):e.matchedStr})).join("");if(t.length<=50)return t;return t.slice(0,50)+" \u2026"}(e);return new h(n,r)}},A5ZW:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("OH70"),l=n("EH7W"),s=n("WxMS"),u=n("mItv"),d=n("dgfd"),f=n("xgwk");function m(e){return a.a.createElement(c.a,{className:"empty-state-productivity",isWindowCentered:!1},a.a.createElement(f.a,{path:"productivity.svg"}),a.a.createElement(d.a,null,_("See tangible progress")),a.a.createElement(l.a,null,_("Set daily and weekly goals, review your productivity trends, and watch your Karma points grow.")),a.a.createElement(s.a,{onClick:e.onButtonClick},_("Set your goals")),a.a.createElement(u.a,{link:"https://support.todoist.com/hc/articles/206209959"},_("Learn about Karma")))}m.propTypes={onButtonClick:i.a.func},m.defaultProps={onButtonClick:function(){}},t.a=m},"A72/":function(e,t,n){"use strict";n.d(t,"e",(function(){return i.canAddFilters})),n.d(t,"f",(function(){return i.canAddLabels})),n.d(t,"g",(function(){return i.canAddLocationReminders})),n.d(t,"j",(function(){return i.canAddTimeReminders})),n.d(t,"h",(function(){return i.canAddSections})),n.d(t,"i",(function(){return i.canAddTasks})),n.d(t,"d",(function(){return i.canAddComments})),n.d(t,"l",(function(){return i.canUploadAttachments})),n.d(t,"o",(function(){return i.canUseLabels})),n.d(t,"b",(function(){return i.canAccessCompletedView})),n.d(t,"c",(function(){return i.canAccessWeeklyTrends})),n.d(t,"p",(function(){return i.canUseReminders})),n.d(t,"n",(function(){return i.canUseFilters})),n.d(t,"a",(function(){return i.canAccessActivityLog})),n.d(t,"s",(function(){return i.getUserPlan})),n.d(t,"q",(function(){return i.canUseTemplates})),n.d(t,"k",(function(){return i.canForwardEmails})),n.d(t,"m",(function(){return i.canUseCalendarFeeds}));var r=n("qRd9"),a=n("nvqi");var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.a:var n=t.payload.userPlanLimits;return n||e;case a.a:case a.b:var o=t.payload.user_plan_limits;return o||e}return e},i=n("0tNw");t.r=o},AGwO:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M10 14.5a2 2 0 104 0h5.5V18a1.5 1.5 0 01-1.5 1.5H6A1.5 1.5 0 014.5 18v-3.5H10z",opacity:.1}),r.createElement("path",{d:"M8.062 4h7.876a2 2 0 011.94 1.515l2.062 8.246a2 2 0 01.06.485V18a2 2 0 01-2 2H6a2 2 0 01-2-2v-3.754a2 2 0 01.06-.485l2.06-8.246A2 2 0 018.061 4zm0 1a1 1 0 00-.97.757L5.03 14.004a1 1 0 00-.03.242V18a1 1 0 001 1h12a1 1 0 001-1v-3.754a1 1 0 00-.03-.242l-2.06-8.247A1 1 0 0015.94 5H8.061zM12 17.25A2.75 2.75 0 019.295 15H7a.5.5 0 110-1h2.75a.5.5 0 01.5.5 1.75 1.75 0 003.5 0 .5.5 0 01.5-.5H17a.5.5 0 110 1h-2.295A2.75 2.75 0 0112 17.25zm-2.665-5.89C9.6 10.453 10.488 10 12 10s2.4.453 2.665 1.36a.5.5 0 01-.48.64h-4.37a.5.5 0 01-.48-.64zM12 9.5A1.25 1.25 0 1112 7a1.25 1.25 0 010 2.5z"}));function i(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24"},e),o)}n.p},AOAU:function(e,t,n){var r=n("cDf5");function a(e){this.size=0,this.limit=e,this._keymap={}}a.prototype.put=function(e,t){var n={key:e,value:t};if(this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit)return this.shift();this.size++},a.prototype.shift=function(){var e=this.head;return e&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):this.head=void 0,e.newer=e.older=void 0,delete this._keymap[e.key]),e},a.prototype.get=function(e,t){var n=this._keymap[e];if(void 0!==n)return n===this.tail||(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=void 0,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n),t?n:n.value},a.prototype.find=function(e){return this._keymap[e]},a.prototype.set=function(e,t){var n,r=this.get(e,!0);return r?(n=r.value,r.value=t):(n=this.put(e,t))&&(n=n.value),n},a.prototype.remove=function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.head=t.newer):t.older?(t.older.newer=void 0,this.tail=t.older):this.head=this.tail=void 0,this.size--,t.value},a.prototype.removeAll=function(){this.head=this.tail=void 0,this.size=0,this._keymap={}},"function"==typeof Object.keys?a.prototype.keys=function(){return Object.keys(this._keymap)}:a.prototype.keys=function(){var e=[];for(var t in this._keymap)e.push(t);return e},a.prototype.forEach=function(e,t,n){var a;if(!0===t?(n=!0,t=void 0):"object"!==r(t)&&(t=this),n)for(a=this.tail;a;)e.call(t,a.key,a.value,this),a=a.older;else for(a=this.head;a;)e.call(t,a.key,a.value,this),a=a.newer},a.prototype.toJSON=function(){for(var e=[],t=this.head;t;)e.push({key:t.key.toJSON(),value:t.value.toJSON()}),t=t.newer;return e},a.prototype.toString=function(){for(var e="",t=this.head;t;)e+=String(t.key)+":"+t.value,(t=t.newer)&&(e+=" < ");return e},"object"===r(this)&&(this.LRUCache=a),window.LRUCache=a},ARXc:function(e,t,n){"use strict";n.d(t,"g",(function(){return o.h})),n.d(t,"d",(function(){return o.f})),n.d(t,"c",(function(){return o.e})),n.d(t,"f",(function(){return g.c})),n.d(t,"e",(function(){return g.a})),n.d(t,"a",(function(){return b}));var r=n("lSNA"),a=n.n(r),o=n("zeUM"),i=n("qRd9"),c=n("nvqi"),l=n("3/82"),s=n("TQFH"),u=n("gmEJ"),d=n("duPW"),f=n.n(d),m=n("5GVm");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:case i.a:return{itemsById:{},items:{},sections:{},projects:{}};case c.b:var n;if(!t.payload.temp_id_mapping)return e;var r=Object(m.f)(null!==(n=null==e?void 0:e.items)&&void 0!==n?n:{},t.payload.temp_id_mapping);return h(h({},e),{},{items:r});case o.c:var l=t.payload,s=l.id,u=l.data,d=l.type,f=void 0===d?"items":d,p=u?h(h({},e&&e[f][s]),u):void 0;return h(h({},e),{},a()({},f,h(h({},e&&e[f]),{},a()({},s,p))));case o.d:var v=t.payload;return h(h({},e),{},{itemsById:a()({},v.id,v)});case o.b:var b=t.payload,g=b.id,_=b.type,y=b.typeId,O=e&&e[_]&&e[_][y]&&e[_][y].completedItems,j=O&&O.filter((function(e){return e.item.id!==g}));return h(h({},e),{},a()({},_,h(h({},e&&e[_]),{},a()({},y,h(h({},e&&e[_][y]),{},{completedItems:j})))))}return e};function b(e,t){switch(t.type){case c.b:if(!(e.completed&&e.completedItems&&e.items&&t.payload.items))return e;var n=e.items,r=e.completed,i=e.completedItems,d=t.payload.items.filter((function(e){return e.checked&&!Object(m.c)(i,e)})).reduce((function(t,a){return Object(m.a)({item:a,childTasks:Object.values(n).filter((function(e){return e.parent_id===e.id&&!e.checked})),completed:r,completedItems:t,state:e})}),i),p=t.payload.items.filter((function(e){return!e.checked&&Object(m.c)(i,e)})).reduce((function(e,t){return Object(m.e)(e,t)}),d);return h(h({},e),{},{completedItems:p});case o.a:var v=t.payload,b=v.item,g=v.childTasks;if(null===e.completed)return e;if(null===e.completedItems)return e;var _=Object(m.a)({item:b,childTasks:g.filter((function(e){return!e.checked})),completed:e.completed,completedItems:e.completedItems,state:e});return h(h({},e),{},{completedItems:_});case s.d:if(null===e.completedItems)return e;var y=f()("undo.prevState.items",e)||{},O=Object.values(y).reduce(m.e,e.completedItems);return h(h({},e),{},{completedItems:O});case s.h:var j=t.payload,w=j.completedItems,E=j.section;if(null===e.completedItems)return e;if(null===e.completed)return e;var k=[],D=w.reduce((function(e,t){var n=Object(m.d)(t),r=n.itemId,o=n.type,i=f()("".concat(o,".").concat(r,".completedItems"),e);return i&&0!==i.length?(i.some((function(e){if(e.item.id===t.id&&"items"===o){var n=e.completed.items[t.id];n&&k.push(n)}return!1})),h(h({},e),{},a()({},o,h(h({},e[o]),{},a()({},r,h(h({},e[o][r]),{},{completedItems:i.filter((function(e){return e.item.id!==t.id}))})))))):e}),e.completedItems),C=k.reduce((function(e,t){return h(h({},e),{},a()({},"items",h(h({},e.items),{},a()({},t.id,h(h({},e.items[t.id]),t)))))}),e.completed);if(E){var S=D.projects[E.project_id];if(S&&S.completedSections){var I=S.completedSections.filter((function(e){return e.section.id!==E.id}));D=h(h({},D),{},{projects:h(h({},D.projects),{},a()({},E.project_id,h(h({},S),{},{completedSections:I})))})}}return h(h({},e),{},{completed:C,completedItems:D});case u.a:var T=t.payload,A=T.id,x=T.archivedDate;if(null===e.completed)return e;var P=e.sections[A],R=Object.values(e.items||{}).filter((function(e){return e.section_id===A})),N=R.filter((function(e){return null===e.parent_id})),L=R.filter((function(e){return null!==e.parent_id})),M=L.reduce((function(e,t){return null!==t.parent_id&&(e[t.id]=t.parent_id),e}),{}),F=N.map((function(e){return{item:e,childTasks:L.filter((function(t){for(var n=t.parent_id;n;){if(n===e.id)return!0;n=M[n]}return!1}))}})),z=e.completed&&e.completed.sections[A]||{section_id:A,completed_items:0,id:A},B=h(h({},z),{},{completed_items:(z.completed_items||0)+N.length}),V={collapsed:!1,section:h(h({},P),{},{date_archived:x,is_archived:!0}),completed:Object(l.d)([B])},$=(e.completedItems&&e.completedItems.projects[P.project_id]||{}).completedSections||[],H=h(h({},e.completedItems),{},{projects:h(h({},e.completedItems&&e.completedItems.projects),{},a()({},P.project_id,h(h({},e.completedItems&&e.completedItems.projects[P.project_id]),{},{completedSections:[V].concat($)})))}),U=F.slice().reverse().reduce((function(t,n){var r=n.item,a=n.childTasks;return Object(m.a)({item:r,childTasks:a,completed:e.completed,completedItems:t,dateCompleted:x,state:e})}),H);return h(h({},e),{},{completedItems:U})}return e}var g=n("HFim");t.b=v},AcaU:function(e,t,n){"use strict";n.d(t,"G",(function(){return G})),n.d(t,"I",(function(){return W})),n.d(t,"H",(function(){return K})),n.d(t,"g",(function(){return Y})),n.d(t,"h",(function(){return J})),n.d(t,"v",(function(){return te})),n.d(t,"q",(function(){return ne})),n.d(t,"B",(function(){return re})),n.d(t,"c",(function(){return ae})),n.d(t,"w",(function(){return oe})),n.d(t,"y",(function(){return ie})),n.d(t,"t",(function(){return ce})),n.d(t,"p",(function(){return le})),n.d(t,"s",(function(){return se})),n.d(t,"z",(function(){return ue})),n.d(t,"A",(function(){return de})),n.d(t,"D",(function(){return fe})),n.d(t,"r",(function(){return me})),n.d(t,"l",(function(){return pe})),n.d(t,"n",(function(){return he})),n.d(t,"m",(function(){return ve})),n.d(t,"o",(function(){return be})),n.d(t,"i",(function(){return ge})),n.d(t,"k",(function(){return _e})),n.d(t,"j",(function(){return ye})),n.d(t,"x",(function(){return Oe})),n.d(t,"N",(function(){return je})),n.d(t,"J",(function(){return we})),n.d(t,"K",(function(){return Ee})),n.d(t,"M",(function(){return ke})),n.d(t,"b",(function(){return De})),n.d(t,"C",(function(){return Ce})),n.d(t,"f",(function(){return Se})),n.d(t,"e",(function(){return Ie})),n.d(t,"d",(function(){return Te})),n.d(t,"a",(function(){return Ae})),n.d(t,"E",(function(){return xe})),n.d(t,"F",(function(){return Pe})),n.d(t,"u",(function(){return Re})),n.d(t,"L",(function(){return Ne}));var r=n("J4zp"),a=n.n(r),o=n("PJYZ"),i=n.n(o),c=n("7W2i"),l=n.n(c),s=n("a1gu"),u=n.n(s),d=n("Nsbk"),f=n.n(d),m=n("lwsE"),p=n.n(m),h=n("W8MJ"),v=n.n(h),b=n("lSNA"),g=n.n(b),_=n("TYy9"),y=n.n(_),O=n("fAMu"),j=n("aSPn"),w=n("m0B0");function E(e,t){return Object(w.a)(e,t)&&e.getHours()==t.getHours()&&e.getMinutes()==t.getMinutes()}function k(e){return(e=new Date(e.getTime())).setHours(23),e.setMinutes(59),e.setSeconds(59),e.setMilliseconds(999),e}function D(e){return(e=new Date(e.getTime())).setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function C(e){return!(59===e.getMinutes()&&59===e.getSeconds())}var S=n("lDtu");function I(){var e=function(e,t,n,r,a){n.lang=t;try{return S.a.parse(e,n)}catch(e){return null}},t=Object(j.a)(e),n=Object(j.a)(e);return function(e,r,a){var o=I.now(),i=t(e,r,a,o.getMonth(),o.getDate());return i&&"hour"===i.unit&&(i=n(e,r,a,o.getMonth(),o.getDate(),o.getHours(),o.getMinutes())),i?i.due_date:null}}I.defaultNow=function(){return new Date},I.now=I.defaultNow;var T=n("oyQV"),A=n("uS8r"),x=n.n(A),P=n("DoMW"),R=n("ejxE"),N=n.n(R),L=n("US0Z"),M=n.n(L),F=n("Jv0Z"),z=n("peh1"),B=n("ANjH"),V=n("nbr2"),$=n("vNHF");function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var G="BINARY_OPERATOR",W="UNARY_OPEATOR",K="OPERAND",Y="COLLABORATOR_ME",J="COLLABORATOR_OTHERS";function Q(e){var t=e,n=null;RegExp(/\u002A\uFE0F\u20E3/).exec(t)&&(n=Object($.a)(),t=t.replace(/\u002A\uFE0F\u20E3/g,n)),t=(t=(t=Object(T.a)(t)).replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&")).replace(/\*/g,".*"),t="^".concat(t,"$");var r=RegExp(t);return function(e){return n&&RegExp(/\u002A\uFE0F\u20E3/).exec(e)&&(e=e.replace(/\u002A\uFE0F\u20E3/g,n)),e=Object(T.a)(e),r.test(e)}}function Z(e){switch(e){case Y:return Object(z.createSelector)((function(e){return e.user}),(function(e){return function(t){return Boolean(t&&t===e.id)}}));case J:return Object(z.createSelector)((function(e){return e.user}),(function(e){return function(t){return Boolean(t&&t!==e.id)}}));default:var t=Q(e),n=V.a.createCollaboratorFilterSelector((function(e){return t(e.full_name)||t(e.email)}));return Object(z.createSelector)(n,(function(e){return function(t){return Boolean(t&&e[t])}}))}}var X=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;p()(this,e),g()(this,"type",void 0),g()(this,"matchedStr",void 0),g()(this,"index",void 0),this.type=t,this.matchedStr=n,this.index=r}return v()(e,[{key:"toString",value:function(){return"".concat(this.constructor.name)}},{key:"eval",value:function(e,t){throw new F.b("".concat(this.constructor.name," did not implement eval"))}}]),e}(),ee=function(e){l()(n,e);var t=q(n);function n(e,r,a){var o;return p()(this,n),o=t.call(this,K),g()(i()(o),"dateStr",void 0),g()(i()(o),"dateLang",void 0),g()(i()(o),"dateistOpt",void 0),g()(i()(o),"parse",I()),o.dateStr=e,o.dateLang=r,o.dateistOpt=a,o}return v()(n,[{key:"getDate",value:function(){return this.parse(this.dateStr,this.dateLang,this.dateistOpt)}}]),n}(X),te=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.call(this,W)}return n}(X),ne=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.call(this,"PARATHESIS")}return n}(X),re=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.call(this,"PARATHESIS")}return n}(X),ae=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.call(this,G)}return n}(X),oe=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.call(this,G)}return n}(X),ie=function(e){l()(n,e);var t=q(n);function n(e){var r;return p()(this,n),r=t.call(this,K),g()(i()(r),"level",void 0),r.level=e,r}return v()(n,[{key:"toString",value:function(){return"Priority(".concat(this.level,")")}},{key:"eval",value:function(e){return 5-e.priority===this.level}}]),n}(X),ce=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.call(this,K)}return v()(n,[{key:"toString",value:function(){return"No Priority"}},{key:"eval",value:function(e){return-1*e.priority+5==4}}]),n}(X),le=function(e){l()(n,e);var t=q(n);function n(e){var r;return p()(this,n),r=t.call(this,K),g()(i()(r),"name",void 0),g()(i()(r),"matchQuery",void 0),r.name=e,r.matchQuery=Q(e),r}return v()(n,[{key:"toString",value:function(){return"Label(".concat(this.name,")")}},{key:"eval",value:function(e){return!!e.labels&&e.labels.some(this.matchQuery)}}]),n}(X),se=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.call(this,K)}return v()(n,[{key:"toString",value:function(){return"NoLabels"}},{key:"eval",value:function(e){return!e.labels||0===e.labels.length}}]),n}(X),ue=function(e){l()(n,e);var t=q(n);function n(e){var r;p()(this,n),r=t.call(this,K),g()(i()(r),"name",void 0),g()(i()(r),"isMatch",void 0),r.name=e;var a=Q(e),o=V.a.createProjectPickBySelector((function(e){return a(e.name)}));return r.isMatch=Object(z.createSelector)((function(e){return e.projects}),(function(e){var t=o({projects:e}),n=Object(B.d)(P.a,y.a,x()((function(t){return V.a.projectGetChildren(t.id,{projects:e})})),N.a)(t),r=U(U({},t),n);return function(e){return Boolean(r[e])}})),r}return v()(n,[{key:"toString",value:function(){return"Project(".concat(this.name,")")}},{key:"eval",value:function(e,t){return this.isMatch(t)(e.project_id)}}]),n}(X),de=function(e){l()(n,e);var t=q(n);function n(e){var r;p()(this,n),r=t.call(this,K),g()(i()(r),"name",void 0),g()(i()(r),"isMatch",void 0),r.name=e;var a=Q(e),o=V.a.createProjectPickBySelector((function(e){return a(e.name)}));return r.isMatch=Object(z.createSelector)(o,(function(e){return function(t){return Boolean(e[t])}})),r}return v()(n,[{key:"toString",value:function(){return"ProjectSingle(".concat(this.name,")")}},{key:"eval",value:function(e,t){return this.isMatch(t)(e.project_id)}}]),n}(X),fe=function(e){l()(n,e);var t=q(n);function n(e){var r;p()(this,n),r=t.call(this,K),g()(i()(r),"name",void 0),g()(i()(r),"isMatch",void 0),r.name=e;var a=Q(e),o=Object(z.createSelector)((function(e){return e.sections}),M()((function(e){return a(e.name)})));return r.isMatch=Object(z.createSelector)(o,(function(e){return function(t){return Boolean(e[t])}})),r}return v()(n,[{key:"toString",value:function(){return"Section(".concat(this.name,")")}},{key:"eval",value:function(e,t){return!!e.section_id&&this.isMatch(t)(e.section_id)}}]),n}(X),me=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.call(this,K)}return v()(n,[{key:"toString",value:function(){return"NoDueDate"}},{key:"eval",value:function(e){return!e.due}}]),n}(X),pe=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.apply(this,arguments)}return v()(n,[{key:"toString",value:function(){return"Due(".concat(this.dateStr,")")}},{key:"eval",value:function(e){return!!this.dueDate&&(!!e.due&&(C(this.dueDate)?!!e.due.with_time&&E(e.due,this.dueDate):Object(w.a)(e.due,this.dueDate)))}},{key:"dueDate",get:function(){return this.getDate()}}]),n}(ee),he=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.apply(this,arguments)}return v()(n,[{key:"toString",value:function(){return"DueBefore"}},{key:"eval",value:function(e){var t=this.getDate();return!!t&&(!!e.due&&(C(t)?e.due.isLessThan(t):e.due.isLessThan(D(t))))}}]),n}(ee),ve=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.apply(this,arguments)}return v()(n,[{key:"toString",value:function(){return"DueAfter"}},{key:"eval",value:function(e){var t=this.getDate();return!!t&&(!!e.due&&(C(t)?e.due.isGreaterThan(t):e.due.isGreaterThan(k(t))))}}]),n}(ee),be=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.call(this,K)}return v()(n,[{key:"toString",value:function(){return"DueRecurring"}},{key:"eval",value:function(e){return Boolean(e.due&&e.due.is_recurring)}}]),n}(X),ge=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.apply(this,arguments)}return v()(n,[{key:"toString",value:function(){return"Created"}},{key:"eval",value:function(e){var t=this.getDate();return!!t&&(C(t)?E(e.date_added,t):Object(w.a)(e.date_added,t))}}]),n}(ee),_e=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.apply(this,arguments)}return v()(n,[{key:"toString",value:function(){return"CreatedBefore"}},{key:"eval",value:function(e){var t=this.getDate();return!!t&&(C(t)?e.date_added<t:e.date_added<D(t))}}]),n}(ee),ye=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.apply(this,arguments)}return v()(n,[{key:"toString",value:function(){return"CreatedAfter"}},{key:"eval",value:function(e){var t=this.getDate();return!!t&&(C(t)?e.date_added>t:e.date_added>k(t))}}]),n}(ee),Oe=function(e){l()(n,e);var t=q(n);function n(e){var r;return p()(this,n),r=t.call(this,K),g()(i()(r),"now",void 0),r.now=e,r}return v()(n,[{key:"toString",value:function(){return"Overdue"}},{key:"eval",value:function(e){var t=this.now||new Date;return Boolean(e.due&&!Object(w.a)(t,e.due)&&e.due.getTime()<t.getTime())}}]),n}(X),je=function(e){l()(n,e);var t=q(n);function n(e,r){var a;return p()(this,n),a=t.call(this,K),g()(i()(a),"days",void 0),g()(i()(a),"now",void 0),g()(i()(a),"_getInterval",Object(j.a)((function(e,t){var n=a.now||new Date,r=new Date(n.getTime()),o=new Date(n.getTime());return a.days>0?o.setDate(n.getDate()+a.days-1):r.setDate(n.getDate()+a.days+1),[r=D(r),o=k(o)]}))),a.days=e,a.now=r,a}return v()(n,[{key:"getInterval",value:function(){var e=this.now||new Date;return this._getInterval(e.getMonth(),e.getDate())}},{key:"toString",value:function(){return"WithinDays(".concat(this.days,")")}},{key:"eval",value:function(e){var t=this.getInterval(),n=a()(t,2),r=n[0],o=n[1];return!!e.due&&(e.due.isGreaterThanOrEqual(r)&&e.due.isLessThanOrEqual(o))}}]),n}(X),we=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.call(this,K)}return v()(n,[{key:"toString",value:function(){return"ToMe"}},{key:"eval",value:function(e,t){return V.a.isShared(t,e.project_id)&&e.responsible_uid===t.user.id}}]),n}(X),Ee=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.call(this,K)}return v()(n,[{key:"toString",value:function(){return"ToOthers"}},{key:"eval",value:function(e,t){var n=t.user.id;return Boolean(e.responsible_uid&&e.responsible_uid!==n&&e.assigned_by_uid===n)}}]),n}(X),ke=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.call(this,K)}return v()(n,[{key:"toString",value:function(){return"ViewAll"}},{key:"eval",value:function(){return!0}}]),n}(X),De=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.call(this,K)}return v()(n,[{key:"toString",value:function(){return"All"}},{key:"eval",value:function(){return!0}}]),n}(X),Ce=function(e){l()(n,e);var t=q(n);function n(e){var r;return p()(this,n),r=t.call(this,K),g()(i()(r),"searchStr",void 0),g()(i()(r),"matchFn",void 0),r.searchStr=e,r.matchFn=Object(O.a)(e),r}return v()(n,[{key:"toString",value:function(){return"Search(".concat(this.searchStr,")")}},{key:"eval",value:function(e){return this.matchFn(e.content)}}]),n}(X),Se=function(e){l()(n,e);var t=q(n);function n(e){var r;return p()(this,n),r=t.call(this,K),g()(i()(r),"query",void 0),g()(i()(r),"hasMatch",void 0),r.query=e,r.hasMatch=Z(e),r}return v()(n,[{key:"toString",value:function(){return"AssignedTo(".concat(this.query,")")}},{key:"eval",value:function(e,t){return!!V.a.isShared(t,e.project_id)&&Boolean(this.hasMatch(t)(e.responsible_uid))}}]),n}(X),Ie=function(e){l()(n,e);var t=q(n);function n(e){var r;return p()(this,n),r=t.call(this,K),g()(i()(r),"query",void 0),g()(i()(r),"hasMatch",void 0),r.query=e,r.hasMatch=Z(e),r}return v()(n,[{key:"toString",value:function(){return"AssignedBy(".concat(this.query,")")}},{key:"eval",value:function(e,t){return!(!V.a.isShared(t,e.project_id)||!e.responsible_uid)&&Boolean(this.hasMatch(t)(e.assigned_by_uid))}}]),n}(X),Te=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.call(this,K)}return v()(n,[{key:"toString",value:function(){return"Assigned"}},{key:"eval",value:function(e,t){return Boolean(V.a.isShared(t,e.project_id)&&e.responsible_uid)}}]),n}(X),Ae=function(e){l()(n,e);var t=q(n);function n(e){var r;return p()(this,n),r=t.call(this,K),g()(i()(r),"query",void 0),g()(i()(r),"hasMatch",void 0),r.query=e,r.hasMatch=Z(e),r}return v()(n,[{key:"toString",value:function(){return"AddedBy(".concat(this.query,")")}},{key:"eval",value:function(e,t){return this.hasMatch(t)(e.added_by_uid)}}]),n}(X),xe=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.call(this,K)}return v()(n,[{key:"toString",value:function(){return"Shared"}},{key:"eval",value:function(e,t){return V.a.isShared(t,e.project_id)}}]),n}(X),Pe=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.call(this,K)}return v()(n,[{key:"toString",value:function(){return"Subtask"}},{key:"eval",value:function(e){return Boolean(e.parent_id)}}]),n}(X),Re=function(e){l()(n,e);var t=q(n);function n(){return p()(this,n),t.call(this,K)}return v()(n,[{key:"toString",value:function(){return"NoTime"}},{key:"eval",value:function(e){return Boolean(e.due&&!e.due.with_time)}}]),n}(X),Ne=function(e){l()(n,e);var t=q(n);function n(e){var r;return p()(this,n),r=t.call(this,K),g()(i()(r),"symbol",void 0),r.symbol=e,r}return v()(n,[{key:"toString",value:function(){return"UnrecognizedSymbol(".concat(this.symbol,")")}},{key:"eval",value:function(){return!1}}]),n}(X)},Akve:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M6 4.5h12A1.5 1.5 0 0119.5 6v2.5h-15V6A1.5 1.5 0 016 4.5z",opacity:.1}),r.createElement("path",{d:"M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2zm0 1a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V6a1 1 0 00-1-1H6zm10 12a1 1 0 110-2 1 1 0 010 2zm-4 0a1 1 0 110-2 1 1 0 010 2zm-4 0a1 1 0 110-2 1 1 0 010 2zm8-4a1 1 0 110-2 1 1 0 010 2zm-4 0a1 1 0 110-2 1 1 0 010 2zm-4 0a1 1 0 110-2 1 1 0 010 2zM7 8h10a.5.5 0 110 1H7a.5.5 0 010-1z"}));function i(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24"},e),o)}n.p},AnGN:function(e,t,n){"use strict";n.d(t,"q",(function(){return i})),n.d(t,"p",(function(){return l})),n.d(t,"j",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"k",(function(){return f})),n.d(t,"n",(function(){return m})),n.d(t,"s",(function(){return p})),n.d(t,"o",(function(){return h})),n.d(t,"t",(function(){return v})),n.d(t,"l",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"r",(function(){return _})),n.d(t,"h",(function(){return y})),n.d(t,"f",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"i",(function(){return w})),n.d(t,"e",(function(){return E})),n.d(t,"g",(function(){return k}));var r=n("J4zp"),a=n.n(r),o=window.location.hostname.includes("win.todoist"),i=window.location.hostname.includes("outlook.todoist"),c=window.location.hostname.includes("chrome.todoist"),l=/Todoist for macOS|TDMacApp/.test(navigator.userAgent),s=window.location.pathname.startsWith("/app/integrations/desktop/quick_add");function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,t=/Todoist for macOS \((.+)\)/.exec(e);if(t){var n=t[1].split("."),r=a()(n,3),o=r[0],i=r[1],c=r[2];return[Number(o),Number(i),Number(c)]}return null}var d=/msie|trident/.test(window.navigator.userAgent.toLowerCase()),f=window.navigator.userAgent.includes("Edge"),m=Boolean(window.MSInputMethodContext)&&Boolean(document.documentMode),p=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent),h=/macintosh/i.test(window.navigator.userAgent),v=/windows/i.test(window.navigator.userAgent),b=/TodoistDesktop/i.test(window.navigator.userAgent);function g(){var e=/TodoistElectronBridge\/(\d+)/.exec(navigator.userAgent);if(null!==e&&2===e.length){var t=parseInt(e[1],10);return isNaN(t)?0:t}return 0}var _=window.location.search.includes("print_mode=1");function y(){return b&&$isMac()&&navigator.userAgent.includes("FeatureHiddenInsetTitleBar/")}function O(){return b&&v&&navigator.userAgent.includes("FeatureFramelessTitleBar/")}function j(){return b&&g()>=2}function w(){return b&&g()>=3}function E(){return!b}function k(){return!b}t.a={isWindowApp:o,isOutlookApp:i,isChromeApp:c,isMacApp:l,isMac:h,isIE:d,isIE11:m,isSafari:p,isWindows:v,isEdge:f,isElectron:b,isPrintMode:_,getMacAppVersion:u}},AsOC:function(e,t,n){},Au0W:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f}));var r=n("J4zp"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c),s=n("LYyr");function u(e){var t=e.id,n=e.show,r=void 0===n||n,a=e.children;return r?i.a.createElement("div",{id:t,className:"form_field_hint"},a):null}function d(e){var t=e.id,n=e.length,r=e.maxLength;return i.a.createElement(u,{id:t,show:r-n<=10},Object(s.a)(_("Character limit: {length}/{maxLength}"),{length:n,maxLength:r}))}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:String,r=function(e){return null==e?e:n(e)},o=i.a.useState((function(){return r(t)})),c=a()(o,2),l=c[0],s=c[1];return{name:e,value:l,onChange:function(e){s(r(e.target.value))}}}u.propTypes={id:l.a.string,show:l.a.bool,children:l.a.node.isRequired},d.propTypes={id:l.a.string,length:l.a.number.isRequired,maxLength:l.a.number.isRequired}},"AuZ+":function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n("oHMr"),a=n("/6o7"),o=n("xvbm"),i=n("cAKr");function c(e){var t=e.target||e.srcElement;if(t){var n=$nodeName(t);if("textarea"==n||"input"==n||"select"==n||"textbox"===t.getAttribute("role"))return!0;if($hasClass(t,"ist_button")||$hasClass(t,"richtext_editor")||$hasClass(t,"t_date")||$hasClass(t,"t_label"))return!0}return!1}var l=[81,113,1081,1049];function s(e){return!!(c(e)||GB_getLast()||$$(".side_panel").length>0)||(!e.ctrl&&l.includes(e.keyCode)?(e.preventDefault(),r.default.dispatch(Object(a.d)({type:a.a.QUICK_ADD})),!1):63!==e.keyCode||(Object(i.a)(),!1))}function u(e){if(c(e))return!0;var t=e.keyAscii;if(27==t){if(GB_getLast()||IstComplete.current_input)return!0;top.postMessage(JSON.stringify({type:"todoist_close_window"}),"*")}else if(e.ctrl&&90==t)return e.preventDefault(),!1;return!0}t.a={init:function(){Object(o.d)("frontend.new_keyboard_shortcuts")||($AEV(document,"keypress",s),$AEV(document,"keydown",u))}}},AwnZ:function(e,t,n){"use strict";t.a={genereate:function(){var e=INPUT({type:"text",value:""}),t=_("Copy to clipboard"),n=A({href:"#",c:"action"},t),r=DIV(e,n),a=FORM({c:"copy_to_clipboard"},r),o=function(){try{e.focus();try{e.setSelectionRange(0,9999)}catch(t){e.select()}if(!document.execCommand("Copy"))throw new Error("fail");$setHTML(n,_("Text copied!")),$addClass(n,"active"),setTimeout((function(){$setHTML(n,t),$removeClass(n,"active")}),1500)}catch(e){alert(_("Could not copy the URL to the clipboard! Please copy manually."))}return!1};return $AEV(n,"click",o),$AEV(e,"keydown",(function(e){return!(!e.ctrlKey&&!e.metaKey)||($preventDefault(e),!1)})),$AEV(e,"cut",(function(e){return $preventDefault(e),!1})),{form:a,input:e,fn_copy_to_clipboard:o}}}},B3oY:function(e,t,n){},BBWQ:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n("Ghd0"),a=n("vNHF"),o=n("p6Q+"),i={on:function(){Object(o.b)("click","a[data-redirect-link]",this.handleRedirectLinkClick)},off:function(){Object(o.a)("click","a[data-redirect-link]",this.handleRedirectLinkClick)},handleRedirectLinkClick:function(e){var t=e.target;if(window.CUR_HREF&&window.CUR_HREF.href){var n=r.a.getThreadId(t.href),o=window.CUR_HREF.href.match(/^(.+)#/);if(r.a.isGmailDomain(t.href)&&n&&o){if("T_FIREFOX_MESSAGE"==window.CUR_HREF.type){var i=o[1]+"#inbox/"+n,c=JSON.stringify({type:"switchLocation",url:i});try{e.preventDefault(),top.postMessage(c,"*")}catch(e){}return!1}return!top.postMessage||(e.preventDefault(),Object(a.c)(top,"SWITCH_URL:"+t.href),!1)}}}};function c(e){if(/^\/?#openOutlook\/(.+)/.test(e))return!0;var t=r.a.getThreadId(e),n=r.a.isGmailDomain(e),a=window.CUR_HREF&&window.CUR_HREF.href&&window.CUR_HREF.href.match(/^(.+)#/);return!!(t&&n&&a)}t.a=i},Ba5u:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("TSYQ"),i=n.n(o),c=n("rcvD");var l=function(e){var t=e.source,n=e.className;return a.a.createElement("span",{className:i()("simple_content",n)},Object(c.a)(t))};t.a=l},Bazy:function(e,t,n){},"Bbt+":function(e,t,n){e.exports={fixedWidth:"_1XtLqqUIMoHPjWNa9f8cMw"}},Bl08:function(e,t,n){"use strict";n.d(t,"a",(function(){return fe})),n.d(t,"b",(function(){return me})),n.d(t,"c",(function(){return pe})),n.d(t,"d",(function(){return he})),n.d(t,"e",(function(){return ve})),n.d(t,"f",(function(){return be})),n.d(t,"g",(function(){return ge})),n.d(t,"h",(function(){return _e})),n.d(t,"i",(function(){return ye})),n.d(t,"j",(function(){return Oe})),n.d(t,"k",(function(){return je})),n.d(t,"l",(function(){return we})),n.d(t,"m",(function(){return Ee})),n.d(t,"n",(function(){return ke})),n.d(t,"o",(function(){return De})),n.d(t,"p",(function(){return Ce})),n.d(t,"q",(function(){return Se})),n.d(t,"r",(function(){return Ae})),n.d(t,"v",(function(){return xe})),n.d(t,"D",(function(){return Pe})),n.d(t,"s",(function(){return Re})),n.d(t,"u",(function(){return Me})),n.d(t,"t",(function(){return Fe})),n.d(t,"C",(function(){return ze})),n.d(t,"A",(function(){return $e})),n.d(t,"x",(function(){return He})),n.d(t,"y",(function(){return Ue})),n.d(t,"G",(function(){return qe})),n.d(t,"H",(function(){return Ge})),n.d(t,"F",(function(){return We})),n.d(t,"B",(function(){return Ye})),n.d(t,"w",(function(){return Je})),n.d(t,"E",(function(){return Qe})),n.d(t,"z",(function(){return Ze}));var r=n("J4zp"),a=n.n(r),o=n("RIqP"),i=n.n(o),c=n("lSNA"),l=n.n(c),s=n("OljV"),u=n("Z0cm"),d=n.n(u),f=n("3EZw"),m=n.n(f),p=n("7GkX"),h=n.n(p),v=n("P/G1"),b=n.n(v),g=n("RHI1"),_=n.n(g),y=n("DoMW"),O=n("7tbW"),j=n.n(O),w=n("BkRI"),E=n.n(w),k=n("Y+p1"),D=n.n(k),C=n("qFoM"),S=n("Bcse"),I=n.n(S),T=n("b3vA"),A=n.n(T),x=n("uS8r"),P=n.n(x),R=n("VXWU"),N=n.n(R),L=n("k08V"),M=n.n(L),F=n("DwX5"),z=n.n(F),B=n("qOpA"),V=n.n(B),$=n("oqHG"),H=n.n($),U=n("d8FT"),q=n.n(U),G=n("ANjH"),W=n("MrOw"),K=n("Qi13"),Y=n("OgjY"),J=n("k0om"),Q=n("S+H7"),Z=n("3/82"),X=n("A72/"),ee=n("NLcT"),te=n("RZq6"),ne=n("p3jf"),re=n("yUE8"),ae=n("dLxo"),oe=n("VKKv"),ie=n("zeUM");function ce(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de=Object(re.b)("reducers/items/actions",["notesActions","reminderUpdate"]),fe="ITEM_ADD",me="ITEM_COMPLETE",pe="ITEM_COMPLETE_RECURRING",he="ITEM_COMPLETE_RECURRING_UNDO",ve="ITEM_COMPLETE_UNDO",be="ITEM_DELETE",ge="ITEM_DUPLICATE",_e="ITEM_MOVE_AND_REORDER",ye="ITEM_MOVE_AND_REORDER_UNDO",Oe="ITEM_MOVE_MULTIPLE",je="ITEM_MOVE_MULTIPLE_UNDO",we="ITEM_UNCOMPLETE",Ee="ITEM_UPDATE",ke="ITEM_UPDATE_DAY_ORDER",De="ITEM_UPDATE_DAY_ORDER_UNDO",Ce="ITEM_UPDATE_DUE",Se="ITEM_UPDATE_DUE_UNDO",Ie=function(e,t){return D()(V()(h()(e),t),e)};function Te(e,t){if(!t.projects[e.project_id]||e.section_id&&!t.sections[e.section_id]||e.parent_id&&!t.items[e.parent_id])throw te.default.captureInfoLog("Detect invalid item add destination",{item:e}),new Error("invalid item destination")}var Ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){var a,o,i=r(),c=Object(oe.a)(i,e.project_id,{asError:t.return_as_error});if(c)return c;var l=ue({id:K.a.generate("item"),due:e.due||null,project_id:i.user.inbox_project,section_id:null,parent_id:null,checked:0,user_id:i.user.id,in_history:0,collapsed:0,date_added:new Date,assigned_by_uid:null,responsible_uid:null,added_by_uid:i.user.id},e);if(l.content=l.content.trim(),0===l.content.length)throw new Error("item.add(): content cannot be empty");return l.labels=l.labels||[],l.child_order=null!==(a=l.child_order)&&void 0!==a?a:Object(J.i)(V()(["section_id","project_id"],e),i)+1,l.responsible_uid&&Object(Q.m)(i,l.project_id)&&(l.assigned_by_uid=i.user.id),Te(l=Object(Z.g)(["project_id","parent_id"],l),i),delete l.note,delete l.reminders,W.default.getInstance().queueUpdate({type:"item_add",temp_id:l.id,args:Object(oe.e)(ue(ue({},l),{},{section_id:l.section_id?null!==(o=i.sections[l.section_id].remote_id)&&void 0!==o?o:l.section_id:null}))}),n({type:fe,payload:l}),e.note&&n(de.notesActions.noteAdd({parentId:l.id,type:ae.g,content:e.note})),e.reminders&&e.reminders.length&&e.reminders.forEach((function(e){"location"===(e=ue(ue({},e),{},{item_id:l.id})).type?n(Object(ne.c)(e)):n(Object(ne.d)(e))})),i=r(),tt(l.id,i,n),l}},xe=function(e){var t=d()(e)?e:[e];return(t=t.map((function(e){return K.a.getRealId(e)}))).forEach((function(e){W.default.getInstance().queueUpdate({type:"item_delete",args:{id:e}})})),{type:be,payload:{ids:t}}},Pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.item;return function(t,r){var a=(e=Object(Z.g)(["id","project_id","parent_id","labels"],e)).id,o=r(),i=n||o.items[e.id],c=e.due&&i.due!==e.due;if(Ie(e,i))return i;var s=e.due&&(!i.due||!i.due.isSameDate(e.due))||e.priority&&e.priority!==i.priority,u=Object.keys(e);if(2===u.length&&u.includes("id")&&u.includes("due"))return qe(l()({},e.id,e.due),s)(t,r);if(e.content&&(e.content=$strip(e.content),0===e.content.length))return i;e.reminders&&(t(de.reminderUpdate(a,e.reminders)),e=I()("reminders",e)),e.project_id&&i.project_id!==e.project_id&&(t(He({id:i.id,project_id:e.project_id,section_id:e.section_id})),i=(o=r()).items[a],delete e.project_id,delete e.section_id),e=I()(["section_id","parent_id","child_order"],e),s&&(e.day_order=-1);var d=ue({},e);return d.due&&(d.due=d.due.toAPIFormat()),W.default.getInstance().queueUpdate({type:"item_update",args:d}),n?void 0:(t({type:Ee,payload:e}),o=r(),c&&tt(i.id,o,t),(o=r()).items[a])}};function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.forceHistory,r=void 0!==n&&n,a=t.completeRecurring,o=void 0!==a&&a;return e=K.a.getRealId(e),function(t,n){var a=n().items[e];if(a){if(a.due&&a.due.is_recurring&&!a.in_history&&!r&&!o)return Le(a,t,n);var i=Object(J.g)(a.id,n()),c=Ne(a,r,t,n);return t({type:ie.a,payload:{item:a,childTasks:i}}),c}}}function Ne(e,t,n,r){var a,o=Object(s.a)(new Date,{toUTC:!0}),c=[e].concat(i()(Object(J.g)(e.id,r())));if(W.default.getInstance().queueUpdate({type:"item_complete",args:{id:e.id,date_completed:o,force_history:t}}),n({type:me,payload:{id:e.id,force_history:t,date_completed:o,item:e}}),t||null===e.parent_id)a=c.map((function(e){return ue(ue({},e),{},{in_history:1,checked:1})}));else{var l=r();a=c.map((function(e){return l.items[e.id]}))}return a}function Le(e,t,n){var r=Array.from(e.due.nextRecurrence()),o=a()(r,2),i=o[0];return o[1]?Ne(e,1,t,n):(W.default.getInstance().queueUpdate({type:"item_update_date_complete",args:{id:e.id,due:i.toAPIFormat(),is_forward:1}}),t({type:pe,payload:{id:e.id,nextRecurrence:i}}),[e=n().items[e.id]])}var Me=function(){return function(e,t){var n=t().undo,r=n.type,a=n.id,o=n.prevState;if(r===ve){a=K.a.getRealId(a);var i=Object(G.d)(P()(V()(["id","checked"])),z()((function(e){return e.id!==a})),b.a)(o.items);W.default.getInstance().queueUpdate({type:"item_complete_undo",args:{id:a,descendants:i}}),e({type:ve,payload:{id:a,prevState:o}}),Signals.sendSignal("instant_refresh_interface")}}},Fe=function(){return function(e,t){var n=t().undo,r=n.type,a=n.id,o=n.duePrev;r===he&&(a=K.a.getRealId(a),W.default.getInstance().queueUpdate({type:"item_update_date_complete",args:{id:a,due:o,is_forward:0}}),e({type:he}),Signals.sendSignal("instant_refresh_interface"))}},ze=function(e,t,n){return e=K.a.getRealId(e),W.default.getInstance().queueUpdate({type:"item_uncomplete",args:{id:e}}),{type:we,payload:{id:e,completedItems:t,section:n}}},Be=function(e){return ue({id:e.id},function(e,t){var n,r=ce(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(t[a])return l()({},a,t[a])}}catch(e){r.e(e)}finally{r.f()}return{}}(["parent_id","section_id","project_id"],e))},Ve=function(e,t,n){var r=M()(e.map((function(e){return Object(J.g)(e,n)}))).map((function(e){return e.id})),a=new Set([].concat(i()(e),i()(r))),o=i()(a).filter((function(e){return n.items[e].project_id!==t}));return Object(oe.a)(n,t,{delta:o.length})},$e=function(e,t,n){return function(r,a){var o=a();if(e=e.map((function(e){return K.a.getRealId(e)})),t=K.a.getRealId(t),!Ve(e,t,o)){var i,c=Object(G.d)((function(e){return new Set(e)}),P()((function(e){return e.id})),M.a,P()((function(e){return Object(J.g)(e,o)})))(e),l=ce(e=e.filter((function(e){return!c.has(e)})));try{for(l.s();!(i=l.n()).done;){var s=i.value;if(n){var u,d=o.sections[n];W.default.getInstance().queueUpdate({type:"item_move",args:{id:s,section_id:null!==(u=d.remote_id)&&void 0!==u?u:n.id}})}else W.default.getInstance().queueUpdate({type:"item_move",args:{id:s,project_id:t}})}}catch(e){l.e(e)}finally{l.f()}r({type:Oe,payload:{ids:e,destPID:t}})}}};function He(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.allowUndo,a=void 0===r||r;return function(n,r){var o,c,l=r(),s=l.items,u=l.sections,d=s[(null===(o=e)||void 0===o?void 0:o.id)||(null===(c=t)||void 0===c?void 0:c.id)];if(d){if(e){if((e=Object(Z.g)(["id","parent_id","project_id"],e)).parent_id===e.id)throw new Error("item parent_id cannot be itself");if(Ie(e,d))e=null;else{if(e.project_id!==d.project_id)if(Ve([e.id],e.project_id,l))return;var f,m=Be(e);if(m.section_id)W.default.getInstance().queueUpdate({type:"item_move",args:ue(ue({},m),{},{section_id:null!==(f=u[e.section_id].remote_id)&&void 0!==f?f:e.section_id})});else W.default.getInstance().queueUpdate({type:"item_move",args:m});t||e.project_id===d.project_id&&e.section_id===d.section_id||(t={id:d.id,to:Object(J.i)(V()(["section_id","project_id"],e),l)+1}),d=ue(ue({},d),q()(e,(function(e){return void 0!==e}))),e=m}}var p=null;if(t){for(var h,v=t.to-1,b=t.to,g=(null!==(h=Object(J.d)(l)[d.project_id])&&void 0!==h?h:[]).filter((function(e){return e.id!==d.id&&e.section_id===d.section_id&&e.parent_id===d.parent_id})).sort((function(e,t){return e.child_order-t.child_order})).reduce((function(e,t){return t.child_order<=v?ue(ue({},e),{},{previous:[].concat(i()(e.previous),[t])}):ue(ue({},e),{},{next:[].concat(i()(e.next),[t])})}),{previous:[],next:[]}),_=[{id:d.id,child_order:v}],y=v-1,O=g.previous.length-1;O>=0;O--){var j=g.previous[O];if(j.child_order<=y)break;_.push({id:j.id,child_order:y}),y-=1}for(var w=[{id:d.id,child_order:b}],E=b+1,k=0;k<=g.next.length-1;k++){var D=g.next[k];if(D.child_order>=E)break;w.push({id:D.id,child_order:E}),E+=1}(p=(p=_.length<w.length?_:w).filter((function(t){var n=t.id,r=t.child_order,a=s[n].child_order!==r,o=e&&e.id===n;return a||o}))).length>0?W.default.getInstance().queueUpdate({type:"item_reorder",args:{items:p}}):p=null}(e||p)&&n({type:_e,payload:{moveTo:e,orders:p,allowUndo:a}})}}}var Ue=function(){return function(e,t){var n=t().undo,r=n.type,a=n.moveTo,o=n.orders;if(r===ye){var i;if(a)if(a=Object(Z.g)(["id","parent_id","project_id"],a),(a=Be(a)).section_id)W.default.getInstance().queueUpdate({type:"item_move",args:ue(ue({},a),{},{section_id:null!==(i=t().sections[a.section_id].remote_id)&&void 0!==i?i:a.section_id})});else W.default.getInstance().queueUpdate({type:"item_move",args:a});o&&(o=o.map(Object(Z.g)("id")),W.default.getInstance().queueUpdate({type:"item_reorder",args:{items:o}})),e({type:ye,payload:{moveTo:a,orders:o}}),Signals.sendSignal("instant_refresh_interface")}}},qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var o=r(),i=o.items;e=_()(e,(function(e,t){return K.a.getRealId(t)})),H()(e).forEach((function(n){var r=a()(n,2),o=r[0],c=r[1];c instanceof Date&&(c=i[o].due?i[o].due.inheritDate({year:c.getFullYear(),month:c.getMonth(),day:c.getDate()}):Y.a.fromDate(c),e[o]=c);var l={id:o,due:c?c.toAPIFormat():null};t&&(l.day_order=-1),W.default.getInstance().queueUpdate({type:"item_update",args:l})})),n({type:Ce,payload:e}),o=r(),h()(e).forEach((function(e){return tt(e,o,n)})),Signals.sendSignal("instant_refresh_interface")}},Ge=function(){return function(e,t){var n=t().undo;if(n.type===Se){var r=_()(n.idToDue,(function(e,t){return K.a.getRealId(t)}));H()(r).forEach((function(e){var t=a()(e,2),n=t[0],r=t[1];W.default.getInstance().queueUpdate({type:"item_update",args:{id:n,due:r?r.toAPIFormat():null}})})),e({type:Se}),Signals.sendSignal("instant_refresh_interface")}}},We=function(){return function(e,t){var n=t().undo;n.type===De&&(W.default.getInstance().queueUpdate({type:"item_update_day_orders",args:{ids_to_orders:n.orders}}),e({type:De}),Signals.sendSignal("instant_refresh_interface"))}},Ke=m()((function(e,t){return Object(G.d)(M.a,b.a,A()((function(e){return e.map((function(e,t){return{id:e.id,child_order:t+1}}))})),A()((function(t){return t.sort(e),t})),N()("parent_id"))(t)})),Ye=function(e,t){return function(n,r){e=K.a.getRealId(e);var a=r(),o=Object(J.d)(a)[e],i=Object(G.d)(z()((function(e){var t=e.id,n=e.child_order;return a.items[t].child_order!==n})),M.a,b.a,A()(Ke(t)),N()("section_id"))(o);i.length&&(W.default.getInstance().queueUpdate({type:"item_reorder",args:{items:i}}),n({type:_e,payload:{orders:i,allowUndo:!0}}))}},Je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.withNotes,r=void 0===n||n;return function(t,n){e=e.map((function(e){return K.a.getRealId(e)}));var a=n(),o=[],i=[],c={},l={};e.forEach((function(e){var t=Xe(e,a),n=t.next,r=t.newIDs,s=t.reorderedIDs,u=t.idMapping,d=t.newParentMapping;a=n,o=o.concat(r),i=i.concat(s),c=ue(ue({},c),u),l=ue(ue({},l),d)}));var s,u=ce(new Set(e.map((function(e){return a.items[e].project_id}))));try{for(u.s();!(s=u.n()).done;){var d=s.value;if(Object(oe.a)(a,d))return}}catch(e){u.e(e)}finally{u.f()}j()(o).forEach((function(e){var t,n=Object(oe.e)(a.items[e]);n.section_id&&(n.section_id=null!==(t=a.sections[n.section_id].remote_id)&&void 0!==t?t:n.section_id);W.default.getInstance().queueUpdate({type:"item_add",temp_id:e,args:n})})),i.length>0&&W.default.getInstance().queueUpdate({type:"item_reorder",args:{items:j()(i).map((function(e){return{id:e,child_order:a.items[e].child_order}}))}});var f=h()(c).map(C.a);r&&(a=et(f,c,a)),t({type:ge,payload:{idMap:c,parentMap:l,state:a}}),Signals.sendSignal("instant_refresh_interface")}},Qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.withUndo,r=void 0!==n&&n;return e=_()(e,(function(e,t){return K.a.getRealId(t)})),W.default.getInstance().queueUpdate({type:"item_update_day_orders",args:{ids_to_orders:e}}),{type:ke,payload:{orders:e,withUndo:r}}},Ze=function(e,t){return function(n,r){var a=r().items[e];if(a.due){var o=a.due.inheritDate({year:t.getFullYear(),month:t.getMonth(),day:t.getDate()});a.due.isSameDate(o)||n(qe(l()({},a.id,o)))}else{var i=Y.a.fromDate(t,{withTime:!1});n(qe(l()({},a.id,i)))}}};function Xe(e,t){var n=t.items[e],r=Object(J.g)(e,t),a=E()(n);a.assigned_by_uid=null,a.responsible_uid=null;var o=[a].concat(i()(r.map(E.a))),c=o.reduce((function(e,t){var n=K.a.generate("item");return e[t.id]=n,e}),{}),l=r.reduce((function(e,t){return e[c[t.id]]=c[t.parent_id],e}),{});o=o.map((function(e){return ue(ue({},e),{},{id:c[e.id],parent_id:c[e.parent_id]||e.parent_id,checked:0,date_added:new Date})}));var s,u=n.child_order;if(o[0]=ue(ue({},o[0]),{},{child_order:u+1}),n.parent_id){var d=t.items[n.parent_id];s=Object(J.g)(d.id,t).filter((function(e){return e.child_order>u})).map((function(e){return ue(ue({},e),{},{child_order:e.child_order+1})}))}else{s=Object(J.d)(t)[n.project_id].filter((function(e){return!e.parent_id})).filter((function(e){return e.child_order>u})).map((function(e){return ue(ue({},e),{},{child_order:e.child_order+1})}))}var f=ue(ue(ue({},t.items),Object(y.a)(o)),Object(y.a)(s)),m=ue(ue({},t),{},{items:f}),p=s.map((function(e){return e.id}));return{next:m,newIDs:o.map((function(e){return e.id})),reorderedIDs:p,idMapping:c,newParentMapping:l}}function et(e,t,n){var r=Object(oe.c)(e,n).notes.map((function(e){var r=n.notes[e];return ue(ue({},r),{},{id:K.a.generate("notes"),item_id:t[r.item_id]})})),a=ue(ue({},n),{},{notes:ue(ue({},n.notes),Object(y.a)(r))});return r.forEach((function(e){W.default.getInstance().queueUpdate({type:"note_add",temp_id:e.id,args:e})})),a}function tt(e,t,n){var r=t.items[e];if(r.due)if(r.due.with_time){var a=t.user,o=a.auto_reminder,i=a.default_reminder;if(-1!==o&&Object(X.p)(t)&&r.due&&r.due.with_time)if(!(b()(t.reminders).filter((function(e){return e.item_id===r.id})).length>0)){var c=r.responsible_uid||a.id;n(Object(ne.d)({item_id:r.id,service:i,minute_offset:o,notify_uid:c,type:"relative"}))}}else ee.a.removeRelative(r.id)}},C2QG:function(e,t){IstComplete={KEY_ENTER:13,KEY_TAB:9,KEY_ESC:27,KEY_SPACE:32,KEY_DELETE:8,KEY_UP:38,KEY_DOWN:40,CHAR_FORCED_WHITESPACE:"\u2603",CHAR_CURSOR:"\u15e7",current_input:null,current_data:null,init:function(){var e=DIV({id:"ist_complete_floater"},DIV({id:"ist_complete_result_holder"},TABLE({id:"ist_complete_result"},TBODY())),TABLE({id:"ist_complete_fixed_items"},TBODY()));$hide(e),$add($body(),e)},attach:function(e,t){void 0===t.require_trigger&&(t.require_trigger=!0),void 0===t.support_paste&&(t.support_paste=!0),void 0===t.trigger&&(t.trigger="@"),null==t.preselect_match&&(t.preselect_match=!0),void 0===t.sort_results&&(t.sort_results=!0),$AEV(e,"keydown",$p(IstComplete.handleKeyDown,e,t)),$AEV(e,"keypress",$p(IstComplete.handleKeyPress,e,t)),$AEV(e,"compositionend",$p(IstComplete.handleCompositionEnd,e,t)),t.support_paste&&$AEV(e,"paste",(function(){setTimeout((function(){IstComplete.hide(),e.istcomplete_word=window.LibEdit.getValue(e),IstComplete.show(e,t,e.value)}),30)}))},getCurrentWord:function(){var e=IstComplete.current_input;return e&&e.istcomplete_word||""},isShown:function(){return $isShown($("ist_complete_floater"))},forceShow:function(e,t,n){if(e){if(IstComplete.current_input==e&&$isShown($("ist_complete_floater")))return!1;var r=window.LibEdit.getCursorPosition(e),a=r&&window.LibEdit.isNotWhiteSpace(window.LibEdit.getValue(e).charAt(r-1));return t?(e.proxyGetValue&&""===e.proxyGetValue()&&window.LibEdit.insertAtCursor(e," ",!1),window.LibEdit.isNotWhiteSpace(a)?window.LibEdit.insertAtCursor(e," "+n.trigger,!1):window.LibEdit.insertAtCursor(e,n.trigger,!1),e.istcomplete_word=n.trigger):e.istcomplete_word="",IstComplete.show(e,n,e.istcomplete_word),!1}},show:function(e,t,n){var r=t.collection(n||"");IstComplete._show(e,t,n,r)},_show:function(e,t,n,r){var a=$("ist_complete_floater");window.GB_getLast&&window.GB_getLast()?a.style.zIndex=window.GB_getLast().cur_zindex+1e3:a.style.zIndex=1e3;var o=$child($("ist_complete_result"),"tbody"),i=$child($("ist_complete_fixed_items"),"tbody");IstComplete.current_input=e,IstComplete.current_data=t;var c=(n=n||"").replace(t.trigger,"");if(n=IstComplete.escapeReqExpSepcails(c),t.wildcard_match)var l=new RegExp(n,"i");else l=new RegExp("^"+n,"i");var s=[];if($map(r,(function(e){var t=e.name;if(t){var n=l.exec(t);!n&&IstComplete.canNormalize()&&(n=l.exec(IstComplete.normalize(t))),n?s.push([n.index,n[0],e]):e.forced&&s.push([0,"",e])}})),n.length>0&&t.sort_results&&s.sort((function(e,t){return e[0]-t[0]})),$map(s,(function(e){e.shift()})),$replace(o,null),$replace(i,null),t.onPreProcess&&(s=t.onPreProcess(n,s)),t.onNoMatches&&0===s.length){if(!1===t.onNoMatches(o,e,c))return}else if(0===s.length){var u=t.txt_no_matches_found;u||(u=_("No matches. Press Esc to hide auto-completion.")),$add(o,TR(TD({c:"no_matches"},u)))}else{var d=t.selectedItem&&t.selectedItem(),f=null;$map(s,(function(e){var n,r=e[1],a=r.name.replace(e[0],"<b>"+e[0]+"</b>");(r.description&&(a+=" ["+r.description+"]"),t.filterItem&&(a=t.filterItem(r,a)),a)&&(r.fixed_bottom?$add(i,TR(n=TD({c:"ist_complete_item"},a))):$add(o,TR(n=TD({c:"ist_complete_item"},a))),n.onmouseover=$p(IstComplete.onMouseOver,n,r),t.onclick?n.onmousedown=$p(t.onclick,n,r):n.onmousedown=$p(IstComplete.onSelect,n,r,t),d&&d==e[1]&&(f=n))})),t.preselect_match&&(f||(f=$child(o,"td")),f.onmouseover())}IstComplete._rePosition(e,t),$show(a);var m=$child(document,"td","current_match");try{m.onmouseover(!0)}catch(e){}},hide:function(){IstComplete.current_input&&(IstComplete.current_input.istcomplete_word=""),$hide($("ist_complete_floater")),IstComplete.current_input=null,IstComplete.current_data=null},handleKeyDown:function(e,t,n){if(t==IstComplete.current_data){var r=n.keyAscii;if(IstComplete.isShown()){if(r==IstComplete.KEY_ENTER||r==IstComplete.KEY_TAB)return setTimeout((function(){IstComplete.selectCurrentMatch()}),10),$preventDefault(n),!1;if(!1===n.shift){if(r==IstComplete.KEY_UP)return IstComplete.selectPrev(n);if(r==IstComplete.KEY_DOWN)return IstComplete.selectNext(n)}if(r==IstComplete.KEY_ESC)return setTimeout(IstComplete.hide,150),!1}if(n.keyAscii==IstComplete.KEY_DELETE){if(n.altKey||n.shiftKey||!$isMac()&&n.ctrlKey)return e.istcomplete_word=t.trigger,!0;if(!t.whole_input_match&&void 0!==e.value&&e.value.length<=1)return IstComplete.hide(),!0;$isMozilla()||IstComplete.handleKeyPress(e,t,n)}}},handleKeyPress:function(e,t,r){t.keyPressListener&&t.keyPressListener(r,e,t);var a,o=t.trigger,i=o.charCodeAt(0);if((t.omni_match||t.whole_input_match)&&r.keyAscii!=IstComplete.KEY_DELETE)e.istcomplete_word=window.LibEdit.getValue(e)+String.fromCharCode(r.keyAscii),a=e.istcomplete_word;else if(r.keyAscii==i)a=e.istcomplete_word=o,IstComplete.current_data=t;else{if(t!=IstComplete.current_data)return!0;a=n.handleKeyPress(r,t)}var c=window.LibEdit.getCursorPosition(e);if(r.keyAscii!=IstComplete.KEY_DELETE&&a==o&&c&&window.LibEdit.isNotWhiteSpace(window.LibEdit.getValue(e).charAt(c-1)))return e.istcomplete_word="",!0;r.keyAscii==IstComplete.KEY_DELETE&&""===a&&t.on_delete_empty&&t.on_delete_empty(),t.require_trigger?a&&0===a.indexOf(o)?IstComplete.show(e,t,a):IstComplete.current_data==t&&IstComplete.hide():IstComplete.show(e,t,a)},handleCompositionEnd:function(e,t,n){t.keyPressListener&&t.keyPressListener(n,e,t);var r,a=t.trigger,o=a.charCodeAt(0),i=n.data;if(t.omni_match||t.whole_input_match)e.istcomplete_word=window.LibEdit.getValue(e),r=e.istcomplete_word;else if(i==o)r=e.istcomplete_word=a,IstComplete.current_data=t;else{if(t!=IstComplete.current_data)return!0;e.istcomplete_word?e.istcomplete_word+=i:e.istcomplete_word=""+i,r=e.istcomplete_word}t.require_trigger?r&&0===r.indexOf(a)?IstComplete.show(e,t,r):IstComplete.current_data==t&&IstComplete.hide():IstComplete.show(e,t,r)},selectCurrentMatch:function(){var e=$child(document,"td","current_match");e&&(e.onmousedown(),$removeClass(e,"current_match"))},selectPrev:function(e){return IstComplete._selectGeneric(e,"previousSibling"),!1},selectNext:function(e){return IstComplete._selectGeneric(e,"nextSibling"),!1},onMouseOver:function(e,t,n){$removeClass($all("td","current_match"),"current_match"),$addClass(e,"current_match"),!0===n&&($("ist_complete_floater").scrollTop=$parent(e,"tr").offsetTop)},onSelect:function(e,t,n){var r=IstComplete.current_input,a=r.proxyGetValue,o=r.istcomplete_word,i=t.name,c=new RegExp(IstComplete.escapeReqExpSepcails(n.trigger+i),"i"),l=new RegExp(IstComplete.escapeReqExpSepcails(o)+"(?:$|"+IstComplete.CHAR_CURSOR+"|\\s)","i"),s={is_content_editable:a,input:r,completion_item:t,regexp:c};n.preOnSelect&&n.preOnSelect(s),window.LibEdit.insertAtCursor(r,IstComplete.CHAR_CURSOR);var u=window.LibEdit.getValue(r);u=(u=u.replace(l,"")).replace(IstComplete.CHAR_CURSOR,""),window.LibEdit.setValue(r,u);var d=n.trigger+i;if(window.LibEdit.placeCaretAtEnd(r),a&&(d=" "+d+IstComplete.CHAR_FORCED_WHITESPACE),window.LibEdit.insertAtCursor(r,d),n.onSelect)window.LibEdit.setValue(r,n.onSelect(t,r)||"");else{var f=n.trigger+i;window.LibEdit.setValue(r,window.LibEdit.getValue(r).replace(c,f))}return IstComplete.hide(),n.postOnSelect&&n.postOnSelect(s),window.LibEdit.placeCaretAtEnd(r),!1},escapeReqExpSepcails:function(e){return e.replace(/([\+.?*+^$[\]\\(){}|-])/g,"\\$1")},_rePosition:function(e,t){var n=$("ist_complete_floater"),r=$("ist_complete_result_holder");if(n){var a=t.position_item||e,o=$position(a),i=$hasClass(e,"fixed_pos")||t.fixed_pos;n.style.position=i?"fixed":"absolute",t.offset_top&&(o.y+=t.offset_top),t.offset_left&&(o.x+=t.offset_left),t.var_height?r.style["max-height"]=t.var_height:r.style["max-height"]="",$setTop(n,o.y+a.offsetHeight-2),$isIe()&&(o.x-=1),$setLeft(n,o.x);var c=a.offsetWidth;t.extra_width&&(c+=t.extra_width),$setWidth(n,c)}},_selectGeneric:function(e,t){var n=$child(document,"td","current_match");if(n){var r=$parent(n,"tr")[t];if(null==r){var a=$parent(n,"tbody").childNodes;a.length>0&&(r="previousSibling"==t?$last(a):$first(a))}try{(n=$child(r,"td")).onmouseover(!0)}catch(e){}}else{var o=$$("td.ist_complete_item");(n="previousSibling"==t?$last(o):$first(o))&&n.onmouseover(!0)}n&&n.scrollIntoViewIfNeeded&&n.scrollIntoViewIfNeeded(),e&&$preventDefault(e)},canNormalize:function(){return null!="".normalize},normalize:function(e){return e.normalize("NFD").replace(/[\u0300-\u036e\u1dc0-\u1dfe\u20d0-\u20fe\ufe20-\ufe2e\u3099-\u309a]+/g,"")}};var n={handleKeyPress:function(e,t){var n=$eventElm(e),r=t.trigger.charCodeAt(0),a=n.istcomplete_word;if(e.keyAscii==IstComplete.KEY_DELETE&&a&&!e.altKey)n.istcomplete_word=a.substr(0,a.length-1);else if(e.keyAscii==IstComplete.KEY_DELETE)n.istcomplete_word="";else if(e.keyAscii==IstComplete.KEY_SPACE)n.istcomplete_word="";else{if(e.keyAscii==IstComplete.KEY_ESC)return n.istcomplete_word;if(e.keyAscii){if(e.keyAscii!=r&&e.keyAscii<=40&&!e.shift)return n.istcomplete_word;n.istcomplete_word?n.istcomplete_word+=String.fromCharCode(e.keyAscii):n.istcomplete_word=""+String.fromCharCode(e.keyAscii)}}return n.istcomplete_word}}},C6Tt:function(e,t,n){"use strict";t.a=function(e,t){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba(".concat(parseInt(n[1],16),", ").concat(parseInt(n[2],16),", ").concat(parseInt(n[3],16),", ").concat(t,")")}},C98Z:function(e,t){var n;n=function(){function e(e,t){var n,r,a;this.li=e,this.menu=t,this.rightClick=(n=this.rightClick,r=this,function(){return n.apply(r,arguments)}),$AEV(this.li,"contextmenu",(a=this,function(e){return!!e.shift||a.rightClick(e)})),$addClass(this.li,"menu_clickable")}return e.prototype.rightClick=function(e){window.event&&(window.event.returnValue=!1);try{document.selection.empty()}catch(e){e,window.getSelection().removeAllRanges()}$preventDefault(e);try{return this.menu(e)}finally{return!1}},e}(),window.MenuRightClick=n},CB29:function(e,t,n){"use strict";n.d(t,"a",(function(){return md})),n.d(t,"c",(function(){return pd})),n.d(t,"b",(function(){return hd}));var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),l=n.n(c),s=n("dE+u"),u=n("+HCy"),d=n("/MKj"),f=n("wrHN"),m=n("HLc3"),p=n("vzVa"),h=n("lM7n"),v=n("J4zp"),b=n.n(v),g=n("17x9"),y=n.n(g),O=n("TQFH"),j=n("Bl08"),w=n("p3jf"),E=n("gVGk"),k=n("lzDQ"),D=n("S+H7"),C=n("/lEg"),S=n("n7q7"),I=n("WgXA"),T=n("A72/"),x=n("wOFH"),P=n("lwsE"),R=n.n(P),N=n("W8MJ"),L=n.n(N),M=n("PJYZ"),F=n.n(M),z=n("7W2i"),B=n.n(z),V=n("a1gu"),$=n.n(V),H=n("Nsbk"),U=n.n(H),q=n("lSNA"),G=n.n(q),W=n("7GkX"),K=n.n(W),Y=n("TSYQ"),J=n.n(Y),Q=n("Vbab"),Z=n("Y+p1"),X=n.n(Z);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e,t){if(e!==Object(e)||t!==Object(t))return{};var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);for(var r in t)(void 0===e[r]||X()(e[r],t[r]))&&delete n[r];return n}var ne=n("/gRr"),re=n("FFjV"),ae=n("1tNa"),oe=n("jVEK"),ie=n("p8KB"),ce=n("TcCo"),le=n("4eld"),se=n("tN3f"),ue=n("z430"),de=n("UVeO"),fe=n("cppk"),me=n("LYyr"),pe=["\ud83d\ude03","\ud83d\ude0a","\ud83d\ude09","\ud83d\ude02","\ud83d\ude01","\ud83d\ude0d","\ud83d\ude2e","\ud83d\ude0b","\ud83d\ude15","\ud83d\ude1e","\ud83d\ude13","\ud83d\ude07","\ud83d\ude21","\ud83d\ude08","\ud83d\ude37","\ud83d\ude10","\ud83d\ude22","\ud83d\udc4d","\ud83d\udc4e","\u2764\ufe0f","\u2b50\ufe0f","\ud83d\ude2b"];function he(e){var t=e.onSelect;return l.a.createElement("ul",{className:"emoji_picker"},pe.map((function(e,n){return l.a.createElement("li",{key:e,className:"emoji_picker__emoji"},l.a.createElement(le.a,{onClick:function(){return t(e)},autoFocus:0===n,"aria-label":Object(me.a)(_("Insert {emoji} emoji"),{emoji:e})},l.a.createElement("span",{className:"emoji"},e)))})))}he.propTypes={onSelect:y.a.func.isRequired};var ve=he,be=n("jA2l"),ge=n("qJlv");function _e(e){var t=e.canDrop,n=e.isOver,r=e.connectDropTarget,a=e.children,o=e.onDrop,i=e.fullScreen,c=void 0===i||i;return l.a.createElement(l.a.Fragment,null,c?l.a.createElement(je,{onDrop:o}):null,r(a({isDragging:t,isHovering:n})))}_e.propTypes={onDrop:y.a.func,dropTarget:y.a.object,children:y.a.func,fullScreen:y.a.bool,connectDropTarget:y.a.func,isOver:y.a.bool,canDrop:y.a.bool};var ye=Object(be.a)(ge.b.FILE,{drop:function(e,t){e.onDrop&&e.onDrop(t.getItem().files)}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}})),Oe={position:"fixed",zIndex:0,top:0,left:0,right:0,bottom:0};var je=ye((function(e){var t=e.connectDropTarget,n=e.canDrop;return t(l.a.createElement("div",{style:n?Oe:{}}))})),we=ye(_e),Ee=n("Vdij");function ke(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U()(e);if(t){var a=U()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $()(this,n)}}function Se(e){for(var t=e.parentNode;;){if(!t){t=e.nextSibling;break}if(t.parentNode===document.body)break;t=t.parentNode}return t}var Ie=function(e){B()(n,e);var t=Ce(n);function n(){var e;R()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),G()(F()(e),"state",{isDropboxOpen:!1}),G()(F()(e),"uploadFiles",(function(t){var n,r=e.props,a=r.onUpload,o=r.userPlanLimits,i=ke(t);try{for(i.s();!(n=i.n()).done;){var c=n.value;if(c.size/Math.pow(1024,2)>o.current.upload_limit_mb)"pro"===o.current.plan_name||"teams"===o.current.plan_name?Object(Ee.a)({type:"FILE_UPLOAD",userPlanLimits:o}):Object(Ee.b)({type:"FILE_UPLOAD",userPlanLimits:o});else{var l=new GFile;l.file=c,l.temporaryId=Math.random(),l.upload(),a(l)}}}catch(e){i.e(e)}finally{i.f()}})),G()(F()(e),"uploadFromGoogleDrive",(function(){GoogleDrive.filesSelected=e.driveSelected,GoogleDrive.picker?GoogleDrive.show():GoogleDrive.load()})),G()(F()(e),"uploadFromDropBox",(function(){if(window.Dropbox)e.chooseFromDropbox();else{var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.id="dropboxjs",t.setAttribute("data-app-key","o8lsvx1nvnswy6q"),t.src="https://www.dropbox.com/static/api/2/dropins.js",document.body.appendChild(t),t.addEventListener("load",e.chooseFromDropbox)}})),G()(F()(e),"chooseFromDropbox",(function(){var t=e.props.onUpload;e.setState((function(){return{isDropboxOpen:!0}})),window.Dropbox.choose({success:function(n){e.setState((function(){return{isDropboxOpen:!1}}));var r,a=ke(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,i=new GFile;i.temporaryId=o.id;var c={file_url:o.link,file_name:o.name,file_size:o.bytes};o.thumbnailLink&&(c.image=o.thumbnailLink.replace("=96","=800"),c.image_width=800,c.image_height=800),i.setUploadContent(c),t(i)}}catch(e){a.e(e)}finally{a.f()}},multiselect:!0,iframe:!0,cancel:function(){return e.setState((function(){return{isDropboxOpen:!1}}))}});var n=document.querySelector('iframe[src*="dropbox"]');n&&(Se(n).style.zIndex=1e5)})),G()(F()(e),"driveSelected",(function(t){var n,r=e.props.onUpload,a=ke(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,i=new GFile,c={file_url:o.url,file_name:o.name,file_underlying_type:o.mimeType};i.setUploadContent(c),r(i)}}catch(e){a.e(e)}finally{a.f()}})),e}return L()(n,[{key:"componentWillUnmount",value:function(){window.Dropbox&&window.Dropbox.cancelChooser&&this.state.isDropboxOpen&&window.Dropbox.cancelChooser()}},{key:"render",value:function(){return this.props.children({uploadFiles:this.uploadFiles,uploadFromGoogleDrive:this.uploadFromGoogleDrive,uploadFromDropBox:this.uploadFromDropBox})}}]),n}(l.a.Component);G()(Ie,"propTypes",{userPlanLimits:y.a.object.isRequired,onUpload:y.a.func,children:y.a.func});var Te=n("in4X"),Ae=n("Gvtx");function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U()(e);if(t){var a=U()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $()(this,n)}}var Pe=function(e){B()(n,e);var t=xe(n);function n(){var e;R()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),G()(F()(e),"handleClick",(function(){var t=e.props,n=t.options,r=t.onFileUpload,a=new window.GFile,o=new TEXTAREA;n.annotate_fn(o);var i,c=o.value,l=Ae.a.onContentSave(c),s=Ae.a.type;if("gmail_new"==s)i="td/gmail";else if("outlook"==s)i="td/outlook";else if("thunderbird"==s)i="td/thunderbird";else{i="td/hyperlink";var u=window.PluginVersion.getTitleAndUrl(),d=b()(u,2);c=d[0],l=d[1]}return a.setUploadContent({file_url:l,file_name:c,file_type:i}),r(a),Ae.a.onContollerHide(),!1})),e}return L()(n,[{key:"getTooltipText",value:function(){var e=this.props.options;return e.annotate_attach_text?e.annotate_attach_text:e.is_email?_("Attach email to comment"):_("Attach website to comment")}},{key:"render",value:function(){return this.props.options?l.a.createElement(Te.b,{label:this.getTooltipText()},l.a.createElement(le.a,{onClick:this.handleClick,className:"ist_button ist_button_upload_btn ist_button_mini"},l.a.createElement(de.I,null))):null}}]),n}(l.a.Component);G()(Pe,"propTypes",{options:y.a.object,onFileUpload:y.a.func.isRequired});var Re=n("jlRT");function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U()(e);if(t){var a=U()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $()(this,n)}}var Le=function(e){B()(n,e);var t=Ne(n);function n(){var e;R()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),G()(F()(e),"state",{duration:0,error:null,showError:!1,isPlaying:!1,time:0}),G()(F()(e),"audioRef",l.a.createRef()),G()(F()(e),"handleError",(function(){e.setState({error:!0})})),G()(F()(e),"handleLoading",(function(){e.setState({duration:e.audioRef.current.duration})})),G()(F()(e),"handleStop",(function(){clearInterval(e.timer);var t=e.audioRef.current;if(t)try{e.setState({isPlaying:!1,time:0}),t.pause(),t.currentTime=0}catch(e){}})),G()(F()(e),"handlePlay",(function(){if(e.state.error)e.setState({showError:!0});else{var t=e.audioRef.current;t&&(t.play(),e.setState({isPlaying:!0}),e.handleStartTimer())}})),G()(F()(e),"handleErrorModalClosing",(function(){e.setState({showError:!1})})),e}return L()(n,[{key:"componentDidMount",value:function(){this.audioRef.current&&(this.audioRef.current.addEventListener("error",this.handleError),this.audioRef.current.addEventListener("loadedmetadata",this.handleLoading))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),this.audioRef.current&&(this.audioRef.current.removeEventListener("error",this.handleError),this.audioRef.current.removeEventListener("loadedmetadata",this.handleLoading))}},{key:"getDuration",value:function(){return this.props.duration||this.state.duration}},{key:"handleStartTimer",value:function(){var e=this,t=this.getDuration();this.timer=setInterval((function(){e.setState((function(n){var r=n.time+1;return r>=Math.ceil(t)?(setTimeout(e.handleStop,0),void clearInterval(e.timer)):{time:r}}))}),1e3)}},{key:"renderErrorModal",value:function(){var e=this.props.src,t=this.state.showError;return l.a.createElement(Re.a.Box,{isOpen:t},l.a.createElement(Re.a.Body,null,l.a.createElement("span",null,_("There was an error loading the audio file. Maybe your browser does not support audio playback.")," ",l.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},_("Direct link to the file.")))),l.a.createElement(Re.a.Actions,null,l.a.createElement(le.a,{onClick:this.handleErrorModalClosing},_("OK"))))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.src,r=this.state,a=r.isPlaying,o=r.time,i=r.duration,c=t({time:o,isPlaying:a,play:this.handlePlay,stop:this.handleStop,duration:i});return l.a.createElement(l.a.Fragment,null,c,l.a.createElement("audio",{volume:1,controls:!1,style:{display:"none"},ref:this.audioRef,src:n}))}}]),n}(l.a.Component);G()(Le,"propTypes",{duration:y.a.number,src:y.a.string,children:y.a.func});var Me=n("EpcT");function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U()(e);if(t){var a=U()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $()(this,n)}}navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var ze=function(e){B()(n,e);var t=Fe(n);function n(){var e;R()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),G()(F()(e),"state",{time:0,isRecording:!1,error:!1,audioURL:null}),G()(F()(e),"handleAttach",(function(){var t=e.props,n=t.onUpload,r=t.userPlanLimits,a=e.state.time;e.audioBlob.name="voice".concat((new Date).getTime(),".wav");var o=new window.GFile;o.file=e.audioBlob,o.duration=a,e.audioBlob.size/Math.pow(1024,2)>r.current.upload_limit_mb?"pro"===r.current.plan_name||"teams"===r.current.plan_name?Object(Ee.a)({type:"FILE_UPLOAD",userPlanLimits:r}):Object(Ee.b)({type:"FILE_UPLOAD",userPlanLimits:r}):(o.upload(),n(o))})),G()(F()(e),"handleErrorClose",(function(){e.setState({error:!1})})),G()(F()(e),"handleRetake",(function(){e.setState({time:0,audioURL:null},e.handleRecord)})),G()(F()(e),"handleRecord",(function(){var t=function(){e.setState({error:!0})};navigator.getUserMedia?navigator.getUserMedia({audio:!0},(function(t){e.setState({isRecording:!0}),window.AudioContext=window.AudioContext||window.webkitAudioContext;var n=(new window.AudioContext).createMediaStreamSource(t);e.recorder=new window.Recorder(n,t),e.recorder.record(),e.handleStartTimer()}),t):t()})),G()(F()(e),"handleStopRecord",(function(){e.recorder.stop(),e.handleStopTimer(),e.recorder.exportWAV((function(t){e.audioBlob=t;var n=URL.createObjectURL(t);e.setState({audioURL:n,isRecording:!1}),e.recorder.stopStream()}))})),e}return L()(n,[{key:"componentWillUnmount",value:function(){this.state.isRecording&&this.recorder&&(this.recorder.stop(),this.recorder.stopStream(),this.handleStopTimer())}},{key:"handleStartTimer",value:function(){var e=this;this.timer=setInterval((function(){e.setState((function(t){var n=t.time+1;return n>240?(e.handleStopTimer(),void e.handleStopRecord()):{time:n}}))}),1e3)}},{key:"handleStopTimer",value:function(){clearInterval(this.timer)}},{key:"renderErrorModal",value:function(){var e=this.state.error;return l.a.createElement(Re.a.Box,{isOpen:e,onDismiss:this.handleErrorClose,closeOnOverlayClick:!0},l.a.createElement(Re.a.Body,null,_("Your browser does not seem to support HTML5 Audio recording :-(")),l.a.createElement(Re.a.Actions,null,l.a.createElement(le.a,{className:"ist_button ist_button_red",onClick:this.handleErrorClose},_("OK"))))}},{key:"renderButtons",value:function(e){var t=e.play,n=e.isPlaying,r=e.stop,a=this.state,o=a.isRecording,i=a.audioURL,c=!o&&!i&&l.a.createElement(le.a,{className:"comments_drop_link",onClick:this.handleRecord},_("Record")),s=o&&l.a.createElement(le.a,{className:"comments_drop_link",onClick:this.handleStopRecord},_("Stop")),u=i&&l.a.createElement(le.a,{className:"comments_drop_link",onClick:this.handleRetake},_("Retake")),d=i&&l.a.createElement(le.a,{className:"comments_drop_link",onClick:n?r:t},n?_x("audio_player","Stop"):_x("audio_player","Play")),f=i&&l.a.createElement(le.a,{className:"comments_drop_link",onClick:this.handleAttach},_("Attach"));return l.a.createElement("div",{className:"comments_drop_links"},c,s,u,d,f)}},{key:"render",value:function(){var e=this,t=this.props.onClose,n=this.state,r=n.audioURL,a=n.time,o=n.isRecording;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Le,{src:r,duration:a},(function(n){var r=n.play,i=n.isPlaying,c=n.stop,s=n.time;return l.a.createElement(l.a.Fragment,null,e.renderErrorModal(),l.a.createElement(le.a,{className:"comments_drop_close",onClick:t},l.a.createElement(de.x,{small:!0})),l.a.createElement("div",null,l.a.createElement("h4",{className:"comments_drop_title"},Object(Me.e)(i?s:a)),o?l.a.createElement("span",{className:"comments_drop_description"},"(",_("Max 4 min"),")"):null),e.renderButtons({play:r,isPlaying:i,stop:c}))})))}}]),n}(l.a.Component);function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U()(e);if(t){var a=U()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $()(this,n)}}G()(ze,"propTypes",{userPlanLimits:y.a.object.isRequired,onUpload:y.a.func,onClose:y.a.func});var Ve=function(e){B()(n,e);var t=Be(n);function n(e){var r;return R()(this,n),(r=t.call(this,e)).cb=function(){return r.forceUpdate()},r.fv={remove:function(){},updateProgress:r.cb,uploadDone:function(){}},e.fileObject.addView(r.fv),e.fileObject.addCallback(r.cb),r}return L()(n,[{key:"componentWillUnmount",value:function(){var e=this,t=this.props.fileObject;t.removeView(this.fv),t.callbacks=t.callbacks.filter((function(t){return t!==e.cb}))}},{key:"getFileName",value:function(e){var t=e.file.name||e.file.fileName;return t||(e.file_server_info?e.file_server_info.title:"file")}},{key:"render",value:function(){var e=this.props,t=e.fileObject,n=e.onDelete,r=this.getFileName(t),a=!t.processed,o=t.progress_prct&&t.progress_prct<100&&l.a.createElement("b",{className:"progress_bar"},t.progress_prct,"%"),i=_("Could not upload the file due to an unknown error. Click to try again.");return l.a.createElement("div",{className:"file_to_upload"},l.a.createElement("span",{className:"icon"},l.a.createElement(de.z,{onClick:n})),l.a.createElement("span",{className:"filename"},r),a&&l.a.createElement("div",{className:"comments_drop_spinner"},l.a.createElement(ce.b,{width:16,height:16})),o,t.error&&l.a.createElement("b",{className:"progress_bar"},l.a.createElement(le.a,{title:i,onClick:function(){return t.upload()}},l.a.createElement(de.nc,{className:"comments_drop_warning",style:{marginRight:"8px"}}))))}}]),n}(l.a.Component);G()(Ve,"propTypes",{fileObject:y.a.object,onDelete:y.a.func});var $e=n("rbFA"),He=n("dwEu"),Ue=n("k+IQ"),qe=n("DoMW");function Ge(e){var t,n,r=e.isEverybodyChecked,a=e.usersToNotify,o=e.collaborators,i=null,l=Object(qe.a)(o||[]),s=c.createElement(Ue.a,{userIds:a,allCollaborators:l});if(0===a.length)t=Object(Q.a)("Notify <b>nobody</b> about my comment");else if(r)t=Object(Q.a)("Notify <b>everybody</b> about my comment");else if(1===a.length){var u=o.find((function(e){return e.id===a[0]}));t=Object(me.a)(Object(Q.a)("Notify <b>{name}</b> about my comment"),{name:Object(Me.f)(u)})}else t=Object(me.a)(Object(Q.b)("Notify <b>{count} people</b> about my comment","Notify <b>{count} people</b> about my comment",a.length),{count:a.length}),n=!0;return t.replace(/(.*)<b>(.+)<\/b>(.*)/,(function(e,t,r,a){var o=c.createElement("b",null,r);return i=c.createElement(c.Fragment,null,t,n?c.createElement(Te.b,{label:c.createElement("div",null,s)},o):o,a),""})),i}Ge.propTypes={isEverybodyChecked:y.a.bool,usersToNotify:y.a.array,collaborators:y.a.array};var We=Ge;function Ke(e){var t=e.usersToNotify,n=void 0===t?[]:t,r=e.collaborators,a=void 0===r?[]:r,o=e.user,i=e.onChange,l=Object(Me.d)(o||{},a),s=Object(Me.a)(l,n);return c.createElement("div",{className:"who_to_notify_bar"},c.createElement("div",{"data-testid":"who_to_notify_bar--notify_people_label"},c.createElement(We,{isEverybodyChecked:s,usersToNotify:n,collaborators:a})),c.createElement(He.a,{position:"top",showUnassignedOption:!1,users:l,searchPlaceholder:Object(Q.a)("Search people"),value:n,onChange:function(e){if("function"==typeof i){var t="string"==typeof e.target.value||"number"==typeof e.target.value?[e.target.value]:e.target.value;i(t)}},tooltip:Object(Q.a)("Change people to notify"),multiple:!0,showEveryoneOption:!0},c.createElement(de.m,null)))}var Ye=y.a.oneOfType([y.a.string,y.a.number]),Je=y.a.shape({id:Ye.isRequired,full_name:y.a.string.isRequired});Ke.propTypes={usersToNotify:y.a.arrayOf(Ye).isRequired,collaborators:y.a.arrayOf(Je).isRequired,user:Je,onChange:y.a.func.isRequired};var Qe=Ke,Ze=n("AnGN");function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U()(e);if(t){var a=U()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $()(this,n)}}var et=function(e){B()(n,e);var t=Xe(n);function n(e){var r;R()(this,n),r=t.call(this,e),G()(F()(r),"textareaRef",l.a.createRef()),G()(F()(r),"emojisButton",l.a.createRef()),G()(F()(r),"handleClosing",(function(){var e=r.state.text,t=r.props,n=t.type,a=t.draft,o=t.parentId,i=t.onCloseWithoutSubmit;(e&&e!==a||!e&&a)&&i({text:e,parentId:o,parentType:n})})),G()(F()(r),"focusTextarea",(function(){r.textareaRef.current&&r.textareaRef.current.focus()})),G()(F()(r),"handleSubmit",(function(e){var t=r.props,n=t.onSubmit,a=t.canAddComments,o=t.isProjectShared,i=t.type,c=r.state,l=c.text,s=c.files,u=c.usersToNotify;e.preventDefault(),r.canSubmit()&&(a||o?(n({text:l,usersToNotify:u,files:s}),r.setState({text:"",files:[],notifySelectorExpanded:!1},r.focusTextarea),Signals.sendSignal("instant_refresh_interface")):r.setState({premiumError:i===k.d?"FEATURE_PROJECT_COMMENT":"FEATURE_TASK_COMMENT"}))})),G()(F()(r),"handleTextChange",(function(e){r.setState({text:e.target.value})})),G()(F()(r),"handleEmojisTooltip",(function(){r.setState((function(e){return{showEmojisTooltip:!e.showEmojisTooltip}}))})),G()(F()(r),"handleFileAttaching",(function(){r.setState((function(e){return{showFileAttaching:!e.showFileAttaching}}))})),G()(F()(r),"handleRecording",(function(){r.props.canUploadAttachments?r.setState((function(e){return{showRecording:!e.showRecording}})):r.setState({premiumError:"FEATURE_AUDIO_RECORDING"})})),G()(F()(r),"handleEmojiSelect",(function(e){var t=r.textareaRef.current,n=t.value,a=t.selectionStart,o=t.selectionEnd,i=n.slice(0,a)+e+n.slice(o);r.setState({text:i,showEmojisTooltip:!1},(function(){t.focus(),t.selectionStart=t.selectionEnd=a+e.length}))})),G()(F()(r),"handleUpload",(function(e){r.setState((function(t){return{showFileAttaching:!1,showRecording:!1,files:t.files.concat(e)}}))})),G()(F()(r),"handleFileUploadError",(function(){r.setState({premiumError:"FEATURE_SHARED_PROJECT_FILE_UPLOAD"})})),G()(F()(r),"handlePremiumModalClosing",(function(){r.setState({premiumError:null})})),G()(F()(r),"handlePaste",(function(e,t){if(e&&e.clipboardData){var n=e.clipboardData;if(n.types&&n.items){var r=[];n.types.forEach((function(e,t){if("text/plain"!==e&&n.items[t]&&n.items[t].getAsFile){var a=n.items[t].getAsFile();a&&r.push(a)}})),r.length>0&&(e.preventDefault(),t(r))}}})),G()(F()(r),"handleKeydown",(function(e){var t=Object(ne.a)(e);if((e.ctrlKey||e.metaKey)&&"Enter"===t)return e.preventDefault(),r.handleSubmit(e),!1;"Escape"===t&&r.textareaRef.current&&r.textareaRef.current.blur()})),G()(F()(r),"handleNotifyUsersUpdate",(function(e){r.setState({usersToNotify:e})}));var a=Object(Me.g)(e);return r.state={text:r.props.draft||"",showFileAttaching:!1,showRecording:!1,showEmojisTooltip:!1,files:[],premiumError:null,usersToNotify:a},r}return L()(n,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.handleClosing)}},{key:"componentWillUnmount",value:function(){this.handleClosing(),window.removeEventListener("beforeunload",this.handleClosing)}},{key:"canSubmit",value:function(){return this.state.text.length<=15e3}},{key:"renderCommentActions",value:function(){var e=this.state.showEmojisTooltip;return l.a.createElement("div",{className:"comments_textarea_buttons textarea_buttons"},l.a.createElement("div",null,l.a.createElement(le.a,{onClick:this.handleFileAttaching,className:"ist_button ist_button_upload_btn ist_button_mini"},l.a.createElement(de.k,null)),l.a.createElement(le.a,{onClick:this.handleRecording,className:"ist_button ist_button_upload_btn ist_button_mini"},l.a.createElement(de.ib,null)),l.a.createElement(Pe,{onFileUpload:this.handleUpload,options:window.CURRENT_EXERNAL_SERVICE}),l.a.createElement("div",{style:{position:"relative"},className:"comments_textarea_button"},l.a.createElement(le.a,{ref:this.emojisButton,onClick:this.handleEmojisTooltip,className:"ist_button ist_button_upload_btn ist_button_mini"},l.a.createElement(de.H,null)),l.a.createElement(fe.a,{referenceElement:this.emojisButton.current,withArrow:!1,isShown:e,onClose:this.handleEmojisTooltip},l.a.createElement("div",{className:"comments_tooltip"},l.a.createElement(ve,{onSelect:this.handleEmojiSelect}))))),l.a.createElement("div",{className:"comments_textarea_submit"},l.a.createElement(le.a,{type:"submit",className:"ist_button ist_button_red sel_submit_note","data-track":"comments|add_comment",disabled:!this.canSubmit()},_("Add Comment"))))}},{key:"renderRecording",value:function(){var e=this.props.userPlanLimits;return l.a.createElement("div",{className:"comments_drop_container"},l.a.createElement(ze,{userPlanLimits:e,onUpload:this.handleUpload,onClose:this.handleRecording}))}},{key:"renderFileAttaching",value:function(){var e=this,t=this.props,n=t.canUploadAttachments,r=t.userPlanLimits,a=n?void 0:this.handleFileUploadError;return l.a.createElement(Ie,{userPlanLimits:r,onUpload:this.handleUpload},(function(t){var r=t.uploadFiles,o=t.uploadFromGoogleDrive,i=t.uploadFromDropBox;return l.a.createElement("div",{className:"comments_drop_container"},l.a.createElement(le.a,{className:"comments_drop_close",onClick:e.handleFileAttaching},l.a.createElement(de.x,{small:!0})),l.a.createElement("h4",{className:"comments_drop_title"},_("Drag & drop files here")),l.a.createElement("ul",{className:"comments_drop_links"},l.a.createElement("li",{onClick:a,className:"comments_drop_link"},n?l.a.createElement("input",{onChange:function(e){return r(e.target.files)},className:"comments_drop_computer",name:"file",type:"file",multiple:!0}):null,_("Computer")),Object(Ze.e)()?l.a.createElement("li",{className:"comments_drop_link",onClick:i},_("Dropbox")):null,Object(Ze.g)()?l.a.createElement("li",{onClick:o,className:"comments_drop_link"},_("Google Drive")):null))}))}},{key:"renderFiles",value:function(){var e=this,t=this.state.files;return 0===t.length?null:t.map((function(n){return l.a.createElement(Ve,{key:n.temporaryId,fileObject:n,onDelete:function(){e.setState({files:t.filter((function(e){return e!==n}))})}})}))}},{key:"renderPremiumModal",value:function(){var e=this.state.premiumError;return l.a.createElement(Re.a.Box,{isOpen:Boolean(e),onDismiss:this.handlePremiumModalClosing,closeOnOverlayClick:!0},l.a.createElement(Re.a.Body,null,l.a.createElement("div",null,l.a.createElement($e.a,{feature:e,onClose:this.handlePremiumModalClosing}))))}},{key:"renderDragging",value:function(e){var t=e?"comments_drop_container__hover":"";return l.a.createElement("div",{className:"comments_drop_container ".concat(t)},l.a.createElement("h4",{className:"comments_drop_title"},_("Drag & drop files here")))}},{key:"renderCharacterLength",value:function(){var e=this.state.text.length;return e>=15e3?l.a.createElement("div",{className:"comments_character_length comments_character_length_error"},Object(Q.a)("Maximum character limit exceeded:")," ",e," / ",15e3):e>=7500?l.a.createElement("div",{className:"comments_character_length comments_character_length_info"},Object(Q.a)("Character limit:")," ",e," / ",15e3):void 0}},{key:"render",value:function(){var e=this,t=this.state,n=t.text,r=t.showFileAttaching,a=t.showRecording,o=t.usersToNotify,i=this.props,c=i.user,s=i.collaborators,u=i.userPlanLimits,d=Boolean(s&&s.length);return l.a.createElement(Ie,{userPlanLimits:u,onUpload:this.handleUpload},(function(t){var i=t.uploadFiles;return l.a.createElement("div",{className:J()("note_submit",{"note_submit--with_notify_bar":d,"note_submit--with_drop_container":a||r})},d&&l.a.createElement(Qe,{usersToNotify:o,collaborators:s,user:c,onChange:e.handleNotifyUsersUpdate}),e.renderPremiumModal(),l.a.createElement("form",{onSubmit:e.handleSubmit},l.a.createElement(we,{onDrop:i},(function(t){var o=t.isDragging,c=t.isHovering;return l.a.createElement("div",null,l.a.createElement("div",{className:J()("comments_textarea_holder",{"comments_textarea_holder--dragging":o&&!r})},l.a.createElement(ue.a,{autoFocus:!0,className:"no-focus-marker",placeholder:_("Write a comment"),value:n,minRows:3,cacheMeasurements:!0,onChange:e.handleTextChange,onKeyDown:e.handleKeydown,onPaste:function(t){return e.handlePaste(t,i)},ref:e.textareaRef}),e.renderCharacterLength(),l.a.createElement("div",{className:"files_view"},e.renderFiles()),a&&e.renderRecording(),r&&e.renderFileAttaching(),e.renderCommentActions(),o&&e.renderDragging(c)))}))))}))}}]),n}(l.a.Component);function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U()(e);if(t){var a=U()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $()(this,n)}}G()(et,"propTypes",{type:y.a.oneOf([k.d,k.c]).isRequired,canAddComments:y.a.bool.isRequired,canUploadAttachments:y.a.bool.isRequired,userPlanLimits:y.a.object.isRequired,onSubmit:y.a.func.isRequired,user:y.a.object.isRequired,collaborators:y.a.array.isRequired,notes:y.a.array.isRequired,item:y.a.object,isProjectShared:y.a.bool.isRequired,parentId:y.a.oneOfType([y.a.number,y.a.string]).isRequired,onCloseWithoutSubmit:y.a.func.isRequired,draft:y.a.string});var nt=function(e){B()(n,e);var t=tt(n);function n(){var e;R()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),G()(F()(e),"state",{editing:null,loadingMore:!1,loadingMoreError:null,draft:e.props.draft}),G()(F()(e),"bottomRef",l.a.createRef()),G()(F()(e),"scrollNotes",(function(){var t=e.bottomRef.current;"function"==typeof(null==t?void 0:t.scrollIntoView)&&t.scrollIntoView({behavior:"smooth"})})),G()(F()(e),"handleSubmitNote",(function(t){var n=t.text,r=t.usersToNotify,a=t.files,o=e.props,i=o.onAddNote,c=o.type,l=o.parentId;(n||a&&a.length>0)&&(i({parentId:l,type:c,content:n,files:a,usersToNotify:r}),setTimeout(e.scrollNotes,0))})),G()(F()(e),"handleEditing",(function(t){e.setState({editing:t})})),G()(F()(e),"handleEditingClose",(function(){e.setState({editing:null})})),G()(F()(e),"handleUpdateNote",(function(){var t;e.setState({editing:null}),(t=e.props).onUpdateNote.apply(t,arguments)})),G()(F()(e),"handleLoadMore",(function(){var t=e.props,n=t.type,r=t.onFetchMoreNotes,a=t.item,o=t.project;e.setState({loadingMore:!0,loadingMoreError:null},(function(){r({item:a,project:o,type:n}).then((function(){e.setState({loadingMore:!1})})).catch((function(t){e.setState({loadingMore:!1,loadingMoreError:t})}))}))})),G()(F()(e),"renderContent",(function(){var t=e.props,n=t.type,r=t.notes,a=t.allCollaborators,o=t.user,i=t.canAddComments,c=t.onAddReaction,s=t.onRemoveReaction,u=t.onRemoveNote,d=t.hasMore,f=e.state,m=f.editing,p=f.loadingMore,h=f.loadingMoreError;return 0===r.length?l.a.createElement("div",{className:"comments_list_container"},n===k.d?l.a.createElement(ie.h,{canAddComments:i}):l.a.createElement(ie.k,{canAddComments:i})):l.a.createElement("div",{className:"comments_list_container"},h?l.a.createElement("div",{className:"comments_list_error"},h.error_tag?Object(Q.a)("The project was not found, could be deleted or moved."):Object(Q.a)("An unknown error happened. Please try again later. We're sorry for the trouble.")):null,p?l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(ce.a,null)):null,d&&!p?l.a.createElement(le.a,{onClick:e.handleLoadMore,className:"fetch_old"},Object(Q.a)("Fetch older comments")):null,r.map((function(t){return l.a.createElement(se.a,{key:t.id,editing:m===t.id,onEditing:e.handleEditing,onEditingClose:e.handleEditingClose,onAddReaction:c,onRemoveReaction:s,onRemoveNote:u,onUpdateNote:e.handleUpdateNote,user:o,note:t,allCollaborators:a})})),l.a.createElement("div",{ref:e.bottomRef}))})),e}return L()(n,[{key:"componentDidMount",value:function(){this.scrollNotes()}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.canAddComments,r=e.canUploadAttachments,a=e.userPlanLimits,o=e.user,i=e.collaborators,c=e.notes,s=e.item,u=e.isProjectShared,d=e.onCloseWithoutSubmit,f=e.parentId,m=e.project,p=this.state.draft;return l.a.createElement("div",{className:"comments_container"},this.renderContent(),m&&!m.is_archived?l.a.createElement("div",{className:"comments_editor_container"},l.a.createElement(et,{item:s,isProjectShared:u,notes:c,user:o,collaborators:i,draft:p,parentId:f,type:t,canAddComments:n,canUploadAttachments:r,userPlanLimits:a,onSubmit:this.handleSubmitNote,onCloseWithoutSubmit:d})):null)}}]),n}(l.a.Component);G()(nt,"propTypes",{type:y.a.oneOf([k.d,k.c]),parentId:y.a.oneOfType([y.a.number,y.a.string]),item:y.a.object,project:y.a.object,notes:y.a.array,user:y.a.object,allCollaborators:y.a.object,collaborators:y.a.array,canAddComments:y.a.bool.isRequired,canUploadAttachments:y.a.bool.isRequired,userPlanLimits:y.a.object.isRequired,isProjectShared:y.a.bool.isRequired,draft:y.a.string,hasMore:y.a.bool,onAddReaction:y.a.func,onRemoveReaction:y.a.func,onRemoveNote:y.a.func,onAddNote:y.a.func,onUpdateNote:y.a.func,onFetchMoreNotes:y.a.func.isRequired,onCloseWithoutSubmit:y.a.func.isRequired});var rt=n("XOeF"),at={onAddReaction:k.k,onRemoveReaction:k.w,onAddNote:k.l,onRemoveNote:k.v,onUpdateNote:k.x,onFetchMoreNotes:k.m,onCloseWithoutSubmit:ae.b},ot=Object(d.c)((function(e,t){var n=t.parentId,r=t.type,a=t.projectId,o=Object(oe.i)(e),i=(r===k.d?k.r:k.o)(e,n),c=Object(ae.c)(e,{type:r,id:n}),l=Object(D.j)(e,a),s=Object(D.i)(e);return{draft:c,user:o,notes:i,hasMore:Object(k.h)(e,n,r),collaborators:l,allCollaborators:s,project:Object(rt.n)(e,a),isProjectShared:Object(D.m)(e,a),canAddComments:Object(T.d)(e),canUploadAttachments:Object(T.l)(e),userPlanLimits:Object(T.s)(e)}}),at)(nt),it=n("qFoM"),ct=n("RIqP"),lt=n.n(ct),st=n("TTkg"),ut=n("aSPn");function dt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ft(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mt(){var e,t,n,r,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=o.item,c=o.dragItem,l=o.listIdAttr,s=o.itemIdAttr,u=o.maxIndent,d=void 0===u?5:u,f=o.indentWidth,m=void 0===f?28:f,p=o.container,h=void 0===p?Object(st.a)():p,v=o.dropzone,g=void 0===v?"inline":v,_=d>1,y="[".concat(l,"]"),O="".concat(y," [").concat(s,"]"),j=new WeakMap,w=function(){(a=ht(i)).forEach((function(e){j.set(e,e.style.display),e.style.display="none"}))},E=function(){a.forEach((function(e){e.style.display=j.get(e)}))},k=Object(ut.a)((function(e){return[Array.from(document.querySelectorAll(O)),Array.from(document.querySelectorAll(y))]})),D=function(e){return e.getAttribute(s)},C=function(){var r,a;(e=LI(),t=(pt(c)-1)*m,_&&(e.style.setProperty("margin-left",t+"px","important"),n=pt(c)),w(),e.className=c.className+" drop_item",e.setAttribute("data-droppable-placeholder",""),e.classList.remove("current"),c.classList.add("on_drag"),"droppable"===g?(e.style.height=0,e.classList.add("hidden")):e.style.height=c.offsetHeight-2+"px",$addAfter(e,i),"droppable"===g)&&(null===(r=e.closest(y))||void 0===r||null===(a=r.closest("section"))||void 0===a||a.classList.add("active"))},S=function(){r||(r=$position(c).x-t);var a,o=k(h.scrollTop),i=b()(o,2),l=i[0],u=i[1],f=e.closest(y).closest("section"),p=c.getBoundingClientRect().top,v=p+c.offsetHeight,O=!1,j=dt(l);try{for(j.s();!(a=j.n()).done;){var w=a.value;if(w!==c){var E=w.getBoundingClientRect().top,D=E+w.offsetHeight/2,C=E+w.offsetHeight;if(v>D&&v<C){for(;w.nextSibling&&"none"==w.nextSibling.style.display;)w=w.nextSibling;$addAfter(e,w),O=!0;break}if(p<D&&p>E){$addBefore(e,w),O=!0;break}}}}catch(e){j.e(e)}finally{j.f()}if(!O){var S=u.find((function(e){return vt(c,e)})),I=null==S?void 0:S.querySelectorAll("[".concat(s,"]")),T=1===(null==I?void 0:I.length)&&I[0].getAttribute(s)===c.getAttribute(s);if(S&&!S.contains(e)&&(0===I.length||T)){if($addToTop(S,e),"droppable"===g){var A,x=null===(A=e.closest(y))||void 0===A?void 0:A.closest("section");x!==f&&(null==f||f.classList.remove("active"),null==x||x.classList.add("active"))}return}}if(_){var P=n,R=$position(c).x-r;R<=10?P=1:R>=1*m-10&&R<=1*m+10?P=2:R>=2*m-10&&R<=2*m+10?P=3:R>=3*m-10&&R<=3*m+10?P=4:R>=4*m-10&&R<=4*m+10?P=5:R>=5*m-10&&R<=5*m+10&&(P=6),P>d&&(P=d);for(var N=e.previousSibling;N&&(!pt(N)||N==c||bt(N));)N=N.previousSibling;if(N?P>pt(N)&&(P=Math.min(pt(N)+1,d)):P=1,e.nextSibling){var L=pt(e.nextSibling);P<L&&(P=L)}if(e.style.setProperty("margin-left",(P-1)*m+"px","important"),n=P,"droppable"===g){var M,F=null===(M=e.closest(y))||void 0===M?void 0:M.closest("section");F!==f&&(null==f||f.classList.remove("active"),null==F||F.classList.add("active"))}}},I=function(){var t,r=c.getAttribute(s),o={};if(_){var u=pt(c),f=n;if(o[r]=f,u!==f){var m=f-u;a.forEach((function(e){var t=D(e),n=Math.min(pt(e)+m,d);o[t]=n}))}}var p=e.closest(y),h=new Set([i,c].concat(lt()(a))),v=Array.from(p.querySelectorAll("[".concat(s,"], .drop_item"))),b=(v=v.filter((function(e){return!h.has(e)}))).findIndex((function(t){return t===e}));(t=v).splice.apply(t,[b,1,c].concat(lt()(a)));var O,j,w=v.map((function(e,t){var n=e.getAttribute(s);return{id:n,indent:_?o[n]||pt(e):null,item_order:t+1}}));(c.style.width="",c.classList.remove("on_drag"),"droppable"===g)&&(null===(O=e.closest(y))||void 0===O||null===(j=O.closest("section"))||void 0===j||j.classList.remove("active"));return $remove(e),E(),{dragItemId:r,orders:w,dropListId:p.getAttribute(l)}};return{handleDragStart:C,handleDragging:S,handleDragEnd:I}}function pt(e){switch(e.getAttribute("data-item-indent")){case"1":return 1;case"2":return 2;case"3":return 3;case"4":return 4;case"5":return 5}}function ht(e){for(var t=pt(e),n=[],r=e.nextSibling;r&&pt(r)>t;)n.push(r),r=r.nextSibling;return n}function vt(e,t){return e=e.getBoundingClientRect(),t=t.getBoundingClientRect(),!(e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function bt(e){return"none"===e.style.display}function gt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _t(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yt(e){var t,n,r=e.element,a=e.handle,o=e.onDragStart,i=e.onDragging,c=e.onDragEnd,l=e.scrollElements,s=e.scrollOffset,u=e.startDragging,d=!1;function f(e){t=r.getAttribute("style"),document.body.appendChild(r),r.style.position="fixed",r.style.zIndex=1e3,r.style.top="".concat(e.clientY,"px"),r.style.left="".concat(e.clientX,"px"),document.addEventListener("mousemove",m),document.addEventListener("mouseup",p),document.documentElement.classList.add("ice_dnd_active"),n=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.offsetTop,a=void 0===r?0:r,o=n.offsetBottom,i=void 0===o?0:o;Array.isArray(e)||(e=[e]);var c=function(n){var r,o;t&&clearInterval(t);var c,l=gt(e);try{for(l.s();!(c=l.n()).done;){if((o=c.value)===document.documentElement){var s=n.pageY-o.scrollTop;s<70+a&&(r=-6),s>=o.clientHeight-(70+i)&&(r=6)}else{var u=o.getBoundingClientRect(),d=70+a,f=70+i;if(n.clientX<u.left||n.clientX>u.right||n.clientY<u.top-d||n.clientY>u.bottom+f)continue;r=Math.abs(n.clientY-u.top)<d?-6:Math.abs(n.clientY-u.bottom)<f?6:0}if(void 0!==r)break}}catch(e){l.e(e)}finally{l.f()}void 0!==r&&(t=setInterval((function(){o.scrollTop+=r}),1))};return document.addEventListener("mousemove",c),function(){document.removeEventListener("mousemove",c),clearInterval(t)}}(l||document.documentElement,s),o(e)}function m(e){r.style.top="".concat(e.clientY,"px"),r.style.left="".concat(e.clientX,"px"),i(e)}function p(e){h(),c(e)}function h(){d||(t?r.setAttribute("style",t):r.removeAttribute("style"),n&&n(),document.documentElement.classList.remove("ice_dnd_active"),document.body.removeChild(r),a.removeEventListener("mousedown",f),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",p),d=!0)}return u?f(u):a.addEventListener("mousedown",f),h}var Ot=n("MrOw");function jt(e){var t=e.itemSelector,n=e.handleSelector,r=e.scrollSelector,a=e.scrollOffset,o=e.disabled,i=void 0!==o&&o,l=e.onDragStart,s=e.onDragging,u=e.onDragEnd,d=Object(c.useRef)();d.current={onDragStart:l,onDragging:s,onDragEnd:u};var f=Object(c.useRef)();Object(c.useEffect)((function(){var e,o=function(o){var i=o.target.closest(n);if(i){var c=o.target.closest(t);if(c){var l;r&&(l=Array.isArray(r)?r.map((function(e){return document.querySelector(e)})).filter((function(e){return null!=e})):document.querySelector(r));var s=c.cloneNode(!0);s.style.height=c.offsetHeight+"px",s.style.width=c.offsetWidth+"px",c.style.display="none",e=yt({element:s,handle:i,startDragging:o,scrollElements:l,scrollOffset:a,onDragStart:function(e){Ot.default.getInstance().lock({timeout:12e4}),d.current.onDragStart&&d.current.onDragStart(c,s,e),f.current=!0},onDragging:function(e){d.current.onDragging&&d.current.onDragging(e)},onDragEnd:function(e){Ot.default.getInstance().unlock(),c.style.display=null,d.current.onDragEnd&&d.current.onDragEnd(e)}})}}};return i||document.addEventListener("mousedown",o),function(){!f.current&&e&&e(),document.removeEventListener("mousedown",o)}}),[t,n,r,l,s,u,a,i])}function wt(e){var t=e.listIdAttr,n=e.itemIdAttr,r=e.handleSelector,a=e.scrollSelector,o=e.onSort,i=Object(c.useRef)();jt({itemSelector:"[".concat(t,"] [").concat(n,"]"),handleSelector:r,scrollSelector:a,onDragStart:Object(c.useCallback)((function(e,r){i.current=mt({item:e,dragItem:r,listIdAttr:t,itemIdAttr:n,maxIndent:5}),i.current.handleDragStart()}),[t,n]),onDragging:Object(c.useCallback)((function(){i.current.handleDragging()}),[]),onDragEnd:Object(c.useCallback)((function(){var e=i.current.handleDragEnd();o(e)}),[o])})}var Et=n("JZM8"),kt=n.n(Et),Dt=n("c9wj"),Ct=n("VKB9");function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tt="add_above",At="add_below",xt="add_bottom",Pt="add_bottom_website",Rt="add_bottom_email",Nt="add_top",Lt="edit";function Mt(){return Object(Dt.a)("editor")}var Ft=l.a.createContext({editorState:null,onEditItem:function(){return{}},onAddBottom:function(){return{}},onAddBottomWebsite:function(){return{}},onAddBottomEmail:function(){return{}},onAddTop:function(){return{}},onAddAbove:function(){return{}},onAddBelow:function(){return{}},onResetEditorState:function(){return{}},onChangeIndent:function(){return{}}});function zt(){return Object(c.useContext)(Ft)}var Bt=function(e){var t=e.children,n=e.onEditItem,r=e.onAddBottom,a=e.onAddBottomWebsite,o=e.onAddBottomEmail,i=e.onAddTop,s=e.onAddAbove,u=e.onAddBelow,f=e.onResetEditorState,m=e.onChangeIndent,p=Object(c.useState)(null),h=b()(p,2),v=h[0],g=h[1],_=Object(d.h)((function(e){return e.tempIds})),y=Object(d.h)((function(e){return(null==v?void 0:v.taskId)?Object(O.u)(e,v.taskId):null})),j=Object(Ct.e)(_);Object(c.useEffect)((function(){y&&v&&v.taskId!==y.id&&g(It(It({},v),{},{taskId:y.id}))}),[v,y]),Object(c.useEffect)((function(){if(_&&v&&j!==_){var e=_[v.listId];e&&g(It(It({},v),{},{listId:e}))}}),[v,j,_]),Object(c.useEffect)((function(){!(null==v?void 0:v.taskId)||y&&!y.checked||g(null)}),[v,y]);var w=Object(c.useCallback)((function(e,t){g({listId:e,taskId:t,mode:Lt,key:Mt()})}),[]),E=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g({listId:e,mode:xt,key:Mt(),fromShortcut:t})}),[]),k=Object(c.useCallback)((function(e){g({listId:e,mode:Pt,key:Mt()})}),[]),D=Object(c.useCallback)((function(e){g({listId:e,mode:Rt,key:Mt()})}),[]),C=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g({listId:e,mode:Nt,key:Mt(),fromShortcut:t})}),[]),S=Object(c.useCallback)((function(e,t){g({listId:e,taskId:t,mode:Tt,key:Mt()})}),[]),I=Object(c.useCallback)((function(e,t){g({listId:e,taskId:t,mode:At,key:Mt()})}),[]),T=Object(c.useCallback)((function(e){v&&g(It(It({},v),{},{indent:e}))}),[v]),A=Object(c.useCallback)((function(){g(null)}),[]),x=Object(c.useMemo)((function(){return{editorState:v,onEditItem:n||w,onAddBottom:r||E,onAddBottomWebsite:a||k,onAddBottomEmail:o||D,onAddTop:i||C,onAddAbove:s||S,onAddBelow:u||I,onResetEditorState:f||A,onChangeIndent:m||T}}),[v,S,I,E,D,k,C,T,w,s,u,r,o,a,i,m,n,f,A]);return l.a.createElement(Ft.Provider,{value:x},t)};function Vt(e){return[Tt,At,xt,Pt,Rt,Nt].includes(e)}function $t(e){return[xt,Pt,Rt].includes(e)}var Ht=n("Qi13");var Ut=Object(d.c)((function(e){return{tempIdMap:Object(C.c)(e)}}))((function e(t){var n=t.listId,r=t.hierarchy,a=t.tasksMap,o=t.completedTasks,i=t.showCompleted,c=t.editorState,s=t.tempIdMap,u=t.editorRenderer,d=t.taskRenderer,f=t.completedListRenderer;return l.a.createElement(l.a.Fragment,null,r.map((function(t){var r=t.id,m=t.subTasks,p=a&&a[r];if(!p)return null;var h=c&&Ht.a.getRealId(c.taskId)===Ht.a.getRealId(p.id)&&c.listId===n,v=(Ht.a.isTemporary(r)||"number"!=typeof r?r:s[r]||r)||"null";return l.a.createElement(l.a.Fragment,{key:v},c&&h&&c.mode===Tt?u():null,c&&h&&c.mode===Lt?u(p):d(p),m?l.a.createElement(e,{listId:n,hierarchy:m,tasksMap:a,completedTasks:o,editorState:c,tempIdMap:s,showCompleted:i,completedListRenderer:f,editorRenderer:u,taskRenderer:d}):null,c&&h&&c.mode===At?u():null,i&&o&&o.items[r]&&o.items[r].completed_items>0?f(r,{shouldPrefetch:!1}):null)})))})),qt=n("maC2"),Gt=n("gd9Y");function Wt(e){return!!e&&e.startsWith("* ")}var Kt=n("Koeu"),Yt=n("UDQ1"),Jt=n("GpCm"),Qt=n("Tc49"),Zt=n("bjXC");function Xt(e){var t=e.title,n=e.children;return l.a.createElement("li",{className:"section_menu_item prority_selector_menu"},t?l.a.createElement("div",{className:"section_menu_label"},t):null,n)}Xt.propTypes={title:y.a.string,children:y.a.node.isRequired};var en=n("ck76"),tn=function(e){var t,n=e.priority,r=e.selected,a=e.onSelect,o=J()(["priority_item","icon_priority_".concat(n),r?"is_selected":null]);switch(n){case 1:t=_("Priority 4");break;case 2:t=_("Priority 3");break;case 3:t=_("Priority 2");break;case 4:t=_("Priority 1")}var i=function(){return a(n)};return l.a.createElement(Te.b,{label:t},l.a.createElement("span",{className:o,role:"menuitemradio","aria-checked":r,"aria-label":t,tabIndex:"0",onKeyDown:Object(en.a)(i),onClick:i,"data-action-hint":"task-overflow-menu-priority-".concat(n)},l.a.createElement(Zt.a,{priority:n})))};function nn(e){var t=e.selected,n=e.onSelect;return l.a.createElement(Xt,{title:_("Priority")},l.a.createElement("div",{className:"priority_list",role:"menu","aria-label":_("Priority")},[4,3,2,1].map((function(e){return r=e,l.a.createElement(tn,{key:r,priority:r,selected:t===r,onSelect:n});var r}))))}tn.propTypes={onSelect:y.a.func,priority:y.a.oneOf([1,2,3,4]),selected:y.a.bool},nn.propTypes={onSelect:y.a.func.isRequired,selected:y.a.oneOf([1,2,3,4])};var rn=n("fCkL");function an(e){var t=e.forwardRef,n=e.tip,r=e.icon,o=e.className,c=i()(e,["forwardRef","tip","icon","className"]),s=l.a.createElement(le.a,a()({ref:t,role:"menuitem","aria-label":c["aria-label"]||n,className:J()("icon_scheduler",o)},c),r);return n?l.a.createElement(Te.b,{label:n},s):s}an.propTypes={forwardRef:y.a.oneOfType([y.a.object,y.a.func]),tip:y.a.node,icon:y.a.node.isRequired,"aria-label":y.a.string,className:y.a.string};var on=n("ihri");function cn(e){var t=e.item,n=e.weekStartDay,r=void 0===n?1:n,a=e.weekendStartDay,o=void 0===a?6:a,i=e.nextWeekDay,c=void 0===i?1:i,s=e.onSelect,u=new Date,d=new Date;d.setDate(d.getDate()+1);var f=Object(on.b)({items:[t],today:u,weekStartDay:r,weekendStartDay:o,nextWeekDay:c,withPostponeDate:!0});return f=f.slice(0,5),l.a.createElement(Xt,{title:_("Schedule")},l.a.createElement("div",{className:"scheduler_holder"},l.a.createElement("div",{className:"icon_list",role:"menu","aria-label":_("Schedule")},f.map((function(e){var n=e.type,r=e.date,a=e.label,o=e.labelPlain;return l.a.createElement(an,{key:n,tip:a,"aria-label":o,onClick:function(){return function(e,n){return s(Object(on.d)({type:e,date:n},t))}(n,r)},icon:l.a.createElement(on.a,{type:n,size:"large"}),"data-action-hint":"task-overflow-menu-schedule-".concat(n)})})),l.a.createElement(ln,{item:t,onSelect:s}))))}cn.propTypes={item:y.a.object.isRequired,weekStartDay:y.a.number,weekendStartDay:y.a.number,nextWeekDay:y.a.number,onSelect:y.a.func.isRequired};var ln=function(e){var t=e.item,n=e.onSelect;return l.a.createElement(rn.a,{selectedDate:t.due,selectedItems:[t],onDateSelect:n,referenceElement:function(e){var t=e.ref,n=e.onClick;return l.a.createElement(an,{forwardRef:t,tip:_("More"),icon:l.a.createElement(de.jb,null),onClick:n})}})};ln.propTypes={item:y.a.object.isRequired,onSelect:y.a.func.isRequired};var sn=n("Xczw");function un(e){var t=e.item,n=e.onMoveToProject;return l.a.createElement(sn.a,{onSelect:function(e){var r=e.project_id,a=e.section_id;n({id:t.id,project_id:r,section_id:a})},selectedProjectId:t.project_id,selectedSectionId:t.section_id,withSectionSelection:!0},(function(e){var t=e.toggle,n=e.buttonProps;return l.a.createElement(Qt.a,a()({text:Object(Q.a)("Move to project"),icon:l.a.createElement(de.mb,null)},n,{onClick:t,"data-action-hint":"task-overflow-menu-move-to-project"}))}))}un.propTypes={item:y.a.object,onMoveToProject:y.a.func};var dn=n("4vAh"),fn=n("9d0M");function mn(e){var t=e.item;return l.a.createElement(fn.a,{item:t},(function(e){return l.a.createElement(Qt.a,a()({text:Object(Q.a)("Reminders"),icon:l.a.createElement(dn.a,null)},e,{"data-action-hint":"task-overflow-menu-reminders"}))}))}mn.propTypes={item:y.a.object};var pn=n("oVv/");function hn(e){var t=e.item,n=e.showGoToProject,r=void 0!==n&&n,a=e.onSelectAddAbove,o=e.onSelectAddBelow,i=e.onSelectEdit,c=e.onMoveToProject,s=e.onArchive,u=e.onDelete,f=e.onDuplicate,m=e.onLinkCopy,p=e.onUpdate,h=Object(d.h)((function(e){return e.user.start_day})),v=Object(d.h)((function(e){return e.user.weekend_start_day})),b=Object(d.h)((function(e){return e.user.next_week}));return l.a.createElement(Qt.b,{className:"item_menu_list","aria-label":_x("a11y","task edit menu")},a?l.a.createElement(Qt.a,{text:Object(Q.a)("Add task above"),icon:l.a.createElement(de.b,null),onClick:function(){return a(t.id)},"data-action-hint":"task-overflow-menu-add-above"}):null,o?l.a.createElement(Qt.a,{text:Object(Q.a)("Add task below"),icon:l.a.createElement(de.c,null),onClick:function(){return o(t.id)},"data-action-hint":"task-overflow-menu-add-below"}):null,l.a.createElement(Qt.a,{text:Object(Q.a)("Edit task"),icon:l.a.createElement(de.F,null),onClick:function(){return i(t.id)},"data-action-hint":"task-overflow-menu-edit"}),r?l.a.createElement(Qt.a,{text:Object(Q.a)("Go to project"),icon:l.a.createElement(de.eb,null),linkTo:{pathname:Object(Gt.d)({type:"project",projectId:t.project_id}),hash:"#task-".concat(t.id)},"data-action-hint":"task-overflow-menu-go-to-project"}):null,l.a.createElement(Qt.c,null),l.a.createElement(cn,{item:t,weekStartDay:h,weekendStartDay:v,nextWeekDay:b,onSelect:function(e){return p({id:t.id,due:e})}}),l.a.createElement(nn,{selected:t.priority,onSelect:function(e){return p({id:t.id,priority:e})}}),l.a.createElement(Qt.c,null),l.a.createElement(mn,{item:t}),l.a.createElement(Qt.c,null),l.a.createElement(un,{onMoveToProject:c,item:t}),t.due&&t.due.is_recurring?l.a.createElement(Qt.a,{text:Object(Q.a)("Complete forever"),icon:l.a.createElement(de.g,null),onClick:function(){s(t.id),Object(pn.a)().catch((function(){}))},"data-action-hint":"task-overflow-menu-complete-forever"}):null,l.a.createElement(Qt.a,{text:Object(Q.a)("Duplicate"),icon:l.a.createElement(de.E,null),onClick:function(){return f(t.id)},"data-action-hint":"task-overflow-menu-duplicate"}),l.a.createElement(Qt.a,{text:Object(Q.a)("Copy link to task"),icon:l.a.createElement(de.db,null),onClick:function(){return m(t.id)},"data-action-hint":"task-overflow-menu-copy-link"}),l.a.createElement(Qt.c,null),l.a.createElement(Qt.a,{className:"danger_menu",text:Object(Q.a)("Delete task"),icon:l.a.createElement(de.z,null),onClick:function(){return u(t)},"data-action-hint":"task-overflow-menu-delete"}))}hn.propTypes={item:y.a.object.isRequired,showGoToProject:y.a.bool,onSelectAddAbove:y.a.func,onSelectAddBelow:y.a.func,onSelectEdit:y.a.func.isRequired,onGoToProject:y.a.func,onArchive:y.a.func.isRequired,onMoveToProject:y.a.func.isRequired,onDelete:y.a.func.isRequired,onUpdate:y.a.func.isRequired,onLinkCopy:y.a.func.isRequired,onDuplicate:y.a.func.isRequired};var vn=hn;function bn(e){var t=e.item,n=e.onDelete,r=e.onLinkCopy;return l.a.createElement(Qt.b,{className:"item_menu_list","aria-label":_x("a11y","task edit menu")},l.a.createElement(Qt.a,{text:_("Copy link to task"),icon:l.a.createElement(de.db,null),onClick:function(){return r(t.id,t.sync_id)},"data-action-hint":"task-overflow-menu-copy-link"}),l.a.createElement(Qt.c,null),l.a.createElement(Qt.a,{className:"danger_menu",text:_("Delete task"),icon:l.a.createElement(de.z,null),onClick:function(){return n(t)},"data-action-hint":"task-overflow-menu-delete"}))}bn.propTypes={item:y.a.object.isRequired,onDelete:y.a.func.isRequired,onLinkCopy:y.a.func.isRequired};var gn=n("IHJC"),yn=n("SA+Z"),On=n.n(yn),jn=n("Pxnj"),wn=n("N8Tj"),En=n("hzT6");function kn(e){var t=e.children,n=e.item,r=e.onDueUpdate,o=e.onSchedulerToggle,c=e.fallbackTooltip,s=e.showFallback,u=i()(e,["children","item","onDueUpdate","onSchedulerToggle","fallbackTooltip","showFallback"]);return l.a.createElement(rn.a,{selectedItems:[n],selectedDate:n.due,placement:"bottom",onDateSelect:r,onToggle:o,referenceElement:function(e){var r=e.ref,o=e.isExpanded,i=e.onClick;return l.a.createElement(le.a,a()({ref:r,className:"due_date_controls",onClick:i,"aria-expanded":o},u),o?t:l.a.createElement(wn.a,{item:n,fallbackText:c,showFallback:s},t))}})}kn.propTypes={children:y.a.node.isRequired,item:y.a.object.isRequired,onDueUpdate:y.a.func.isRequired,onSchedulerToggle:y.a.func,fallbackTooltip:y.a.string,showFallback:y.a.bool};var Dn=n("Wo0o"),Cn=n("Ba5u"),Sn=n("xvbm");n("Jbpo");function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function An(e){var t=e.label,n=Object(jn.g)("label",t.color);return l.a.createElement(Gt.a,{view:{type:"label",labelName:t.name},style:{color:n}},Object(Sn.d)("frontend.non_project_boards")?l.a.createElement(de.Z,null):null,l.a.createElement(Cn.a,{source:t.name}))}function xn(e){e.stopPropagation()}An.propTypes={label:y.a.shape({color:y.a.number,name:y.a.string})};var Pn=function(e){var t=e.item,n=e.subItemsCount,r=e.subItemsCompletedCount,a=e.reminders,o=e.labels,i=e.labelDisplayStyle,s=void 0===i?"list":i,u=e.canUseLabels,d=void 0!==u&&u,f=e.onDueDateSelect,m=e.showDue,p=e.showTime,h=e.showNotes,v=e.noteCount,g=void 0===v?0:v,_=e.noteHasMore,y=void 0!==_&&_,O=e.showProject,j=e.project,w=e.showSectionOnly,k=e.section,D=e.isProjectShared,C=void 0!==D&&D,S=e.leadProjectIconPosition,I=void 0!==S&&S,T=Object(c.useRef)(null),A=Object(c.useRef)({}),x=Object(c.useState)({}),P=b()(x,2),R=P[0],N=P[1],L=Object(c.useState)(!1),M=b()(L,2),F=M[0],z=M[1],B=t.due&&(m||p&&t.due.with_time||t.due.is_recurring),V="number"==typeof r&&"number"==typeof n,$=Object(c.useMemo)((function(){return d?Object(E.v)(t.labels,o).map((function(e){return o[e]||{name:e,color:jn.a}})):[]}),[d,t.labels,o]),H=Object.entries(R).filter((function(e){var t=b()(e,2),n=t[0],r=t[1];return $.some((function(e){return e.name===n}))&&r})).map((function(e){return b()(e,1)[0]}));function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return e.slice(0,t).map((function(e){return"string"==typeof e?e:e.name})).join(", ").concat(e.length>t?"\u2026":"")}Object(c.useLayoutEffect)((function(){var e;if(F&&$.length&&"truncated"===s){var n=(null===(e=T.current)||void 0===e?void 0:e.getBoundingClientRect())||{},r=n.right,a=n.bottom;if(r&&a){A.current=Object.entries(A.current).reduce((function(e,n){var r=b()(n,2),a=r[0],o=r[1];return t.labels.includes(a)?Tn(Tn({},e),{},G()({},a,o)):e}),{});var o=Object.entries(A.current).filter((function(e){var t,n=b()(e,1)[0];return $.some((function(e){return e.name===n}))&&n!==(null===(t=$[0])||void 0===t?void 0:t.name)})).sort((function(e,t){var n=b()(e,1)[0],r=b()(t,1)[0];return $.findIndex((function(e){return e.name===n}))-$.findIndex((function(e){return e.name===r}))})).reduce((function(e,t){var n=b()(t,2),o=n[0],i=n[1].getBoundingClientRect(),c=i.right,l=void 0===c?0:c,s=i.bottom,u=void 0===s?0:s;return Tn(Tn({},e),{},G()({},o,0===l&&0===u||u>a||u>a-5&&l>r-20))}),{});N(o)}}}),[F,$,s,n,r,a,g,t.due,t.labels]),Object(c.useEffect)((function(){var e;if(!F&&0!==$.length&&"truncated"===s){var t=((null===(e=T.current)||void 0===e?void 0:e.getBoundingClientRect())||{}).right;0!==(void 0===t?0:t)&&z(!0)}}));var q=null;if($.length>0)switch(s){case"list":q=$.map((function(e){return l.a.createElement("span",{key:e.name,className:"task_list_item__info_tags__label"},l.a.createElement(An,{label:e}))}));break;case"truncated":var W=On()($),K=W[0],Y=W.slice(1),Z=Object(jn.g)("label",K.color);q=Object(Sn.d)("frontend.non_project_boards")?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"task_list_item__info_tags__label"},l.a.createElement(An,{label:K}),Y.length>0?l.a.createElement(Te.b,{label:U(Y,5)},l.a.createElement("span",{className:"item_info_tags__label_overflow_count",style:{color:Z},tabIndex:0},"+",Y.length)):null)):l.a.createElement(l.a.Fragment,null,$.map((function(e,t){return l.a.createElement(c.Fragment,{key:e.name},0===t?l.a.createElement("span",{className:"task_list_item__info_tags__label"},l.a.createElement(An,{label:e})):!0!==R[e.name]&&l.a.createElement("span",{className:"task_list_item__info_tags__label",ref:function(t){t&&(A.current[e.name]=t)}},l.a.createElement(An,{label:e})))})),H.length>0&&l.a.createElement(Te.b,{label:U(H,5)},l.a.createElement("p",{className:"item_info_tags__label_overflow_count"},"+",H.length)));break;case"count":q=l.a.createElement(Te.b,{label:U($,5)},l.a.createElement(Gt.a,{task:{id:t.id},className:"task_list_item__info_tags__labels_count"},l.a.createElement(de.Z,{"aria-label":Object(me.a)(Object(Q.c)("a11y","{number} label","{number} labels",t.labels.length),{number:t.labels.length})}),l.a.createElement("span",{"aria-hidden":!0},t.labels.length)))}return l.a.createElement("div",{className:J()("task_list_item__info_tags",{"task_list_item__info_tags--new_layout":Object(Sn.d)("frontend.non_project_boards")}),ref:T,"data-layout":s},n?l.a.createElement(Gt.a,{task:{id:t.id},className:J()("task_list_item__info_tags__subtasks",{"task_list_item__info_tags__subtasks--show-complete":V})},V?l.a.createElement(de.W,{"aria-label":Object(me.a)(Object(Q.c)("a11y","{completed}/{total} sub-task","{completed}/{total} sub-tasks",n),{completed:r||0,total:n})}):l.a.createElement(de.W,{"aria-label":Object(me.a)(Object(Q.c)("a11y","{total} sub-task","{total} sub-tasks",n),{total:n})}),l.a.createElement("span",{"aria-hidden":!0},V&&l.a.createElement(l.a.Fragment,null,r,"/"),n)):null,B&&t.due?l.a.createElement(kn,{item:t,onDueUpdate:f},l.a.createElement(En.a,{date:t.due,showDue:m,showTime:p,showIcon:!0})):null,a&&a.length>0?l.a.createElement(wn.a,{item:t},l.a.createElement(Gt.a,{task:{id:t.id}},l.a.createElement(de.Ub,{"aria-label":Object(me.a)(Object(Q.c)("a11y","{number} reminder","{number} reminders",a.length),{number:a.length})}))):null,h&&(g>0||y)?l.a.createElement(Gt.a,{task:{id:t.id,tab:"comments"}},l.a.createElement(de.ob,{size:"small",className:"notes_icon","aria-label":Object(me.a)(y?Object(Q.c)("a11y","{number}+ comment","{number}+ comments",g):Object(Q.c)("a11y","{number} comment","{number} comments",g),{number:g})}),l.a.createElement("span",{"aria-hidden":!0},y?"".concat(g,"+"):g)):null,q,!w&&O&&j&&l.a.createElement("span",{className:"task_list_item__project"},l.a.createElement(Gt.a,{view:{type:"project",projectId:j.id},hash:"#task-".concat(t.id),onClick:xn},I?l.a.createElement(de.Ob,{size:"xsmall",project:j,isShared:C,isOutline:!0}):null,l.a.createElement(Dn.a,{className:"task_list_item__project__label",text:k?"".concat(j.name," / ").concat(k.name):j.name}),I?null:l.a.createElement(de.Ob,{size:"xsmall",project:j,isShared:C,isOutline:Object(Sn.d)("frontend.non_project_boards")}))),w&&k&&l.a.createElement("span",{className:"task_list_item__section"},l.a.createElement("span",{className:"task_list_item__section__label"},"/"),l.a.createElement(Dn.a,{className:"task_list_item__section__label",text:k.name})))},Rn=n("/7zm"),Nn=n("vZZI");n("0b/R");function Ln(e){var t=e.className,n=e.content,r=e.markdownMode,a=void 0===r?"inline":r,o=e.placeholder,i=void 0===o?"":o,c="inline"===a?null==n?void 0:n.replace(/^\*\s+/,""):n,s=(null==c?void 0:c.length)>0;return l.a.createElement(Nn.a,{mode:a,className:J()("task_content",t,{placeholder:!s}),source:s?c:i})}var Mn=n("wqDb"),Fn=n("eVCd"),zn=n("RkX7"),Bn=n("BsTD"),Vn=n("9a1b"),$n=n.n(Vn);function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qn={selectedIds:[],selectedRefId:null,activeId:null};function Gn(e,t){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(lt()(e),[t])}var Wn=c.createContext({dispatch:function(){},getSelection:function(){return[]},isSelected:function(){return!1}});function Kn(e){return e?lt()(e.querySelectorAll("[".concat("data-selection-id","]"))).map((function(e){var t;return null!==(t=e.getAttribute("data-selection-id"))&&void 0!==t?t:""})).filter(Boolean):[]}function Yn(e){return e.shiftKey}function Jn(e){return!Yn(e)&&(Ze.o?e.metaKey:e.ctrlKey)}var Qn=c.forwardRef((function(e,t){var n=e.children,r=i()(e,["children"]),o=c.useRef(null),l=c.useState(qn),s=b()(l,2),u=s[0],d=s[1],f=c.useCallback((function(e){var t=Kn(o.current);d((function(n){return function(e,t,n){switch(t.type){case"RANGE_MULTISELECTION":var r=e.selectedRefId,a=e.selectedIds.filter((function(e){return n.includes(e)})),o=null!=r?n.indexOf(r):-1,i=n.indexOf(t.id);if(i<0)return e;if(o>=0){for(var c=Math.min(o,i),l=Math.max(o,i),s=c;s<=l;++s)s!==o&&(a=Gn(a,n[s]));return Un(Un({},e),{},{selectedRefId:t.id,selectedIds:a})}return Un(Un({},e),{},{selectedRefId:t.id,selectedIds:Gn(a,t.id)});case"TOGGLE_MULTISELECTION":var u=e.selectedIds.filter((function(e){return n.includes(e)}));return Un(Un({},e),{},{selectedRefId:t.id,selectedIds:Gn(u,t.id)});case"CLEAR_MULTISELECTION":return Un(Un({},e),{},{selectedRefId:null,selectedIds:[]});default:return e}}(n,e,t)}))}),[]),m=c.useCallback((function(){var e=Kn(o.current);return u.selectedIds.filter((function(t){return e.includes(t)}))}),[u.selectedIds]),p=c.useCallback((function(e){return m().includes(e)}),[m]),h=c.useMemo((function(){return{dispatch:f,getSelection:m,isSelected:p}}),[f,m,p]),v=0===m().length;return c.useEffect((function(){if(!v)return document.addEventListener("click",e),document.addEventListener("keydown",t),function(){document.removeEventListener("click",e),document.removeEventListener("keydown",t)};function e(e){(function(e){var t=e.target,n=null!=t.closest("[".concat("data-selection-id","]")),r=n&&(Yn(e)||Jn(e)),a=null!=t.closest("[data-selection-clear-disabled]"),o=null!=t.closest("#item_selecter")||null!=t.closest(".scheduler-item-selecter")||null!=t.closest(".dialog")||null!=t.closest(".popper")||null!=t.closest("#GB_window")||null!=t.closest(".GB_overlay")||null!=t.closest(".ist_tooltip_holder")||null!=t.closest("#ist_complete_floater")||null!=t.closest(".ist_menu")||null!=t.closest(".menu_selecter_more")||null!=t.closest(".multi_select_toolbar")||null!=document.querySelector("body > .popper__overlay");return n||r||a||o})(e)||f({type:"CLEAR_MULTISELECTION"})}function t(e){"Escape"===Object(ne.a)(e)&&f({type:"CLEAR_MULTISELECTION"})}}),[f,v]),c.createElement(Wn.Provider,{value:h},c.createElement("div",a()({role:"listbox","aria-multiselectable":"true","data-selection-empty":v?"":void 0,tabIndex:-1,className:J()($n.a.listbox,r.className),ref:Object(Bn.a)([o,t])},r),n))}));function Zn(e){var t,n=e.selectionId,r=e.isDisabled,a=void 0!==r&&r,o=c.useContext(Wn),i=o.dispatch,l=o.isSelected,s=!a&&l(n);return{isSelected:s,props:(t={},G()(t,"data-selection-id",a?"":n),G()(t,"aria-selected",a?void 0:s),G()(t,"onClick",(function(e){e.isDefaultPrevented()||(Jn(e)&&(a||i({type:"TOGGLE_MULTISELECTION",id:n}),e.preventDefault()),Yn(e)&&(a||i({type:"RANGE_MULTISELECTION",id:n}),e.preventDefault()))})),t)}}var Xn=n("0Myy"),er=n("309x"),tr=n("6O1D");function nr(e){var t=e.allowIndentChange,n=e.handleAssigneeSelect,r=e.handleDueDateSelect,a=e.handleEditClick,o=e.handleLabelSelect,i=e.handleOpenTaskActions,c=e.isItemComplete,l=e.isProjectShared,s=e.item,u=e.itemId,d=e.onCheckedChange,f=e.onLinkCopy,m=e.onMoveToProject,p=e.onUpdate,h=e.showGoToProject,v=e.taskItemRef,b=e.toggleCollapsed,g=e.isCollapsed,_=e.showCollapser;return Object(tr.f)({allowIndentChange:t,handleAssigneeSelect:n,handleDueDateSelect:r,handleEditClick:a,handleLabelSelect:o,handleOpenTaskActions:i,isItemComplete:c,isProjectShared:l,item:s,itemId:u,onCheckedChange:d,onLinkCopy:f,onMoveToProject:m,onUpdate:p,showGoToProject:h,taskItemRef:v,toggleCollapsed:b,isCollapsed:g,showCollapser:_})}function rr(e){var t,n=e.item,r=e.itemKey,o=e.subItemsCount,s=e.subItemsCompletedCount,u=e.project,d=e.section,f=e.showSectionOnly,m=e.labels,p=e.reminders,h=e.collaborators,v=e.navigateToRef,g=e.locationTargetProps,_=e.showCollapser,y=e.showProject,O=e.showNotes,j=void 0===O||O,w=e.showDragHandle,E=void 0===w||w,k=e.showDue,C=void 0===k||k,S=e.showTime,I=void 0===S||S,T=e.noteItemCount,A=e.noteTreeCount,x=e.noteHasMore,P=e.canUseLabels,R=e.onCheckedChange,N=e.onUpdate,L=e.isCollapsed,M=void 0===L?n.collapsed:L,F=e.onToggleCollapsed,z=e.onArchive,B=e.onDelete,V=e.onDuplicate,$=e.onLinkCopy,H=e.onMoveToProject,U=e.onSelectAddAbove,q=e.onSelectAddBelow,G=e.indent,W=e.isParentCollapsed,K=e.onEditClick,Y=e.componentKey,Z=e.allowIndentChange,X=e.renderMode,ee=void 0===X?"normal":X,te=Object(Jt.d)(),ne=Object(c.useRef)(null),re=Object(c.useRef)(null),ae=Object(er.b)(),oe=ae.activeTask,ie=ae.setActiveTask,ce=ae.isCommandMenuShown,se=ae.taskPickers,ue=Object(c.useState)(r),fe=b()(ue,2),me=fe[0],pe=fe[1];Object(c.useEffect)((function(){be&&me!==n.id&&(null==ie||ie(n.id),null==pe||pe(n.id))}),[me,n.id,be,ie]);var he=Object(c.useState)(oe===me),ve=b()(he,2),be=ve[0],ge=ve[1],_e=!Wt(n.content),ye=Object(D.m)({collaborators:h},u.id),Oe="displayOnly"===ee,je=Object(c.useMemo)((function(){return Object(Fn.b)(n.content)}),[n.content]),we=Boolean(n.in_history||n.checked||u.is_archived),Ee=Object(c.useCallback)((function(e){Oe||!K||we||K(void 0!==Y?Y:n.id,e)}),[Y,Oe,K,we,n.id]),ke=zt().onResetEditorState,De=Zn({selectionId:String(n.id),isDisabled:we}).props,Ce=De.onClick,Se=i()(De,["onClick"]);function Ie(e){var t=e.target;N({id:n.id,responsible_uid:t.value})}function Ae(e){N({id:n.id,due:e})}var xe=Object(c.useCallback)((function(e){e.stopPropagation(),F?F(n):N({id:n.id,collapsed:M?0:1})}),[M,n,F,N]);var Pe=Object(c.useState)(!1),Re=b()(Pe,2),Ne=Re[0],Le=Re[1];Object(c.useEffect)((function(){var e=!1;for(var t in se)if(!0===se[t]){e=!0;break}Le(e)}),[se,Ne]);var Me=Object(Rn.c)({confirmLabel:Object(Q.a)("Duplicate comments"),cancelLabel:Object(Q.a)("Exclude comments"),message:Object(Q.a)("Duplicate comments?"),onConfirm:function(){return V(n.id,{withNotes:!0})},onCancel:function(){return V(n.id,{withNotes:!1})}}),Fe=A>0?Me:function(){return V(n.id,{withNotes:!1})},ze=Object(c.useState)(!1),Be=b()(ze,2),Ve=Be[0],$e=Be[1],He=Object(c.useState)(!1),Ue=b()(He,2),qe=Ue[0],Ge=Ue[1],We=Object(Ct.c)(),Ke=We.hasBeenFocusedOrHovered,Ye=We.onFocus,Je=We.onMouseEnter,Qe=null!=n.responsible_uid,Xe=ye&&!we&&!Oe&&(Qe||Ke),et="task-".concat(n.id,"-content"),tt=Boolean(null===(t=n.description)||void 0===t?void 0:t.length),nt=J()(["task_list_item",{"task_list_item--completed":n.checked,"task_list_item--with_subtasks":_,"task_list_item--project_hidden":!y,"task_list_item--shared":ye,"task_list_item--ctx_menu_opened":te.isOpenedByContextMenu,"task_list_item--assigned":ye&&null!=n.responsible_uid,"task_list_item--keyboard_shortcuts_active":oe===me,"task_list_item--shortcuts-enabled":Object(Sn.d)("frontend.new_keyboard_shortcuts")}]);return Object(c.useEffect)((function(){oe===me&&(be||ce||Ne||ie(null))}),[oe,ce,Ne,be,me,ie]),l.a.createElement(l.a.Fragment,null,oe===me?l.a.createElement(nr,{allowIndentChange:Z,handleAssigneeSelect:Ie,handleDueDateSelect:Ae,handleEditClick:Ee,handleLabelSelect:function(e){var t=e.target;N({id:n.id,labels:t.value})},handleOpenTaskActions:function(){var e,t;return null==re||null===(e=re.current)||void 0===e||null===(t=e.click)||void 0===t?void 0:t.call(e)},isCollapsed:M,isItemComplete:we,isProjectShared:ye,item:n,itemId:me,onCheckedChange:R,onLinkCopy:$,onMoveToProject:H,onUpdate:N,showCollapser:_,showGoToProject:y,taskItemRef:ne,toggleCollapsed:xe}):null,l.a.createElement("li",a()({},Se,g,{className:nt,hidden:W,onContextMenu:te.openOnContextMenu,"data-item-id":n.id,"data-item-indent":G,onFocus:function(e){oe!==me&&("function"==typeof ie&&ie(me),be||ge(!0)),Ye(e)},onBlur:function(){be&&ge(ne.current.contains(document.activeElement))},onMouseEnter:Je,"data-task-navigation-element":me}),l.a.createElement(le.a,{as:"div",className:"task_list_item__body",onClick:function(e){var t;Ce(e),e.isDefaultPrevented()?ke():"A"===e.target.tagName||Object(Kt.a)(["button"],e)||(e.altKey?Oe||Ee(e):(e.stopPropagation(),null===(t=v.current)||void 0===t||t.call(v,{task:{id:n.id}})))},"data-action-hint":"task-root","aria-labelledby":et,ref:ne},!E&&!_||Oe?null:l.a.createElement("div",{className:J()("task_list_item__overflow_actions",{"task_list_item__overflow_actions--wide":E&&_})},E?l.a.createElement("div",{className:"task_list_item__drag_container"},l.a.createElement("span",{className:"task_list_item__drag_handle item_dnd_handle","data-testid":"task_list_item__drag_handle",onClick:ar},l.a.createElement(de.D,null))):null,_?l.a.createElement("button",{type:"button",className:J()("arrow","task_list_item__collapser",M?"right":"down"),"aria-label":M?Object(Q.d)("a11y","expand"):Object(Q.d)("a11y","collapse"),"aria-expanded":M?"false":"true",onClick:xe,"data-action-hint":"task-toggle-collapse"},l.a.createElement(de.q,null)):null),_e&&!Oe?l.a.createElement(gn.a,{"aria-label":n.checked?Object(Q.a)("Mark task as incomplete"):Object(Q.a)("Mark task as complete"),"aria-describedby":et,checked:n.checked,priority:n.priority,onChange:function(e,t){Object(Mn.a)("project_list_view","complete","task"),t.stopPropagation(),R(n.id,e,t)},"data-action-hint":"task-complete"}):null,l.a.createElement("div",{className:"task_list_item__content"},l.a.createElement("div",{id:et,className:"task_list_item__content__wrapper"},l.a.createElement(zn.a,{type:je.type}),l.a.createElement(Ln,{content:n.content}),tt?l.a.createElement(Nn.a,{mode:"inline",className:"task_description",source:n.description}):null),l.a.createElement(Pn,{item:n,subItemsCount:o,subItemsCompletedCount:s,labels:m,reminders:p,canUseLabels:P,onDueDateSelect:Ae,showNotes:j,showDue:C&&!Oe,showTime:I&&!Oe,noteCount:T,noteHasMore:x,showProject:y,project:u,section:d,showSectionOnly:f,isProjectShared:ye,renderFullControls:Ke})),l.a.createElement("div",{className:J()({task_list_item__actions:!0,"task_list_item__actions--active":te.isOpen||Ve||qe||Ke}),onClick:ar},!Ke||Oe||we?null:l.a.createElement(le.a,{onClick:Ee,disabled:Oe,title:Object(Q.a)("Edit"),shortcut:Ze.o?["".concat(Object(Q.d)("key","alt"),"/").concat(Object(Q.d)("key","option")),Object(Q.a)("click")]:["".concat(Object(Q.d)("key","alt")),Object(Q.a)("click")],"aria-label":Object(Q.a)("Edit"),"data-action-hint":"task-edit"},l.a.createElement(de.F,null)),we||Oe||!Ke?null:l.a.createElement(kn,{item:n,reminders:p,onDueUpdate:Ae,fallbackTooltip:Object(Q.a)("Schedule"),showFallback:!0,onSchedulerToggle:$e,"data-action-hint":"task-scheduler"},l.a.createElement(de.n,null)),Ke&&!we?l.a.createElement(Te.b,{label:Object(Q.a)("Comment")},l.a.createElement(Gt.a,{task:{id:n.id,tab:"comments"},className:"task_list_item__comments_link","aria-label":Object(Q.a)("Comment"),"data-action-hint":"task-comment"},l.a.createElement(de.ob,null))):null,Xe&&(Qe||Ke)?l.a.createElement(Yt.a,{className:J()("task_list_item__person_picker",{"task_list_item__person_picker--assigned":Qe}),projectId:n.project_id,value:n.responsible_uid,onChange:Ie,onToggle:Ge,tooltip:Yt.b}):null,Ke||Xe?l.a.createElement(le.a,{onClick:te.openOnClick,"aria-expanded":te.isOpen,"data-testid":"more_menu","data-action-hint":"task-overflow-menu",title:Object(Q.a)("More task actions"),"aria-label":Object(Q.a)("More task actions"),className:"more_actions_button",ref:re},l.a.createElement(de.lb,null)):null))),te.isOpen&&l.a.createElement(Jt.c,a()({},te.props,{modifiers:[Jt.b,Jt.a],withArrow:!1,zIndex:!1}),we?l.a.createElement(bn,{item:n,onDelete:te.close(B),onLinkCopy:te.close($)}):l.a.createElement(vn,{item:n,onUpdate:te.close(N),onArchive:te.close(z),onDelete:te.close(B),onDuplicate:te.close(Fe),onLinkCopy:te.close($),onMoveToProject:te.close(H),onSelectEdit:te.close(Ee),showGoToProject:y,onSelectAddAbove:U?te.close(U):void 0,onSelectAddBelow:q?te.close(q):void 0})))}function ar(e){e.stopPropagation()}rr.propTypes={item:y.a.object.isRequired,itemKey:y.a.string.isRequired,project:y.a.object.isRequired,section:y.a.object,showSectionOnly:y.a.bool,subItemsCount:y.a.number,subItemsCompletedCount:y.a.number,reminders:y.a.array,componentKey:y.a.string,indent:y.a.oneOf([1,2,3,4,5]).isRequired,collaborators:y.a.object.isRequired,labels:y.a.object.isRequired,navigateToRef:y.a.object.isRequired,locationTargetProps:y.a.object.isRequired,isParentCollapsed:y.a.bool.isRequired,showProject:y.a.bool,showDue:y.a.bool,showTime:y.a.bool,showCollapser:y.a.bool,showNotes:y.a.bool,showDragHandle:y.a.bool,noteItemCount:y.a.number,noteTreeCount:y.a.number,noteHasMore:y.a.bool,canUseLabels:y.a.bool,allowIndentChange:y.a.bool,renderMode:y.a.oneOf(["normal","displayOnly"]),onEditClick:y.a.func,onCheckedChange:y.a.func,onSelectAddAbove:y.a.func,onSelectAddBelow:y.a.func,isCollapsed:y.a.bool,onToggleCollapsed:y.a.func,onUpdate:y.a.func.isRequired,onArchive:y.a.func,onDuplicate:y.a.func,onLinkCopy:y.a.func,onMoveToProject:y.a.func,onDelete:y.a.func};var or,ir=Object(Gt.j)((or=l.a.memo(rr),function(e){var t=Object(Xn.b)({id:"task-".concat(e.item.id)});return l.a.createElement(or,a()({},e,{locationTargetProps:t}))}));var cr=Object(d.c)((function(e,t){var n=t.item,r=t.showSubTasksCount,a=t.subItemsCount,o=t.subItemsCompletedCount,i=Object(S.a)(n.id)?n.id:Object(C.b)(n.id,e)||n.id.toString();if(r){if(a&&o&&a===o)return{itemKey:i,subItemsCount:a,subItemsCompletedCount:o};var c=Object(qt.f)(e,t.item.id);return{itemKey:i,subItemsCount:c.all,subItemsCompletedCount:c.completed}}return{itemKey:i}}))(ir);var lr=function(e){var t=e.task,n=e.subTasksIds,r=e.completedTasks,o=e.listId,s=e.showCompleted,u=e.showSubTasks,d=e.showSubTasksCount,f=e.project,m=e.section,p=e.showSectionOnly,h=e.allowAddAbove,v=e.allowAddBelow,b=e.allowIndentChange,g=(e.isPremium,i()(e,["task","subTasksIds","completedTasks","listId","showCompleted","showSubTasks","showSubTasksCount","project","section","showSectionOnly","allowAddAbove","allowAddBelow","allowIndentChange","isPremium"])),_=zt(),y=_.onEditItem,O=_.onAddAbove,j=_.onAddBelow,w=s&&r&&r.items[t.id]&&r.items[t.id].completed_items>0,E=u&&(n&&n.length>0||w),k=(null==r?void 0:r.items[t.id])?r.items[t.id].completed_items:0,D=d?((null==n?void 0:n.length)||0)+k:void 0,C=Object(c.useCallback)((function(){y(o,t.id)}),[o,y,t.id]),S=Object(c.useCallback)((function(){O(o,t.id)}),[o,O,t.id]),I=Object(c.useCallback)((function(){j(o,t.id)}),[o,j,t.id]);return f?l.a.createElement(cr,a()({},g,{allowIndentChange:b,item:t,project:f,section:m,showSectionOnly:p,showSubTasksCount:d,subItemsCount:D,subItemsCompletedCount:k,isParentCollapsed:!1,showCollapser:E,renderMode:f.is_archived?"displayOnly":"normal",onEditClick:C,onSelectAddAbove:h?S:void 0,onSelectAddBelow:v?I:void 0})):null},sr=n("1/Z5"),ur=n("ANjH"),dr=n("VXWU"),fr=n.n(dr),mr=n("Snkc"),pr=n.n(mr);n("uS8r"),n("k08V"),n("noZS");function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var br=function(e){return""!==e.content};function gr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return function(r,a){if((r=r.filter((function(e){return""!==e.content}))).length>1){var o=_("Do you want to add %s tasks?").replace("%s",r.length);Object(Re.b)((function(i){return l.a.createElement(Rn.a,{isOpen:!0,confirmLabel:_("Add tasks"),onConfirm:function(){r.forEach((function(n){var r=new Set([].concat(lt()(Object.keys(n)),lt()(Object.keys(e)))).reduce((function(t,r){return t[r]=n[r]?n[r]:e[r],t}),n);t(vr(vr({},r),{},{content:n.content.replace(/^[-*] /g,"")}))})),n(),i()},onCancel:function(){a(),i()}},o)}))}else a()}}var _r=n("3WX/"),yr=n.n(_r),Or=n("Bcse"),jr=n.n(Or);function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kr(e){var t=e.editorIndent,n=e.editorState,r=e.rootParentId,a=void 0===r?null:r,o=e.hierarchy,i=e.tasksMap,c=e.siblings,l=e.indents,s=e.bottomTaskId;if(!i||n.mode===Lt&&n.taskId&&t===l[n.taskId])return null;var u,d,f=null,m=0,p=o[0];if(1===t&&(n.mode===Nt||p&&p.id===n.taskId))return 0===o.length?(f=a,m=1):(f=i[p.id].parent_id,m=n.mode===At?i[p.id].child_order+1:i[p.id].child_order),{parentId:f,childOrder:m};n.taskId?(u=n.mode===At?n.taskId:c[n.taskId].previousSiblingId,d=n.mode===Tt?n.taskId:c[n.taskId].nextSiblingId):u=s;var h=u?l[u]:1,v=d?l[d]:1;if(u){if(t>h)f=u,m=d&&v===t?i[d].child_order:1;else if(t===h)f=i[u].parent_id,m=d&&v===t?i[d].child_order:i[u].child_order+1;else if(t<h){for(;u&&h!==t;)h=(u=c[u].previousSiblingId)?l[u]:1;for(;d&&v!==t;)v=(d=c[d].nextSiblingId)?l[d]:1;var b=u?i[u]:null,g=d?i[d]:null;b?(f=b.parent_id,m=g?g.child_order:b.child_order+1):(f=null,m=g?g.child_order:1)}}else f=a,m=d?i[d].child_order:1;return{parentId:f,childOrder:m}}function Dr(e){var t=e.editorValue,n=e.editorIndent,r=e.editorState,a=e.task,o=e.tasksMap,i=e.hierarchy,c=e.siblings,l=e.indents,s=e.bottomTaskId,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=u.disableOrderChanges,f=void 0!==d&&d,m=yr()(t,(function(e,t){return void 0===e||"note"===t||"reminders"===t}));if(!f){var p=kr({editorIndent:n,editorState:r,hierarchy:i,tasksMap:o,siblings:c,indents:l,bottomTaskId:s,rootParentId:m.parent_id});p&&(m=Er(Er({},m),{},{parent_id:p.parentId,child_order:p.childOrder}))}return(void 0!==a.project_id&&a.project_id!==m.project_id||void 0!==a.section_id&&a.section_id!==m.section_id)&&(m=Er(Er({},m),{},{parent_id:null}),m=jr()("child_order",m)),{fields:m,note:t.note,reminders:t.reminders}}function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ir=function(e){var t=e.editorState,n=e.listId,r=e.hierarchy,a=e.indents,o=e.siblings,i=e.task,s=e.tasksMap,u=e.bottomTaskId,d=e.project,f=e.section,m=e.user,p=e.reminders,h=e.allowAdd,v=e.allowAddAbove,g=e.allowAddBelow,_=e.allowIndentChange,y=e.canAddComments,j=e.canUseLabels,w=e.isPremium,E=e.onAdd,k=e.onChange,D=e.onUpdate,C=zt(),S=C.onAddAbove,I=C.onAddBelow,T=C.onAddBottom,A=C.onAddTop,x=C.onEditItem,P=C.onChangeIndent,R=C.onResetEditorState,N=Object(c.useRef)(null),L=Object(c.useState)(null),M=b()(L,2),F=M[0],z=M[1],B=Object(Ct.e)(s),V=Object(c.useMemo)((function(){return t?null!=t.indent?t.indent:t.taskId&&a[t.taskId]||1:1}),[t,a]);Object(c.useEffect)((function(){if((null==t?void 0:t.listId)===n){var e=Vt(null==t?void 0:t.mode);((null==f?void 0:f.collapsed)||e&&!h)&&(null==R||R())}}),[t,n,R,f,h]),Object(c.useEffect)((function(){N.current&&t&&t.fromShortcut&&t.mode!==Lt&&N.current.scrollIntoView(!1)}),[t]),Object(c.useEffect)((function(){if(F&&t&&(t.mode===Lt||B!==s)){var e=F.event,r=F.taskId;return a[r]?"Enter"===e.key&&e.shiftKey&&g?I(n,r):"Enter"===e.key&&e.ctrlKey&&v?S(n,r):t.mode===Lt?R():g?I(n,r):T(n,!1):t.taskId&&g?I(n,t.taskId):T(n,!1)}}),[v,g,t,a,F,n,S,I,T,R,B,s]);var $=Object(c.useCallback)((function(e,n){if(t){var c=Dr({editorValue:e,editorIndent:V,editorState:t,task:i,tasksMap:s,hierarchy:r,siblings:o,indents:a,bottomTaskId:u},{disableOrderChanges:!_}),l=c.fields,f=c.note,m=c.reminders;if(br(l)){if(n={key:Object(ne.a)(n),ctrlKey:n.ctrlKey,shiftKey:n.shiftKey},t.mode===Lt&&t.taskId){if(!l.id)return;var p=Sr(Sr({},l),{},{id:l.id});return z({event:n,taskId:t.taskId}),D(p,m,null)}var h=E({fields:l,note:f,reminders:m,project:d});h&&z({event:n,taskId:h.id})}}}),[_,u,t,r,V,a,E,D,d,o,i,s]),H=gr(Sr(Sr({},Object(O.n)(m)),i),(function(e){if(_){var n=kr({editorIndent:V,editorState:t,hierarchy:r,tasksMap:s,siblings:o,indents:a,bottomTaskId:u,rootParentId:e.parent_id});n&&(e=Sr(Sr({},e),{},{parent_id:n.parentId}))}E({fields:e})}),R);return t?l.a.createElement("li",{ref:N,className:"manager indent_".concat(V),"data-item-indent":V,key:t.key},l.a.createElement(sr.a,{user:m,item:i,reminders:p,onCancel:R,canUseLabels:j,withQuickNote:t.mode!==Lt&&(w||y),onKeyDown:function(e){if(t){var i=Object(ne.a)(e);if(i&&(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(i)||r&&0!==r.length)){if(_&&"ArrowRight"===i&&(e.metaKey||e.ctrlKey)&&!e.shiftKey){if(function(e,t){return!!e&&(e.taskId===t[0].id&&[Tt,Nt,Lt].includes(e.mode))}(t,r))return;var c=a[t.taskId&&o[t.taskId].previousSiblingId||u||1];if(V>c||V>=5)return;return P(V+1)}if(_&&"ArrowLeft"===i&&(e.metaKey||e.ctrlKey)&&!e.shiftKey){if(1===V)return;if($t(t.mode))return P(V-1);if(!t.taskId)return;var l=o[t.taskId];if(l.nextSiblingId&&a[l.nextSiblingId]>=V)return;return P(V-1)}if("ArrowDown"===i&&(e.ctrlKey||e.metaKey)){if(t.mode===Nt){var s=r[0];return x(n,s.id)}if(!t.taskId)return;if(t.mode===Tt)return x(n,t.taskId);var d=o[t.taskId].nextSiblingId;if(!d){if(!g&&!h)return;return T(n)}return x(n,d)}if("ArrowUp"===i&&(e.ctrlKey||e.metaKey)){if($t(t.mode)&&u)return x(n,u);if(!t.taskId)return;if(t.mode===At)return x(n,t.taskId);var f=o[t.taskId].previousSiblingId;if(!f){if(!v)return;return A(n)}return x(n,f)}}}},onSubmit:$,onChange:function(e){e&&k({editorValue:e,editorIndent:V,editorState:t,task:i,tasksMap:s,hierarchy:r,siblings:o,indents:a,bottomTaskId:u})},onMultilinePaste:t.mode===Lt?void 0:H})):null};var Tr=Object(d.c)((function(e,t){var n,r=t.editorState,a=t.defaultAddFields,o=t.task,i=t.parentId,c=t.project,l=t.section,s=t.allowWebsiteAdd,u=t.allowEmailAdd;return o&&o.id?n=Object(w.f)(e)[o.id]||null:o=function(e){var t=e.editorState,n=e.user,r=e.parentId,a=e.project,o=e.section,i=e.defaultAddFields,c=e.allowEmailAdd,l=e.allowWebsiteAdd,s=Object(O.n)(n);return r&&(s=Er(Er({},s),{},{parent_id:r})),a&&(s=Er(Er({},s),{},{project_id:a.id})),o&&(s=Er(Er({},s),{},{section_id:o.id})),s=Er(Er({},s),i),t&&t.mode===Pt&&l?s=Er(Er({},s),l.defaultFields):t&&t.mode===Rt&&c&&(s=Er(Er({},s),c.defaultFields)),s}({editorState:r,parentId:i,project:c,section:l,defaultAddFields:a,allowEmailAdd:u,allowWebsiteAdd:s,user:e.user}),{task:o,user:e.user,reminders:n,isPremium:Object(oe.n)(e)}}))(Ir),Ar=n("nqxI");function xr(e){var t=e.listId,n=e.addButtonLabel,r=e.allowWebsiteAdd,a=e.allowEmailAdd,o=zt(),i=o.onAddBottom,c=o.onAddBottomWebsite,s=o.onAddBottomEmail;return l.a.createElement("li",{className:J()("controller actions task_actions",{full_width_actions:!r&&!a,task_actions__shortcuts_enabled:Object(Sn.d)("frontend.new_keyboard_shortcuts")})},l.a.createElement(Ar.c,{onClick:function(){return i(t)},"data-add-task-navigation-element":!0},n||_("Add task")),r?l.a.createElement(Ar.c,{onClick:function(){return c(t)}},_("Add website as task")):null,a?l.a.createElement(Ar.c,{onClick:function(){return s(t)}},_("Add email as task")):null)}var Pr=n("ARXc");function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lr(e){var t=e.item,n=e.user,r=e.isCollapsed,a=e.completed,o=e.indent,i=e.labels,s=e.project,u=e.collaborators,d=e.onCheckedChange,f=e.onDelete,m=e.onLinkCopy,p=e.completedParents,h=e.completedSection,v=e.hintState,b=void 0===v?{}:v,g=e.noteCount,_=e.updateHint,y=e.MoreItemsHint,O=Object(c.useRef)(null),j=void 0===b.collapsed?1:b.collapsed,w=a.items[t.id]&&a.items[t.id].completed_items>0?l.a.createElement(y,{user:n,onDelete:f,project:s,labels:i,collaborators:u,onCheckedChange:d,onLinkCopy:m,itemId:t.id,completedInfo:a.items[t.id],indent:o+1,isCollapsed:r||Boolean(j),type:"items",completedParents:p,completedSection:h,setFetch:function(e){O.current=e}}):null;return l.a.createElement(l.a.Fragment,null,l.a.createElement(cr,{user:n,noteCount:g,onDelete:f,onLinkCopy:m,onCheckedChange:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];d.apply(void 0,t.concat([p,h]))},withDnD:!1,showDragHandle:!1,project:s,collaborators:u,isParentCollapsed:r,onUpdate:function(e){var n=e.collapsed?1:0;_({id:t.id,data:{collapsed:n}}),0===n&&O.current&&O.current()},showCollapser:Boolean(w),indent:o,item:Nr(Nr({},t),{},{collapsed:j}),labels:i,subItemsCount:a.items[t.id]?a.items[t.id].completed_items:null,subItemsCompletedCount:a.items[t.id]?a.items[t.id].completed_items:null}),w)}Lr.propTypes={item:y.a.object.isRequired,isCollapsed:y.a.bool,completed:y.a.object.isRequired,indent:y.a.number.isRequired,labels:y.a.object.isRequired,project:y.a.object.isRequired,onCheckedChange:y.a.func.isRequired,user:y.a.object.isRequired,completedParents:y.a.array,completedSection:y.a.object,onDelete:y.a.func.isRequired,onLinkCopy:y.a.func.isRequired,collaborators:y.a.object,hintState:y.a.shape({collapsed:y.a.number}),noteCount:y.a.number,updateHint:y.a.func,MoreItemsHint:y.a.elementType};var Mr,Fr={updateHint:Pr.g},zr=Object(d.c)((function(e,t){return{noteCount:Object(k.n)(e,t.item.id).length,hintState:Object(Pr.f)(e,{type:"items",id:t.item.id})}}),Fr)(Lr);function Br(e){var t=e.completedInfo,n=void 0===t?{}:t,r=e.user,a=e.isCollapsed,o=e.indent,i=void 0===o?1:o,s=e.labels,u=e.project,d=e.type,f=e.collaborators,m=e.onCheckedChange,p=e.itemId,h=e.prefetch,v=e.onDelete,g=e.onLinkCopy,y=e.completedParents,O=void 0===y?[]:y,j=e.completedSection,w=e.hintState,E=void 0===w?{}:w,k=e.updateHint,D=e.fetchCompletedItems,C=e.setFetch,S=e.MoreItemsHint,I=e.isComplete,T=Object(c.useMemo)((function(){return E.completedItems||[]}),[E.completedItems]),A=!1!==E.showHint,x=Object(c.useState)(!1),P=b()(x,2),R=P[0],N=P[1],L=Object(c.useState)(null),M=b()(L,2),F=M[0],z=M[1],B=Object(c.useCallback)((function(){z(null),N(!0),D({cursor:E.cursor,completedInfo:n,completedItems:T,itemId:p,type:d}).then((function(){N(!1)}),(function(){z(!0),N(!1)}))}),[T,d,p,D,n,E]);Object(c.useEffect)((function(){var e=n.completed_items>0,t=E.completedItems&&E.completedItems.length>0;!h||!e&&!I||t||R||B()}),[]);var V=Object(c.useCallback)((function(){E.completedItems||R||B()}),[E.completedItems,R,B]);if(C&&C(V),a)return null;var $=T.length>0?T.map((function(e){var t=e.item;return l.a.createElement(zr,{user:r,completedParents:O.concat(t),onLinkCopy:g,onDelete:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];v.apply(void 0,n.concat([function(e){if(e){var n={completedItems:T.filter((function(e){return e.item.id!==t.id}))};k({type:d,id:p,data:n})}}]))},parentId:p,onCheckedChange:m,isCollapsed:a,labels:s,project:u,collaborators:f,indent:i,key:t.id,item:t,completed:e.completed,completedSection:j,MoreItemsHint:S})})):null,H=void 0!==E.tasksLeft?E.tasksLeft:n.completed_items-T.length,U=A&&0!==H&&!isNaN(H)||E.updating?l.a.createElement(le.a,{as:"li",onClick:E.updating?void 0:B,className:"task_list_item moreItemsHint","data-item-indent":i},l.a.createElement("div",{className:"moreItemsHint_icon"},R?l.a.createElement(ce.b,null):l.a.createElement(de.K,null)),l.a.createElement("div",null,function(e){var t=e.error,n=e.isLoading,r=e.updating,a=e.completedTaskNumber;if(t)return _("Something went wrong! Please try again.");if(n)return _("Fetching tasks\u2026");if(r)return _("Updating completed info\u2026");return Object(me.a)(_n("+1 completed task","+{num} completed tasks",a),{num:a})}({error:F,isLoading:R,completedTaskNumber:H,updating:E.updating}))):null;return l.a.createElement(l.a.Fragment,null,$,U)}Br.propTypes={completedInfo:y.a.object,isCollapsed:y.a.bool,indent:y.a.number,type:y.a.oneOf(["items","sections","projects"]),labels:y.a.object.isRequired,project:y.a.object.isRequired,onCheckedChange:y.a.func,itemId:y.a.oneOfType([y.a.string,y.a.number]).isRequired,fetchOnExpand:y.a.bool,onDelete:y.a.func.isRequired,onLinkCopy:y.a.func.isRequired,completedParents:y.a.array,user:y.a.object.isRequired,setFetch:y.a.func,updateHint:y.a.func.isRequired,fetchCompletedItems:y.a.func.isRequired,collaborators:y.a.object,prefetch:y.a.bool,completedSection:y.a.object,hintState:y.a.shape({completedItems:y.a.array,showHint:y.a.bool,updating:y.a.bool,tasksLeft:y.a.number}),MoreItemsHint:y.a.elementType,isComplete:y.a.bool};var Vr={updateHint:Pr.g,fetchCompletedItems:Pr.d},$r=Mr=Object(d.c)((function(e,t){return{MoreItemsHint:Mr,hintState:Object(Pr.f)(e,{type:t.type,id:t.itemId})}}),Vr)(Br);var Hr=Object(d.c)((function(e){return{collaborators:e.collaborators,labels:e.labels,user:e.user}}))((function(e){var t=e.parentId,n=e.completedTasks,r=e.collaborators,o=e.indent,i=void 0===o?1:o,s=e.labels,u=e.project,d=e.section,f=e.user,m=e.isCollapsed,p=void 0!==m&&m,h=e.shouldPrefetch,v=void 0===h||h,b=e.onCheckedChange,g=e.onDelete,_=e.onLinkCopy,y=Object(c.useMemo)((function(){return n&&u?t?{completedInfo:n.items[t]?n.items[t]:{item_id:t},itemId:t,key:"hint_for_".concat(t),prefetch:v,type:"items"}:d&&n.sections[d.id]?{completedInfo:n.sections[d.id],itemId:d.id,key:"hint_for_".concat(d.id),type:"sections"}:!d&&n.projects[u.id]?{completedInfo:n.projects[u.id],itemId:u.id,key:"hint_for_".concat(u.id),type:"projects"}:{}:null}),[n,t,u,d,v]);return y&&u&&s?l.a.createElement($r,a()({itemId:""},y,{indent:i,isCollapsed:p,project:u,labels:s,user:f,collaborators:r,onCheckedChange:b,onDelete:g,onLinkCopy:_,updateHint:function(){return{}},fetchCompletedItems:function(){return{}},isComplete:!0})):null})),Ur=n("T5Rr");function qr(e,t,n,r,a,o){var i={},c={},l={lastId:void 0};return{hierarchy:(e=e.filter((function(e){return!(!t||!t[e.id])&&(!e.checked&&(r?e.parent_id===r:!o||!e.parent_id))}))).sort(a).filter((function(e){return t&&t[e.id]})).reduce((function(e,r,s,u){var d=function e(t,n,r,a,o,i,c,l,s){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1;if(!n)return null;var d=n[t]||n[Ht.a.getRealId(t)];if(!d)return null;var f=r[t],m=l.lastId;if(i[d.id]=u,l.lastId=t,o&&f&&!d.collapsed){var p=f.reduce((function(e,t){var r=n[t];return!r||r.checked?e:[].concat(lt()(e),[r])}),[]).sort(a);return c[d.id]={previousSiblingId:m,nextSiblingId:p[0]?p[0].id:s},{id:d.id,subTasks:p.reduce((function(t,d,f){if(!d)return t;var m=p[f+1],h=e(d.id,n,r,a,o,i,c,l,m?m.id:s,u+1);return h?[].concat(lt()(t),[h]):t}),[])}}return c[d.id]={previousSiblingId:m,nextSiblingId:s},{id:d.id}}(r.id,t,n,a,o,i,c,l,u[s+1]?u[s+1].id:void 0);return d?[].concat(lt()(e),[d]):e}),[]),indents:i,siblings:c,bottomTaskId:l.lastId}}function Gr(e,t){return e===t||!(!e||!t)&&(e.sorted_by===t.sorted_by&&e.sort_order===t.sort_order&&e.grouped_by===t.grouped_by&&e.filtered_by===t.filtered_by)}function Wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yr=n("CZSy"),Jr=n("aSh9");function Qr(e){var t=e.listType,n=e.viewOptions,r=e.alwaysUseDefault,a=void 0!==r&&r,o=Object(d.h)(Jr.j),i=Object(d.h)(Jr.i),c=Object(d.h)(Jr.k),l=Object(d.h)(Jr.l),s=(Array.isArray(t)?t:[t]).map((function(e){if(!n||n.sorted_by===Yr.s||a)switch(e){case"overdue":return Object(Jr.h)(Jr.e,Object(Jr.m)(Jr.g),i,c,l,Jr.f);case"day":return Object(Jr.h)(Jr.e,Object(Jr.m)(Jr.g),Jr.d,Jr.c,i,c,l,Jr.f);case"filter":case"label":return Object(Jr.h)(Object(Jr.m)(Jr.g),Jr.e,i,c,l,Jr.f);case"subtasks":case"project":return Object(Jr.h)(Jr.a,Jr.f);case"search":return Object(Jr.h)(Object(Jr.m)(Jr.g),i,c,l,Jr.f);default:return Object(Jr.h)(Jr.a,Jr.f)}var t;switch(n.sorted_by){case Yr.u:t=Object(Jr.h)(Jr.b,Object(Jr.m)(Jr.g),Jr.e,i,c,l,Jr.f);break;case Yr.r:t=Object(Jr.h)(o,Object(Jr.m)(Jr.g),Jr.e,i,c,l,Jr.f);break;case Yr.t:t=Object(Jr.h)(Jr.e,Object(Jr.m)(Jr.g),Jr.d,Jr.c,i,c,l,Jr.f);break;case Yr.q:t=Object(Jr.h)(Jr.c,Object(Jr.m)(Jr.g),Jr.d,i,c,l,Jr.f);break;case Yr.v:t=Object(Jr.h)(Jr.g,Jr.e,i,c,l,Jr.f);break;case Yr.w:t=Object(Jr.h)(i,c,l,Jr.f);break;default:t=Object(Jr.h)(Jr.a,Jr.f)}return n.sort_order===Yr.y&&(t=Object(Jr.m)(t)),t}));return Array.isArray(t)?s:s[0]}function Zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ea=function(e){var t,n=e.type,r=e.parentId,o=e.tasks,s=e.tasksByParentId,u=e.project,d=e.projects,f=e.section,m=e.sections,p=e.completedTasks,h=e.labels,v=e.collaborators,b=e.reminders,g=e.noteCountsByParentId,_=void 0===g?{}:g,y=e.moreNotes,O=e.defaultAddFields,j=void 0===O?{}:O,w=e.addButtonLabel,E=e.listId,k=e.sortFn,D=e.viewOptions,C=void 0===D?null:D,S=e.allowAdd,I=void 0===S||S,T=e.allowAddAbove,A=void 0!==T&&T,x=e.allowAddBelow,P=void 0!==x&&x,R=e.allowIndentChange,N=void 0!==R&&R,L=e.allowEmailAdd,M=e.allowWebsiteAdd,F=e.canAddComments,z=void 0===F||F,B=e.canUseLabels,V=void 0===B||B,$=e.isDetailViewShowing,H=void 0!==$&&$,U=e.isPremium,q=void 0!==U&&U,W=e.showCompleted,K=void 0!==W&&W,Y=e.showDragHandle,J=void 0!==Y&&Y,Q=e.showProject,Z=void 0!==Q&&Q,X=e.showTaskDue,ee=void 0===X||X,te=e.showTaskTime,ne=void 0===te||te,re=e.showSectionOnly,ae=void 0!==re&&re,oe=e.showSubTasks,ie=void 0!==oe&&oe,ce=e.showSubTasksCount,le=void 0===ce||ce,se=e.onUpdate,ue=e.onAdd,de=e.onArchive,fe=e.onDuplicate,me=e.onLinkCopy,pe=e.onMoveToProject,he=e.onDelete,ve=e.onCheckedChange,be=i()(e,["type","parentId","tasks","tasksByParentId","project","projects","section","sections","completedTasks","labels","collaborators","reminders","noteCountsByParentId","moreNotes","defaultAddFields","addButtonLabel","listId","sortFn","viewOptions","allowAdd","allowAddAbove","allowAddBelow","allowIndentChange","allowEmailAdd","allowWebsiteAdd","canAddComments","canUseLabels","isDetailViewShowing","isPremium","showCompleted","showDragHandle","showProject","showTaskDue","showTaskTime","showSectionOnly","showSubTasks","showSubTasksCount","onUpdate","onAdd","onArchive","onDuplicate","onLinkCopy","onMoveToProject","onDelete","onCheckedChange"]),ge=Object(c.useMemo)((function(){return E||Object(Dt.a)("taskList")}),[E]),_e=zt().editorState,ye=Object(c.useRef)(null),Oe=Object(c.useRef)(null),je=Object(c.useMemo)((function(){return o.reduce((function(e,t){return Xr(Xr({},e),{},G()({},t.id,t))}),{})}),[o]),we=Qr({listType:n,alwaysUseDefault:"subtasks"===n,viewOptions:C}),Ee=Object(c.useMemo)((function(){return qr(o,je,s,r,k||we,ie)}),[we,r,ie,k,o,s,je]),ke=Ee.hierarchy,De=Ee.indents,Ce=Ee.siblings,Se=Ee.bottomTaskId;!function(e){var t=e.listId,n=e.section,r=e.isDetailViewShowing,a=e.allowAdd,o=zt(),i=o.onAddBottom,l=o.onAddTop,s=Object(c.useCallback)((function(e){if(!r&&a){var o=document.activeElement&&(document.activeElement.closest("[data-task-list-id]")||document.activeElement.closest("[data-section-id]"));if(o&&(o.getAttribute("data-task-list-id")===t||n&&o.getAttribute("data-section-id")==n.id))return e(t,!0);if(!o){var i=document.querySelectorAll("[data-task-list-id]")[0].getAttribute("data-task-list-id");t==i&&e(t,!0)}}}),[a,r,t,n]),u=Object(c.useCallback)((function(){s(l)}),[s,l]),d=Object(c.useCallback)((function(){s(i)}),[s,i]);Object(Ur.g)(Ur.c,u),Object(Ur.g)(Ur.b,d)}({listId:ge,section:f,isDetailViewShowing:H,allowAdd:I}),function(e){var t=e.editorState,n=e.editorSubmitData,r=e.project,a=e.viewOptions,o=e.disableOrderChanges,i=e.onAdd,l=e.onUpdate,s=Object(c.useRef)(!1),u=zt().onResetEditorState,d=Object(Ct.e)(t),f=Object(Ct.e)(a);Object(c.useEffect)((function(){return function(){s.current=!0}}),[]);var m=Object(c.useCallback)((function(e){var t=Dr(e,{disableOrderChanges:o}),n=t.fields,a=t.note,c=t.reminders;if(br(n)){if(e.editorState.mode===Lt){if(!n.id)return;var s=Kr(Kr({},n),{},{id:n.id});return l(s,c,null)}i({fields:n,note:a,reminders:c,project:r})}}),[o,i,l,r]);Object(c.useEffect)((function(){var e,r,o=n.current&&(!f&&a||f&&!a||!Gr(f,a)),i=t&&d&&(null===(e=n.current)||void 0===e||null===(r=e.editorState)||void 0===r?void 0:r.key)===d.key&&d.key!==t.key&&!(Vt(t.mode)&&Vt(d.mode));return n.current&&(o||i)&&(m(n.current),o&&u()),function(){s.current&&n.current&&!o&&!i&&(m(n.current),u())}}),[m,o,t,n,i,u,l,d,f,r,a])}({editorState:_e,editorSubmitData:ye,project:u,viewOptions:C,disableOrderChanges:!N,onAdd:ue,onUpdate:se}),Object(c.useEffect)((function(){_e||(ye.current=null)}),[_e]);var Ie=Object(c.useCallback)((function(e){var t,n;return l.a.createElement(lr,{key:e.id,task:e,listId:ge,indent:De[e.id],completedTasks:p,subTasksIds:s[e.id],allowAddAbove:A,allowAddBelow:P,allowIndentChange:N,canUseLabels:V,showCompleted:K,showDragHandle:Object(Sn.d)("frontend.non_draggable_tasks")?J&&null===_e:J,showDue:ee,showProject:Z,showTime:ne,showSectionOnly:ae,showSubTasks:ie,showSubTasksCount:le,project:d?d[e.project_id]:void 0,section:m&&e.section_id?m[e.section_id]:void 0,labels:h,collaborators:v,reminders:b[e.id]||null,noteItemCount:null===(t=_[e.id])||void 0===t?void 0:t.itemCount,noteTreeCount:null===(n=_[e.id])||void 0===n?void 0:n.treeCount,noteHasMore:Boolean((null==y?void 0:y.items)&&(null==y?void 0:y.items[e.id])),isPremium:q,onUpdate:se,onAdd:ue,onArchive:de,onDuplicate:fe,onLinkCopy:me,onMoveToProject:pe,onDelete:he,onCheckedChange:ve})}),[ge,De,p,s,A,P,N,V,K,J,_e,ee,Z,ne,ae,ie,le,d,m,h,v,b,_,null==y?void 0:y.items,q,se,ue,de,fe,me,pe,he,ve]),Te=Object(c.useCallback)((function(e){return _e?l.a.createElement(Tr,{key:_e.key,editorState:_e,listId:ge,task:e,tasksMap:je,hierarchy:ke,indents:De,siblings:Ce,bottomTaskId:Se,defaultAddFields:j,project:u,section:f,parentId:r,allowAdd:I,allowAddAbove:A,allowAddBelow:P,allowIndentChange:N,allowWebsiteAdd:M,allowEmailAdd:L,canAddComments:z,canUseLabels:V,onAdd:ue,onChange:function(e){ye.current=e},onUpdate:se}):null}),[I,A,P,L,N,M,Se,z,V,j,_e,ke,ge,De,ue,se,r,u,f,Ce,je]),Ae=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l.a.createElement(Hr,a()({parentId:e,completedTasks:p,project:u,section:f,indent:e&&De[e]?De[e]+1:1,onDelete:he,onLinkCopy:me,onCheckedChange:ve},t))}),[p,De,ve,he,me,u,f]),xe=I&&(!_e||"edit"===_e.mode)&&u&&!u.is_archived,Pe=_e&&_e.listId===ge,Re=kt()(be,"data-day-list-id","data-section-list-id","data-subitem-list-id");return l.a.createElement("div",a()({ref:Oe,className:"list_holder"},I?G()({},"data-task-list-id",ge):{}),l.a.createElement("ul",a()({className:"items"},Re),_e&&Pe&&_e.mode===Nt?Te():null,l.a.createElement(Ut,{hierarchy:ke,listId:ge,tasksMap:je,completedTasks:p,editorState:_e,showCompleted:K&&ie,completedListRenderer:Ae,editorRenderer:Te,taskRenderer:Ie}),_e&&Pe&&$t(_e.mode)?Te():null,xe?l.a.createElement(xr,{listId:ge,addButtonLabel:w,allowWebsiteAdd:M,allowEmailAdd:L}):null),K?l.a.createElement(l.a.Fragment,null,r&&(null==p||null===(t=p.items[r])||void 0===t?void 0:t.completed_items)&&(I||o.length)?l.a.createElement("div",{className:"completed_tasks_separator"}):null,l.a.createElement("ul",{className:"items"},Ae(r))):null)},ta=n("81N4"),na=n("4PH6"),ra=n("hwkv"),aa=n("oHMr");function oa(e){return!!window.User.is_premium||(2===window.User.features.restriction||!(!e||!ra.a.isProjectShared(e)))}var ia=Bt;function ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sa=Object(d.c)((function(){var e=Object(k.e)();return function(t,n){var r=n.project,a=n.tasks;return{projects:t.projects,sections:t.sections,noteCountsByParentId:e(t,a),moreNotes:t.moreNotes,labels:Object(E.f)(t),collaborators:t.collaborators,reminders:Object(w.f)(t),isPremium:oa(t),tasksByParentId:t.mapping.tasks.byParentId,completedTasks:t.completed,project:null!=r?r:Object(rt.r)(t),allowWebsiteAdd:Object(ta.c)(t),allowEmailAdd:Object(ta.b)(t),canUseLabels:Object(T.o)(t),canAddComments:Object(T.d)(t),isDetailViewShowing:Object(m.e)(t)}}}),(function(e){return{onAdd:function(t){var n=t.fields,r=t.note,a=t.reminders,o=t.project,i=e(Object(O.o)(la(la({},n),{},{note:r})));if("boolean"!=typeof i)return void 0!==n.child_order&&e(Object(j.x)(null,{id:i.id,to:n.child_order},{allowUndo:!1})),o&&o.id!==n.project_id&&e(Object(na.c)(n.id,n.project_id)),a&&a.length>0&&a.forEach((function(t){"location"===t.type?e(Object(w.c)(la(la({},t),{},{item_id:i.id}))):e(Object(w.d)(la(la({},t),{},{item_id:i.id})))})),i},onUpdate:function(t,n,r){var a=jr()(["parent_id","section_id","project_id","child_order"],t);if(n&&e(Object(w.h)(t.id,n)),!r){var o,i,c=t.id,l=t.parent_id,s=t.section_id,u=t.project_id,d=t.child_order;void 0===l&&void 0===s&&void 0===u||(o={id:c,parent_id:l,section_id:s,project_id:u}),void 0!==d&&c&&(i={id:c,to:d}),(i||o)&&e(Object(j.x)(o,i))}e(Object(O.M)(a,{item:r}))},onMoveToProject:function(t){return e(Object(j.x)(t))},onArchive:function(t){return e(Object(O.p)(t,{completeRecurring:!0}))},onDuplicate:function(t,n){return e(Object(O.t)([t],n))},onDelete:function(e,t){return Signals.sendSignal("show_item_delete_confirm",e,t)},onLinkCopy:function(e,t){return Object(I.a)({id:e,sync_id:t})},onCheckedChange:function(t,n,r,a,o){if(n){var i=r.shiftKey;e(Object(O.p)(t,{forceHistory:i}))}else e(Object(O.L)(t,a,o))}}}))(ea),ua=n("LsxX");function da(e){var t=e.item,n=e.items,r=e.project,a=e.showCompleted,o=e.isActive,i=e.onMoveAndReorder,l=t.id,s=t.section_id,u=c.useMemo((function(){return Object(Dt.a)("taskList")}),[]),d=zt(),f=d.onAddBottom,m=d.onAddTop,p=c.useCallback((function(){o&&m(u,!0)}),[m,u,o]),h=c.useCallback((function(){o&&f(u,!0)}),[f,u,o]);return Object(Ur.g)(Ur.c,p),Object(Ur.g)(Ur.b,h),wt({listIdAttr:"data-subitem-list-id",itemIdAttr:"data-item-id",handleSelector:".task_list_item__drag_handle",scrollSelector:".item_detail .tabs__body",onSort:c.useCallback((function(e){var t,r,a,o=e.dragItemId,c=e.orders,s=c.findIndex((function(e){return e.id===o})),u=c[s].indent;if(1===u)a={id:Object(it.a)(o),parent_id:Object(it.a)(l)};else for(var d=s;d>=0;d--)if(c[d].indent<u){a={id:Object(it.a)(o),parent_id:Object(it.a)(c[d].id)};break}var f=c[s+1]?Object(it.a)(c[s+1].id):null,m=n.find((function(e){return e.id===f})),p=(null!==(t=null===(r=c[s+1])||void 0===r?void 0:r.indent)&&void 0!==t?t:null)===u?null==m?void 0:m.child_order:null;if(null===p){var h,v,b=c[s-1]?Object(it.a)(c[s-1].id):null,g=n.find((function(e){return e.id===b})),_=null!==(h=null===(v=c[s-1])||void 0===v?void 0:v.indent)&&void 0!==h?h:null;p=g&&_===u?g.child_order+1:1}i(a,{id:Object(it.a)(o),to:p})}),[n,i,l])}),c.createElement(sa,{type:"subtasks","data-subitem-list-id":l,listId:u,tasks:n,parentId:l,project:r,sectionId:s,addButtonLabel:_("Add sub-task"),showCompleted:a,sortFn:ua.a,allowAdd:0===t.checked,allowAddAbove:!0,allowAddBelow:!0,allowIndentChange:!0,showDragHandle:!0})}da.propTypes={item:y.a.object.isRequired,items:y.a.array.isRequired,project:y.a.object.isRequired,showCompleted:y.a.bool.isRequired,isActive:y.a.bool.isRequired,onMoveAndReorder:y.a.func};var fa=Object(d.c)(void 0,(function(e){return{onMoveAndReorder:function(t,n){e(Object(j.x)(t,n))}}}),null,{pure:!1})(da),ma=n("s2m+"),pa=n("IVjG"),ha=n("uzpC"),va=n("yn26"),ba=n("C6Tt");function ga(e){var t=e.label,n=Object(c.useState)(!1),r=b()(n,2),a=r[0],o=r[1],i=Object(jn.g)("label",t.color);return l.a.createElement(Gt.a,{view:{type:"label",labelName:t.name},className:"label_pill",onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},style:{backgroundColor:Object(ba.a)(i,a?.5:.2)},"data-item-label-name":t.name},l.a.createElement(Cn.a,{source:t.name}))}ga.propTypes={label:y.a.object.isRequired};var _a=ga,ya=n("lrs5"),Oa=n("d7O2");function ja(e){var t=e.showCompleted,n=e.item,r=e.assignedUser,o=e.labels,i=e.reminders,s=void 0===i?[]:i,u=e.user,d=e.isProjectShared,f=e.isProjectArchived,m=e.projectName,p=e.canUseLabels,h=e.editButtonRef,v=e.onContentClick,b=e.onDescriptionClick,g=e.onItemComplete,_=e.onItemUncomplete,y=e.onItemUpdate,O=e.onItemMove,j=e.onArchive,w=e.onDelete,k=e.onLinkCopy,D=e.onEmailComments,C=e.onSizeChange,S=void 0===C?function(){}:C,I=e.onCompletedShow,T=e.onCompletedHide,A=Object(Sn.e)(u),x=Object(c.useRef)(null),P=Object(c.useMemo)((function(){return Object(Fn.b)(n.content)}),[n.content]),R=Boolean(n.in_history||n.checked),N=Boolean(!!n.in_history||f),L=Wt(n.content),M=J()("item_overview_main",{no_checkbox:L}),F=J()("item_overview","focus-marker-enabled-within",{"item_overview--completed":R});return Object(c.useEffect)((function(){requestAnimationFrame((function(){if(x.current){var e=x.current.getBoundingClientRect();S(e.height)}}))}),[S]),l.a.createElement("div",{className:F},L||f?null:l.a.createElement(gn.a,{checked:n.checked,priority:n.priority,onChange:function(e,t){if(e){var r=Boolean(null==t?void 0:t.shiftKey);g(n,{forceHistory:r})}else _(n)},"data-action-hint":"task-detail-view-complete"}),l.a.createElement("div",{ref:x,className:M},l.a.createElement("div",{className:"item_overview_header"},l.a.createElement(le.a,{"data-action-hint":"task-detail-view-edit",className:"item_overview_content","aria-label":Object(Q.a)("Task name"),"aria-describedby":"a11y_task_name",disabled:N,onClick:function(e){"A"!==e.target.tagName&&v(e)},as:"div",ref:h},l.a.createElement(zn.a,{type:P.type,className:"item_overview_content__service_icon","aria-hidden":!0}),l.a.createElement(Ln,{content:n.content}),l.a.createElement(ma.a,{id:"a11y_task_name"},Object(Q.a)("Activate to edit the task name"))),A&&l.a.createElement(le.a,{"data-action-hint":"task-detail-view-edit",className:"item_overview_description","aria-label":Object(Q.a)("Task description"),"aria-describedby":"a11y_task_description",disabled:N,onClick:function(e){"A"!==e.target.tagName&&b(e)},as:"div"},l.a.createElement(Ln,{content:n.description,markdownMode:"full",placeholder:Object(Q.a)("Description")}),l.a.createElement(ma.a,{id:"a11y_task_description"},Object(Q.a)("Activate to edit the task description")))),l.a.createElement("div",{className:"item_overview_sub"},f?null:l.a.createElement(ha.a,{item:n,onSelect:function(e){y({id:n.id,due:e})}}),s.length>0&&!f?l.a.createElement(Te.b,{className:"item_due_tooltip",label:l.a.createElement(va.a,{item:n,reminders:s})},l.a.createElement("button",{className:"icon_pill"},l.a.createElement(de.Ub,{size:"medium"}))):null,d?l.a.createElement(Yt.a,{projectId:n.project_id,onChange:function(e){var t=e.target;y({id:n.id,responsible_uid:t.value})},value:r?r.id:null,tooltip:Yt.b,disabled:f,className:"icon_pill"},(function(e){var t=e.buttonProps;return l.a.createElement(le.a,a()({},t,{"data-action-hint":"task-detail-view-assign"}),r?l.a.createElement(ya.b,{user:r,size:"small"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(Oa.a,null),l.a.createElement("span",null,n.responsible_uid?Object(Q.a)("Someone"):Object(Q.a)("Assign To"))))})):null,p?Object(E.v)(n.labels,o).map((function(e){var t=o[e]||{name:e,color:jn.a};return l.a.createElement(_a,{key:e,label:t})})):null),f?null:l.a.createElement("div",{className:"item_overview_footer"},l.a.createElement(pa.a,{showCompleted:t,onCompletedShow:I,onCompletedHide:T,user:u,labels:n.labels,item:n,priority:n.priority,projectId:n.project_id,sectionId:n.section_id,projectName:m,withMoreMenu:!0,withSectionSelection:!0,onLabelsSelect:function(e){y({id:n.id,labels:e})},onPrioritySelect:function(e){y({id:n.id,priority:e})},onProjectSelect:function(e){var t=e.project_id,r=e.section_id;O({id:n.id,project_id:t,section_id:r})},onArchive:j,onDelete:w,onLinkCopy:k,onEmailComments:D,onRename:v}))))}ja.propTypes={assignedUser:y.a.object,showCompleted:y.a.bool.isRequired,item:y.a.object.isRequired,isProjectShared:y.a.bool.isRequired,editButtonRef:y.a.object,canUseLabels:y.a.bool.isRequired,isProjectArchived:y.a.bool.isRequired,projectName:y.a.string,labels:y.a.object.isRequired,reminders:y.a.array,user:y.a.object.isRequired,onContentClick:y.a.func,onDescriptionClick:y.a.func,onArchive:y.a.func,onDelete:y.a.func,onLinkCopy:y.a.func,onItemComplete:y.a.func,onItemUncomplete:y.a.func,onItemUpdate:y.a.func,onItemMove:y.a.func,onSizeChange:y.a.func,onEmailComments:y.a.func,onCompletedShow:y.a.func,onCompletedHide:y.a.func};var wa=ja,Ea=n("zZLx"),ka=n("msoB"),Da=n.n(ka),Ca={"item:added":svgs.getString("sm1/notification_assigned.svg"),"item:updated":svgs.getString("sm1/notification_updated.svg"),"item:completed":svgs.getString("sm1/notification_completed.svg"),"item:uncompleted":svgs.getString("sm1/notification_uncompleted.svg"),"item:deleted":svgs.getString("sm1/notification_deleted.svg"),"note:added":svgs.getString("sm1/notification_commented.svg")};function Sa(e){var t=e.eventKey;if("null"===t)return null;var n=Ca[t];return l.a.createElement("span",{className:Da.a.eventPickerItemIcon,dangerouslySetInnerHTML:{__html:n}})}function Ia(e){var t=e.event,n=e.text,r=e.selectAll,a=l.a.useContext(Ea.a).searchText.trim();if(!(0===a.length||n.toLowerCase().includes(a.toLowerCase())))return null;var o="string"==typeof t?t:String(null==t?void 0:t.value),i=function(e){var t=e.text,n=e.searchText;if(0===n.trim().length)return t;var r=new RegExp("(".concat(n,")"),"gi");return t.replace(r,"<b>$1</b>")}({text:n,searchText:a});return l.a.createElement(Ea.b,{value:o,label:n,selectAll:r,className:Da.a.eventPickerItem},l.a.createElement(l.a.Fragment,null,l.a.createElement(Sa,{eventKey:t.value}),l.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}})))}var Ta=[{value:"null",name:Object(Q.a)("All actions")},{value:"item:added",name:Object(Q.a)("Added tasks")},{value:"item:updated",name:Object(Q.a)("Updated tasks")},{value:"item:completed",name:Object(Q.a)("Completed tasks")},{value:"item:uncompleted",name:Object(Q.a)("Uncompleted tasks")},{value:"item:deleted",name:Object(Q.a)("Deleted tasks")},{value:"note:added",name:Object(Q.a)("Added comments")}];function Aa(e){var t,n,r,o=e.value,c=e.onSelected,s=e.searchPlaceholder,u=e.toggleClassName,d=i()(e,["value","onSelected","searchPlaceholder","toggleClassName"]),f=l.a.useMemo((function(){return Ta.find((function(e){return e.value===o}))||Ta[0]}),[o]);var m="null"===f.value?Object(Q.a)("Filter by activity"):l.a.createElement(l.a.Fragment,null,Object(Q.a)("Filtering by"),"\xa0",l.a.createElement("b",null,f.name.toLowerCase()));return l.a.createElement("div",{className:Da.a.eventPicker},l.a.createElement(Ea.g,a()({},d,{name:null!==(t=null==f?void 0:f.name)&&void 0!==t?t:Object(Q.a)("All actions"),value:o,onChange:function(e){var t=e.target.value;c(t)},availableOptions:Ta.map((function(e){return e.value}))}),l.a.createElement(Ea.h,{className:J()(Da.a.eventPickerToggle,u),tooltip:m,"data-testid":"event_picker_toggle"},l.a.createElement(Sa,{eventKey:null!==(n=null==f?void 0:f.value)&&void 0!==n?n:null}),null!==(r=null==f?void 0:f.name)&&void 0!==r?r:Object(Q.a)("All actions"),l.a.createElement(de.u,{className:Da.a.chevronIcon})),l.a.createElement(Ea.e,{onClose:d.onClose,onToggle:d.onToggle,position:d.position,width:d.width},l.a.createElement(Ea.f,{placeholder:s||Object(Q.a)("Filter by activity")}),l.a.createElement(Ea.d,null,Ta.map((function(e){return l.a.createElement(Ia,{key:String(e.name),text:String(e.name),event:e})}))))))}var xa=n("f0Wu"),Pa=n.n(xa),Ra=n("t4uw"),Na=n("Ek05"),La=n("K6Df"),Ma=n("L8gx"),Fa=n("XuZw"),za=n.n(Fa);function Ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ba(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $a(e,t){var n=t.tag,r=void 0===n?"span":n,a=i()(t,["tag"]),o=Ma.a.format(e).replace(/^\*\s+/g,"");return c.createElement(r,Va(Va({},a),{},{dangerouslySetInnerHTML:{__html:o}}))}function Ha(e){var t=e.eventType,n=e.content,r=e.url;return c.createElement("span",{className:J()(za.a.eventObjectContent,G()({},za.a.eventObjectContentThrough,"deleted"===t))},r?c.createElement("a",{href:r},n):n)}function Ua(e){var t=e.user,n=e.noun,r=e.key,a=void 0===r?"user":r,o={you:_("You"),someone:_("Someone"),to_someone:_("someone"),to_someone_else:_("someone else"),to_yourself:_("yourself"),to_you:_("you")},i="user"===n||"to_user"===n?Ma.a.formatSimple(null==t?void 0:t.full_name.split(" ")[0]):o[n];return c.createElement("span",{key:a,className:"user"},i)}function qa(e){var t,n=e.activity,r=e.userNoun,a=e.linkifyContent,o=void 0!==a&&a,i={added_task:{you:Object(Q.a)("{you} added a task: {task}"),user:Object(Q.a)("{user} added a task: {task}"),someone:Object(Q.a)("{someone} added a task: {task}")},deleted_task:{you:Object(Q.a)("{you} deleted a task: {task}"),user:Object(Q.a)("{user} deleted a task: {task}"),someone:Object(Q.a)("{someone} deleted a task: {task}")},completed_task:{you:Object(Q.a)("{you} completed a task: {task}"),user:Object(Q.a)("{user} completed a task: {task}"),someone:Object(Q.a)("{someone} completed a task: {task}")},uncompleted_task:{you:Object(Q.a)("{you} uncompleted a task: {task}"),user:Object(Q.a)("{user} uncompleted a task: {task}"),someone:Object(Q.a)("{someone} uncompleted a task: {task}")}},c=n.initiator,s=n.event_type,u=n.object_id,d=i["".concat(s,"_task")],f="/app/#task/".concat(u);return l.a.createElement("div",null,l.a.createElement(La.a,{string:d[r],mapping:(t={},G()(t,r,Ua({user:c,noun:r})),G()(t,"task",l.a.createElement(Ha,{eventType:s,content:l.a.createElement(Ln,{content:n.extra_data.content}),url:o&&"deleted"!==s?f:void 0})),t)}))}var Ga=n("lDtu");function Wa(e){var t,n,r=e.activity,a=e.user,o=e.userNoun,i=e.linkifyContent,c=void 0!==i&&i,s={you:{to_you:Object(Q.a)("{you} assigned {task} to {to_yourself}"),to_user:Object(Q.a)("{you} assigned {task} to {to_user}"),to_someone:Object(Q.a)("{you} assigned {task} to {to_someone}")},user:{to_you:Object(Q.a)("{user} assigned {task} to {to_you}"),to_user:Object(Q.a)("{user} assigned {task} to {to_user}"),to_someone:Object(Q.a)("{user} assigned {task} to {to_someone}")},someone:{to_you:Object(Q.a)("{someone} assigned {task} to {to_you}"),to_user:Object(Q.a)("{someone} assigned {task} to {to_user}"),to_someone:Object(Q.a)("{someone} assigned {task} to {to_someone_else}")}},u={you:{to_you:Object(Q.a)("{you} re-assigned {task} to {to_yourself}"),to_user:Object(Q.a)("{you} re-assigned {task} to {to_user}"),to_someone:Object(Q.a)("{you} re-assigned {task} to {to_someone}")},user:{to_you:Object(Q.a)("{user} re-assigned {task} to {to_you}"),to_user:Object(Q.a)("{user} re-assigned {task} to {to_user}"),to_someone:Object(Q.a)("{user} re-assigned {task} to {to_someone}")},someone:{to_you:Object(Q.a)("{someone} re-assigned {task} to {to_you}"),to_user:Object(Q.a)("{someone} re-assigned {task} to {to_user}"),to_someone:Object(Q.a)("{someone} re-assigned {task} to {to_someone_else}")}},d={you:Object(Q.a)("{you} unnassigned {task}"),user:Object(Q.a)("{user} unassigned {task}"),someone:Object(Q.a)("{someone} unassigned {task}")},f=r.extra_data,m=r.initiator,p=r.target_user,h=function(e){var t=e.activity,n=e.user,r=e.userNoun,a=t.target_user;return null==a?"someone"===r?"to_someone_else":"to_someone":n.id===a.id?"you"===r?"to_yourself":"to_you":"to_user"}({activity:r,user:a,userNoun:o});if(null===f.responsible_uid)n=d[o];else if(null===f.last_responsible_uid){var v=p?p.id===a.id?"to_you":"to_user":"to_someone";n=s[o][v]}else{var b=p?p.id===a.id?"to_you":"to_user":"to_someone";n=u[o][b]}var g="/app/#task/".concat(r.object_id);return l.a.createElement("div",null,l.a.createElement(La.a,{string:n,mapping:(t={},G()(t,o,Ua({user:m,noun:o})),G()(t,h,Ua({key:"targetUser",user:p,noun:h})),G()(t,"task",l.a.createElement(Ha,{eventType:r.event_type,content:l.a.createElement(Ln,{content:r.extra_data.content}),url:c?g:void 0})),t)}))}var Ka=n("OgjY");var Ya=n("RZq6"),Ja={"item:added":qa,"item:deleted":qa,"item:completed":qa,"item:uncompleted":qa,"item:updated":function(e){var t,n,r,a,o=e.activity,i=e.user,l=e.userNoun,s=e.linkifyContent,u=void 0!==s&&s,d=o.extra_data,f=o.initiator,m={you:Object(Q.a)("{you} changed the name of {old} to {task}"),user:Object(Q.a)("{user} changed the name of {old} to {task}"),someone:Object(Q.a)("{someone} changed the name of {old} to {task}")},p={you:Object(Q.a)("{you} set the due date of {task} to {due_date}"),user:Object(Q.a)("{user} set the due date of {task} to {due_date}"),someone:Object(Q.a)("{someone} set the due date of {task} to {due_date}")},h={you:Object(Q.a)("{you} set the due date of {task} to {due_date_as_day}"),user:Object(Q.a)("{user} set the due date of {task} to {due_date_as_day}"),someone:Object(Q.a)("{someone} set the due date of {task} to {due_date_as_day}")},v={you:Object(Q.a)("{you} removed the due date of {task}"),user:Object(Q.a)("{user} removed the due date of {task}"),someone:Object(Q.a)("{someone} removed the due date of {task}")},b={you:Object(Q.a)("{you} changed the due date of {task} to {due_date}"),user:Object(Q.a)("{user} changed the due date of {task} to {due_date}"),someone:Object(Q.a)("{someone} changed the due date of {task} to {due_date}")},g={you:Object(Q.a)("{you} changed the due date of {task} to {due_date_as_day}"),user:Object(Q.a)("{user} changed the due date of {task} to {due_date_as_day}"),someone:Object(Q.a)("{someone} changed the due date of {task} to {due_date_as_day}")},_={you:Object(Q.a)("You added a description to {content} task: {description}"),user:Object(Q.a)("{user} added a description to {content} task: {description}"),someone:Object(Q.a)("{someone} added a description to {content} task: {description}")},y={you:Object(Q.a)("You changed the description of {content} task to: {description}"),user:Object(Q.a)("{user} changed the description of {content} task to: {description}"),someone:Object(Q.a)("{someone} changed the description of {content} task to: {description}")},O={you:Object(Q.a)("You removed the description of {content} task"),user:Object(Q.a)("{user} removed the description of {content} task"),someone:Object(Q.a)("{someone} removed the description of {content} task")},j="/app/#task/".concat(o.object_id),w=c.createElement(Ha,{eventType:o.event_type,content:c.createElement(Ln,{content:o.extra_data.content}),url:u?j:void 0}),E=d.description,k=d.last_description;if(E&&!k)return c.createElement("div",null,c.createElement(La.a,{string:_[l],mapping:(t={},G()(t,l,Ua({user:f,noun:l})),G()(t,"description",E),G()(t,"content",w),t)}));if(k&&!E)return c.createElement("div",null,c.createElement(La.a,{string:O[l],mapping:(n={},G()(n,l,Ua({user:f,noun:l})),G()(n,"description",E),G()(n,"content",w),n)}));if(k!==E)return c.createElement("div",null,c.createElement(La.a,{string:y[l],mapping:(r={},G()(r,l,Ua({user:f,noun:l})),G()(r,"description",E),G()(r,"content",w),r)}));if(void 0!==d.last_content)return c.createElement("div",null,c.createElement(La.a,{string:m[l],mapping:(a={},G()(a,l,Ua({user:f,noun:l})),G()(a,"task",w),G()(a,"old",$a(d.last_content,{className:"through",key:"old"})),a)}));if(void 0!==d.due_date){var D,C=new Date,S=null===d.due_date?null:Ka.a.fromDate(new Date(d.due_date)),I=!!S&&Ga.b.day_diff(C,S.toDate())<=7,T=b;T=null===d.due_date?v:null===d.last_due_date?I?h:p:I?g:b;var A=I?"due_date_as_day":"due_date";return c.createElement("div",null,c.createElement(La.a,{string:T[l],mapping:(D={},G()(D,l,Ua({user:f,noun:l})),G()(D,"task",w),G()(D,A,null!==d.due_date?c.createElement(En.a,{key:"due_date",date:d.due_date,overrideClassName:"bold",showDue:!0,showTime:!0}):null),D)}))}return void 0!==d.responsible_uid?c.createElement(Wa,{activity:o,user:i,userNoun:l,linkifyContent:u}):null},"note:added":function(e){var t=e.activity,n=e.userNoun,r=e.linkifyContent,a=void 0!==r&&r;if("added"!==t.event_type)return null;var o={you:Object(Q.a)("{you} added a comment to {task}: {comment}"),user:Object(Q.a)("{user} added a comment to {task}: {comment}"),someone:Object(Q.a)("{someone} added a comment to {task}: {comment}")},i={you:Object(Q.a)("{you} added a comment: {comment}"),user:Object(Q.a)("{user} added a comment: {comment}"),someone:Object(Q.a)("{someone} added a comment: {comment}")},c={you:Object(Q.a)("{you} added a project comment to {project}: {comment}"),user:Object(Q.a)("{user} added a project comment to {project}: {comment}"),someone:Object(Q.a)("{someone} added a project comment to {project}: {comment}")},s={you:Object(Q.a)("{you} added a project comment: {comment}"),user:Object(Q.a)("{user} added a project comment: {comment}"),someone:Object(Q.a)("{someone} added a project comment: {comment}")},u=t.initiator,d=t.extra_data,f=t.parent_item,m=t.parent_project,p=$a(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u2026";return e&&e.length>=t?e.substr(0,t)+n:e}(d.content,160),{className:"object",tag:"div",key:"comment"});if(null!=t.parent_item_id){var h,v=f?o:i,b="/app/#task/".concat(t.parent_item_id);return l.a.createElement("div",null,l.a.createElement(La.a,{string:v[n],mapping:(h={},G()(h,n,Ua({user:u,noun:n})),G()(h,"task",f?l.a.createElement(Ha,{eventType:t.event_type,content:l.a.createElement(Ln,{content:f.content}),url:a?b:void 0}):void 0),G()(h,"comment",p),h)}))}if(null!=t.parent_project_id){var g,_=m?c:s,y="/app/project/".concat(t.parent_project_id,"/comments");return l.a.createElement("div",null,l.a.createElement(La.a,{string:_[n],mapping:(g={},G()(g,n,Ua({user:u,noun:n})),G()(g,"project",m?l.a.createElement(Ha,{eventType:t.event_type,content:l.a.createElement(Cn.a,{source:m.name}),url:a?y:void 0}):void 0),G()(g,"comment",p),g)}))}return null}};function Qa(e){var t=e.activity,n=e.user,r=e.linkifyContent,a="".concat(t.object_type,":").concat(t.event_type),o=Ja[a];if(!o)return Object(Ya.captureInfoLog)("Unsupported activity kind '".concat(a,"'")),null;var i=null===t.initiator_id||t.initiator_id===n.id?"you":null!=t.initiator?"user":"someone";return l.a.createElement(o,{activity:t,user:n,userNoun:i,linkifyContent:r})}var Za={"item:added":svgs.getString("sm1/notification_assigned.svg"),"item:updated":svgs.getString("sm1/notification_updated.svg"),"item:completed":svgs.getString("sm1/notification_completed.svg"),"item:uncompleted":svgs.getString("sm1/notification_uncompleted.svg"),"item:deleted":svgs.getString("sm1/notification_deleted.svg"),"note:added":svgs.getString("sm1/notification_commented.svg")};function Xa(e){var t=e.project,n=jn.e.getHex("project",t.color);return l.a.createElement(Gt.a,{view:{type:"project",projectId:t.id}},l.a.createElement("div",{className:"project","data-track":"activity_log|select_project"},l.a.createElement("span",{className:"clickable project_item"},l.a.createElement(Cn.a,{className:"project_item__name",source:t.name}),l.a.createElement("span",{className:"project_item__color",style:{backgroundColor:n,color:n}}))))}function eo(e){var t,n=e.activity,r=e.user,a=e.linkifyContent,o=e.showProject,i=n.parent_project,c=n.initiator,s=n.extra_data,u="".concat(n.object_type,":").concat(n.event_type),d=Za[u],f=Na.a.getHourAndMin(new Date(n.event_date));return l.a.createElement("li",{className:"event"},l.a.createElement("div",{className:"avatar"},l.a.createElement(ya.b,{user:c,size:ya.b.SIZE_MEDIUM}),null!=d&&l.a.createElement("div",{className:"avatar_event_icon",dangerouslySetInnerHTML:{__html:d}})),l.a.createElement("div",{className:"text"},l.a.createElement(Qa,{activity:n,user:r,linkifyContent:a}),l.a.createElement(Te.b,{label:null!==(t=s.client)&&void 0!==t?t:""},l.a.createElement("span",{className:"activity_time"},f)),o&&i?l.a.createElement(Xa,{project:i}):null))}function to(e){var t=e.activities,n=e.currentPage,r=e.onLoadMore,a=e.isLoading;if(void 0!==a&&a)return c.createElement(ce.a,{className:za.a.loadMore});if(!r&&t>0)return c.createElement("p",{className:"no_more_results"},Object(Q.a)("That's it. No more history to load."));var o=n+1;return c.createElement(le.a,{className:"load_more",onClick:r,"data-track":"activity_log|load_more"},Object(Q.b)("Load more history from last week...","Load more history from {count} weeks ago...",o).replace("{count}",String(o)))}var no=n("Au0W");n("bZPV");function ro(e,t){var n=e.header,r=e.subheader,a=e.className,o=e.children,i=e.largeBottomMargin,s=void 0!==i&&i,u=e.disableEditing,d=void 0!==u&&u,f=e.onRename,m=e.maxLength,p=Object(c.useState)(!1),h=b()(p,2),v=h[0],g=h[1],_=Object(c.useState)(n&&n.props?n.props.source:""),y=b()(_,2),O=y[0],j=y[1],w=Object(c.useRef)(null);function E(e){e.preventDefault(),g(!1),O!==n.props.source&&f&&f(O)}function k(e){27===e.keyCode&&(e.preventDefault(),D())}function D(){g(!1),j(n.props.source)}return Object(c.useEffect)((function(){g(!1),j(n.props.source)}),[n.props.source]),Object(Ct.h)((function(){var e;v||(null==w||null===(e=w.current)||void 0===e||e.focus())}),[v,w]),l.a.createElement("header",{"aria-label":Object(Q.a)("Project Header: contains Comments button, Share button, Sort Options button, and More Project Actions button"),className:J()("view_header",a,{large_margin_bottom:s,has_children:Boolean(o)}),"data-testid":"view_header",ref:t},l.a.createElement("div",{className:"view_header__content"},v?l.a.createElement("form",{"data-testid":"view_header__form",onKeyDown:k,onSubmit:E},m?l.a.createElement(no.a,{id:"rename_header_hint",length:O.length,maxLength:m}):null,l.a.createElement("input",{"aria-describedby":m?"rename_header_hint":void 0,"aria-label":Object(Q.a)("Name"),autoFocus:!0,className:"view_header__input",maxLength:m,onChange:function(e){return j(e.target.value)},size:O.length+1,type:"text",value:O}),l.a.createElement("div",{className:"view_header__input_actions"},l.a.createElement(le.a,{className:"ist_button ist_button_red",disabled:0===O.trim().length,type:"submit"},Object(Q.a)("Save")),l.a.createElement(le.a,{className:"cancel",onClick:D},Object(Q.a)("Cancel")))):d?l.a.createElement("h1",null,n,r?l.a.createElement("small",null,r):null):l.a.createElement(l.a.Fragment,null,l.a.createElement(le.a,{"aria-describedby":"view_header__a11y_helper_text",as:"h1",className:"editable","data-testid":"view_header__h1",onClick:function(){var e,t;j(null!==(e=null==n||null===(t=n.props)||void 0===t?void 0:t.source)&&void 0!==e?e:""),g(!0)},ref:w,role:"header"},n,r?l.a.createElement("small",null,r):null),l.a.createElement("span",{id:"view_header__a11y_helper_text"},Object(Q.a)("Activate to edit name"))),o?l.a.createElement("div",{className:"view_header__actions"},o):null))}var ao=l.a.forwardRef(ro),oo=n("c32n"),io=n("NoME"),co=n("4+6U"),lo=n("IJUe");function so(e,t){var n,r=Object(co.a)(e),a=Object(co.a)(t),o=Object(io.a)(r,a),i=null!==(n=function(e){switch(e){case 0:return Object(Q.a)("Today");case 1:return Object(Q.a)("Tomorrow");case-1:return Object(Q.a)("Yesterday");default:return null}}(o))&&void 0!==n?n:Na.a.getWeekDay(r.getDay()),c=Object(lo.a)(r,{withTime:!1,withWeekday:!1,withYear:o>=365});return"".concat(c," \u2027 ").concat(i)}var uo=l.a.forwardRef((function(e,t){var n,r=e.actions,a=e.header,o=e.children,i=e.todayStr,s=e.isListItem,u=void 0!==s&&s,d=e.withCollapser,f=void 0!==d&&d,m=e.isOpen,p=void 0===m||m,h=e.className,v=l.a.useState(!p),g=b()(v,2),_=g[0],y=g[1],O=J()("section",{section__collapsed:_},h),j=void 0;a instanceof Date&&(j=Object(oo.a)(a,{representation:"date"}),a=so(j,i));var w=Object(c.useMemo)((function(){return a?Object(Dt.a)("section-header"):void 0}),[a]);var E=l.a.createElement(l.a.Fragment,null,a?l.a.createElement("header",{id:w},l.a.createElement("div",{className:"section_head__overflow_actions"},f?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"collapser collapser_alone",onClick:function(){y(!_)}},l.a.createElement(de.q,null))):null),l.a.createElement("h2",null,j?l.a.createElement(Gt.a,{view:{type:"search",searchQuery:j}},a):l.a.createElement(Dn.a,{text:a})),r?l.a.createElement("div",{className:"section_head__actions"},r):null):null,o);return u?l.a.createElement("li",{ref:t,className:O,"aria-labelledby":w},E):l.a.createElement("section",{"aria-label":null!==(n=a)&&void 0!==n?n:Object(Q.a)("Tasks without a section"),className:O,ref:t},E)}));var fo=Object(d.c)((function(e){return{todayStr:e.clock}}),null,null,{forwardRef:!0})(uo);function mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mo(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ho=Object(ur.d)(fr()((function(e){return Pa()(e.event_date).tz(Pa.a.tz.guess()).startOf("day").toISOString()})),(function(e){return e.reverse()}),pr()((function(e){return e.event_date})));var vo=Object(ut.a)((function(e,t,n,r,a,o){return ho(function(e,t){var n=t.user,r=t.collaborators,a=void 0===r?{}:r,o=t.items,i=void 0===o?{}:o,c=t.projects,l=void 0===c?{}:c;return e.map((function(e){var t=e.initiator_id,r=e.parent_item_id,o=e.parent_project_id,c=e.extra_data.responsible_uid;return po(po({},e),{},{initiator:t?a[t]:n,target_user:c?a[c]:void 0,parent_item:r&&i?i[r]:void 0,parent_project:o&&l?l[o]:void 0})}))}(e,{user:t,collaborators:n,items:r,projects:a}))}));function bo(e,t){var n=Object(Na.b)(Na.a.format(new Date(t.date_added)));return e.creator?Object(me.a)(_x("task_added_by","<b>Added by {user_name}</b> on {date}"),{user_name:e.creator.full_name?Object(Ra.a)(e.creator.full_name):e.creator.email,date:n}):Object(me.a)(_x("task_added","<b>Added on {date}</b>"),{date:n})}function go(e){var t=e.item,n=e.user,r=e.canAccessActivityLog,a=void 0!==r&&r,o=e.activities,s=void 0===o?[]:o,u=e.status,d=void 0===u?"LOADED":u,f=e.currentPage,m=e.onLoadMore,p=e.clock,h=e.creator,v=e.linkifyContent,b=e.showProject,g=i()(e,["item","user","canAccessActivityLog","activities","status","currentPage","onLoadMore","clock","creator","linkifyContent","showProject"]);if("ERROR"===d)return l.a.createElement("div",{id:"activity_app"},Object(Q.a)("You appear to be offline or Todoist is down. This action requires that you are online. Please try again later."));var _="LOADED"===d&&0===s.length,y=!a||_,O=Object(me.a)(Object(Q.b)("No activity in the past week.","No activity in the past {count} weeks.",f),{count:f}),j=vo(s,n,g.collaborators.all,g.items,g.projects,p),w=Object.keys(j);return l.a.createElement(l.a.Fragment,null,null!=t?l.a.createElement("div",{className:"activity_created_by",dangerouslySetInnerHTML:{__html:bo({creator:h},t)}}):null,l.a.createElement("div",{id:"activity_app"},y?l.a.createElement(ie.a,{title:O,canAccessActivityLog:a}):w.map((function(e){return l.a.createElement(c.Fragment,{key:e},l.a.createElement(fo,{header:new Date(e)},l.a.createElement("ul",{className:"items",id:"day_ul_".concat(e)},j[e].map((function(e){return l.a.createElement(eo,{key:e.id,activity:e,user:n,linkifyContent:v,showProject:b})})))))})),null!=m?l.a.createElement(to,{isLoading:"LOADING"===d,activities:s.length,currentPage:f,onLoadMore:m}):null))}var _o=n("o0o1"),yo=n.n(_o),Oo=n("yXPU"),jo=n.n(Oo);function wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wo(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ko(e,t){return Do.apply(this,arguments)}function Do(){return(Do=jo()(yo.a.mark((function e(t,n){var r;return yo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/sync/v8/activity/get",{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if(!(r=e.sent).ok){e.next=5;break}return e.abrupt("return",r.json());case 5:throw new Error(r.statusText);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Co(e,t,n,r){var a=!1,o=null;if(n.eventTypeParam){a=!0;var i=n.eventTypeParam.split(":"),c=b()(i,2),l=c[0],s=c[1];o=s?{object_type:l,event_type:s}:{object_type:"".concat(l,":")}}var u=Eo(Eo({},o),{},{initiator_id:n.initiator_id,parent_project_id:n.parent_project_id,parent_item_id:n.parent_item_id,include_parent_object:n.include_parent_object,object_event_types:a?void 0:["item:","note:added"],annotate_notes:!0,limit:30});return t>1&&(u.page=t),r>0&&(u.offset=r),n.parent_project_id&&(u.include_child_objects=!0),e===n.initiator_id&&(u.initiator_id_null=!0),u}function So(e,t){return e?0===t?2:t+1:t}var Io={activities:[],fetchState:"initial",currentPage:0,offset:0};function To(e,t){switch(t.type){case"initial-load-pending":return Eo(Eo({},Io),{},{fetchState:"loading-initial"});case"initial-load-failed":return Eo(Eo({},Io),{},{fetchState:"error-initial"});case"initial-load-fulfilled":var n=t.payload,r=n.count,a=n.events,o=a.length===r;return{activities:a,fetchState:"loaded",offset:o?0:e.offset+a.length,currentPage:So(o,e.currentPage)};case"loading-more-pending":return Eo(Eo({},e),{},{fetchState:"loading-more"});case"loading-more-failed":return Eo(Eo({},e),{},{fetchState:"error-more"});case"loading-more-fulfilled":var i=t.payload,c=i.count,l=i.events,s=e.offset+l.length===c;return{activities:e.activities.concat(l),fetchState:"loaded",offset:s?0:e.offset+l.length,currentPage:So(s,e.currentPage)};default:return e}}function Ao(e){var t=Object(d.h)((function(e){var t,n;return{userId:null===(t=e.user)||void 0===t?void 0:t.id,userToken:null===(n=e.user)||void 0===n?void 0:n.token}}),d.f),n=t.userId,r=t.userToken,a=c.useReducer(To,Io),o=b()(a,2),i=o[0],l=o[1],s=Object(Ct.e)(e);c.useEffect((function(){"initial"!==i.fetchState&&Object(d.f)(e,s)||(l({type:"initial-load-pending"}),ko(Co(n,1,e,0),r).then((function(e){l({type:"initial-load-fulfilled",payload:e})})).catch((function(){l({type:"initial-load-failed"})})))}),[i.fetchState,e,s,n,r]);var u=c.useCallback((function(){l({type:"loading-more-pending"}),ko(Co(n,i.currentPage,e,i.offset),r).then((function(e){l({type:"loading-more-fulfilled",payload:e})})).catch((function(){l({type:"loading-more-failed"})}))}),[e,n,r,i.offset,i.currentPage]),f=c.useMemo((function(){switch(i.fetchState){case"error-initial":return"ERROR";case"initial":case"loading-initial":return"LOADING";default:return"LOADED"}}),[i.fetchState]),m=c.useMemo((function(){switch(i.fetchState){case"error-more":return"ERROR";case"loading-more":return"LOADING";default:return"LOADED"}}),[i.fetchState]),p=i.currentPage;return i.offset>0&&(p=0===i.currentPage?0:i.currentPage-1),{activities:i.activities,handleLoadMore:u,initialLoadingState:f,loadingMoreState:m,currentPage:p}}function xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xo(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ro(e){var t,n,r=e.setParams,o=e.projectId,i=e.userId,s=e.eventTypeParam,u=Object(c.useState)({parent_project_id:o,initiator_id:i,eventTypeParam:s}),f=b()(u,2),m=f[0],p=f[1],h=Object(d.h)((function(e){return{notifications:e.notifications,user:e.user,collaborators:e.collaborators,projects:e.projects,canAccessesActivityLog:Object(T.a)(e),clock:e.clock,items:e.items}})),v=Ao(m),g=v.activities,_=v.handleLoadMore,y=v.initialLoadingState,O=v.loadingMoreState,j=v.currentPage,w=Object(d.h)((function(e){var t;return Object(rt.n)(e,null!==(t=null!=o?o:null==m?void 0:m.parent_project_id)&&void 0!==t?t:null)}));if(Object(c.useEffect)((function(){var e={projectId:0!==(null==m?void 0:m.parent_project_id)?null==m?void 0:m.parent_project_id:void 0,userId:null==m?void 0:m.initiator_id};m.eventTypeParam&&(e.eventTypeParam=m.eventTypeParam),r(e)}),[m,r]),!h.projects||!h.collaborators.all)return null;var E=h.collaborators.all[Number(null!==(t=null==m?void 0:m.initiator_id)&&void 0!==t?t:i)],k=l.a.createElement(l.a.Fragment,null,l.a.createElement(Oa.a,null),Object(Q.a)("Everyone")),D=E?l.a.createElement(l.a.Fragment,null,Object(Q.a)("Filtering by collaborator"),"\xa0",l.a.createElement("b",null,Object(Me.f)(E))):Object(Q.a)("Filter by collaborator");return l.a.createElement("div",{className:za.a.activityLogPage},l.a.createElement("div",{className:za.a.activityLogHeader},l.a.createElement("h2",null,Object(Q.a)("Activity"),":"),l.a.createElement(sn.a,{withAllProjectsOption:!0,onSelect:function(e){e.project_id!==m.parent_project_id&&p(Po(Po({},m),{},{parent_project_id:e.project_id}))}},(function(e){var t=e.toggle,n=e.buttonProps;return l.a.createElement("button",a()({onClick:t,className:za.a.projectFilter},n),l.a.createElement("span",null,l.a.createElement(Cn.a,{source:(null==w?void 0:w.name)||Object(Q.a)("All projects")}),l.a.createElement(de.u,{className:za.a.chevronIcon})))}))),l.a.createElement("div",{className:za.a.filterRow},w&&!w.shared?l.a.createElement("div",{className:J()(za.a.personFilter,za.a.personFilterInactive)},k):l.a.createElement(Yt.a,{value:null==m?void 0:m.initiator_id,searchPlaceholder:Object(Q.a)("Filter by collaborator"),unassignedOptionLabel:Object(Q.a)("Everyone"),projectId:(null==w?void 0:w.shared)?m.parent_project_id:void 0,onChange:function(e){var t="number"==typeof e.target.value?e.target.value:void 0;m.initiator_id!==t&&p(Po(Po({},m),{},{initiator_id:t}))},tooltip:D},l.a.createElement("div",{className:za.a.personFilter,"data-track":"activity_log|filter_by_collaborator"},E?l.a.createElement(l.a.Fragment,null,l.a.createElement(ya.b,{user:E,size:"small"}),E.full_name):k,l.a.createElement(de.u,{className:za.a.chevronIcon}))),l.a.createElement(Aa,{value:null!==(n=m.eventTypeParam)&&void 0!==n?n:Object(Q.a)("All actions"),searchPlaceholder:Object(Q.a)("Filter by activity"),unassignedOptionLabel:Object(Q.a)("All actions"),onSelected:function(e){if("null"===e&&m.eventTypeParam){var t=Po({},m);return delete t.eventTypeParam,void p(t)}e!==m.eventTypeParam&&p(Po(Po({},m),{},{eventTypeParam:e}))},toggleClassName:za.a.eventFilter})),l.a.createElement("div",{className:za.a.activities},"LOADED"===y?l.a.createElement(go,{user:h.user,canAccessActivityLog:h.canAccessesActivityLog,activities:g,status:O,currentPage:j,onLoadMore:_,clock:h.clock,collaborators:h.collaborators,items:h.items,projects:h.projects,linkifyContent:!0,showProject:!0}):l.a.createElement(ce.b,{className:za.a.activityLoader})))}function No(e){var t=e.filters,n=e.item,r=e.creator,a=Object(d.h)((function(e){return{notifications:e.notifications,user:e.user,collaborators:e.collaborators,projects:e.projects,canAccessesActivityLog:Object(T.a)(e),clock:e.clock,items:e.items}})),o=Ao(t),i=o.activities,l=o.handleLoadMore,s=o.initialLoadingState,u=o.loadingMoreState,f=o.currentPage;return c.createElement("div",{className:za.a.activities},"LOADED"===s?c.createElement(go,{item:n,creator:r,user:a.user,activities:i,status:u,currentPage:f,onLoadMore:l,canAccessActivityLog:a.canAccessesActivityLog,clock:a.clock,collaborators:a.collaborators,items:a.items,projects:a.projects,linkifyContent:!1,showProject:!1}):c.createElement(ce.b,{className:za.a.activityLoader}))}function Lo(e){var t=e.label,n=e.count,r=void 0===n?0:n,a=e.hasMore,o=void 0!==a&&a;return l.a.createElement(l.a.Fragment,null,t,r>0?" ":null,r>0?l.a.createElement("small",null,r,o?"+":null):null)}Lo.propTypes={label:y.a.node.isRequired,count:y.a.number,hasMore:y.a.bool};var Mo=Lo;function Fo(e){var t=e.parentItem,n=e.project,r=e.isProjectShared;return l.a.createElement("div",{className:"item_detail_header focus-marker-enabled-within"},l.a.createElement(Gt.a,{view:t?void 0:{type:"project",projectId:n.id},task:t?{id:t.id}:void 0,className:"item_detail_parent_info"},l.a.createElement("div",{className:"item_detail_parent_icon"},t?l.a.createElement(de.W,null):l.a.createElement(de.Ob,{size:"small",project:n,isShared:r})),l.a.createElement(Nn.a,{source:t?t.content:n.name,mode:"text",className:"item_detail_parent_name"})),l.a.createElement(Gt.a,{view:"current",className:"item_detail_close","aria-label":_("Close"),role:"button"},l.a.createElement(de.x,null)))}Fo.propTypes={parentItem:y.a.object,project:y.a.object.isRequired,isProjectShared:y.a.bool.isRequired,onClose:y.a.func.isRequired};var zo=Fo;function Bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bo(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U()(e);if(t){var a=U()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $()(this,n)}}function Ho(e){var t=e.handleGoToSubtasksTab,n=e.handleGoToCommentsTab,r=e.handleGoToActivityTab;return Object(tr.e)({handleGoToSubtasksTab:t,handleGoToCommentsTab:n,handleGoToActivityTab:r}),null}var Uo=function(e){B()(n,e);var t=$o(n);function n(){var e;R()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),G()(F()(e),"editButtonRef",l.a.createRef()),G()(F()(e),"detailRef",l.a.createRef()),G()(F()(e),"editorValue",null),G()(F()(e),"state",{isEditing:!1,showCompleted:!0,withDescriptionInputFocused:!1}),G()(F()(e),"getCurrentlyActiveTab",(function(){return e.state.tab||e.props.activeTab||"subtasks"})),G()(F()(e),"handleKeyPress",(function(t){var n=Object(ne.a)(t);if("Escape"===n&&"BODY"===t.target.tagName&&e.props.onDismiss(),"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&"textbox"!==t.target.getAttribute("role")&&!document.querySelector("#item_selecter")&&("a"===n||"A"===n||"\u0444"===n||"\u0424"===n)&&"comments"===e.getCurrentlyActiveTab()){var r=e.detailRef.current.querySelector(".comments_editor_container .comments_textarea_holder textarea");r&&(r.focus(),t.preventDefault())}})),G()(F()(e),"handleEditorChange",(function(t){e.editorValue=t})),G()(F()(e),"handleEditorCancel",(function(){e.setState({isEditing:!1})})),G()(F()(e),"handleEditorSubmit",(function(t){var n=e.props.item,r=te(t,n);K()(r).length>0&&(e.props.onItemUpdate(Vo({id:n.id},r)),(r.section_id||null===r.section_id)&&e.props.onItemMove({id:n.id,project_id:t.project_id,section_id:r.section_id})),e.setState({isEditing:!1})})),G()(F()(e),"handleContentClick",(function(){e.setState({isEditing:!0,withDescriptionInputFocused:!1})})),G()(F()(e),"handleDescriptionClick",(function(){e.setState({isEditing:!0,withDescriptionInputFocused:!0})})),G()(F()(e),"handleOverviewSizeChange",(function(t){e.setState({overviewHeight:t})})),G()(F()(e),"handleTabChange",(function(t){e.setState({tab:t})})),G()(F()(e),"handleCompletedShow",(function(){e.setState({showCompleted:!0})})),G()(F()(e),"handleCompletedHide",(function(){e.setState({showCompleted:!1})})),G()(F()(e),"handleGoToSubtasksTab",(function(){e.handleTabChange("subtasks")})),G()(F()(e),"handleGoToCommentsTab",(function(){e.handleTabChange("comments")})),G()(F()(e),"handleGoToActivityTab",(function(){e.handleTabChange("activity")})),G()(F()(e),"focusLockWhiteList",(function(e){return e.ownerDocument===document&&"iframe"===e.tagName.toLowerCase()})),e}return L()(n,[{key:"componentDidMount",value:function(){this.detailRef.current&&"comments"!==this.props.activeTab&&this.detailRef.current.focus(),document.addEventListener("keydown",this.handleKeyPress)}},{key:"componentDidUpdate",value:function(e,t){var n,r,a,o,i;((null!==(n=null===(r=this.props.tempIds)||void 0===r?void 0:r[e.item.id])&&void 0!==n?n:e.item.id)!==(null!==(a=null===(o=this.props.tempIds)||void 0===o?void 0:o[this.props.item.id])&&void 0!==a?a:this.props.item.id)&&(this.editorValue&&(this.handleEditorSubmit(this.editorValue),this.editorValue=null),this.setState({isEditing:!1})),t.isEditing&&!this.state.isEditing)&&(null===(i=this.editButtonRef.current)||void 0===i||i.focus())}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.state,t=e.overviewHeight,n=e.isEditing,r=e.showCompleted,a=e.tab,o=this.props,i=o.activeTab,c=o.assignedUser,s=o.creator,u=o.labels,d=o.item,m=o.itemKey,p=o.subItems,h=o.parentItem,v=o.project,b=o.collaboratorsByPID,g=o.user,_=o.isProjectShared,y=o.notesCount,O=o.hasMoreNotes,j=o.itemsCount,w=o.onItemComplete,E=o.onItemUncomplete,D=o.onItemUpdate,C=o.onItemMove,S=o.onArchive,I=o.onDelete,T=o.onLinkCopy,A=o.onDismiss,x=o.reminders,P=o.onEmailComments,R=o.canUseLabels;return l.a.createElement(Re.a.Box,{isOpen:!0,onDismiss:A,closeOnOverlayClick:!0,overlayProps:{className:"detail_modal_overlay"},focusLockWhiteList:this.focusLockWhiteList,className:"detail_modal",height:"expand"},l.a.createElement(Re.a.Body,null,l.a.createElement(Ho,{handleGoToSubtasksTab:this.handleGoToSubtasksTab,handleGoToCommentsTab:this.handleGoToCommentsTab,handleGoToActivityTab:this.handleGoToActivityTab}),l.a.createElement("div",{className:"item_detail",ref:this.detailRef,tabIndex:"-1","data-item-detail-root":"","data-item-content":d.content,"data-item-project-id":v.id,"data-item-project-name":v.name},l.a.createElement(f.a,{onErrorCaught:A},l.a.createElement(zo,{parentItem:h,project:v,isProjectShared:_,onClose:A}),l.a.createElement(f.a,{showErrorMsg:!0},n?l.a.createElement("div",{className:"item_detail_editor",style:{minHeight:t}},l.a.createElement(hd,{when:n}),l.a.createElement(sr.a,{item:d,reminders:x,user:g,canUseLabels:R,withQuickNote:!1,withDescriptionInputFocused:this.state.withDescriptionInputFocused,onChange:this.handleEditorChange,onSubmit:this.handleEditorSubmit,onCancel:this.handleEditorCancel})):l.a.createElement(wa,{assignedUser:c,labels:u,reminders:x,item:d,projectCollaborators:b[d.project_id],user:g,projectName:v.name,isProjectShared:_,isProjectArchived:!!v.is_archived,canUseLabels:R,editButtonRef:this.editButtonRef,onContentClick:this.handleContentClick,onDescriptionClick:this.handleDescriptionClick,onSizeChange:this.handleOverviewSizeChange,onItemComplete:w,onItemUncomplete:E,onItemUpdate:D,onItemMove:C,onArchive:S,onDelete:I,onLinkCopy:T,onEmailComments:P,showCompleted:r,onCompletedShow:this.handleCompletedShow,onCompletedHide:this.handleCompletedHide})),l.a.createElement(re.b,{key:m,onChange:this.handleTabChange,activeTab:a||i,className:J()("task_detail_tabs","focus-marker-enabled-within")},d.indent>=5?null:l.a.createElement(re.a,{value:"subtasks",title:l.a.createElement(Mo,{label:Object(Q.a)("Sub-tasks"),count:j}),className:"sub_items_tab_container"},l.a.createElement(f.a,{showErrorMsg:!0},l.a.createElement(ia,null,l.a.createElement(fa,{item:d,items:p,project:v,showCompleted:r,isActive:"subtasks"===this.getCurrentlyActiveTab()})))),l.a.createElement(re.a,{prerender:!1,className:"notes_tab_container",value:"comments",title:l.a.createElement(Mo,{label:Object(Q.a)("Comments"),count:y,hasMore:O})},l.a.createElement(f.a,{showErrorMsg:!0},l.a.createElement(ot,{item:d,type:k.c,projectId:v.id,parentId:d.id}))),l.a.createElement(re.a,{value:"activity",title:Object(Q.a)("Activity"),className:"activity_tab_container"},l.a.createElement(f.a,{showErrorMsg:!0},l.a.createElement(No,{item:d,creator:s,filters:{parent_item_id:d.id,include_parent_object:!0}}))))))))}}]),n}(l.a.Component);G()(Uo,"propTypes",{activeTab:y.a.oneOf(["subtasks","comments","activity"]),assignedUser:y.a.object,creator:y.a.object,labels:y.a.object.isRequired,reminders:y.a.array,item:y.a.object.isRequired,itemKey:y.a.string.isRequired,subItems:y.a.array.isRequired,parentItem:y.a.object,project:y.a.object.isRequired,collaboratorsByPID:y.a.object,user:y.a.object.isRequired,isProjectShared:y.a.bool.isRequired,notesCount:y.a.number.isRequired,hasMoreNotes:y.a.bool.isRequired,itemsCount:y.a.number.isRequired,tempIds:y.a.object,canUseLabels:y.a.bool.isRequired,onDismiss:y.a.func.isRequired,onItemComplete:y.a.func.isRequired,onItemUncomplete:y.a.func.isRequired,onItemUpdate:y.a.func.isRequired,onItemMove:y.a.func.isRequired,onArchive:y.a.func.isRequired,onDelete:y.a.func.isRequired,onLinkCopy:y.a.func.isRequired,onEmailComments:y.a.func.isRequired});var qo=Object(d.c)((function(e,t){var n=t.item,r=e.user,a=e.notes,o=e.moreNotes,i=Object(D.i)(e),c=n.responsible_uid,l=Object(S.a)(n.id)?n.id:Object(C.b)(n.id,e)||n.id.toString();return{assignedUser:c===r.id?r:i[c],collaboratorsByPID:Object(D.h)(e),labels:Object(E.f)(e),reminders:Object(w.b)(n.id,e),user:r,notesCount:Object(k.n)({notes:a},n.id).length,hasMoreNotes:Object(k.g)({moreNotes:o},n.id),canUseLabels:Object(T.o)(e),itemKey:l}}),(function(e){return{onItemComplete:function(t,n){e(Object(O.p)(t.id,n)),Signals.sendSignal("refresh_interface")},onItemUpdate:function(t){t.reminders&&e(Object(w.h)(t.id,t.reminders)),e(Object(O.M)(t)),Signals.sendSignal("refresh_interface")},onItemMove:function(t){e(Object(j.x)(t)),Signals.sendSignal("refresh_interface")},onItemUncomplete:function(t){e(Object(O.L)(t.id,[t])),Signals.sendSignal("refresh_interface")},onArchive:function(t){return e(Object(O.p)(t,{completeRecurring:!0}))},onDelete:function(t){return e(Object(O.s)(t))},onLinkCopy:function(e,t){return Object(I.a)({id:e,sync_id:t})},onEmailComments:function(e){return x.a.showItemEmail(e)}}}))(Uo),Go=n("bKtp");function Wo(e){var t=e.user,n=e.taskId,r=e.syncId;return Object(Go.a)("/get_item",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t.token,item_id:n,sync_id:r,all_data:!0})})}var Ko={onNotesLoaded:function(e){return function(t){return t({type:k.b,payload:e})}},onFetchArchivedProject:function(e){return function(t){return t(Object(rt.j)(e))}}};function Yo(e){var t,n=e.storedTask,r=e.storedParentTask,o=e.storedProject,s=e.storedSubTasks,u=e.user,f=e.isSharedProject,m=e.allCollaborators,p=e.onNotesLoaded,h=e.onFetchArchivedProject,v=e.taskId,g=e.syncId,y=i()(e,["storedTask","storedParentTask","storedProject","storedSubTasks","user","isSharedProject","allCollaborators","onNotesLoaded","onFetchArchivedProject","taskId","syncId"]),j=Object(c.useState)(),w=b()(j,2),E=w[0],k=w[1],D=Object(c.useState)(),C=b()(D,2),S=C[0],I=C[1],T=Object(c.useState)(),A=b()(T,2),x=A[0],P=A[1],R=Object(c.useState)(),N=b()(R,2),L=N[0],M=N[1],F=Object(c.useState)(null),z=b()(F,2),B=z[0],V=z[1],$=null!=n?n:E,H=null!=o?o:x,U=null!==(t=null!=s?s:S)&&void 0!==t?t:[],q=null!=r?r:L;Object(c.useEffect)((function(){null==$&&Wo({user:u,taskId:v,syncId:g}).then((function(e){var t=e.item,n=e.notes;k(Object(O.m)(t)),p(n)})).catch((function(e){var t;400===(null==e||null===(t=e.response)||void 0===t?void 0:t.status)&&Ya.default.captureError(e,{tags:{where:"_openTaskDetail"}}),V(!0)}))}),[$,v,g,u,p]),Object(c.useEffect)((function(){V(null),k(null),I(null),P(null),M(null)}),[v,g]);var G=Object(d.h)((function(e){var t,r,a=E||n;return(null==a?void 0:a.checked)&&(null===(t=e.completedItems)||void 0===t||null===(r=t.items[a.id])||void 0===r?void 0:r.completedItems)?e.completedItems.items[a.id].completedItems.length:0}));Object(c.useEffect)((function(){null==q&&null!=(null==$?void 0:$.parent_id)&&Wo({user:u,id:$.parent_id}).then((function(e){var t=e.item;M(t)})).catch((function(){}))}),[$,q,u]),Object(c.useEffect)((function(){null==H&&null!=(null==$?void 0:$.project_id)&&h($.project_id).then((function(e){P(e.project),I(e.items.filter((function(e){return e.parent_id===$.id})).map(O.m))}))}),[$,H,h]);var W=Object(Gt.h)(),K=Object(c.useCallback)((function(){V(null),W({view:"current"})}),[W]),Y=null!=Object(Gt.g)();if(l.a.useEffect((function(){Y||null==$||W({view:{type:"project",projectId:$.project_id},task:{id:$.id},replace:!0})}),[$,Y,W]),B)return l.a.createElement(Re.a.Box,{size:"small",onDismiss:K,isOpen:!0,closeOnOverlayClick:!0},l.a.createElement(Re.a.Body,null,_("This task couldn\u2019t be found. It may have been moved or deleted.")),l.a.createElement(Re.a.Actions,null,l.a.createElement(le.a,{className:"ist_button",onClick:K},_("OK"))));if(!$||!H)return null;var J=!H.is_archived&&f($.project_id),Q=J?m[$.added_by_uid]:null,Z=!$||$.in_history||$.checked?0:U.filter((function(e){return!e.in_history&&!e.checked})).length;return l.a.createElement(qo,a()({},y,{item:$,parentItem:q,subItems:U,project:H,isProjectShared:J,creator:Q,itemsCount:Z||G,onDismiss:function(){return W({view:"current"})}}))}Yo.propTypes={storedTask:y.a.shape({id:y.a.oneOfType([y.a.number,y.a.string]),parent_id:y.a.number,project_id:y.a.number}),storedParentTask:y.a.object,storedProject:y.a.object,storedSubTasks:y.a.array,user:y.a.object,isSharedProject:y.a.func,allCollaborators:y.a.object,onNotesLoaded:y.a.func,onFetchArchivedProject:y.a.func,taskId:y.a.oneOfType([y.a.number,y.a.string]),syncId:y.a.number};var Jo=Object(d.c)((function(e,t){var n,r=t.taskId,a=e.items,o=e.projects,i=e.user,c=e.archived.items,l=null!==(n=a[r])&&void 0!==n?n:c[r];return{storedTask:l,storedParentTask:l?a[l.parent_id]:void 0,storedProject:l?o[l.project_id]:void 0,storedSubTasks:l?Object(O.z)(l.id,{items:a}):void 0,user:i,isSharedProject:Object(D.n)(e),allCollaborators:Object(D.i)(e),tempIds:e.tempIds}}),Ko)(Yo);function Qo(){var e=Object(Gt.i)("taskId").id,t=parseInt(Object(s.k)().syncId)||void 0;return c.createElement(Jo,{taskId:e,syncId:t})}function Zo(){var e=function(){var e=Object(Gt.i)("taskId"),t=e.id,n=e.realId,r=e.tempId,a=Object(p.a)(t),o=Object(Gt.h)();return Object(h.a)((function(){t===n&&a===r&&o({task:{id:t},replace:!0})}),[t,a,n,r,o]),{taskId:t,stableId:null!=r?r:t}}().taskId,t=Object(s.k)().tab,n="comments"===t||"activity"===t?t:"subtasks";return function(e,t){var n=Object(d.g)();c.useEffect((function(){var r=setTimeout((function(){n(Object(m.d)(e,{activeTab:t}))}),0);return function(){return clearTimeout(r)}}),[n,e,t]),c.useEffect((function(){return function(){n(Object(m.c)())}}),[n])}(e,n),c.createElement(f.a,{showErrorMsg:!0},c.createElement(Jo,{taskId:e,activeTab:n}))}var Xo=n("mxou"),ei=n("SoKn"),ti=n("peh1"),ni=Object(ti.createSelector)((function(e){return e.items}),(function(e){return e.tempIds}),(function(e){return Object(E.f)(e)}),(function(e){return e.notes}),(function(e){return e.projects}),(function(e){return e.reminders}),(function(e){return e.sections}),(function(e){return e.user}),(function(e){return e.moreNotes}),(function(e){return e.collaborators}),(function(e){return Object(m.e)(e)}),(function(e){return Object(ta.c)(e)}),(function(e){return Object(ta.b)(e)}),(function(e){return Object(T.o)(e)}),(function(e){return Object(T.d)(e)}),(function(e,t,n,r,a,o,i,c,l,s,u,d,f,m,p){return{items:e,tempIds:t,labels:n,notes:r,projects:a,reminders:o,sections:i,user:c,moreNotes:l,collaborators:s,isDetailViewShowing:u,allowWebsiteAdd:d,allowEmailAdd:f,canUseLabels:m,canAddComments:p}}));function ri(){return Object(d.h)(ni)}var ai=c.forwardRef((function(e,t){var n=e.date,r=e.rootItems,a=e.withHeader,o=void 0===a||a,l=(e.allowAddShortcuts,e.showDragHandle),s=e.viewOptions,u=i()(e,["date","rootItems","withHeader","allowAddShortcuts","showDragHandle","viewOptions"]),d=c.useMemo((function(){return{due:n instanceof Date?Ka.a.fromDate(n):n}}),[n]);return c.createElement(fo,{ref:t,header:o?n instanceof Ka.a?n.toDate():n:void 0},c.createElement(sa,{type:"day","data-day-list-id":u["data-day-list-id"],tasks:r,defaultAddFields:d,viewOptions:s,showTaskDue:!1,showDragHandle:l,showProject:!0}))}));ai.propTypes={date:y.a.oneOfType([y.a.instanceOf(Date),y.a.instanceOf(Ka.a)]),rootItems:y.a.array,withHeader:y.a.bool,allowAddShortcuts:y.a.bool,showDragHandle:y.a.bool,onEditorToggle:y.a.func,viewOptions:y.a.object};var oi=ai,ii=n("Z0cm"),ci=n.n(ii);n("3eY4");function li(e){var t=e.items,n=Object(d.g)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(rn.a,{selectedItems:t,onDateSelect:function(e){var r=t.reduce((function(t,n,r){return t[n.id]=ci()(e)?e[r]:e,t}),{});n(Object(O.P)(r))},referenceElement:function(e){var t=e.ref,n=e.isExpanded,r=e.onClick;return l.a.createElement(le.a,{ref:t,"aria-expanded":n,className:"reschedule_menu__button",onClick:r},_("Reschedule"))}}))}li.propTypes={items:y.a.array};var si=li,ui=l.a.forwardRef((function(e,t){var n=e.rootItems,r=e.showDragHandle,a=e.isListItem,o=e.showProject,c=void 0===o||o,s=e.showSectionOnly,u=void 0!==s&&s,d=e.viewOptions,f=i()(e,["rootItems","showDragHandle","isListItem","showProject","showSectionOnly","viewOptions"]);return l.a.createElement(fo,{ref:t,header:_("Overdue"),actions:l.a.createElement(si,{items:n}),isListItem:a},l.a.createElement(sa,{type:"overdue",tasks:n,"data-day-list-id":f["data-day-list-id"],viewOptions:d,allowAdd:!1,showDragHandle:r,showProject:c,showSectionOnly:u}))}));ui.propTypes={rootItems:y.a.array,showDragHandle:y.a.bool,isListItem:y.a.bool,showProject:y.a.bool,showSectionOnly:y.a.bool,viewOptions:y.a.object};var di=ui,fi=n("OH70"),mi=n("xgwk"),pi=n("EH7W");var hi=function(){return l.a.createElement(fi.a,null,l.a.createElement(mi.a,{path:"search_results.svg"}),l.a.createElement(pi.a,null,Object(Q.a)("No tasks match the current sorting options.")))},vi=n("j3q4");function bi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.within,a=void 0===r?0:r,o=t.getBoundingClientRect(),i=o.top,c=o.right,l=o.bottom,s=o.left,u=e.clientX,d=e.clientY;return u>=s-a&&u<=c+a&&d<=l+a&&d>=i-a}var gi=n("dRu9"),_i=n("h8yO"),yi=n("sR72"),Oi=l.a.forwardRef((function(e,t){var n=e.due,r=i()(e,["due"]);return l.a.createElement(gi.a,{in:!0,appear:!0,timeout:225},(function(e){return l.a.createElement("div",a()({className:J()("postpone_droparea",e),ref:t},r),l.a.createElement(yi.a,{size:"large"}),l.a.createElement("span",null,l.a.createElement(_i.a,{text:_("Drop to postpone: {new_due_date}"),keyval:{new_due_date:l.a.createElement("b",null,n.relativeFormat())}})))}))}));Oi.propTypes={due:y.a.shape({relativeFormat:y.a.func})};var ji=Oi;function wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scrollSelector,n=e.scrollOffset,r=Object(c.useState)(null),a=b()(r,2),o=a[0],i=a[1],s=Object(d.g)(),u=Object(d.h)((function(e){return e.items})),f=Object(c.useRef)(),m=Object(c.useRef)(),p=Object(c.useRef)();if(jt({itemSelector:"#content [data-item-id]",handleSelector:".item_dnd_handle",scrollSelector:t,scrollOffset:n,onDragStart:Object(c.useCallback)((function(e,t){f.current=mt({item:e,dragItem:t,listIdAttr:"data-day-list-id",itemIdAttr:"data-item-id",maxIndent:1});var n=Object(it.a)(e.getAttribute("data-item-id")),r=e.closest("[data-day-list-id]").getAttribute("data-day-list-id"),a=f.current.handleDragStart();i({listId:r,itemId:n,placeholder:a})}),[]),onDragging:Object(c.useCallback)((function(e){m.current&&(p.current=bi(e,m.current,{within:20}),p.current?m.current.classList.add("drop_background"):m.current.classList.remove("drop_background")),f.current.handleDragging()}),[]),onDragEnd:Object(c.useCallback)((function(){var e=f.current.handleDragEnd(),t=e.dragItemId,n=e.orders,r=e.dropListId;if(t=Object(it.a)(t),p.current){var a=u[t].due.postpone();return s(Object(O.P)(G()({},t,a))),void i(null)}if("overdue"!==r){var o=Object(vi.a)(r),c=n.reduce((function(e,t){var n=t.id,r=t.item_order;return e[Object(it.a)(n)]=r,e}),{});s(Object(O.I)(t,o)),s(Object(O.N)(c)),i(null)}else i(null)}),[s,u])}),o){var h=u[o.itemId],v=h.due.postpone();if(v)return[o,l.a.createElement(ji,{ref:m,key:"postpone",due:v})]}return[null,null]}var Ei=n("vzEX"),ki=n("/uLG"),Di=n("HF2Q"),Ci=n.n(Di);function Si(e){var t=e.type,n=e.labels,r=e.isSelected;return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:Ci.a.checkmarkDropdownSelectType},n[t]),r?l.a.createElement(de.t,{className:Ci.a.checkmarkDropdownSelectCheckmark}):null)}var Ii=function(e){var t=e.children,n=e.value,r=e.labels,o=e.options,c=e.onChange,s=e.className,u=e.width,d=void 0===u?"toggle":u,f=i()(e,["children","value","labels","options","onChange","className","width"]);return l.a.createElement(Ea.g,{value:n,onChange:c},l.a.createElement(Ea.h,a()({},f,{className:J()(Ci.a.checkmarkDropdownSelectToggle,s)}),"function"==typeof t?t({label:r[n]}):t),l.a.createElement(Ea.e,{className:Ci.a.checkmarkDropdownSelect,width:d},l.a.createElement(Ea.d,null,o.map((function(e){return l.a.createElement(Ea.b,{key:e,value:e},(function(t){var n=t.isSelected;return l.a.createElement(Si,{type:e,labels:r,isSelected:n})}))})))))};function Ti(e){var t=e.label;return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"edit_view_options__field"},t),l.a.createElement(de.u,null))}n("p48q");function Ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ai(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pi=Object(d.c)((function(e,t){var n=t.viewInfo;return{viewOptions:Object(ei.a)(e,n),user:e.user,collaborators:Object(D.i)(e)}}),(function(e,t){var n=t.viewInfo;return{onSubmit:function(t){var r=t.sortBy,a=t.sortOrder,o=t.groupBy,i=t.filterBy;return r||o||i?r&&a?void e(Object(ki.c)(n,{sortedBy:r,sortOrder:a,groupedBy:o,filteredBy:i})):e(Object(ki.c)(n,{sortedBy:Yr.s,sortOrder:null,groupedBy:o,filteredBy:i})):e(Object(ki.a)(n))}}}))((function(e){var t,n,r,o,i=e.isOpen,s=void 0===i||i,u=e.viewInfo,d=e.viewOptions,f=e.collaboratorIds,m=e.collaborators,p=e.user,h=e.onSubmit,v=e.onClose,g=Object(c.useMemo)((function(){return(null==f?void 0:f.length)?f.map((function(e){return m[e]})):null}),[m,f]),_=Object(c.useState)((function(){if(!d)return{sortBy:"default",sortOrder:null,groupBy:"default",assignedTo:"default",selectedAssigneesIds:null};var e=Object(Ei.g)(d.filtered_by,m),t=d.sorted_by!==Yr.s?d.sorted_by:"default",n=d.sort_order,r=d.grouped_by!==Yr.f?d.grouped_by:"default";return e.type===Ei.d||e.ids?{sortBy:t,sortOrder:n,groupBy:r,assignedTo:Ei.d,selectedAssigneesIds:e.ids||[]}:e.type?{sortBy:t,sortOrder:n,groupBy:r,assignedTo:e.type===Ei.e?"default":e.type,selectedAssigneesIds:null}:{sortBy:t,sortOrder:n,groupBy:r,assignedTo:"default",selectedAssigneesIds:null}})),y=b()(_,2),O=y[0],j=y[1],w=Object(c.useMemo)((function(){var e=["default",Yr.u,Yr.t,Yr.q,Yr.v];return g&&(e=[].concat(lt()(e.slice(0,2)),[Yr.r],lt()(e.slice(2)))),"project"!==u.view&&(e=[].concat(lt()(e),[Yr.w])),e}),[g,u.view]),E=Object(c.useMemo)((function(){var e=["default",Yr.g,Yr.d,Yr.i,Yr.h];return g&&(e=[].concat(lt()(e.slice(0,2)),[Yr.e],lt()(e.slice(2)))),"project"!==u.view&&(e=[].concat(lt()(e),[Yr.j])),e}),[g,u.view]),k=Object(c.useMemo)((function(){if(!O.selectedAssigneesIds)return Object(Q.a)("Choose assignees");switch(O.selectedAssigneesIds.length){case 0:return Object(Q.a)("Choose assignees");case 1:return O.selectedAssigneesIds[0]===p.id?"".concat(Object(Q.d)("task_assignment","Me")," (").concat(Object(Ra.a)(p.full_name),")"):Object(Ra.a)(m[O.selectedAssigneesIds[0]].full_name);case 2:return l.a.createElement(_i.a,{text:Object(Q.a)("{user_name_1} and {user_name_2}"),keyval:{user_name_1:O.selectedAssigneesIds[0]===p.id?"".concat(Object(Q.d)("task_assignment","Me")," (").concat(Object(Ra.a)(p.full_name),")"):Object(Ra.a)(m[O.selectedAssigneesIds[0]].full_name),user_name_2:Object(Ra.a)(m[O.selectedAssigneesIds[1]].full_name)}});default:return l.a.createElement(_i.a,{text:Object(Q.b)("{user_name_1}, {user_name_2} +{remaining_users_count} more","{user_name_1}, {user_name_2} +{remaining_users_count} more",O.selectedAssigneesIds.length-2),keyval:{user_name_1:O.selectedAssigneesIds[0]===p.id?"".concat(Object(Q.d)("task_assignment","Me")," (").concat(Object(Ra.a)(p.full_name),")"):Object(Ra.a)(m[O.selectedAssigneesIds[0]].full_name),user_name_2:Object(Ra.a)(m[O.selectedAssigneesIds[1]].full_name),remaining_users_count:O.selectedAssigneesIds.length-2}})}}),[m,O.selectedAssigneesIds,p.full_name,p.id]),D=Object(c.useMemo)((function(){var e=["default",Ei.b,Ei.c];return"today"!==u.view&&(e=[].concat(lt()(e),[Ei.d])),e}),[u.view]);return l.a.createElement(Re.a.Box,{isOpen:s,onDismiss:v,size:"small"},l.a.createElement(Re.a.Header,{title:Object(Q.a)("Custom sort"),button:!1}),l.a.createElement(Re.a.Body,{className:"edit_view_options"},l.a.createElement("div",{className:"form_field"},l.a.createElement("label",{id:"edit_view_options__group_by__label"},Object(Q.a)("Group by")),l.a.createElement(Ii,{"aria-labelledby":"edit_view_options__group_by__label",className:"form_field_control",labels:(t={default:Object(Q.a)("Default")},G()(t,Yr.e,Object(Q.a)("Assignee")),G()(t,Yr.g,Object(Q.a)("Due date")),G()(t,Yr.d,Object(Q.a)("Date added")),G()(t,Yr.i,Object(Q.a)("Priority")),G()(t,Yr.h,Object(Q.a)("Label")),G()(t,Yr.j,Object(Q.a)("Project")),t),options:E,value:O.groupBy,onChange:function(e){j(xi(xi({},O),{},{groupBy:e.target.value}))}},(function(e){var t=e.label;return l.a.createElement(Ti,{label:t})}))),l.a.createElement("div",{className:"form_field"},l.a.createElement("label",{id:"edit_view_options__sort_by__label"},Object(Q.a)("Sort by")),l.a.createElement(Ii,{"aria-labelledby":"edit_view_options__sort_by__label",className:"form_field_control",labels:(n={default:Object(Q.a)("Default")},G()(n,Yr.u,Object(Q.a)("Name")),G()(n,Yr.r,Object(Q.a)("Assignee")),G()(n,Yr.t,Object(Q.a)("Due date")),G()(n,Yr.q,Object(Q.a)("Date added")),G()(n,Yr.v,Object(Q.a)("Priority")),G()(n,Yr.w,Object(Q.a)("Project")),n),options:w,value:O.sortBy,onChange:function(e){var t,n=e.target.value;t=O.sortBy===n?O.sortOrder:"default"===n?null:Yr.x,j(xi(xi({},O),{},{sortBy:n,sortOrder:t}))}},(function(e){var t=e.label;return l.a.createElement(Ti,{label:t})}))),O.sortOrder?l.a.createElement("div",{className:"form_field"},l.a.createElement("label",{id:"edit_view_options__sort_order__label"},Object(Q.a)("Order")),l.a.createElement(Ii,{"aria-labelledby":"edit_view_options__sort_order__label",className:"form_field_control",labels:(r={},G()(r,Yr.x,Object(Q.a)("Ascending")),G()(r,Yr.y,Object(Q.a)("Descending")),r),options:[Yr.x,Yr.y],value:O.sortOrder,onChange:function(e){j(xi(xi({},O),{},{sortOrder:e.target.value}))}},(function(e){var t=e.label;return l.a.createElement(Ti,{label:t})}))):null,g?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:J()("form_field edit_view_options__assigned_to",{"edit_view_options__assigned_to--selected":O.assignedTo===Ei.d})},l.a.createElement("label",{id:"edit_view_options__assigned_to__label"},Object(Q.a)("Assigned to")),l.a.createElement(Ii,{"aria-labelledby":"edit_view_options__assigned_to__label",className:"form_field_control",labels:(o={default:Object(Q.a)("Anyone")},G()(o,Ei.b,Object(Q.a)("No one")),G()(o,Ei.c,Object(Q.a)("Only me")),G()(o,Ei.d,Object(Q.a)("Selected assignees\u2026")),o),options:D,value:O.assignedTo,onChange:function(e){var t=e.target.value;if(t===Ei.d)return j(xi(xi({},O),{},{assignedTo:Ei.d,selectedAssigneesIds:[]}));j(xi(xi({},O),{},{assignedTo:t,selectedAssigneesIds:null}))}},(function(e){var t=e.label;return l.a.createElement(Ti,{label:t})}))),O.assignedTo===Ei.d?l.a.createElement("div",{className:"form_field"},l.a.createElement(He.a,{className:"form_field_control",showUnassignedOption:!1,value:O.selectedAssigneesIds,currentUser:p,users:g,onChange:function(e){var t,n="string"==typeof e.target.value||"number"==typeof e.target.value?[e.target.value]:null!==(t=e.target.value)&&void 0!==t?t:[];j(xi(xi({},O),{},{assignedTo:Ei.d,selectedAssigneesIds:n}))},width:"toggle",hasCurrentUserByDefault:!1,multiple:!0,projectId:void 0,tooltip:void 0,searchPlaceholder:void 0,unassignedOptionLabel:void 0},(function(e){var t=e.buttonProps;return l.a.createElement(le.a,a()({},t,{"aria-label":Object(Q.a)("Choose assignees")}),l.a.createElement(Ti,{label:k}))}))):null):null),l.a.createElement(Re.a.Actions,null,l.a.createElement(le.a,{className:"ist_button",onClick:v},Object(Q.a)("Cancel")),l.a.createElement(le.a,{type:"submit",className:"ist_button ist_button_red",disabled:O.assignedTo===Ei.d&&0===O.selectedAssigneesIds.length,onClick:function(){v();var e="default"===O.sortBy?Yr.s:O.sortBy,t="default"===O.groupBy?Yr.f:O.groupBy,n=Object(Ei.f)("default"===O.assignedTo?Ei.a:O.assignedTo,O.selectedAssigneesIds,m);if(function(e){var t=e.sortBy,n=e.sortOrder,r=e.groupBy,a=e.filterBy,o=e.viewOptions;if(o){if(t===Yr.s&&r===Yr.f&&a===Ei.a&&(t!==o.sorted_by||r!==o.grouped_by||a!==o.filtered_by))return Object(Mn.a)("sort_options","defaulted");t!==Yr.s&&o.sort_order!==n&&Object(Mn.a)("sort_options","sort_reversed")}if(t!==(null==o?void 0:o.sorted_by))switch(t){case Yr.s:Object(Mn.a)("sort_options","sorted","default");break;case Yr.u:Object(Mn.a)("sort_options","sorted","alphabetically");break;case Yr.t:Object(Mn.a)("sort_options","sorted","due_date");break;case Yr.q:Object(Mn.a)("sort_options","sorted","added_date");break;case Yr.v:Object(Mn.a)("sort_options","sorted","priority");break;case Yr.w:Object(Mn.a)("sort_options","sorted","project");break;case Yr.r:Object(Mn.a)("sort_options","sorted","assignee")}if(r!==(null==o?void 0:o.grouped_by))switch(r){case Yr.f:Object(Mn.a)("sort_options","grouped","default");break;case Yr.e:Object(Mn.a)("sort_options","grouped","assignee");break;case Yr.g:Object(Mn.a)("sort_options","grouped","due_date");break;case Yr.d:Object(Mn.a)("sort_options","grouped","added_date");break;case Yr.i:Object(Mn.a)("sort_options","grouped","priority");break;case Yr.j:Object(Mn.a)("sort_options","grouped","project");break;case Yr.h:Object(Mn.a)("sort_options","grouped","label")}if(a!==(null==o?void 0:o.filtered_by))switch(a){case Ei.a:Object(Mn.a)("sort_options","filtered","all");break;case Ei.b:Object(Mn.a)("sort_options","filtered","unassigned");break;case Ei.c:Object(Mn.a)("sort_options","filtered","assigned_to_me");break;default:Object(Mn.a)("sort_options","filtered","assigned_to_selected")}}({sortBy:e,groupBy:t,filterBy:n,viewOptions:d,sortOrder:O.sortOrder}),"default"===O.sortBy||!O.sortOrder)return h({sortBy:Yr.s,sortOrder:null,groupBy:t,filterBy:n});h({sortBy:O.sortBy,sortOrder:O.sortOrder,groupBy:t,filterBy:n})}},Object(Q.a)("Sort"))))}));n("563Y");var Ri=Object(d.c)((function(e,t){var n=t.viewInfo;return{viewOptions:Object(ei.a)(e,n)}}),(function(e,t){var n=t.viewInfo;return{onSortOrderChange:function(t,r){if(t&&r&&t.sorted_by)return e(Object(ki.c)(n,{sortedBy:t.sorted_by,sortOrder:r}))},onFilteredByClear:function(t){if(t)return t.grouped_by===Yr.f&&t.sorted_by===Yr.s?e(Object(ki.a)(n)):e(Object(ki.c)(n,{filteredBy:null}))},onClearViewOptions:function(){e(Object(ki.a)(n))}}}),(function(e,t,n){var r=e.viewOptions;return{className:n.className,collaboratorIds:n.collaboratorIds,viewInfo:n.viewInfo,viewOptions:r,onFilteredByClear:function(){return t.onFilteredByClear(r)},onSortOrderChange:function(e){return t.onSortOrderChange(r,e)},onClearViewOptions:function(){return r&&t.onClearViewOptions()}}}))((function(e){var t,n=e.className,r=e.collaboratorIds,a=e.viewInfo,o=e.viewOptions,i=e.onFilteredByClear,s=e.onSortOrderChange,u=e.onClearViewOptions,d=Object(c.useState)(!1),f=b()(d,2),m=f[0],p=f[1],h=Object(Ct.e)(o);if(Object(c.useLayoutEffect)((function(){var e,t;(!h&&o||o&&!Gr(h,o))&&(e=0,(t=Object(st.a)())&&(t.scrollTop=e))}),[h,o]),Object(c.useEffect)((function(){(null==o?void 0:o.filtered_by)===Ei.e&&i()}),[i,o]),!o)return null;if(o.filtered_by||o.grouped_by)t=Object(Q.a)("Custom sorting");else switch(o.sorted_by){case Yr.r:t=Object(Q.a)("Sorted by assignee");break;case Yr.v:t=Object(Q.a)("Sorted by priority");break;case Yr.u:t=Object(Q.a)("Sorted alphabetically");break;case Yr.t:t=Object(Q.a)("Sorted by due date");break;case Yr.q:t=Object(Q.a)("Sorted by date added");break;case Yr.w:t=Object(Q.a)("Sorted by project");break;default:t=Object(Q.a)("Custom sorting")}var v=o.sort_order===Yr.x;return l.a.createElement("div",{className:J()("view_options_status",n)},l.a.createElement("div",{className:"view_options_status__inner"},o.sorted_by!==Yr.s?l.a.createElement(le.a,{"aria-label":Object(Q.a)("Reverse order"),title:Object(Q.a)("Reverse order"),onClick:function(){Object(Mn.a)("sort_options","sort_reversed"),s(v?Yr.y:Yr.x)}},v?l.a.createElement(de.Zb,null):l.a.createElement(de.ac,null)):null,l.a.createElement(le.a,{className:"view_options_status__label","aria-label":Object(Q.a)("Change sorting options"),title:Object(Q.a)("Change sorting options"),onClick:function(){Object(Mn.a)("items","click","sort_options"),p(!0)}},l.a.createElement("span",null,t)),l.a.createElement(le.a,{"aria-label":Object(Q.a)("Reset sorting options"),title:Object(Q.a)("Reset sorting options"),onClick:function(){Object(Mn.a)("sort_options","cleared"),u()}},l.a.createElement(de.A,null))),m?l.a.createElement(Pi,{viewInfo:a,collaboratorIds:r,onClose:function(){return p(!1)}}):null)}));function Ni(e){return{key:"overdue",header:Object(Q.a)("Overdue"),tasks:e,taskListType:"overdue",disableAdd:!0}}function Li(e,t,n){var r=n?n.toDate():Object(vi.a)(e);return{key:e,header:r,tasks:t,taskListType:"day",defaultFields:{due:n||Ka.a.fromDate(r)}}}n("R395");function Mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mi(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zi=Object(d.c)((function(e,t){var n=t.viewInfo;return{viewOptions:Object(ei.a)(e,n)}}),(function(e,t){var n=t.viewInfo;return{onSortByPriority:function(t){if((null==t?void 0:t.sorted_by)===Yr.v)return e(Object(ki.a)(n));e(Object(ki.c)(n,{sortedBy:Yr.v,sortOrder:Yr.y,groupedBy:Yr.f,filteredBy:null}))},onSortByDate:function(t){if((null==t?void 0:t.sorted_by)===Yr.t)return e(Object(ki.a)(n));e(Object(ki.c)(n,{sortedBy:Yr.t,sortOrder:Yr.x,groupedBy:Yr.f,filteredBy:null}))},onSortByName:function(t){if((null==t?void 0:t.sorted_by)===Yr.u)return e(Object(ki.a)(n));e(Object(ki.c)(n,{sortedBy:Yr.u,sortOrder:Yr.x,groupedBy:Yr.f,filteredBy:null}))},onSortByAssignee:function(t){if((null==t?void 0:t.sorted_by)===Yr.r)return e(Object(ki.a)(n));e(Object(ki.c)(n,{sortedBy:Yr.r,sortOrder:Yr.x,groupedBy:Yr.f,filteredBy:null}))}}}),(function(e,t,n){var r=e.viewOptions,a=n.collaboratorIds,o=n.viewInfo,i=n.isMiniMode,c={onSortByPriority:function(){return t.onSortByPriority(r)},onSortByDate:function(){return t.onSortByDate(r)},onSortByName:function(){return t.onSortByName(r)}};return(null==a?void 0:a.length)&&(c=Fi(Fi({},c),{},{onSortByAssignee:function(){return t.onSortByAssignee(r)}})),Fi({viewInfo:o,viewOptions:r,collaboratorIds:a,isMiniMode:i},c)}))((function(e){var t=e.collaboratorIds,n=e.viewInfo,r=e.viewOptions,o=e.isMiniMode,i=void 0!==o&&o,s=e.onSortByPriority,u=e.onSortByDate,d=e.onSortByName,f=e.onSortByAssignee,m=Object(Jt.d)(),p=Object(c.useState)(!1),h=b()(p,2),v=h[0],g=h[1],_=r&&!r.filtered_by&&!r.grouped_by&&r.sorted_by;return l.a.createElement(l.a.Fragment,null,l.a.createElement(le.a,a()({onClick:m.openOnClick,"aria-label":Object(Q.d)("a11y","Sort options menu")},i&&{title:Object(Q.a)("Sort")}),l.a.createElement(de.bc,null),!i&&l.a.createElement("span",{className:"action_label"},Object(Q.a)("Sort"))),v?l.a.createElement(Pi,{viewInfo:n,collaboratorIds:t,onClose:function(){return g(!1)}}):null,m.isOpen?l.a.createElement(Jt.c,a()({},m.props,{withArrow:!1}),l.a.createElement(Qt.b,{className:"sort_menu","aria-label":Object(Q.d)("a11y","Sort options menu")},l.a.createElement(Qt.a,{text:l.a.createElement("span",{className:"sort_menu__label"},Object(Q.a)("Sort by due date"),_&&(null==r?void 0:r.sorted_by)===Yr.t?l.a.createElement(de.t,{"data-testid":"sort_menu__due_date_checkmark"}):null),icon:l.a.createElement(de.n,null),"data-track":"items|sort_by_date",onClick:m.close(u)}),l.a.createElement(Qt.a,{text:l.a.createElement("span",{className:"sort_menu__label"},Object(Q.a)("Sort by priority"),_&&(null==r?void 0:r.sorted_by)===Yr.v?l.a.createElement(de.t,{"data-testid":"sort_menu__priority_checkmark"}):null),icon:l.a.createElement(de.Nb,null),"data-track":"items|sort_by_priority",onClick:m.close(s)}),l.a.createElement(Qt.a,{text:l.a.createElement("span",{className:"sort_menu__label"},Object(Q.a)("Sort alphabetically"),_&&(null==r?void 0:r.sorted_by)===Yr.u?l.a.createElement(de.t,{"data-testid":"sort_menu__name_checkmark"}):null),icon:l.a.createElement(de.f,null),"data-track":"items|sort_alphabetically",onClick:m.close(d)}),f?l.a.createElement(Qt.a,{text:l.a.createElement("span",{className:"sort_menu__label"},Object(Q.a)("Sort by assignee"),_&&(null==r?void 0:r.sorted_by)===Yr.r?l.a.createElement(de.t,{"data-testid":"sort_menu__assignee_checkmark"}):null),icon:l.a.createElement(de.Db,null),"data-track":"items|sort_by_responsible",onClick:m.close(f)}):null,l.a.createElement(Qt.a,{text:l.a.createElement("span",{className:"sort_menu__label"},Object(Q.a)("Custom sort"),!r||_&&r.sorted_by!==Yr.q&&r.sorted_by!==Yr.w?null:l.a.createElement(de.t,{"data-testid":"sort_menu__custom_checkmark"})),icon:l.a.createElement(de.M,null),"data-track":"items|sort_options",onClick:m.close((function(){return g(!0)}))}))):null)}));function Bi(e){var t=e.title,n=e.actions,r=e.children;return l.a.createElement("li",{className:"menu_list__section"},l.a.createElement("header",null,t?l.a.createElement("h4",null,t):null,n),l.a.createElement("ul",{className:"menu_list__section__list"},r))}var Vi=n("E/dK"),$i=n.n(Vi);function Hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qi=Object(d.c)((function(e,t){var n,r=t.viewInfo;return{viewOptions:Object(ei.a)(e,r),isBoardViewActive:null!==(n=e.mainView.fullEditorView)&&void 0!==n&&n}}),(function(e,t){var n=t.viewInfo;return{onSortBy:function(t){var r=t.sortBy,a=t.viewOptions;return r||(null==a?void 0:a.grouped_by)||(null==a?void 0:a.filtered_by)?r?void e(Object(ki.c)(n,{sortedBy:r,sortOrder:Yr.x})):e(Object(ki.c)(n,{sortedBy:Yr.s,sortOrder:null})):e(Object(ki.a)(n))},onResetViewOptions:function(){e(Object(ki.a)(n))}}}),(function(e,t,n){var r=e.viewOptions,a=i()(e,["viewOptions"]),o={onSortBy:function(e){return t.onSortBy({sortBy:e,viewOptions:r})},onResetViewOptions:function(){return t.onResetViewOptions()}};return Ui(Ui(Ui({viewOptions:r},a),o),n)}))((function(e){var t,n,r=e.collaboratorIds,o=e.viewInfo,s=e.viewOptions,u=e.isBoardViewActive,d=e.isMiniMode,f=e.onSortBy,m=e.onResetViewOptions,p=Object(Jt.d)(),h=Object(c.useState)(!1),v=b()(h,2),g=v[0],_=v[1],y=Object(c.useState)(!0),O=b()(y,2),j=O[0],w=O[1],E=Object(c.useMemo)((function(){var e=["default",Yr.u,Yr.t,Yr.q,Yr.v];return(null==r?void 0:r.length)&&(e=[].concat(lt()(e.slice(0,2)),[Yr.r],lt()(e.slice(2)))),"project"!==o.view&&(e=[].concat(lt()(e),[Yr.w])),e}),[null==r?void 0:r.length,o.view]);function k(e){var t=e.id,n=e.fieldLabel,r=e.icon;return function(e){var a=e.label;return function(e){var o=e.isDropdownOpen,c=e.toggleDropdown,s=e.buttonProps,u=(s.title,i()(s,["title"]));return l.a.createElement(Qt.a,{"aria-labelledby":t,className:o?"menu_item--active":void 0,text:l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{id:t,className:"view_menu__label"},n),l.a.createElement("span",u,l.a.createElement("span",{className:"view_menu__field"},a),l.a.createElement(de.u,null))),icon:r,onClick:c})}}}return Object(c.useEffect)((function(){setTimeout((function(){return w(!p.isOpen)}),0)}),[p.isOpen]),l.a.createElement(l.a.Fragment,null,l.a.createElement(le.a,a()({onClick:p.openOnClick,"aria-label":Object(Q.d)("a11y","View options menu")},d&&{title:Object(Q.a)("View")}),l.a.createElement(de.lc,null),!d&&l.a.createElement("span",{className:"action_label"},Object(Q.a)("View"))),g?l.a.createElement(Pi,{viewInfo:o,collaboratorIds:r,onClose:function(){return _(!1)}}):null,p.isOpen?l.a.createElement(Jt.c,a()({},p.props,{withArrow:!1}),l.a.createElement(Qt.b,{className:$i.a.viewMenu,"aria-label":Object(Q.d)("a11y","View options menu"),tabIndex:j?0:-1},l.a.createElement(Bi,{title:Object(Q.a)("View"),actions:l.a.createElement(Te.b,{label:Object(Q.a)("View is synced between teammates in shared projects.")},l.a.createElement("a",{className:$i.a.viewMenuHelpLink,href:"https://todoist.com/help/articles/visualize-your-workflow-with-board-view",rel:"noopener noreferrer",target:"_blank"},l.a.createElement(de.Q,null)))},l.a.createElement(Ii,{"aria-labelledby":"view_menu__view_as",className:J()("form_field_control",$i.a.viewMenuDropdownToggle),labels:{list:Object(Q.a)("List"),board:Object(Q.a)("Board")},options:["list","board"],value:u?"board":"list",width:200,onChange:function(){return document.dispatchEvent(new KeyboardEvent("keypress",{key:"V",shiftKey:!0}))}},k({id:"view_menu__view_as",fieldLabel:Object(Q.d)("view options view mode","View as"),icon:u?l.a.createElement(de.jc,null):l.a.createElement(de.kc,null)}))),l.a.createElement(Qt.c,{fullWidth:!0}),l.a.createElement(Bi,{title:Object(Q.a)("Sort"),actions:s?l.a.createElement(le.a,{className:$i.a.viewMenuReset,onClick:m},Object(Q.a)("Reset")):null},l.a.createElement(Ii,{"aria-labelledby":"view_menu__sort_by",className:J()("form_field_control",$i.a.viewMenuDropdownToggle),labels:(t={default:Object(Q.a)("Default")},G()(t,Yr.u,Object(Q.a)("Alphabetically")),G()(t,Yr.r,Object(Q.a)("Assignee")),G()(t,Yr.t,Object(Q.a)("Due date")),G()(t,Yr.q,Object(Q.a)("Date added")),G()(t,Yr.v,Object(Q.a)("Priority")),G()(t,Yr.w,Object(Q.a)("Project")),t),options:E,value:null!==(n=null==s?void 0:s.sorted_by)&&void 0!==n?n:"default",width:200,onChange:function(e){var t=e.target.value;if("default"===t)return f(Yr.s);f(t)}},k({id:"view_menu__sort_by",fieldLabel:Object(Q.a)("Sort by"),icon:l.a.createElement(de.bc,null)})),l.a.createElement(Qt.a,{text:l.a.createElement("span",{className:"view_menu__label"},Object(Q.a)("Custom sort")),icon:l.a.createElement(de.M,null),"data-track":"items|sort_options",onClick:p.close((function(){return _(!0)}))})))):null)})),Gi=n("3AAN"),Wi=n("bt/X"),Ki=n.n(Wi),Yi=n("OljV"),Ji=n("m0B0");function Qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qi(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xi(e){var t=e.tasks,n=e.viewOptions,r=Object(d.h)(D.i),a=Object(d.h)(oe.i),o=Object(d.h)((function(e){return e.projects})),c=Object(d.h)(Jr.i),l=Object(d.h)(Gi.a);if(null==n?void 0:n.grouped_by){if(!t)return[];switch(n.grouped_by){case Yr.i:var s=function(e){return{grouped:Ki()(e,"priority")}}(t),u=[];for(var f in s.grouped){var m=void 0;switch(f){case"4":m=Object(Q.a)("Priority 1");break;case"3":m=Object(Q.a)("Priority 2");break;case"2":m=Object(Q.a)("Priority 3");break;case"1":default:m=Object(Q.a)("Priority 4")}var p=s.grouped[f];u.push({key:f,header:m,tasks:p,taskListType:"filter",defaultFields:{priority:p[0].priority}})}return u.sort((function(e,t){return t.key.localeCompare(e.key)}));case Yr.e:var h=function(e){var t=Ki()(e,"responsible_uid");return{nonGrouped:t.null,grouped:i()(t,["null"])}}(t),v=[];for(var b in h.grouped){var g,_,y,O=h.grouped[b],j=b===(null===(g=a.id)||void 0===g?void 0:g.toString())?Object(Q.d)("task_assignment","Me"):null===(_=r[parseInt(b,10)])||void 0===_?void 0:_.full_name;if(j)v.push({key:b,header:j,tasks:O,taskListType:"filter",defaultFields:{responsible_uid:O[0].responsible_uid}});else Object(Ya.captureError)("No corresponding collaborator found: ".concat(b)),h.nonGrouped?(y=h.nonGrouped).push.apply(y,lt()(O)):h.nonGrouped=O}return v.sort((function(e,t){return e.key===t.key?0:e.key==a.id?-9999:t.key==a.id?9999:e.key.localeCompare(t.key)})),h.nonGrouped&&(v=[].concat(lt()(v),[{key:null,header:Object(Q.a)("Not assigned"),taskListType:"filter",tasks:h.nonGrouped}])),v;case Yr.g:var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=Ki()(e,(function(e){return e.due?!Object(Ji.a)(t,e.due)&&e.due.getTime()<t.getTime()?"overdue":Object(Yi.a)(e.due,{dateOnly:!0}):null})),r=n.null,a=i()(n,["null"]);return{nonGrouped:r,grouped:a}}(t),E=[];for(var k in w.grouped)"overdue"!==k?E.push(Li(k,w.grouped[k])):E.push(Ni(w.grouped[k]));return E.sort((function(e,t){return e.key===t.key?0:"overdue"===e.key?-9999:"overdue"===t.key?9999:e.key.localeCompare(t.key)})),w.nonGrouped&&(E=[].concat(lt()(E),[{key:null,header:Object(Q.a)("No due date"),tasks:w.nonGrouped,taskListType:"day"}])),E;case Yr.d:var C=function(e){var t=Ki()(e,(function(e){return Object(Yi.a)(e.date_added,{dateOnly:!0})}));return{nonGrouped:t.null,grouped:i()(t,["null"])}}(t),S=[];for(var I in C.grouped){var T=Object(vi.a)(I);S.push({key:I,header:T,tasks:C.grouped[I],taskListType:"day",defaultFields:T?{due:Ka.a.fromDate(T)}:void 0})}return S.sort((function(e,t){return e.header===t.header?0:e.header.getTime()<t.header.getTime()?-1:1})),S;case Yr.h:var A=function(e){return e.reduce((function(e,t){return t.labels.length||(e=Zi(Zi({},e),{},{nonGrouped:e.nonGrouped?[].concat(lt()(e.nonGrouped),[t]):[t]})),t.labels.forEach((function(n){e=Zi(Zi({},e),{},{grouped:Zi(Zi({},e.grouped),{},G()({},n,e.grouped[n]?[].concat(lt()(e.grouped[n]),[t]):[t]))})})),e}),{grouped:{}})}(t),x=[];for(var P in A.grouped)x.push({key:P,header:P,tasks:A.grouped[P],taskListType:"label",defaultFields:{labels:[P]}});return x.sort((function(e,t){return l(e.key,t.key)})),A.nonGrouped&&(x=[].concat(lt()(x),[{key:null,header:Object(Q.a)("No label"),taskListType:"label",tasks:A.nonGrouped}])),x;case Yr.j:var R=function(e){return{grouped:Ki()(e,(function(e){return e.project_id}))}}(t),N=[];for(var L in R.grouped){var M=o?o[L]:null,F=R.grouped[L];M&&N.push({key:L,header:M.name,tasks:F,taskListType:"filter",defaultFields:{project_id:F[0].project_id}})}return N.sort((function(e,t){return c(e.tasks[0],t.tasks[0])}))}}}var ec=n("71j2");function tc(e){var t=e.viewOptions,n=Object(d.h)(ec.c),r=Object(d.h)(qt.h),a=Object(c.useMemo)((function(){return(null==t?void 0:t.filtered_by)?Object(ec.a)(t.filtered_by,n):null}),[n,t]);return a?function(e){return a(e,r)}:null}var nc=n("AuZ+");function rc(e){var t=e.collaboratorIds,n=e.viewOptions,r=e.viewInfo,a=e.disabled,o=Object(d.h)(m.e),i=Object(d.g)();Object(c.useEffect)((function(){if(!o&&!a)return document.addEventListener("keypress",c),function(){document.removeEventListener("keypress",c)};function e(e,t){e.preventDefault(),n&&n.sorted_by===t?i(n.grouped_by||n.filtered_by?Object(ki.c)(r,{sortedBy:Yr.s,sortOrder:null}):Object(ki.a)(r)):i(Object(ki.c)(r,{sortedBy:t,sortOrder:t===Yr.v?Yr.y:Yr.x}))}function c(n){var r=n.keyCode;Ze.s&&n.metaKey&&[112,1079].includes(r)||n.ctrlKey||n.shiftKey||Object(nc.b)(n)||([114,1082].includes(r)&&(null==t?void 0:t.length)?e(n,Yr.r):[112,1079].includes(r)?e(n,Yr.v):[68,100,1074].includes(r)?e(n,Yr.t):[110,1090].includes(r)&&e(n,Yr.u))}}),[t,i,o,n,r,a])}var ac=n("pQ8y"),oc=n("I2PJ"),ic={tasks:y.a.arrayOf(y.a.object),onUpdated:y.a.func};function cc(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return lc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lc(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sc(e){var t=e.tasks,n=e.onUpdated,r=Object(d.g)(),o=function(e){var t,n={},r=cc(e);try{for(r.s();!(t=r.n()).done;){var a,o,i=t.value,c=cc(null!==(a=i.labels)&&void 0!==a?a:[]);try{for(c.s();!(o=c.n()).done;){var l=o.value;n[l]=(n[l]||0)+1}}catch(e){c.e(e)}finally{c.f()}}}catch(e){r.e(e)}finally{r.f()}var s=Object.keys(n),u=s.filter((function(t){return n[t]===e.length})),d=s.filter((function(t){return n[t]<e.length}));return{value:u,partiallySelectedValues:d}}(t);function i(e){var a=function(e,t){var n=e.value.filter((function(e){return!t.value.includes(e)})),r=[].concat(lt()(t.value.filter((function(t){return!e.value.includes(t)}))),lt()(t.partiallySelectedValues.filter((function(t){return!(e.partiallySelectedValues||[]).includes(t)&&!n.includes(t)}))));return{addedLabels:n,removedLabels:r}}(e,o),i=a.addedLabels,c=a.removedLabels;if(0!==i.length||0!==c.length){var l,s=cc(t);try{var u=function(){var e=l.value,t=e.id,n=e.labels,a=n.filter((function(e){return!c.includes(e)})),o=i.filter((function(e){return!n.includes(e)})),s=[].concat(lt()(a),lt()(o)).sort();r(Object(O.M)({id:t,labels:s}))};for(s.s();!(l=s.n()).done;)u()}catch(e){s.e(e)}finally{s.f()}null==n||n()}}return l.a.createElement(oc.a,a()({},o,{tooltip:Object(Q.a)("Labels"),onChange:function(e){return i(e.target)},"data-action-hint":"multi-select-toolbar-label-picker"}),l.a.createElement(de.Y,null),l.a.createElement("span",{className:"multi_select_toolbar__btn_text"},Object(Q.a)("Labels")))}function uc(e){var t=e.tasks,n=e.onUpdated,r=Object(d.g)();return l.a.createElement(rn.a,{selectedItems:t,onDateSelect:function(e){var a=t.reduce((function(t,n,r){return t[n.id]=ci()(e)?e[r]:e,t}),{});r(Object(O.P)(a)),null==n||n()},referenceElement:function(e){var t=e.ref,n=e.isExpanded,r=e.onClick;return l.a.createElement(le.a,{ref:t,onClick:r,"aria-expanded":n,"data-action-hint":"multi-select-toolbar-scheduler"},l.a.createElement(de.n,null),l.a.createElement("span",{className:"multi_select_toolbar__btn_text"},Object(Q.a)("Schedule")))}})}function dc(e){var t=e.tasks,n=e.onUpdated,r=Object(d.g)();return l.a.createElement(sn.a,{withSectionSelection:!0,onSelect:function(e){var a=e.project_id,o=e.section_id,i=t.map((function(e){return e.id}));r(Object(O.J)(i,a,o)),null==n||n()}},(function(e){var t=e.toggle,n=e.buttonProps;return l.a.createElement(le.a,a()({onClick:t,title:Object(Q.a)("Move to project")},n,{"data-action-hint":"multi-select-toolbar-project-picker"}),l.a.createElement(de.mb,null),l.a.createElement("span",{className:"multi_select_toolbar__btn_text"},Object(Q.a)("Move to project")))}))}sc.propTypes=ic,uc.propTypes=ic,dc.propTypes=ic;var fc=n("YrBN");function mc(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return pc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pc(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hc(e){var t=e.tasks,n=e.onUpdated,r=Object(d.g)();return l.a.createElement(fc.a,{onSelect:function(e){var a,o=mc(t);try{for(o.s();!(a=o.n()).done;){var i=a.value;r(Object(O.M)({id:i.id,priority:e}))}}catch(e){o.e(e)}finally{o.f()}null==n||n()},tooltip:Object(Q.a)("Priority"),"data-action-hint":"multi-select-toolbar-priority-picker"},l.a.createElement(l.a.Fragment,null,l.a.createElement(de.Nb,null),l.a.createElement("span",{className:"multi_select_toolbar__btn_text"},Object(Q.a)("Priority"))))}function vc(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return bc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bc(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function bc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gc(e){var t=e.tasks,n=e.onUpdated,r=Object(c.useState)(!1),a=b()(r,2),o=a[0],i=a[1],s=Object(d.g)();var u=o&&t.length>0,f=l.a.useMemo((function(){return t.some((function(e){return Wt(e.content)}))}),[t]);return l.a.createElement(Jt.c,{onClose:function(){return i(!1)},isShown:u,referenceElement:function(e){var t=e.ref,n=e.isExpanded;return l.a.createElement("button",{ref:t,onClick:function(){return i(!o)},"aria-expanded":n,"data-action-hint":"multi-select-toolbar-overflow-menu-trigger"},l.a.createElement(de.kb,null),l.a.createElement("span",{className:"multi_select_toolbar__btn_text"},Object(Q.a)("More")))}},l.a.createElement(Qt.b,{onClick:function(){return i(!1)}},l.a.createElement(Oc,{tasks:t,onUpdated:function(){i(!1),null==n||n()}}),f?null:l.a.createElement(Qt.a,{onClick:function(){var e;null===(e=Object(pn.a)())||void 0===e||e.catch((function(){}));var r,a=vc(t);try{for(a.s();!(r=a.n()).done;){var o=r.value.id;s(Object(O.p)(o))}}catch(e){a.e(e)}finally{a.f()}null==n||n()},text:Object(Q.a)("Complete"),icon:l.a.createElement(de.g,null),"data-action-hint":"multi-select-toolbar-overflow-menu-complete"}),l.a.createElement(_c,{tasks:t,onUpdated:n}),l.a.createElement(yc,{tasks:t,onUpdated:n})))}function _c(e){var t=e.tasks,n=e.onUpdated,r=Object(d.h)((function(e){return e})),a=Object(d.g)(),o=t.map((function(e){return e.id})),i=Object(k.t)(r,[o],{countChildren:!0}),c=Object(Rn.c)({confirmLabel:Object(Q.a)("Duplicate comments"),cancelLabel:Object(Q.a)("Exclude comments"),message:Object(Q.a)("Duplicate comments?"),onConfirm:function(){return a(Object(O.t)(o,{withNotes:!0}))},onCancel:function(){return a(Object(O.t)(o,{withNotes:!1}))}});return l.a.createElement(Qt.a,{onClick:function(){i?c():a(Object(O.t)(o)),null==n||n()},text:Object(Q.a)("Duplicate"),icon:l.a.createElement(de.E,null),"data-action-hint":"multi-select-toolbar-overflow-menu-duplicate"})}function yc(e){var t=e.tasks,n=e.onUpdated,r=Object(d.g)();return l.a.createElement(Qt.a,{onClick:function(){if(!(t.length<=0))if(1===t.length){var e=t[0],a=Ma.a.formatSimple(e.content,{as_html:!1,with_links:!1,with_emojis:!0});a.length>50&&(a=a.substring(0,50)+"\u2026");var o=Object(me.a)(Object(Q.a)("Are you sure you want to delete {item_name}?"),{item_name:"<b>".concat(a,"</b>")});Object(Rn.b)({confirmLabel:Object(Q.a)("Delete"),htmlMessage:o,onConfirm:function(){r(Object(O.s)(e.id)),null==n||n()}})}else{var i=Object(me.a)(Object(Q.b)("Are you sure you want to delete this task?","Are you sure you want to delete {num_of_task} tasks?",t.length),{num_of_task:t.length});Object(Rn.b)({confirmLabel:Object(Q.a)("Delete"),message:i,onConfirm:function(){var e,a=vc(t);try{for(a.s();!(e=a.n()).done;){var o=e.value;r(Object(O.s)(o.id))}}catch(e){a.e(e)}finally{a.f()}null==n||n()}})}},text:Object(Q.a)("Delete"),icon:l.a.createElement(de.z,null),"data-action-hint":"multi-select-toolbar-overflow-menu-delete"})}function Oc(e){var t=e.tasks,n=e.onUpdated,r=t[0].project_id,o=Object(d.h)((function(e){return Object(D.m)(e,r)})),i=Object(d.g)();if(0===t.length)return null;if(!!t.find((function(e){return e.project_id!==r}))||!o)return null;return l.a.createElement(Yt.a,{projectId:r,value:null,onChange:function(e){var r,a=e.target,o=vc(t);try{for(o.s();!(r=o.n()).done;){var c=r.value;i(Object(O.M)({id:c.id,responsible_uid:a.value}))}}catch(e){o.e(e)}finally{o.f()}null==n||n()}},(function(e){var t=e.buttonProps;return l.a.createElement(Qt.a,a()({},t,{onClick:function(e){e.stopPropagation(),t.onClick(e)},text:Object(Q.a)("Assign to someone"),icon:l.a.createElement(de.j,null),"data-action-hint":"multi-select-toolbar-overflow-menu-asssign"}))}))}function jc(){var e=c.useContext(Wn),t=e.dispatch,n=e.getSelection,r=Object(d.h)((function(e){return n().map((function(t){return Object(O.u)(e,t)})).filter(Boolean)})),a=r.length>0;return c.useEffect((function(){var e=document.documentElement.classList;return a?e.add("multi_select_toolbar_on"):e.remove("multi_select_toolbar_on"),function(){e.remove("multi_select_toolbar_on")}}),[a]),c.useEffect((function(){a||t({type:"CLEAR_MULTISELECTION"})}),[a,t]),c.createElement(ac.a,{appear:!0,mountOnEnter:!0,unmountOnExit:!0,in:a,timeout:300,classNames:"multi_select_toolbar"},c.createElement("div",{className:"multi_select_toolbar","data-selection-clear-disabled":""},c.createElement(uc,{tasks:r}),c.createElement(dc,{tasks:r}),c.createElement(sc,{tasks:r}),c.createElement(hc,{tasks:r}),c.createElement(gc,{tasks:r}),c.createElement(le.a,{title:Object(Q.a)("Close"),"aria-label":Object(Q.a)("Close"),shortcut:"esc",onClick:function(){return t({type:"CLEAR_MULTISELECTION"})},"data-action-hint":"multi-select-toolbar-close"},c.createElement(de.x,null))))}function wc(e){var t=e.children,n=e.contentRef,r=i()(e,["children","contentRef"]);return c.createElement(Qn,a()({},r,{ref:n}),c.createElement(jc,null),t)}function Ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ec(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dc(e){return{onAdd:function(t,n,r){var a=e(Object(O.o)(kc(kc({},t),{},{note:n,reminders:r})));if(!0!==a)return void 0!==t.child_order&&e(Object(j.x)(null,{id:a.id,to:t.child_order},{allowUndo:!1})),a},onUpdate:function(t,n,r,a){var o=jr()(["parent_id","section_id","project_id","child_order"],t);if(r&&e(Object(w.h)(t.id,r)),e(Object(O.M)(o,{item:a})),!a){var i,c,l=t.id,s=t.parent_id,u=t.section_id,d=t.project_id,f=t.child_order;void 0===s&&void 0===u&&void 0===d||(i={id:l,parent_id:s,section_id:u,project_id:d}),void 0!==f&&(c={id:l,to:f}),(c||i)&&e(Object(j.x)(i,c))}},onMoveToProject:function(t){return e(Object(j.x)(t))},onArchive:function(t){return e(Object(O.p)(t,{completeRecurring:!0}))},onDuplicate:function(t,n){return e(Object(O.t)([t],n))},onDelete:function(e,t){return Signals.sendSignal("show_item_delete_confirm",e,t)},onLinkCopy:function(e,t){return Object(I.a)({id:e,sync_id:t})},onCheckedChange:function(t,n,r,a,o){if(n){var i=r.shiftKey;e(Object(O.p)(t,{forceHistory:i}))}else e(Object(O.L)(t,a,o))}}}hc.propTypes=ic,gc.propTypes=ic,_c.propTypes=ic,yc.propTypes=ic,Oc.propTypes=ic;var Cc=n("w95p"),Sc=n("fgjq"),Ic=n("gmEJ");n("eNkg");var Tc=Object(d.c)(null,(function(e,t){var n=t.section.id;return{onDelete:function(){t.onDelete&&t.onDelete(),e(Object(Ic.l)(n))},onArchive:function(){t.onArchive&&t.onArchive(),e(Object(Ic.f)(n))},onUnarchive:function(){t.onUnarchive&&t.onUnarchive(),e(Object(Ic.o)(t.section))},onMoveToProject:function(t){e(Object(Ic.j)({id:n,project_id:t}))},onDuplicate:function(t){e(Object(Ic.g)(t))}}}))((function(e){var t,n=e.section,r=e.itemCount,o=e.onRename,i=e.onDelete,s=e.onArchive,u=e.onMoveToProject,d=e.onUnarchive,f=e.onDuplicate,m=Object(c.useState)(null),p=b()(m,2),h=p[0],v=p[1],g=Object(c.useState)(!1),_=b()(g,2),y=_[0],O=_[1],j=Object(c.useState)(!1),w=b()(j,2),E=w[0],k=w[1],D=n.is_archived?l.a.createElement(Qt.b,{className:"section_head_menu_list","aria-label":_x("a11y","section menu")},l.a.createElement(Qt.a,{text:Object(Q.a)("Unarchive section"),icon:l.a.createElement(de.g,null),onClick:function(){v(null),d()}}),l.a.createElement(Qt.a,{text:Object(Q.a)("Delete section"),icon:l.a.createElement(de.z,null),onClick:function(){v(null),O(!0)}})):l.a.createElement(Qt.b,{className:"section_head_menu_list","aria-label":_x("a11y","section menu")},l.a.createElement(Qt.a,{text:Object(Q.a)("Edit section"),icon:l.a.createElement(de.F,null),onClick:(t=o,function(){v(null),t.apply(void 0,arguments)})}),l.a.createElement(sn.a,{withSectionSelection:!1,onSelect:function(e){var t=e.project_id;return u(t)}},(function(e){var t=e.toggle,n=e.buttonProps;return l.a.createElement(Qt.a,a()({text:Object(Q.a)("Move section"),icon:l.a.createElement(de.mb,null),onClick:t},n))})),l.a.createElement(Qt.a,{text:Object(Q.a)("Archive section"),icon:l.a.createElement(de.g,null),onClick:function(){v(null),k(!0)}}),l.a.createElement(Qt.a,{text:Object(Q.a)("Duplicate section"),icon:l.a.createElement(de.E,null),onClick:function(){v(null),f(n.id)}}),l.a.createElement(Qt.a,{text:Object(Q.a)("Delete section"),icon:l.a.createElement(de.z,null),onClick:function(){v(null),O(!0)}}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(le.a,{className:"section_head_menu",onClick:function(e){(e.target instanceof HTMLElement||e.target instanceof SVGElement)&&v(e.target)},"aria-label":Object(Q.d)("a11y","section menu")},l.a.createElement(de.kb,null)),l.a.createElement(Jt.c,{referenceElement:null===h?void 0:h,isShown:Boolean(h),withArrow:!1,onClose:function(){return v(null)},zIndex:!1},D),l.a.createElement(Rn.a,{isOpen:y,confirmLabel:Object(Q.a)("Delete"),onConfirm:i,onCancel:function(){return O(!1)}},l.a.createElement("span",null,r<=0?l.a.createElement(_i.a,{text:Object(Q.a)("Are you sure you want to delete {section}?"),keyval:{section:l.a.createElement("b",null,n.name)}}):l.a.createElement(_i.a,{text:_n("Delete {section} with its 1 task?","Delete {section} with its {n} tasks?",r),keyval:{section:l.a.createElement("b",null,n.name),n:l.a.createElement("b",null,r)}}))),l.a.createElement(Rn.a,{isOpen:E,confirmLabel:Object(Q.a)("Archive"),onConfirm:s,onCancel:function(){return k(!1)}},l.a.createElement("span",null,r<=0?l.a.createElement(_i.a,{text:Object(Q.a)("Are you sure you want to archive {section}?"),keyval:{section:l.a.createElement("b",null,n.name)}}):l.a.createElement(_i.a,{text:_n("Archive {section} with its 1 task?","Archive {section} with its {n} tasks?",r),keyval:{section:l.a.createElement("b",null,n.name),n:l.a.createElement("b",null,r)}}))))})),Ac=(n("YE98"),{name:"",id:null});function xc(e){var t=e.section,n=void 0===t?Ac:t,r=e.onSubmit,a=e.onCancel,o=Object(c.useState)(n.name),i=b()(o,2),s=i[0],u=i[1],d=0===s.trim().length,f=null==n.id?Object(Q.a)("Add section"):Object(Q.a)("Save");function m(e){e.preventDefault(),d||r(s.trim())}return l.a.createElement("form",{className:"section_form",onSubmit:m},l.a.createElement("input",{autoFocus:!0,className:"name",type:"text",value:s,placeholder:Object(Q.a)("Name this section"),"aria-label":Object(Q.a)("Name this section"),onChange:function(e){return u(e.target.value)},onKeyDown:function(e){"Escape"===Object(ne.a)(e)&&a()}}),l.a.createElement("div",{className:"actions"},l.a.createElement(le.a,{type:"submit",className:"ist_button ist_button_red",onClick:m,disabled:d},f),l.a.createElement(le.a,{className:"cancel_link",onClick:a},Object(Q.a)("Cancel"))))}xc.propTypes={section:y.a.object,onSubmit:y.a.func.isRequired,onCancel:y.a.func.isRequired};var Pc=n("jqHE");n("rrmy");function Rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rc(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lc=Object(c.forwardRef)((function(e,t){var n=e.section,r=e.sectionName,o=e.tasksCount,i=e.children,s=e.className,u=e.actions,d=e.isArchived,f=void 0!==d&&d,m=e.sectionElementProps,p=void 0===m?{}:m,h=e.taskContainerElementProps,v=e.showTaskEditor,g=void 0!==v&&v,_=e.taskEditorKey,y=e.defaultAddFields,j=e.onActiveEditorChange,w=e.onTaskEditorChange,E=e.sectionId,k=e.projectId,D=e.user,C=e.onTaskAdd,S=e.onSectionUpdate,I=e.onSectionUnarchive,T=e.onSectionDelete,A=e.fullHeightMode,x=void 0!==A&&A,P=e.canUseLabels,R=e.canAddComments,N=Object(c.useState)(!1),L=b()(N,2),M=L[0],F=L[1],z=Object(c.useState)(!1),B=b()(z,2),V=B[0],$=B[1],H=Object(c.useState)(!1),U=b()(H,2),q=U[0],G=U[1],W=Object(c.useState)(!1),K=b()(W,2),Y=K[0],Z=K[1],X=Object(c.useRef)(),ee=Object(c.useRef)(),te=Object(c.useRef)(null),ne=Object(c.useRef)(null),re="draggable"in p&&(Boolean(p.draggable)&&!q),ae=Object(Ct.i)(),oe=ae.height,ie=ae.width;Object(c.useImperativeHandle)(t,(function(){return{getTaskContainerRef:function(){return te.current},getSectionColumnRef:function(){return ne.current}}}));var ce=Object(c.useMemo)((function(){var e=Object(Cc.a)((function(e){if(e){var t=e.scrollTop,n=e.clientHeight,r=e.scrollHeight;F(t>1),$(t<r-n)}}));return X.current=e,function(t,n){t.target===t.currentTarget&&("number"!=typeof n?e(t.target):ee.current=window.setTimeout((function(){e(t.target)}),n))}}),[]),le=Object(c.useCallback)((function(e){null==C||C(e),null==j||j(E)}),[C,j,E]),se=Object(c.useCallback)((function(){G(!0)}),[]),ue=Object(c.useCallback)((function(){G(!1)}),[]),de=Object(c.useCallback)((function(e){S({id:E,name:e})}),[S,E]),fe=Object(c.useCallback)((function(){null==I||I(E)}),[I,E]),me=Object(c.useCallback)((function(){null==T||T(E)}),[T,E]);Object(c.useEffect)((function(){return te.current&&ce({target:te.current,currentTarget:te.current}),function(){var e;null===(e=X.current)||void 0===e||e.cancel()}}),[ce,i,oe,ie]),Object(c.useEffect)((function(){return function(){window.clearTimeout(ee.current)}}),[]);var pe="".concat(E,"-header"),he=gr(Nc({},Object(O.n)(D)),le);return l.a.createElement("section",a()({},p,{"aria-label":n?"".concat(n.name):Object(Q.a)("Tasks without a section"),className:J()("board_section",s,{"board_section--full_column":Y}),"data-archived":f,"data-column-navigation-element":E,"data-editing":q,"data-is-empty":0===o,"data-overflow-bottom":V?"":void 0,"data-overflow-top":M?"":void 0,"data-testid":"board-section",draggable:re,ref:ne}),l.a.createElement("header",{id:pe,className:"board_section__header"},q?l.a.createElement(xc,{section:{name:r,id:E},onSubmit:function(e){de(e),ue()},onCancel:ue}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"board_section__section_info"},l.a.createElement(Te.b,{label:r},n&&!f?l.a.createElement("button",{className:"board_section__title_edit_button",onClick:se,"aria-label":Object(Q.d)("a11y","{sectionName} section. Click to edit").replace("{sectionName}",r)},l.a.createElement("h3",{className:"board_section__title"},l.a.createElement(Cn.a,{source:r}))):l.a.createElement("h3",{className:"board_section__title"},l.a.createElement(Cn.a,{source:r}))),l.a.createElement("p",{className:"board_section__task_count"},o)),u?l.a.createElement("div",{className:"board_section__actions"},u):null,n&&l.a.createElement("div",{className:"board_section__menu_trigger"},l.a.createElement(Tc,{itemCount:o,section:n,onRename:se,onUnarchive:fe,onDelete:me})))),l.a.createElement("div",a()({},h,{className:"board_section__task_list",onScroll:ce,"data-testid":"board-task-list",role:"group","aria-labelledby":pe,ref:te,draggable:re,onDragStart:function(e){e.target===te.current&&(e.stopPropagation(),e.preventDefault())}}),i),l.a.createElement(ac.a,{in:!x,timeout:300,classNames:"board_section__footer",onEnter:function(){return Z(!1)},onExited:function(){return Z(!0)}},l.a.createElement("footer",{className:J()("board_section__footer",{board_section__footer__shortcuts_enabled:Object(Sn.d)("frontend.new_keyboard_shortcuts")}),"data-testid":"board-section-footer","aria-labelledby":pe,draggable:re,onDragStart:function(e){e.stopPropagation(),e.preventDefault()}},g?l.a.createElement("div",{className:"board_section__footer__task_editor"},l.a.createElement(Pc.a,{key:_,user:D,item:Nc(Nc({},y),{},{project_id:k,section_id:n?E:null}),canUseLabels:P,withQuickNote:R,onChange:w,onMultilinePaste:he,onCancel:function(){return null==j?void 0:j(null)},onSubmit:le})):C&&j&&l.a.createElement("div",{className:"board_section__footer__add_task"},l.a.createElement(Sc.a,{onClick:function(){return j(E)},"data-add-task-navigation-element":!0},Object(Q.a)("Add task"))))))})),Mc=n("bT2Y");var Fc=Object(d.c)((function(e,t){var n,r,a,o=(null===(n=e.completedItems)||void 0===n||null===(r=n.projects)||void 0===r||null===(a=r[t.projectId])||void 0===a?void 0:a.completedSections)&&Object.values(e.completedItems.projects[t.projectId].completedSections).reduce((function(e,t){return e[t.section.id]=t.section,e}),{}),i=t.sectionId;return{section:e.sections&&e.sections[i]||o&&o[i],canUseLabels:Object(T.o)(e),canAddComments:Object(T.d)(e)}}),(function(e){return{onSectionUpdate:function(t){e(Object(Mc.t)(t))}}}),null,{forwardRef:!0})(Lc);n("dFwx");var zc=function(e){var t=e.type;return l.a.createElement("div",{className:"board_drop_placeholder board_drop_placeholder__".concat(t)})},Bc=n("FmY/"),Vc=n("OeMC");n("Y+fe");function $c(e){var t=e.handleAssigneeSelect,n=e.handleDueDateSelect,r=e.handleEditClick,a=e.handleLabelSelect,o=e.handleOpenTaskActions,i=e.isItemComplete,c=e.isProjectShared,l=e.item,s=e.onCheckedChange,u=e.onLinkCopy,d=e.onMoveToProject,f=e.onUpdate,m=e.showGoToProject,p=e.taskItemRef;return Object(tr.f)({handleAssigneeSelect:t,handleDueDateSelect:n,handleEditClick:r,handleLabelSelect:a,handleOpenTaskActions:o,isItemComplete:i,isProjectShared:c,item:l,onCheckedChange:s,onLinkCopy:u,onMoveToProject:d,onUpdate:f,showGoToProject:m,taskItemRef:p})}var Hc=Object(c.forwardRef)((function(e,t){var n,r=e.task,o=e.labels,s=e.subTasksCount,u=e.subTasksCompletedCount,f=e.reminders,m=e.noteCount,p=e.project,h=e.section,v=e.navigateToRef,g=e.isInSharedProject,_=e.onCheckedChange,y=e.onUpdate,O=e.onArchive,j=e.onDelete,w=e.onDuplicate,E=e.onLinkCopy,k=e.onMoveToProject,D=e.taskId,C=(e.clock,e.canUseLabels),S=e.onClick,I=e.onEditClick,T=e.removeTaskFromHint,A=i()(e,["task","labels","subTasksCount","subTasksCompletedCount","reminders","noteCount","project","section","navigateToRef","isInSharedProject","onCheckedChange","onUpdate","onArchive","onDelete","onDuplicate","onLinkCopy","onMoveToProject","taskId","clock","canUseLabels","onClick","onEditClick","removeTaskFromHint"]),x=Object(er.b)(),P=x.activeTask,R=x.setActiveTask,N=x.isCommandMenuShown,L=x.taskPickers,M=Object(c.useState)(!1),F=b()(M,2),z=F[0],B=F[1],V=Object(c.useRef)(null),$=Zn({selectionId:r?String(r.id):"",isDisabled:!r||Boolean(r.checked)}).props,H=$.onClick,U=i()($,["onClick"]),q=Object(d.g)();Object(c.useEffect)((function(){(null==r?void 0:r.checked)&&q(Object(Pr.d)({completedInfo:{item_id:r.id},completedItems:[],itemId:r.id,type:"items"})).catch((function(){}))}),[q,r]);var G=Object(c.useRef)(null),W=Object(Jt.d)(),K=(null==r?void 0:r.content)||"",Y=Object(c.useMemo)((function(){return Object(Fn.b)(K).type||void 0}),[K]),Q=Object(Ct.c)(),Z=Q.hasBeenFocusedOrHovered,X=Q.onFocus,ee=Q.onMouseEnter;function te(){if(r)return w(r.id,{withNotes:!1})}var ne=Object(Rn.c)({confirmLabel:Object(Vc.b)("Duplicate comments"),cancelLabel:Object(Vc.b)("Exclude comments"),message:Object(Vc.b)("Duplicate comments?"),onConfirm:function(){if(r)return w(r.id,{withNotes:!0})},onCancel:te}),re=m>0?ne:te,ae=Object(c.useState)(!1),oe=b()(ae,2),ie=oe[0],ce=oe[1];if(Object(c.useEffect)((function(){var e=!1;for(var t in L)if(!0===L[t]){e=!0;break}ce(e)}),[L,ie]),Object(c.useEffect)((function(){var e;P===(null==r?void 0:r.id)&&(!R||z||N||ie||(null==G||null===(e=G.current)||void 0===e?void 0:e.contains(document.activeElement))||R(null))}),[P,z,N,ie,R,null==r?void 0:r.id]),!r)return null;var se,ue,fe,me,pe,he,ve,be=r.content,ge=r.priority,_e=r.checked,ye=r.due,Oe=0===_e,je=null===ge?1:ge,we=be.replace(/^\*\s+/g,""),Ee=!Wt(be),ke=Boolean(ye)||s>0||m>0||f.length>0||r.labels.length>0,De=null!==r.responsible_uid,Ce=Boolean(null===(n=r.description)||void 0===n?void 0:n.length);function Se(e){var t=e.target;if(r){var n=Array.isArray(t.value)?t.value[0]:t.value;y({id:r.id,responsible_uid:n})}}function Ie(e){r&&y({id:r.id,due:e})}function Te(e){var t=e.target,n=t.tagName,a=t.closest("button");if(H(e),!e.isDefaultPrevented()&&r&&"A"!==n&&(null===a||a===G.current)){if(e.altKey&&I&&0===r.checked)return I(r);var o;if(S&&S(e,r),!e.isDefaultPrevented())null==v||null===(o=v.current)||void 0===o||o.call(v,{task:{id:D}})}}function Ae(){if(r&&I)return I(r)}return l.a.createElement(l.a.Fragment,null,P===D?l.a.createElement($c,{handleAssigneeSelect:Se,handleDueDateSelect:Ie,handleEditClick:Ae,handleLabelSelect:function(e){var t=e.target;r&&y&&y({id:r.id,labels:t.value})},handleOpenTaskActions:function(){var e,t;return null==V||null===(e=V.current)||void 0===e||null===(t=e.click)||void 0===t?void 0:t.call(e)},isItemComplete:1===r.checked,showGoToProject:Boolean(p),isProjectShared:g,item:r,taskItemRef:G,onCheckedChange:_,onLinkCopy:E,onMoveToProject:k,onUpdate:y}):null,l.a.createElement("div",a()({},A,U,{className:J()("board_task",{board_task__keyboard_shortcuts_active:P===D,board_task__shortcuts_enabled:Object(Sn.d)("frontend.new_keyboard_shortcuts")}),"data-testid":"task-card",role:"group","aria-labelledby":"task-".concat(D,"-title"),onClick:Te,onContextMenu:W.openOnContextMenu,onBlur:function(){z&&B(!1)},onFocus:function(){P!==D&&("function"==typeof R&&R(D),z||B(!0)),X()},onMouseEnter:ee,ref:t,"data-has-assigned-user":De?"":void 0,"data-is-shared":g?"":void 0,"data-task-navigation-element":D}),l.a.createElement("button",{onClick:Te,className:"board_task__button","aria-label":Object(Vc.e)("a11y","Open task details"),ref:G}),Ee&&l.a.createElement("div",{className:"board_task__details__checkbox"},l.a.createElement(gn.a,{"aria-label":_e?Object(Vc.b)("Mark task as incomplete"):Object(Vc.b)("Mark task as complete"),checked:_e,priority:je,onChange:function(e,t){r&&(Object(Mn.a)("project_board_view","complete","task"),_(r.id,e,t))}})),l.a.createElement("div",{className:"board_task__details_meta"},l.a.createElement("div",{className:"board_task__details"},l.a.createElement("div",{id:"task-".concat(D,"-title"),className:"board_task__details__content"},l.a.createElement(zn.a,{className:"board_task__details__content__service_icon",type:Y}),l.a.createElement(Ln,{content:we,className:J()("board_task__details__content__inner_content",{"board_task__details__content__inner_content--completed":1===r.checked})}),Ce?l.a.createElement(Nn.a,{className:"task_description board_task__details__content__inner_description",mode:"inline",source:r.description}):null),l.a.createElement("div",{className:J()("board_task__details__menu_assignee",{"board_task__details__menu_assignee--is_expanded":W.isOpen})},Z&&l.a.createElement(le.a,{onClick:W.openOnClick,"aria-expanded":W.isOpen,"data-testid":"more_menu","data-action-hint":"task-overflow-menu",title:Object(Vc.b)("More task actions"),"aria-label":Object(Vc.b)("More task actions"),className:"board_task__details__menu_assignee__menu_button",ref:V},l.a.createElement(de.kb,null)),g&&(Z||De)&&l.a.createElement(Yt.a,{className:"board_task__details__menu_assignee__person_picker",projectId:r.project_id,value:r.responsible_uid,onChange:Se,tooltip:Yt.b}))),ke&&l.a.createElement("div",{className:"board_task__meta"},l.a.createElement(Pn,{item:r,noteCount:m,subItemsCount:s,subItemsCompletedCount:u,project:p,section:h,reminders:f,showNotes:!0,showDue:!0,showTime:!0,showProject:Boolean(p),showSectionOnly:Boolean(h)&&!p,canUseLabels:C,labels:o,onDueDateSelect:Ie,isProjectShared:g,leadProjectIconPosition:!0,key:(pe=null!==(se=null==r||null===(ue=r.labels)||void 0===ue?void 0:ue.join(""))&&void 0!==se?se:"",he=null!==(fe=null==r||null===(me=r.due)||void 0===me?void 0:me.format())&&void 0!==fe?fe:"",ve=f.length,"".concat(pe,"_").concat(he,"_").concat(ve,"_").concat(m,"_").concat(s,"_").concat(u)),labelDisplayStyle:"truncated"}))),W.isOpen&&l.a.createElement(Jt.c,a()({},W.props,{withArrow:!1,zIndex:!1,modifiers:[Jt.b,Jt.a]}),Oe?l.a.createElement(vn,{item:r,onUpdate:W.close(y),onSelectEdit:W.close(Ae),onArchive:W.close(O),onDelete:W.close(j),onDuplicate:W.close(re),onLinkCopy:W.close(E),onMoveToProject:W.close(k)}):l.a.createElement(bn,{item:r,onDelete:W.close((function(e){j(e,(function(t){t&&T(e.id,e.section_id?e.section_id:e.project_id,e.section_id?"sections":"projects")}))})),onLinkCopy:W.close(E)}))))})),Uc=Object(Gt.j)(l.a.memo(Hc)),qc=n("zeUM");var Gc=Object(d.c)((function(e,t){var n=Object(qt.f)(e,t.taskId);return{task:t.task||e.items&&e.items[t.taskId],subTasksCount:n.all,subTasksCompletedCount:n.completed,labels:Object(Gi.c)(e),reminders:Object(w.b)(t.taskId,e),noteCount:Object(k.n)(e,t.taskId).length,clock:e.clock,isInSharedProject:Object(D.n)(e)(t.task&&t.task.project_id||t.taskId),canUseLabels:Object(T.o)(e)}}),(function(e){return{removeTaskFromHint:function(t,n,r){n&&e(Object(qc.g)({id:t,typeId:n,type:r}))}}}),null,{forwardRef:!0})(Uc),Wc=l.a.memo((function(e){var t=e.task,n=e.project,r=e.section,o=e.index,i=e.sectionId,s=e.newTaskIdRef,u=e.canDragTasks,d=e.canUseLabels,f=e.isEditorActive,m=e.onCheckedChange,p=e.onEditorChange,h=e.onTaskEditClick,v=e.onTaskSubmit,b=e.onTaskArchive,g=e.onTaskDelete,_=e.onTaskDuplicate,y=e.onTaskLinkCopy,O=e.onTaskMoveToProject,j=e.onTaskUpdate,E=e.reminders,k=e.user,D=e.viewOptions,C=Object(c.useRef)(null),S=zt().onResetEditorState;return Object(c.useEffect)((function(){C.current&&(C.current.scrollIntoView(),C.current=null,s.current=null)})),l.a.createElement(Bc.b,{type:"TASK",draggableId:"task-".concat(t.id),index:o,disableDrag:!u||Boolean(D)||Boolean(f)},(function(e){var o=e.innerRef,c=e.draggableProps;return f?l.a.createElement("div",a()({},c,{ref:o,className:"board_view__inline_task_editor"}),l.a.createElement(Pc.a,{user:k,item:t,canUseLabels:d,onSubmit:function(e){return v(t,e,i)},onCancel:S,onChange:p,withQuickNote:!1,reminders:Object(w.f)({reminders:E})[t.id]})):l.a.createElement(l.a.Fragment,null,l.a.createElement(Gc,a()({},c,{ref:o,task:t,taskId:t.id,project:n,section:r,onCheckedChange:m,onEditClick:function(){return h(t,i)},onUpdate:j,onArchive:b,onDelete:g,onDuplicate:_,onLinkCopy:y,onMoveToProject:O})),t.id===s.current&&l.a.createElement("div",{ref:C}))}))}));n("hlFn");var Kc=function(e){var t=e.dragElementRef,n=e.enabled,r=void 0===n||n,a=e.useCursor,o=void 0===a||a;Object(c.useEffect)((function(){if(t.current&&r){var e=t.current,n=document.body.style.userSelect,a=document.body.style.webkitUserSelect,i={x:null,y:null},c={x:null,y:null};o&&e.setAttribute("data-drag-to-scroll","");var l=Object(Cc.a)((function(e){if(e.target&&t.current&&null!==c.x&&null!==c.y&&null!==i.x&&null!==i.y){var n=t.current,r=e.clientX-c.x,a=e.clientY-c.y;n.scrollLeft=i.x-r,n.scrollTop=i.y-a}}));return document.addEventListener("mousedown",d),function(){s(),document.removeEventListener("mousedown",d),e&&e.removeAttribute("data-drag-to-scroll")}}function s(){l.cancel(),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",u),document.body.style.userSelect=n,document.body.style.webkitUserSelect=a,document.body.removeAttribute("data-drag-to-scroll-dragging-body")}function u(){i={x:null,y:null},c={x:null,y:null},s()}function d(e){if(e.target&&e.target===t.current){var n=t.current;i={x:n.scrollLeft,y:n.scrollTop},c={x:e.clientX,y:e.clientY},document.addEventListener("mouseup",u),document.addEventListener("mousemove",l),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",o&&document.body.setAttribute("data-drag-to-scroll-dragging-body","")}}}),[t,r,o])};function Yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yc(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qc(e,t){var n=t[e];return n.reduce((function(e,t,r){var a,o;return{tasksMap:Jc(Jc({},e.tasksMap),{},G()({},t.id,t)),hierarchy:[].concat(lt()(e.hierarchy),[{id:t.id}]),indents:Jc(Jc({},e.indents),{},G()({},t.id,1)),siblings:Jc(Jc({},e.siblings),{},G()({},t.id,{previousSiblingId:null===(a=n[r-1])||void 0===a?void 0:a.id,nextSiblingId:null===(o=n[r+1])||void 0===o?void 0:o.id})),bottomTaskId:t.id}}),{tasksMap:{},hierarchy:[],indents:{},siblings:{},bottomTaskId:n[0].id})}function Zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Xc=function(e){var t=e.editorState,n=e.tasksBySectionWithoutSubTasks,r=e.viewOptions,a=e.onTaskUpdate,o=e.onTaskAdd,i=e.onResetEditorState,l=Object(Ct.e)(t),s=Object(Ct.e)(r),u=Object(Ct.e)(n),d=Object(c.useRef)(void 0),f=Object(c.useCallback)((function(e){d.current=e}),[]);return Object(c.useEffect)((function(){var e=!Gr(s,r),n=l&&t&&l.key!==t.key&&!(Vt(l.mode)&&Vt(t.mode)&&l.listId===t.listId);if(l&&t&&"string"==typeof l.listId&&d.current&&u&&(n||e)){var c=Qc(l.listId,u),f=c.tasksMap,m=c.hierarchy,p=c.indents,h=c.siblings,v=c.bottomTaskId,b=Dr({editorValue:d.current,editorIndent:1,editorState:l,task:l.taskId?f[l.taskId]:{},tasksMap:f,hierarchy:m,indents:p,siblings:h,bottomTaskId:v},{disableOrderChanges:!0}),g=b.fields,_=b.note,y=b.reminders;br(g)?(l.mode===Lt?a(g,y,null):o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zc(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({note:_,reminders:y},g)),e&&i()):e&&i()}}),[t,i,o,a,l,u,s,r]),{handleEditorChange:f}};function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nl=l.a.createContext({}),rl="add_above",al="add_below",ol="add_bottom",il="add_bottom_website",cl="add_bottom_email",ll="add_top",sl=function(){return Object(Dt.a)("editor")};function ul(e,t,n){return"".concat(e,"-").concat(t,"-").concat(n)}function dl(e){return[rl,al,ol,il,cl,ll].includes(e)}function fl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.shouldParseInt,r=void 0===n||n,a=e.split("-").map((function(e){return"null"===e?null:e})),o=On()(a),i=o[0],c=o.slice(1),l=c[c.length-1],s=c.length>2?c.slice(0,-1).join("-"):c[0];if(!r)return{projectId:i,sectionId:s,parentId:l};var u=parseInt(i,10),d=parseInt(s,10),f=parseInt(l,10);return{projectId:isNaN(u)?i:u,sectionId:isNaN(d)?s:d,parentId:isNaN(f)?l:f}}function ml(e){var t=e.children,n=Object(c.useState)(null),r=b()(n,2),a=r[0],o=r[1],i=Object(c.useCallback)((function(e,t){o({treeListId:e,mode:"edit",key:sl(),id:t})}),[]),s=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o({treeListId:e,mode:ol,key:sl(),fromShortcut:t})}),[]),u=Object(c.useCallback)((function(e){o({treeListId:e,mode:il,key:sl()})}),[]),d=Object(c.useCallback)((function(e){o({treeListId:e,mode:cl,key:sl()})}),[]),f=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o({treeListId:e,mode:ll,key:sl(),fromShortcut:t})}),[]),m=Object(c.useCallback)((function(){o(null)}),[]),p=Object(c.useCallback)((function(e,t){o({treeListId:e,mode:rl,key:sl(),id:t})}),[]),h=Object(c.useCallback)((function(e,t){o({treeListId:e,mode:al,key:sl(),id:t})}),[]),v=Object(c.useCallback)((function(e){setTimeout((function(){o((function(t){return tl(tl({},t),{},{id:e})}))}),0)}),[]),g=Object(c.useCallback)((function(e,t){a&&a.treeListId===e&&o((function(e){return tl(tl({},e),{},{treeListId:t})}))}),[a]),_=Object(c.useCallback)((function(){o(null)}),[]),y=Object(c.useCallback)((function(e){o((function(t){return tl(tl({},t),{},{indent:e})}))}),[]),O=Object(c.useMemo)((function(){return{editorState:a,onEditItem:i,onAddBottom:s,onAddBottomWebsite:u,onAddBottomEmail:d,onAddTop:f,onAddCancel:m,onAddAbove:p,onAddBelow:h,onTempIdResolval:v,onResetEditorState:_,onChangeIndent:y,onTreeListIdResolval:g}}),[y,a,p,h,s,d,u,m,f,i,v,g,_]);return l.a.createElement(nl.Provider,{value:O},t)}ml.propTypes={children:y.a.node};var pl=ml;var hl=function(e){var t=e.editorState,n=e.tasksBySectionWithoutSubTasks,r=e.newTaskIdRef,a=e.onTaskCheckedChange,o=e.onTaskAdd,i=e.onTaskUpdate,l=e.onAddToExternalProject,s=e.onResetEditorState,u=Object(c.useCallback)((function(e,t,n){a(e,t,n)}),[a]),d=Object(c.useCallback)((function(e,r,a){if("edit"===(null==t?void 0:t.mode)){var o=Qc(a,n),c=o.tasksMap,l=o.hierarchy,u=o.indents,d=o.siblings,f=o.bottomTaskId,m=Dr({editorValue:r,editorIndent:1,editorState:t,task:e,tasksMap:c,hierarchy:l,indents:u,siblings:d,bottomTaskId:f},{disableOrderChanges:!0}),p=m.fields,h=m.reminders;i(p,h,null)}s()}),[t,s,i,n]);return{handleCheckedChange:u,handleTaskAdd:Object(c.useCallback)((function(e){var t=o(e)||{};r.current=t.id,l(t.id,t.project_id)}),[l,o,r]),handleTaskSubmit:d}};n("Bazy");function vl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vl(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gl=function(e){var t=e.clock,n=e.defaultProjectId,r=e.sections,a=e.user,o=e.projects,i=e.projectSections,s=e.reminders,u=e.viewOptions,f=e.emptyState,m=e.canDragTasks,p=void 0!==m&&m,h=e.canUseLabels,v=e.defaultAddFields,g=e.onTaskCheckedChange,_=e.onTaskUpdate,y=e.onTaskArchive,O=e.onTaskDelete,j=e.onTaskDuplicate,w=e.onTaskLinkCopy,E=e.onTaskMoveToProject,k=e.onTaskAdd,D=e.onAddToExternalProject,I=e.setFullEditorView,T=Object(c.useState)(!1),A=b()(T,2),x=A[0],P=A[1],R=Object(c.useRef)(null),N=Object(Sn.d)("frontend.boards_drag_preview"),L=zt(),M=L.editorState,F=L.onResetEditorState,z=L.onAddBottom,B=L.onEditItem,V=null==M?void 0:M.mode,$=Qr({listType:Object(c.useMemo)((function(){return r.map((function(e){return e.taskListType}))}),[r]),viewOptions:u}),H=Object(c.useMemo)((function(){return r.reduce((function(e,t,n){var r;return bl(bl({},e),{},G()({},null!==(r=t.key)&&void 0!==r?r:"null",t.tasks.sort($[n])))}),{null:[]})}),[r,$]),U=0===Object(c.useMemo)((function(){return Object.values(H).flat()}),[H]).length,q=Object(c.useMemo)((function(){return V===xt&&M?M.listId:null}),[M,V]),W=Object(d.h)((function(e){var t=null==M?void 0:M.taskId;if(t)return Object(S.a)(t)?t:Object(C.b)(t,e)})),K=Object(c.useRef)(null);Kc({dragElementRef:K});var Y=Object(c.useCallback)((function(e,t){B(t,e.id)}),[B]),Q=Object(c.useCallback)((function(e){return null===e||"undefined"===e?F():z(e,!1)}),[z,F]),Z=Object(c.useCallback)((function(){P(!0)}),[P]),X=Object(c.useCallback)((function(){P(!1)}),[P]),ee=hl({editorState:M,tasksBySectionWithoutSubTasks:H,newTaskIdRef:R,onTaskCheckedChange:g,onTaskAdd:k,onTaskUpdate:_,onAddToExternalProject:D,onResetEditorState:F}),te=ee.handleCheckedChange,ne=ee.handleTaskAdd,re=ee.handleTaskSubmit,ae=Xc({editorState:M,tasksBySectionWithoutSubTasks:H,viewOptions:u,onTaskAdd:k,onTaskUpdate:_,onResetEditorState:F}).handleEditorChange;return Object(c.useEffect)((function(){return I(!0),function(){I(!1)}}),[I]),Object(c.useEffect)((function(){return F(),F}),[U,F]),Object(Ur.g)(Ur.b,(function(){var e,t=r.find((function(e){return!e.disableAdd}));t&&Q(null!==(e=t.key)&&void 0!==e?e:"null")})),l.a.createElement("div",{className:J()("board_view__sections",{"board_view__sections--compact":Boolean(f)}),ref:K,"data-board-dragging":x,"data-testid":"project-board-view"},r.map((function(e){var r,c=null!==(r=e.key)&&void 0!==r?r:"null",d=e.header instanceof Date?so(Object(oo.a)(e.header,{representation:"date"}),t):e.header,m=H[c];return l.a.createElement(Bc.c,{key:c,type:"TASK",droppableId:"section-".concat(c),onBeforeCapture:Z,onDragEnd:X,useClone:N,forceRoot:!0},(function(t){var r,b=t.innerRef,g=t.placeholder,k=t.droppableProps;return l.a.createElement(Fc,{ref:function(e){e&&b(e.getTaskContainerRef())},key:c,className:"board_view__section_board",sectionName:d,tasksCount:m.length,showTaskEditor:q===c,taskEditorKey:null==M?void 0:M.key,defaultAddFields:bl(bl({},v),e.defaultFields),onActiveEditorChange:Q,onTaskEditorChange:ae,sectionId:c,projectId:(null===(r=e.defaultFields)||void 0===r?void 0:r.project_id)||n,user:a,fullHeightMode:x&&!f,taskContainerElementProps:k,onTaskAdd:e.disableAdd?void 0:ne,actions:"overdue"===e.taskListType?l.a.createElement(si,{items:m}):void 0},m.map((function(e,t){var n=Boolean(M&&V===Lt&&M.listId===c&&M.taskId&&(M.taskId===e.id||M.taskId===W)),r=n&&W?W:e.id;return l.a.createElement(Wc,{key:r,task:e,index:t,project:o?o[e.project_id]:void 0,section:e.section_id?i[e.section_id]:void 0,sectionId:c,newTaskIdRef:R,canDragTasks:p,canUseLabels:h,isEditorActive:n,onCheckedChange:te,onEditorChange:ae,onTaskEditClick:Y,onTaskSubmit:re,onTaskArchive:y,onTaskDelete:O,onTaskDuplicate:j,onTaskLinkCopy:w,onTaskMoveToProject:E,onTaskUpdate:_,reminders:s,user:a,viewOptions:u})})),g(l.a.createElement(zc,{type:"task"})))}))})),M?null:f)};var _l=Object(d.c)((function(e){var t;return{clock:e.clock,projects:e.projects,projectSections:e.sections,reminders:e.reminders,canUseLabels:Object(T.o)(e),defaultProjectId:(null===(t=Object(rt.r)(e))||void 0===t?void 0:t.id)||-1}}),(function(e){var t=Dc(e);return{onTaskCheckedChange:t.onCheckedChange,onTaskUpdate:t.onUpdate,onTaskArchive:t.onArchive,onTaskDelete:t.onDelete,onTaskDuplicate:t.onDuplicate,onTaskLinkCopy:t.onLinkCopy,onTaskMoveToProject:t.onMoveToProject,onTaskAdd:function(e){var n=e.note,r=e.reminders,a=i()(e,["note","reminders"]);return t.onAdd(a,n,r)},onAddToExternalProject:function(t,n){e(Object(na.c)(t,n))},setFullEditorView:function(t){e({type:Xo.a,payload:t})}}}))(gl),yl=n("HR/i"),Ol=n("j7h4"),jl=n("vV6a");function wl(e){var t=e.headerRef;return{isMiniMode:Object(Ol.a)({ref:t,useBorderBoxSize:!0,polyfill:yl.a}).width<=jl.a}}n("EozN");function El(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?El(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):El(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dl(e){var t=e.todayItems,n=e.overdueItems,r=e.today,o=e.user,i=e.viewOptions,s=zt().editorState,u=function(){var e=Object(c.useState)(!1),t=b()(e,2),n=t[0],r=t[1];function a(){Object(Sn.d)("frontend.non_project_boards")&&r(!n)}return Object(Ur.g)(Ur.e,a),{isBoardViewActive:n,toggleBoardView:a}}().isBoardViewActive,d=wi({scrollSelector:"#content"}),f=b()(d,2),m=f[0],p=f[1],h=ri(),v=n.length>0,g=t.length>0,y=Object(c.useMemo)((function(){return Ka.a.fromDate((e=r,t=Object(vi.a)(e),new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59)));var e,t}),[r]),O=r,j=Object(c.useMemo)((function(){return[o.id]}),[o.id]),w=tc({viewOptions:i});rc({collaboratorIds:j,viewOptions:i,viewInfo:{view:"today"}});var E,k=Object(c.useMemo)((function(){return w?n.filter(w):n}),[n,w]),D=Object(c.useMemo)((function(){return w?t.filter(w):t}),[t,w]),C=Object(Ct.g)({namePrefix:"view-header",rootCssSelector:"#content"}),S=C.headerRef,I=C.contentRef,T=C.stickyProps,A=wl({headerRef:S}).isMiniMode,x=Xi({tasks:[].concat(lt()(k),lt()(D)),viewOptions:i}),P=null;if(v||g?!i||k.length||D.length||(E=l.a.createElement(hi,null)):E=l.a.createElement(ie.l,{today:r,onAddClick:function(){var e=document.querySelector(u?".board_section__footer__add_task .plus_add_button":"ul.items .plus_add_button");e&&e.click()}}),u)(null==i?void 0:i.grouped_by)||(k.length&&(x=[Ni(k)]),x=[].concat(lt()(x||[]),[Li(r,D,y)])),P=l.a.createElement(_l,{user:o,sections:x,viewOptions:i,emptyState:E,defaultAddFields:{due:y},canDragTasks:!i});else if(null==i?void 0:i.grouped_by){var R;P=l.a.createElement("div",{className:"view_content",ref:I},null!==(R=E)&&void 0!==R?R:x.map((function(e){return"overdue"===e.taskListType?l.a.createElement(di,{key:e.key,rootItems:e.tasks,viewOptions:i,"data-day-list-id":"overdue"}):l.a.createElement(fo,{key:e.key,header:e.header},l.a.createElement(sa,{type:e.taskListType,tasks:e.tasks,viewOptions:i,defaultAddFields:kl({due:y},e.defaultFields),allowAdd:!e.disableAdd,showProject:!0}))})))}else P=l.a.createElement("div",{className:"view_content",ref:I},v?l.a.createElement(di,a()({rootItems:k,viewOptions:i,"data-day-list-id":"overdue",showDragHandle:!i},h)):null,m&&"overdue"===m.listId?p:null,l.a.createElement(oi,a()({rootItems:D,date:y,withHeader:v,viewOptions:i,"data-day-list-id":O,allowAddShortcuts:!0,showDragHandle:!i},h)),m&&m.listId===O?p:null,s?null:E);return l.a.createElement(wc,a()({id:"agenda_view",className:"today_view"},!u&&T),l.a.createElement(ao,{disableEditing:!0,header:l.a.createElement(Cn.a,{source:_("Today")}),subheader:Object(lo.a)(y.toDate(),{withWeekday:!0,withTime:!1}),largeBottomMargin:!i&&v&&!u,ref:S},Object(Sn.d)("frontend.non_project_boards")?l.a.createElement(qi,{viewInfo:{view:"today"},collaboratorIds:j,isMiniMode:A}):l.a.createElement(zi,{viewInfo:{view:"today"},collaboratorIds:j})),l.a.createElement(Ri,{viewInfo:{view:"today"},collaboratorIds:j,className:u?"board_view__view_options_status":"list_view_options_status"}),P)}Dl.propTypes={todayItems:y.a.array.isRequired,overdueItems:y.a.array.isRequired,today:y.a.string.isRequired,user:y.a.object.isRequired,viewOptions:y.a.object};var Cl=Object(d.c)((function(e){var t=e.clock,n=Object(O.D)(e),r=n[t]||[],a=[];for(var o in n)o<t&&a.push.apply(a,lt()(n[o]));return{overdueItems:a,todayItems:r,today:t,user:Object(oe.i)(e),viewOptions:Object(ei.a)(e,{view:"today"})}}))(Dl);function Sl(){var e=Object(d.g)();c.useEffect((function(){e(Object(Xo.q)())}),[e]),c.useEffect((function(){var e;return null===(e=document.getElementById("filter_today"))||void 0===e||e.classList.add("current"),function(){var e;null===(e=document.getElementById("filter_today"))||void 0===e||e.classList.remove("current")}}),[]);var t=Object(d.h)((function(e){var t;return null!==(t=e.mainView.fullEditorView)&&void 0!==t&&t}));return c.createElement(c.Fragment,null,c.createElement(ia,null,c.createElement("div",{id:"editor","data-full-editor":t},c.createElement(f.a,{showErrorMsg:!0},c.createElement(Cl,null)))),c.createElement(s.e,null))}var Il=n("X+nk"),Tl=n("9/EM"),Al=n("Xep9");function xl(e){var t=e.date,n=e.weekStartDay,r=e.initialDate,a=(t.getDay()-n+7)%7,o=Object(Al.a)(t,a);return r.getTime()>o.getTime()?r:o}function Pl(e){var t=e.weekDate,n=function(e){var t=e.weekDate,n=e.weekStartDay;return 6-(t.getDay()-n+7)%7}({weekDate:t,weekStartDay:e.weekStartDay});return Object(Tl.a)(t,n+1)}function Rl(e){var t=e.initialDate,n=e.itemsByDate,r=[];for(var a in n){Object(vi.a)(a)<t&&(r=[].concat(lt()(r),lt()(n[a])))}return r.length?{date:"overdue",items:r}:null}function Nl(){return window.CSS&&CSS.supports&&CSS.supports("position","sticky")&&!Ze.k}function Ll(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ll(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ll(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fl=l.a.forwardRef((function(e,t){var n=e.style,r=e.reportScrollTop,a=e.scrollTo,o=e.children,i=Object(c.useRef)(0),s=Object(c.useRef)(null),u=Object(c.useCallback)((function(){if(s.current){var e=Math.max(0,s.current.scrollTop);r(e)}}),[s,r]);return Object(c.useEffect)((function(){s.current=Object(st.a)()}),[]),Object(c.useEffect)((function(){var e=s.current;if(e)return e.addEventListener("scroll",u),function(){return e.removeEventListener("scroll",u)}}),[s,u]),Object(c.useEffect)((function(){if(t.current){i.current=t.current.offsetTop;var e=setInterval((function(){if(t.current){var e=t.current.offsetTop;e!==i.current&&(i.current=e,u())}}),150);return function(){return clearInterval(e)}}}),[t,u]),Object(c.useEffect)((function(){a((function(e){var t=e.top;s.current&&(s.current.scrollTop=t)}))}),[s,a]),l.a.createElement("div",{ref:t,className:"upcoming_view__list__scrollable",style:Ml(Ml({},n),{},{overflow:"visible"})},o)}));Fl.propTypes={style:y.a.object,reportScrollTop:y.a.func,scrollTo:y.a.func,children:y.a.node};var zl=Fl;function Bl(e){var t=e.listId,n=e.clock,r=e.date,o=e.rowItems,c=e.isOverdueSection,s=i()(e,["listId","clock","date","rowItems","isOverdueSection"]);return c?l.a.createElement(di,a()({rootItems:o,"data-day-list-id":t,showDragHandle:!0},s)):l.a.createElement(oi,a()({rootItems:o||[],date:r,"data-day-list-id":t,allowAddShortcuts:n===t,showDragHandle:!0},s))}Bl.propTypes={listId:y.a.string.isRequired,date:y.a.instanceOf(Date),rowItems:y.a.array,isDragging:y.a.bool,isOverdueSection:y.a.bool,isScrolling:y.a.bool,clock:y.a.string};var Vl=l.a.memo(Bl);var $l=function(e){var t=e.itemsByDate,n=e.initialDate,r=e.item,a=e.overdueSection,o=e.totalCount,i=Object(c.useState)((function(){return Array(o).fill(0).map((function(e,o){if(Boolean(0===o&&a))return r(o);var i=Object(Yi.a)(Object(Tl.a)(n,a?o-1:o),{dateOnly:!0});return t[i]?r(o):null}))})),s=b()(i,1)[0];return l.a.createElement(l.a.Fragment,null,s)},Hl=Object(c.forwardRef)((function(e,t){var n=e.clock,r=e.initialDate,o=e.highlightedDate,i=e.itemsByDate,s=e.scrollOffset,u=e.onDateScroll,d=Object(c.useState)((function(){return Rl({initialDate:r,itemsByDate:i})})),f=b()(d,2),m=f[0],p=f[1],h=Object(c.useState)(0),v=b()(h,2),g=v[0],_=v[1],y=Object(c.useRef)(0),O=Object(c.useRef)(o),j=Object(c.useRef)(null),w=Object(c.useRef)(null),E=Object(c.useRef)(null),k=Object(c.useRef)(null),D=Object(c.useRef)({}),C=ri();wi({scrollOffset:{offsetTop:s},scrollSelector:"#content"}),Object(c.useEffect)((function(){if(o&&(!O.current||O.current.getTime()!==o.getTime())){var e=Object(io.a)(o,r);m&&(e+=1),O.current=o,w.current&&w.current.scrollToIndex({index:e,align:"start"})}}),[o,r,i,m]),Object(c.useEffect)((function(){D.current={},p(Rl({initialDate:r,itemsByDate:i}))}),[r,i]),Object(c.useEffect)((function(){"scrollRestoration"in history&&(history.scrollRestoration="manual")}),[]),Object(c.useEffect)((function(){o||m||u(r)}),[o,r,u,m]),Object(c.useEffect)((function(){o&&(k.current=o?Object(Yi.a)(o,{dateOnly:!0}):"")})),Object(c.useEffect)((function(){t&&(t.current={scrollToToday:function(){w.current.scrollToIndex({index:0,align:"start"}),u(m?null:r)}})}),[r,u,m,t]);var S=function(e){var t,o,c=Boolean(0===e&&m);c?(t="overdue",o=m.items):(e=m?e-1:e,D.current[e]||(D.current[e]=Object(Tl.a)(r,e)),t=Object(Yi.a)(D.current[e],{dateOnly:!0}),o=i[t]);var s=J()("section__wrapper",{"section__wrapper--empty":!o});return l.a.createElement("div",{className:s,key:t},l.a.createElement(Vl,a()({listId:t,clock:n,date:D.current[e],rowItems:o,isOverdueSection:c},C)))},I=Object(c.useCallback)((function(e){return l.a.createElement(zl,a()({ref:E},e))}),[]);return l.a.createElement("div",{className:"upcoming_view__list__wrapper",style:{marginTop:Nl()?null:s}},l.a.createElement("div",{ref:j,className:"upcoming_view__list"},Ze.r?l.a.createElement($l,{initialDate:r,itemsByDate:i,overdueSection:m,totalCount:m?732:731,item:S}):l.a.createElement(Il.a,{ref:w,ScrollContainer:I,defaultItemHeight:97,totalCount:m?732:731,overscan:0,item:S,style:{height:g},rangeChanged:function(e){y.current=e.startIndex},scrollSeek:{enter:function(){if(j.current){var e=j.current.querySelector("[data-index]");if(e){for(var t=e.getBoundingClientRect().top,n=0;E.current.offsetTop-t>=e.offsetHeight;)t+=e.offsetHeight,e=e.nextSibling,n+=1;var a=-1===(n=y.current+(m?n-1:n))&&m,o=Object(Tl.a)(r,n);return a||k.current===o?a&&(O.current=null,k.current=null,u(null)):(O.current=o,u(o)),!1}}}},totalListHeightChanged:function(e){_(e)}})))}));Hl.propTypes={clock:y.a.string.isRequired,initialDate:y.a.instanceOf(Date).isRequired,highlightedDate:y.a.instanceOf(Date),itemsByDate:y.a.object,scrollOffset:y.a.number.isRequired,onDateScroll:y.a.func};var Ul=Hl,ql=n("EhJz"),Gl=n("+ZEg"),Wl=n("fF8A"),Kl=n("ihLx");function Yl(e){var t=e.className,n=e.date,r=e.isCurrent,a=e.isSelected,o=e.isSpacer,i=void 0!==o&&o,s=e.onClick,u=void 0===s?function(){}:s,d=Object(c.useMemo)((function(){return Object(Kl.a)()}),[]);if(i)return l.a.createElement("div",{key:n.getTime(),className:t},l.a.createElement("span",{className:"upcoming_view__day_cell__weekday"},d[n.getDay()]),l.a.createElement("span",{className:"upcoming_view__day_cell__date"},n.getDate()));var f=Object(Yi.a)(n,{dateOnly:!0}),m=J()(t,"upcoming_view__day_cell",{"upcoming_view__day_cell--current":r});return l.a.createElement(ac.a,{in:a,appear:!0,timeout:150,key:n.getTime()},l.a.createElement(le.a,{className:m,onClick:u,"aria-label":f},l.a.createElement("span",{className:"upcoming_view__day_cell__weekday"},d[n.getDay()]),l.a.createElement("span",{className:"upcoming_view__day_cell__date"},l.a.createElement("span",{className:"upcoming_view__day_cell__date__number"},n.getDate()))))}Yl.propTypes={className:y.a.string,date:y.a.instanceOf(Date).isRequired,isCurrent:y.a.bool.isRequired,isSelected:y.a.bool,isSpacer:y.a.bool,isWeekdayShown:y.a.bool,onClick:y.a.func,onMouseEnter:y.a.func,onMouseLeave:y.a.func};var Jl=Yl,Ql=l.a.forwardRef((function(e,t){var n=e.collaboratorsByPID,r=e.initialDate,o=e.ignoredDays,i=e.highlightedDate,s=e.itemsByDate,u=e.uncompletedItems,d=e.weekStartDay,f=e.user,m=e.onDateSelect,p=e.onResize,h=void 0===p?function(){}:p,v=e.onScrollToToday,g=Object(c.useState)(r),y=b()(g,2),O=y[0],j=y[1],w=Object(c.useState)(!1),E=b()(w,2),k=E[0],D=E[1],C=Object(c.useState)(null),S=b()(C,2),I=S[0],T=S[1],A=Object(c.useRef)(null),x=Object(c.useMemo)((function(){return Object(Tl.a)(r,730)}),[r]),P=Object(c.useMemo)((function(){return x&&Object(ql.a)(Pl({weekDate:O,weekStartDay:d}),x)}),[x,O,d]);Object(c.useEffect)((function(){j(i?xl({date:i,weekStartDay:d,initialDate:r}):r)}),[i,r,d]),Object(c.useEffect)((function(){var e=function e(){if(t.current){var n,r=t.current.parentElement.getBoundingClientRect().width;if(!r)return setTimeout((function(){e()}),1);if(h(t.current.offsetHeight),Nl())return;if(!r)return setTimeout((function(){e()}),1);T({position:"fixed",top:(null===(n=document.getElementById("top_bar"))||void 0===n?void 0:n.offsetHeight)||44,width:r})}};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[h,t]);var R,N=Object(c.useCallback)((function(){j(function(e){var t=e.weekDate,n=e.initialDate,r=Object(Al.a)(t,7);return n.getTime()>r.getTime()?n:r}({weekDate:O,initialDate:r}))}),[O,r]),L=Object(c.useCallback)((function(){j(Pl({weekDate:O,weekStartDay:d}))}),[O,d]),M=Object(c.useCallback)((function(){v(),j(r)}),[r,v]),F=i&&xl({date:i,weekStartDay:d,initialDate:r}).getTime()===O.getTime()?i:O;return Object(tr.h)({handleNextWeekClick:L,handlePreviousWeekClick:N,handleTodayClick:M,setIsDatePickerShown:D,weekDate:O}),l.a.createElement("div",{ref:t,className:"upcoming_view__calendar__wrapper",style:I},l.a.createElement("div",{className:"upcoming_view__calendar"},l.a.createElement("div",{className:"upcoming_view__calendar__controls"},l.a.createElement(le.a,{ref:A,className:"upcoming_view__calendar__controls__picker",title:_("Go to a different date"),onClick:function(){return D(!0)}},"".concat((R=F.getMonth(),[_("January"),_("February"),_("March"),_("April"),_("May"),_("June"),_("July"),_("August"),_("September"),_("October"),_("November"),_("December")][R])," ").concat(F.getFullYear()),l.a.createElement(de.u,null)),k?l.a.createElement(Jt.c,{className:"upcoming_view__date_picker__wrapper",placement:"bottom",modifiers:[Jt.b],referenceElement:A.current,zIndex:null,isShown:k,onClose:function(){return D(!1)}},l.a.createElement(Wl.a,{className:"upcoming_view__date_picker",currentDate:r,focusedDate:F,limitDate:x,ignoredDays:o,items:u,itemsByDate:s,collaboratorsByPID:n,user:f,selectedDate:i,weekStartDay:d,onDateSelect:function(e){D(!1),m(e)},shouldScrollToFocusedDate:!0})):null,l.a.createElement("div",{className:"upcoming_view__calendar__controls__nav"},l.a.createElement(le.a,{title:_("Previous week"),onClick:N,disabled:O.getTime()===r.getTime(),"aria-label":_("Previous week")},l.a.createElement(de.Kb,null)),l.a.createElement("div",{className:"separator"}),l.a.createElement(le.a,{title:_("Next week"),"aria-label":_("Next week"),disabled:P,onClick:L},l.a.createElement(de.nb,null))),l.a.createElement(Ar.d,{title:_("Go to Today"),className:"upcoming_view__calendar__controls__today",variant:"pill",onClick:M},_("Today"))),l.a.createElement(Gl.a,{mode:"week",date:O,focusedDate:O,itemsByDate:s,limitDate:x,renderDay:function(e){return l.a.createElement(Jl,a()({},e,{isCurrent:Object(Ji.a)(e.date,r)}))},selectedDate:i,ignoredDays:o,weekStartDay:d,isFirstRowFilled:!0,isHeaderShown:!1,onDayClick:m})))}));Ql.propTypes={collaboratorsByPID:y.a.object,initialDate:y.a.instanceOf(Date).isRequired,ignoredDays:y.a.array.isRequired,highlightedDate:y.a.instanceOf(Date),itemsByDate:y.a.object,uncompletedItems:y.a.array,weekStartDay:y.a.number.isRequired,user:y.a.object.isRequired,onDateSelect:y.a.func.isRequired,onResize:y.a.func,onScrollToToday:y.a.func.isRequired,date:y.a.instanceOf(Date)};var Zl=Ql;function Xl(e){var t=e.clock,n=e.ignoredDays,r=e.collaboratorsByPID,o=e.itemsByDate,i=e.uncompletedItems,s=e.weekStartDay,u=e.user,d=Object(c.useMemo)((function(){return Object(vi.a)(t)}),[t]),f=Object(c.useState)(null),m=b()(f,2),p=m[0],h=m[1],v=Object(c.useState)(0),g=b()(v,2),_=g[0],y=g[1],O=Object(c.useRef)(null),j=Object(Ct.g)({namePrefix:"view-header",rootCssSelector:"#content"}),w=j.headerRef,E=j.stickyProps;return l.a.createElement(wc,a()({className:"upcoming_view"},E),Ze.r?null:l.a.createElement(Zl,{collaboratorsByPID:r,highlightedDate:p,initialDate:d,ignoredDays:n,itemsByDate:o,uncompletedItems:i,weekStartDay:s,user:u,onDateSelect:h,onResize:y,onScrollToToday:function(){O.current&&O.current.scrollToToday()},ref:w}),l.a.createElement(Ul,{ref:O,clock:t,initialDate:d,highlightedDate:p,itemsByDate:o,scrollOffset:_,onDateScroll:h}))}Xl.propTypes={clock:y.a.string.isRequired,collaboratorsByPID:y.a.object,ignoredDays:y.a.array.isRequired,itemsByDate:y.a.object,uncompletedItems:y.a.array,user:y.a.object.isRequired,weekStartDay:y.a.number.isRequired};var es=Object(d.c)((function(e){return{collaboratorsByPID:e.collaborators.byPID,ignoredDays:Object(oe.c)(e),itemsByDate:Object(O.D)(e),uncompletedItems:Object(O.F)(e),user:Object(oe.i)(e),weekStartDay:Object(oe.j)(e),clock:e.clock}}))(Xl);function ts(){var e=Object(d.g)();return c.useEffect((function(){e(Object(Xo.r)())}),[e]),c.useEffect((function(){var e;return null===(e=document.getElementById("filter_upcoming"))||void 0===e||e.classList.add("current"),function(){var e;null===(e=document.getElementById("filter_upcoming"))||void 0===e||e.classList.remove("current")}}),[]),c.createElement(c.Fragment,null,c.createElement(ia,null,c.createElement(f.a,{showErrorMsg:!0},c.createElement(es,null))),c.createElement(s.e,null))}var ns=n("8qSS"),rs=k.c;function as(e){var t=e.notesCount,n=void 0===t?0:t,r=e.noteParent,a=e.noteType,o=void 0===a?rs:a,i=e.hasMore,c=void 0!==i&&i,s=e.user,u=e.isMiniMode,d=void 0!==u&&u,f=o===k.d?"project|comments":"task|comments";return l.a.createElement(Te.b,{label:Object(Q.a)("Comments")},l.a.createElement(Gt.a,{view:o===k.d?{type:"project",projectId:r.id}:void 0,subPath:o===k.d?"comments":void 0,task:o===k.c?{id:r.id,activeTab:"comments"}:void 0,"data-track":f,"data-note-type":o,"data-note-parent-id":r.id,"aria-label":Object(Q.a)("Comments"),onClick:function(e){if(!e.ctrl)return n<=0&&Object(oe.n)(s)?(e.preventDefault(),GB_hide(),void function(e){e===k.c?$e.b.showTaskComment():$e.b.showProjectComment()}(o)):void 0}},l.a.createElement(ns.a,null),!d&&(n>0?l.a.createElement("span",{className:"action_label"},c?"".concat(n,"+"):n):l.a.createElement("span",{className:"action_label"},Object(Q.a)("Comments")))))}as.propTypes={noteParent:y.a.object.isRequired,noteType:y.a.oneOf([k.c,k.d]),notesCount:y.a.number,hasMore:y.a.bool,user:y.a.object,isMiniMode:y.a.bool,onClick:y.a.func};var os=n("GFxf"),is=n("sDGk"),cs=n("it2E"),ls=n("AwnZ"),ss=new(function(){function e(){R()(this,e),this.showExportTemplate=this.showExportTemplate.bind(this),this.exportAsFile=this.exportAsFile.bind(this),this.exportAsUrl=this.exportAsUrl.bind(this)}return L()(e,[{key:"showExportTemplate",value:function(e){var t,n;if(!this.checkPremiumForTemplates())return!1;var r=DIV({c:"template_exporter"},DIV(_("Please pick the template type:")),DIV(t=IstButton.createButton(_("Export as file"),svgs.get("sm1/file.svg"))),DIV(n=IstButton.createButton(_("Export as shareable URL"),svgs.get("sm1/link.svg"))),DIV({c:"template_relative"},LABEL(this.input_relative=INPUT({type:"checkbox"}),_("Use relative dates")),BR(),SPAN({c:"desc"},_("Relative means \u201cTomorrow\u201d will get turned into \u201c+1 day\u201d"))));this.input_relative.checked=!0,$AEV(t,"click",$p(this.exportAsFile,e)),$AEV(n,"click",$p(this.exportAsUrl,e,r)),GB_showHTML(_("Export as a template"),r,300,400)}},{key:"exportAsFile",value:function(e){var t=this;this.customShowGb(e,(function(e){var n=t.input_relative.checked?1:0,r=$encode({project_id:e,use_relative_dates:n}),a="/API/".concat(Ot.default.getInstance().api_version,"/templates/export_as_file?").concat(r);return window.open(a),GB_hide(),!1}))}},{key:"exportAsUrl",value:function(e,t){var n=this,r=function(e){var n=$encode({t_url:e.file_url}),r=ls.a.genereate();r.input.value="https://todoist.com/API/".concat(Ot.default.getInstance().api_version,"/import/project_from_url?").concat(n),$replace(t,DIV(_("Copy the URL"),":",BR(),r.form))};return this.customShowGb(e,(function(){$replace(t,Indicator.cssSpinner());var a=$requestJSON("/API/".concat(Ot.default.getInstance().api_version,"/templates/export_as_url"));a.addCallback(r);var o=n.input_relative.checked?1:0;a.sendReq({project_id:e,use_relative_dates:o})})),!1}},{key:"showImport",value:function(e){var t;if(!this.checkPremiumForTemplates())return!1;var n=DIV({c:"template_importer"},t=DIV({c:"upload_holder"}),DIV({c:"template_help"},_("Import tasks from a template, use this to create a new project by duplicating an existing one."),BR(),A({href:"https://todoist.com/help/articles/how-to-format-your-csv-file-so-you-can-import-it-into-todoist",target:"_blank",rel:"noopener noreferrer"},_("Learn more")))),r=function(){var t={onSuccess:function(){cs.a.get(e)&&Signals.sendSignal("instant_refresh_interface"),setTimeout(GB_hide,200)}};Ot.default.getInstance().sync(t,!0)},a=new GHtml5Uploader(t,"/API/".concat(Ot.default.getInstance().api_version,"/templates/import_into_project?project_id=").concat(e),!1,{allFilesUploaded:r,fileUploaded:r});return GB_showHTML(_("Import from template"),n,300,400,{close_validator_fn:function(){return a.remove(),!0}}),!1}},{key:"checkPremiumForTemplates",value:function(){return!!Object(T.q)(aa.default.getState())||($e.b.showTemplate(),!1)}},{key:"customShowGb",value:function(e,t){Ht.a.waitToResolve(e,(function(e){t(e)}))}}]),e}()),us=n("GfU8");n("bmyq");function ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ds(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ds(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ms=Object(d.c)((function(e){return{allCollaborators:e.collaborators.all}}),(function(e,t){var n=t.project;return{onSortByPriority:function(){e(Object(O.K)(n.id,Object(ua.e)(ua.d,ua.a)))},onSortByDate:function(){e(Object(O.K)(n.id,Object(ua.e)(ua.b,ua.d,ua.a)))},onSortByName:function(){e(Object(O.K)(n.id,Object(ua.e)(ua.c,ua.d,ua.a)))},onDuplicate:function(){e(Object(is.p)(n.id)),Signals.sendSignal("refresh_interface")},onImport:function(){ss.showImport(n.id)},onExport:function(){ss.showExportTemplate(n.id)},onShowMailItem:function(){x.a.showProjectEmail(n.id)},onShowProjectCalendar:function(){x.a.showCalFeed(n.id)},onToggleViewStyle:function(t){e(Object(rt.z)(n.id,{view_style:t}))},dispatch:e}}),(function(e,t,n){var r=e.allCollaborators,a=t.dispatch,o=i()(t,["dispatch"]),c=n.project;if(!n.isProjectShared)return fs(fs({},n),o);var l,s=(l=r,function(e,t){var n=null!=e.responsible_uid?l[e.responsible_uid]:null,r=null!=t.responsible_uid?l[t.responsible_uid]:null;return n||r?r?n?n.full_name===r.full_name?0:n.full_name>r.full_name?-1:1:1:-1:0});return fs(fs(fs({},n),o),{},{onSortByAssignee:function(){a(Object(O.K)(c.id,Object(ua.e)(Object(ua.e)(s,ua.d,ua.a))))}})}))((function(e){var t=e.project,n=e.showCompleted,r=e.isProjectShared,o=e.onAddSection,i=e.onImport,s=e.onExport,u=e.onShowMailItem,d=e.onShowProjectCalendar,f=e.onToggleCompleted,m=e.onDuplicate,p=e.onProjectEdit,h=e.onProjectArchive,v=e.onProjectDelete,g=e.onToggleViewStyle,_=e.projectViewMenuRef,y=Object(Jt.d)(),O=Object(c.useRef)(null),j=l.a.useState(!1),w=b()(j,2),E=w[0],k=w[1],D=n?Object(Q.a)("Hide completed tasks"):Object(Q.a)("Show completed tasks"),C=n?de.p:de.r,S=r?Object(Q.a)("Leave project"):Object(Q.a)("Delete project"),I=r?de.cb:de.z,T=!t.inbox_project&&!t.team_inbox,A="board"===t.view_style,x=A?Object(Q.a)("View as list"):Object(Q.a)("View as board"),P=A?de.kc:de.jc,R=Object(c.useCallback)((function(){g(A?"list":"board")}),[g,A]);function N(){k(!0)}function L(e){k(!1),e()}return Object(c.useImperativeHandle)(_,(function(){return{open:N}})),l.a.createElement(l.a.Fragment,null,l.a.createElement(le.a,{ref:O,onClick:function(){return k(!E)},"aria-label":Object(Q.d)("a11y","Project options menu"),title:Object(Q.a)("More project actions")},l.a.createElement(de.kb,null)),l.a.createElement(Jt.c,a()({},y.props,{referenceElement:O.current||void 0,isShown:E,onClose:function(){k(!1)},withArrow:!1,zIndex:!1}),l.a.createElement(Qt.b,{className:"project_view_menu","aria-label":Object(Q.d)("a11y","task edit menu")},null!=p?l.a.createElement(Qt.a,{text:Object(Q.a)("Edit project"),icon:l.a.createElement(de.F,null),onClick:function(){return L(p)}}):null,l.a.createElement(Qt.a,{text:l.a.createElement(l.a.Fragment,null,x,"\xa0",A?null:l.a.createElement(us.a,{label:Object(Q.a)("New"),type:"new"})),icon:l.a.createElement(P,null),shortcut:l.a.createElement(Te.a,{shortcut:["\u21e7","V"]}),onClick:function(){return L(R)}}),l.a.createElement(Qt.c,null),l.a.createElement(Qt.a,{text:Object(Q.a)("Add section"),icon:l.a.createElement(de.e,null),onClick:function(){return L(o)}}),l.a.createElement(Qt.c,null),l.a.createElement(Qt.a,{text:Object(Q.a)("Import from template"),icon:l.a.createElement(de.B,null),onClick:function(){return L(i)}}),l.a.createElement(Qt.a,{text:Object(Q.a)("Export as a template"),icon:l.a.createElement(de.ic,null),onClick:function(){return L(s)}}),l.a.createElement(Qt.c,null),T?l.a.createElement(Qt.a,{text:Object(Q.a)("Duplicate project"),icon:l.a.createElement(os.a,null),onClick:function(){return L(m)}}):null,l.a.createElement(Qt.a,{text:Object(Q.a)("Email tasks to this project"),icon:l.a.createElement(de.gb,null),onClick:function(){return L(u)}}),l.a.createElement(Qt.a,{text:Object(Q.a)("Project calendar feed"),icon:l.a.createElement(de.eb,null),onClick:function(){return L(d)}}),l.a.createElement(Qt.c,null),l.a.createElement(Qt.a,{text:D,icon:l.a.createElement(C,null),onClick:function(){return L(f)}}),null!=h&&null!=v?l.a.createElement(Qt.c,null):null,null!=h?l.a.createElement(Qt.a,{text:Object(Q.a)("Archive"),icon:l.a.createElement(de.g,null),onClick:function(){return L(h)}}):null,null!=v?l.a.createElement(Qt.a,{text:S,icon:l.a.createElement(I,null),onClick:function(){return L(v)}}):null)))}));var ps=function(){return l.a.createElement("div",{className:"promo_tip__container"},l.a.createElement("header",null,l.a.createElement("h1",null,_("Collaborate with others")),l.a.createElement(de.x,{className:"promo_tip__close_icon"})),l.a.createElement("p",null,_("Share projects, assign tasks, discuss in real-time, and get notified when changes are made. Todoist lets you collaborate from any web-enabled device.")))},hs={COLLABORATE_WITH_OTHERS_PROMO:"COLLABORATE_WITH_OTHERS_PROMO"};function vs(e){var t=e.show,n=e.children,r=e.variant,a=e.onDismiss,o=void 0===a?function(){}:a;Object(c.useEffect)((function(){return t&&(document.addEventListener("mousedown",o),document.addEventListener("scroll",o)),function(){document.removeEventListener("mousedown",o),document.removeEventListener("scroll",o)}}),[t,o]);var i=Object(c.useRef)(),s=null;return r===hs.COLLABORATE_WITH_OTHERS_PROMO&&(s=l.a.createElement(ps,null)),l.a.createElement(l.a.Fragment,null,n({ref:i}),l.a.createElement(Jt.c,{placement:"bottom",modifiers:[Jt.b],isShown:t,onClose:o,withArrow:!0,referenceElement:i.current},s))}vs.propTypes={show:y.a.bool,children:y.a.func.isRequired,variant:y.a.string.isRequired,onDismiss:y.a.func};var bs=vs;function gs(e){var t=e.collaboratorCount,n=e.showPromo,r=e.isMiniMode,o=void 0!==r&&r,c=e.onDismissPromo,s=i()(e,["collaboratorCount","showPromo","isMiniMode","onDismissPromo"]);return l.a.createElement(bs,{show:n,variant:hs.COLLABORATE_WITH_OTHERS_PROMO,onDismiss:c},(function(e){var n=e.ref;return l.a.createElement(le.a,a()({"aria-label":Object(Q.a)("Share options"),ref:n},(t>0||o)&&{title:Object(Q.a)("Share")},s),0===t?l.a.createElement(de.Bb,null):l.a.createElement(de.Cb,null),!o&&(0===t?l.a.createElement("span",{className:"action_label"},Object(Q.a)("Share")):l.a.createElement("span",{className:"action_label"},t)))}))}var _s=function(e){var t=e.project,n=e.noteCount,r=e.noteHasMore,a=e.collaboratorIds,o=e.collaboratorCount,i=e.isProjectShared,s=e.user,u=e.onShareOptionClick,f=e.onToggleCompleted,m=e.onProjectEdit,p=e.onProjectArchive,h=e.onProjectDelete,v=e.showCompleted,b=e.onAddSection,g=e.onDismissPromo,_=e.showPromo,y=e.headerRef,O=Object(c.useRef)(),j=Object(d.g)(),w=wl({headerRef:y}).isMiniMode;return Object(tr.d)({handleShareOptionClick:function(){return u(t.id)},handleProjectActionsClick:function(){var e,t;null==O||null===(e=O.current)||void 0===e||null===(t=e.open)||void 0===t||t.call(e)}}),l.a.createElement(ao,{header:l.a.createElement(Cn.a,{source:t.name}),subheader:t.is_archived?Object(Q.a)("Archived"):void 0,disableEditing:t.inbox_project||t.team_inbox,onRename:function(e){j(Object(rt.z)(t.id,{name:e}))},maxLength:jl.q,ref:y},l.a.createElement(as,{noteParent:t,noteType:k.d,notesCount:n,hasMore:r,user:s,isMiniMode:w}),t.inbox_project||t.is_archived?null:l.a.createElement(gs,{collaboratorCount:o,showPromo:_,isMiniMode:w,onClick:function(){return u(t.id)},onDismissPromo:g}),l.a.createElement(zi,{viewInfo:{view:"project",projectId:t.id},collaboratorIds:a,isMiniMode:w}),t.is_archived?null:l.a.createElement(ms,{projectViewMenuRef:O,project:t,showCompleted:v,isProjectShared:i,onToggleCompleted:f,onAddSection:b,onProjectEdit:m,onProjectArchive:p,onProjectDelete:h}))},ys=n("NPjY");n("fvtS");function Os(e){var t=e.section,n=e.itemCount,r=e.onCollapseChange,a=e.onRename,o=e.onDelete,i=e.onArchive,s=e.onUnarchive,u=e.withCollapser,d=void 0===u||u,f=e.withDnD,m=void 0===f||f,p=e.disabled,h=void 0!==p&&p,v=Object(c.useState)(!1),g=b()(v,2),y=g[0],O=g[1];var j=Object(Xn.b)({id:"section-".concat(t.id)});return l.a.createElement("header",j,y?l.a.createElement(xc,{section:t,onSubmit:function(e){O(!1),a(e)},onCancel:function(){return O(!1)}}):l.a.createElement(l.a.Fragment,null,!m&&!d||h?null:l.a.createElement("div",{className:"section_head__overflow_actions"},m?l.a.createElement("span",{className:"section_dnd_handle drag_and_drop_handler"},l.a.createElement(de.D,null)):null,d?l.a.createElement("div",{className:"collapser",onClick:function(){Object(Kt.a)([".section_head_menu",".section_head_menu_list",".modal_overlay"],event)||r({collapsed:!t.collapsed})}},l.a.createElement(de.q,null)):null),l.a.createElement(le.a,{className:"section_head__title","aria-label":Object(me.a)(_("Edit section {name}"),{name:t.name}),onClick:function(){a&&O(!0)},disabled:h},l.a.createElement(Cn.a,{source:t.name}),n>0?l.a.createElement("small",null,n):null),h?null:l.a.createElement("div",{className:"section_head__actions"},l.a.createElement(Tc,{section:t,itemCount:n,onRename:function(){return O(!0)},onArchive:i,onUnarchive:s,onDelete:o}))))}Os.propTypes={section:y.a.object.isRequired,itemCount:y.a.number.isRequired,onRename:y.a.func,onCollapseChange:y.a.func.isRequired,onDelete:y.a.func,onArchive:y.a.func,onUnarchive:y.a.func,withCollapser:y.a.bool,withDnD:y.a.bool,disabled:y.a.bool};var js=l.a.memo(Os),ws=n("o5ZH");var Es=Object(d.c)((function(e,t){var n=t.project;return{viewOptions:Object(ei.a)(e,{view:"project",projectId:n.id})}}))((function(e){var t,n=e.section,r=e.items,a=e.project,o=e.viewOptions,i=e.showCompleted,l=e.showSubTasks,s=e.onSectionUpdate,u=e.onAddSectionBelowClick,d=Boolean(a.is_archived),f=J()("section",{section__default:!n,section__collapsed:null!=n&&n.collapsed&&!d}),m=n?{"data-section-id":n.id}:void 0,p=c.useCallback((function(e){n&&s({id:n.id,name:e})}),[s,n]),h=c.useCallback((function(e){var t=e.collapsed;n&&s({id:n.id,collapsed:t})}),[s,n]),v=null!==(t=null==n?void 0:n.name)&&void 0!==t?t:Object(Q.a)("Tasks without a section");return c.createElement("li",m,c.createElement("section",{"aria-label":v,className:f},n?c.createElement(js,{section:n,itemCount:r.length,onRename:p,onCollapseChange:h,disabled:d}):c.createElement("header",{className:"section_head"},c.createElement("div",{className:"section_head__title"},c.createElement(Cn.a,{source:v}),r.length>0?c.createElement("small",null,r.length):null)),c.createElement(sa,{type:"project",tasks:r,"data-section-list-id":n?n.id:"null",project:a,section:n,showCompleted:i,allowAddAbove:!o,allowAddBelow:!o,allowIndentChange:!o,showDragHandle:Object(Sn.d)("frontend.sorting_options_dnd")?!o||!Object(ws.a)(o):!o,showSubTasks:l,viewOptions:o})),d?null:c.createElement(le.a,{className:"hover_action_button",onClick:function(){u(n?n.id:null)}},_("Add section")))}));var ks=function(e,t){var n=Object(c.useRef)(),r=Object(c.useRef)(),a=Object(c.useRef)(),o=document.getElementById("left_menu"),i=Object(d.h)((function(t){return Object(ei.a)(t,{view:"project",projectId:e})})),l=Object(d.h)((function(e){return e.items})),s=Object(ws.a)(i);jt({itemSelector:"[data-section-list-id] [data-item-id]",handleSelector:".item_dnd_handle",scrollSelector:["#content","#left_menu"],disabled:Object(Sn.d)("frontend.sorting_options_dnd")?s:Boolean(i),onDragStart:Object(c.useCallback)((function(e,t){n.current=mt({item:e,dragItem:t,listIdAttr:"data-section-list-id",itemIdAttr:"data-item-id",maxIndent:5,dropzone:i?"droppable":"inline"}),n.current.handleDragStart();var a=[document.getElementById("filter_inbox"),document.getElementById("filter_team_inbox")].concat(lt()(document.querySelectorAll("[data-type='project_list_item']"))).filter((function(e){return e&&"none"!==e.style.display}));r.current=a.map((function(e){var t=$position(e);return{elm:e,x:t.x,y:t.y,w:e.offsetWidth,h:e.offsetHeight}}))}),[i]),onDragging:Object(c.useCallback)((function(e){var t=function(e,t,n){var r=e.pageX,a=e.pageY+(t&&t.scrollTop||0)-$scrollTop(),o=n.current&&n.current.find((function(e){var t=e.x,n=e.y,o=e.w,i=e.h;return r>=t&&r<=t+o&&a>=n&&a<=n+i}));return o&&o.elm}(e,o,r);a.current&&a.current!==t&&a.current.classList.remove("drop_background"),t&&t.classList.add("drop_background"),a.current=t,a.current||n&&n.current&&n.current.handleDragging()}),[o]),onDragEnd:Object(c.useCallback)((function(){var r,o,c=n&&n.current&&n.current.handleDragEnd(),u=c.dragItemId,d=c.dropListId,f=c.orders;if(l){var m=a.current;if(m)return m.classList.remove("drop_background"),void t({id:Object(it.a)(u),project_id:Object(it.a)(m.getAttribute("data-id")||"")});var p=f.findIndex((function(e){return e.id===u})),h=f[p].indent,v="null"===d?null:Object(it.a)(d);if(!i||s){var b;if(1===h)b={id:Object(it.a)(u),parent_id:null,section_id:v,project_id:e};else for(var g=p;g>=0;g--)if(f[g].indent<h){b={id:Object(it.a)(u),parent_id:Object(it.a)(f[g].id),section_id:v,project_id:e};break}for(var _=p+1,y=null!==(r=null===(o=f[_])||void 0===o?void 0:o.indent)&&void 0!==r?r:null;y&&y!==h;){var O,j;y=null!==(O=null===(j=f[_+=1])||void 0===j?void 0:j.indent)&&void 0!==O?O:null}var w=y?l[f[_].id]:null,E=w?null==w?void 0:w.child_order:null;if(null===E){for(var k,D,C=p-1,S=null!==(k=null===(D=f[C])||void 0===D?void 0:D.indent)&&void 0!==k?k:null;S&&S!==h;){var I,T;S=null!==(I=null===(T=f[C-=1])||void 0===T?void 0:T.indent)&&void 0!==I?I:null}var A=S?l[f[C].id]:null;E=A?A.child_order+1:1}t(b,{id:Object(it.a)(u),to:E})}else t({id:Object(it.a)(u),section_id:v,project_id:e})}}),[s,t,e,l,i])})};var Ds=function(e){wt({listIdAttr:"data-project-list-id",itemIdAttr:"data-section-id",handleSelector:".section_dnd_handle",scrollSelector:"#content",onSort:Object(c.useCallback)((function(t){var n=t.orders;n=n.map((function(e){return{id:Object(it.a)(e.id),section_order:e.item_order}})),e(n)}),[e])})};function Cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Is(e){var t=e.showCompleted,n=e.completedInfo,r=e.labels,a=e.project,o=e.user,i=e.collaborators,s=e.onItemDelete,u=e.onItemLinkCopy,d=e.onItemCheckedChange,f=e.hintState,m=void 0===f?{}:f,p=e.fetchArchivedSections,h=e.updateHint,v=Object(c.useState)(!1),g=b()(v,2),y=g[0],O=g[1],j=Object(c.useState)(null),w=b()(j,2),E=w[0],k=w[1],D=Object(c.useRef)({}),C=Object(c.useMemo)((function(){return m.completedSections||[]}),[m.completedSections]),S=!1!==m.showSectionsHint,I=Object(c.useCallback)((function(){k(null),O(!0);var e={project_id:n.project_id};m.cursor&&(e.cursor=m.cursor),p({completedInfo:n,sections:C,hintState:m}).then((function(){O(!1)}),(function(){k(!0),O(!1)}))}),[n,p,m,C]);if(!t)return null;if(0===C.length&&(!n||0===n.archived_sections))return null;var T=C.map((function(e){var t,c=e.section,f=e.completed,m=c.collapsed,p=function(){var e={completedSections:C.filter((function(e){return e.section!==c}))};h({id:n.project_id,type:"projects",data:e})},v=f.sections[c.id],b=v&&v.completed_items||0,g=b>0,_=J()("section","section__archived",{section__collapsed:Boolean(m)});return l.a.createElement("li",{key:c.id},l.a.createElement("div",{className:_},l.a.createElement(js,{onDelete:p,onUnarchive:p,withDnD:!1,withCollapser:Boolean(g),onCollapseChange:function(){var e={completedSections:C.map((function(e){return e.section===c?Ss(Ss({},e),{},{section:Ss(Ss({},c),{},{collapsed:!m})}):e}))};h({id:n.project_id,type:"projects",data:e});var t=D.current[c.id];t&&t()},section:c,itemCount:b}),v?l.a.createElement("ul",{className:"items"},l.a.createElement($r,{completedSection:c,onChangeStatus:p,isCollapsed:m,labels:r,project:a,completedInfo:v,user:o,collaborators:i,type:"sections",itemId:c.id,onDelete:s,onCheckedChange:d,onLinkCopy:u,fetchOnExpand:!0,setFetch:(t=c.id,function(e){D.current[t]=e})})):null))})),A=(m&&m.total||n.archived_sections)-C.length,x=S&&A>0&&!isNaN(A)?l.a.createElement("li",{className:"moreItemsHint",onClick:I},l.a.createElement("div",{className:"moreItemsHint_icon"},y||m.updating?l.a.createElement(ce.b,null):l.a.createElement(de.K,null)),l.a.createElement("div",null,function(e){var t=e.error,n=e.isLoading,r=e.updating,a=e.archivedSectionsNumber;if(t)return _("Something went wrong! Please try again.");if(n)return _("Fetching sections\u2026");if(r)return _("Updating archived info\u2026");return Object(me.a)(_n("+1 archived section","+{num} archived sections",a),{num:a})}({error:E,isLoading:y,archivedSectionsNumber:A,updating:m.updating}))):null;return l.a.createElement(l.a.Fragment,null,T,x)}Is.propTypes={showCompleted:y.a.bool.isRequired,completedInfo:y.a.object,labels:y.a.object.isRequired,project:y.a.object.isRequired,onItemDelete:y.a.func.isRequired,onItemLinkCopy:y.a.func.isRequired,collaborators:y.a.object.isRequired,user:y.a.object.isRequired,onItemCheckedChange:y.a.func.isRequired,hintState:y.a.shape({completedSections:y.a.array,showSectionsHint:y.a.bool,cursor:y.a.object,total:y.a.number,updating:y.a.bool}),updateHint:y.a.func,fetchArchivedSections:y.a.func};var Ts={updateHint:Pr.g,fetchArchivedSections:Pr.c},As=Object(d.c)((function(e,t){var n=t.completedInfo&&t.completedInfo.project_id;return{hintState:Object(Pr.f)(e,{type:"projects",id:n})}}),Ts)(Is);function xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ps(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xs(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rs=Object(d.c)((function(e,t){var n=t.project;return{collaborators:e.collaborators,completed:e.completed,isDetailViewShowing:Object(m.e)(e),labels:Object(E.f)(e),tempIds:e.tempIds,user:e.user,viewOptions:Object(ei.a)(e,{view:"project",projectId:n.id})}}),(function(e){var t=Dc(e);return{onItemCheckedChange:t.onCheckedChange,onItemDelete:t.onDelete,onItemLinkCopy:t.onLinkCopy,onItemMoveAndReorder:function(t,n){Object(Mn.a)("project_list_view","reorder","task"),e(Object(j.x)(t,n))},onSectionAdd:function(t){e(Object(Ic.e)(t))},onSectionUpdate:function(t){e(Object(Ic.p)(t))},onSectionReorder:function(t){Object(Mn.a)("project_list_view","reorder","section"),e(Object(Ic.m)(t,!0))}}}))((function(e){var t=e.itemsBySid,n=e.projectItems,r=e.onAddSectionAtBottom,a=e.project,o=e.projectSections,i=e.sectionFormPos,s=e.setSectionFormPos,u=e.showCompleted,d=e.sids,f=e.collaborators,m=e.completed,p=e.isDetailViewShowing,h=e.labels,v=e.user,b=e.viewOptions,g=e.onItemCheckedChange,_=e.onItemDelete,y=e.onItemLinkCopy,O=e.onItemMoveAndReorder,j=e.onSectionAdd,w=e.onSectionUpdate,E=e.onSectionReorder,k=tc({viewOptions:b}),D=Object(Ct.f)((function(e){p||(r(),e.preventDefault())})),C=!u||function(e,t){var n=null==e?void 0:e.projects[t];return!n||!n.archived_sections&&!n.completed_items}(m,a.id),S=a.is_archived;Object(Ur.g)(Ur.a,D),ks(a.id,O),Ds(E);var I=Object(c.useMemo)((function(){return n&&k?n.filter(k):n}),[n,k]),T=Xi({tasks:I,viewOptions:b}),A=[],x=Object(c.useMemo)((function(){return T?T.reduce((function(e,t){var n,r=null!==(n=t.key)&&void 0!==n?n:"null";return Ps(Ps({},e),{},G()({},r,t.tasks))}),{}):k?d.reduce((function(e,n){var r=null!=n?n:"null";return Ps(Ps({},e),{},G()({},r,t[r].filter(k)))}),{}):t}),[T,t,d,k]),P=0===o.length&&0===t.null.length&&void 0===i&&C&&!S;if(!P&&b&&i!==d[d.length-1]&&(!I||0===I.length))return l.a.createElement(hi,null);A=T?T.map((function(e){var t;return"overdue"===e.taskListType?l.a.createElement(di,{key:e.key,rootItems:e.tasks,"data-day-list-id":e.taskListType,showProject:!1,showSectionOnly:!0,viewOptions:b,isListItem:!0}):l.a.createElement(fo,{key:e.key,header:e.header,isListItem:!0},l.a.createElement(sa,{type:e.taskListType,tasks:x[null!==(t=e.key)&&void 0!==t?t:"null"],project:a,showCompleted:u,showSectionOnly:!0,defaultAddFields:e.defaultFields,allowAdd:!e.disableAdd,viewOptions:b}))})):d.map((function(e){var t=x[null!=e?e:"null"];return l.a.createElement(Es,{showCompleted:u,showSubTasks:!k,key:e,project:a,items:t,section:o.find((function(t){return t.id===e}))||void 0,onSectionUpdate:w,onAddSectionBelowClick:s})}));var R=T&&void 0!==i?T.length:d.findIndex((function(e){return e===i}));if(-1!==R){var N=l.a.createElement("li",{key:"section_form_".concat(R)},l.a.createElement("div",{className:"section"},l.a.createElement(xc,{onSubmit:function(e){if(s(void 0),T)return j({name:e,section_order:o[o.length-1]?o[o.length-1].section_order+1:1,project_id:a.id});var t=o.find((function(e){return e.id===i})),n=null!==i&&t?t.section_order+1:Number.NEGATIVE_INFINITY;j({name:e,section_order:n,project_id:a.id})},onCancel:function(){s(void 0)}})));A.splice(R+1,0,N)}var L=J()("section_list",void 0===i?null:"section_add_active");return l.a.createElement("div",{className:"list_editor view_content","data-testid":"project-list-view"},l.a.createElement("ul",{className:L,"data-project-list-id":a.id},A,P?l.a.createElement(ie.g,{projectId:a.id}):null,l.a.createElement(As,{user:v,collaborators:f,onItemCheckedChange:g,onItemDelete:_,onItemLinkCopy:y,labels:h,project:a,completedInfo:null==m?void 0:m.projects[a.id],showCompleted:u})))}));n("IjxJ");var Ns=function(e){var t=e.onClick,n=Object(c.useState)(!1),r=b()(n,2),a=r[0],o=r[1];return l.a.createElement("div",{className:"board_add_section_trigger__container"},l.a.createElement(ac.a,{in:a,timeout:300,classNames:"board_add_section_trigger"},l.a.createElement("button",{className:"board_add_section_trigger",onClick:t,onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},onFocus:function(){return o(!0)},onBlur:function(){return o(!1)}},l.a.createElement("span",{className:"board_add_section_trigger__label"},Object(Q.a)("Add section")))))};n("J3hQ");var Ls=function(e){var t=e.onClick;return l.a.createElement("button",{className:"board_add_section_button",onClick:t},l.a.createElement(de.e,{className:"board_add_section_button__icon"}),l.a.createElement(de.d,{className:"board_add_section_button__icon_filled"}),l.a.createElement("span",{className:"board_add_section_button__label"},Object(Q.a)("Add section")))};n("Pm0r");var Ms=function(e){var t=e.projectId,n=Object(d.g)(),r=Object(c.useState)("initial"),a=b()(r,2),o=a[0],i=a[1],s=Object(d.h)((function(e){return Object(Pr.f)(e,{type:"projects",id:t})})),u=Object(c.useMemo)((function(){return s&&"completedSections"in s&&s.completedSections||[]}),[s]),f=Object(c.useCallback)((function(){return i("loading"),n(Object(Pr.c)({completedInfo:{project_id:t},hintState:s,sections:u})).then((function(){i("success")})).catch((function(){i("error")}))}),[n,t,s,u]),m=Object(d.h)((function(e){var n=Object(Pr.f)(e,{type:"projects",id:t}),r=n&&"completedSections"in n?n.completedSections.length:0;if(n&&"completedSections"in n&&!1===n.showSectionsHint)return 0;var a=e.completed&&e.completed.projects[t]&&e.completed.projects[t].archived_sections;return"number"==typeof a?a-r:0}));return"loading"===o?l.a.createElement("div",{className:"board_view__archived_sections"},l.a.createElement("div",{className:"board_archived_sections_button board_archived_sections_button--loading"},l.a.createElement(ce.b,null),l.a.createElement("span",{className:"board_archived_sections_button__label"},Object(Q.a)("Fetching sections\u2026")))):0===m?null:l.a.createElement("div",{className:"board_view__archived_sections","data-testid":"board-archived-sections-button"},l.a.createElement("button",{className:"board_archived_sections_button",onClick:f},l.a.createElement(de.i,{className:"board_archived_sections_button__icon"}),l.a.createElement(de.h,{className:"board_archived_sections_button__icon_filled"}),l.a.createElement("span",{className:"board_archived_sections_button__label"},"error"===o?Object(Q.a)("Something went wrong! Please try again."):Object(me.a)(Object(Q.b)("+1 archived section","+{num} archived sections",m),{num:m}))))},Fs=n("9l1k");n("B3oY");var zs=function(e){var t=e.type,n=e.id,r=Object(c.useState)(!1),a=b()(r,2),o=a[0],i=a[1],s=Object(c.useState)(!1),u=b()(s,2),f=u[0],m=u[1],p=Object(d.g)(),h="project"===t?"projects":"sections",v=Object(d.h)((function(e){var t=Object(Pr.f)(e,{type:h,id:n});return t&&t.cursor})),g=Object(d.h)((function(e){var t=Object(Pr.f)(e,{type:h,id:n});return t&&t.completedItems})),_=Object(d.h)((function(e){if("number"!=typeof n){var t=Object(Pr.e)(e,{id:n});return t&&t.completed_items}})),y=Object(d.h)((function(e){var t=Object(Pr.f)(e,{type:h,id:n}),r=t&&t.completedItems&&t.completedItems.length||0;if(t&&!1===t.showHint)return 0;var a=t&&t.tasksLeft,o=e.completed&&e.completed[h][n]&&e.completed[h][n].completed_items;return a||"number"==typeof o&&o-r||"number"==typeof _&&_-r||0})),O=Object(c.useCallback)((function(){return i(!0),p(Object(Pr.d)({cursor:v||void 0,completedInfo:"section"===t&&"string"==typeof n?{section_id:n}:{project_id:n},completedItems:g||[],itemId:n,type:h})).then((function(){i(!1)})).catch((function(){i(!1),m(!0)}))}),[p,n,t,h,v,g]);return o?l.a.createElement("div",{className:"fetch_completed_tasks_button fetch_completed_tasks_button--loading"},l.a.createElement(Fs.a,null),Object(Q.a)("Fetching tasks\u2026")):y>0?l.a.createElement("button",{className:J()("fetch_completed_tasks_button",{"fetch_completed_tasks_button--error":f}),onClick:O},l.a.createElement(de.K,null),f?Object(Q.a)("Something went wrong! Please try again."):Object(me.a)(Object(Q.b)("+1 completed task","+{num} completed tasks",y),{num:y})):null};function Bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bs(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $s(e){var t,n=e.projectId,r=e.editorState,a=e.editorValue,o=e.tasksBySectionIdWithoutSubTasks,c=e.viewOptions,l=r&&fl(r.treeListId,{shouldParseInt:!1}),s=null!==(t=null==l?void 0:l.sectionId)&&void 0!==t?t:null,u=o[null!=s?s:"null"],d=Object(qe.a)(u),f=Object.entries(d).reduce((function(e,t){var n=b()(t,2),r=n[0],a=n[1],o=a.indent,i=a.child_order;return Vs(Vs({},e),{},G()({},r,{order:i,indent:o||1}))}),{}),m=Object(Fn.a)(a,r,fr()("parent_id",u),d,1,f,u,n,s,null),p=m.fields,h=m.note,v=m.reminders;if(c){p.child_order;return{fields:i()(p,["child_order"]),note:h,reminders:v}}return{fields:p,note:h,reminders:v}}function Hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hs(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qs=function(e){var t=e.projectId,n=e.editorState,r=e.tasksBySectionIdWithoutSubTasks,a=e.viewOptions,o=e.onTaskUpdate,i=e.onTaskAdd,l=e.onResetEditorState,s=Object(Ct.e)(n),u=Object(Ct.e)(a),d=Object(Ct.e)(r),f=Object(c.useRef)(void 0),m=Object(c.useCallback)((function(e){f.current=e}),[]),p=function(){if(s&&n&&s.key!==n.key&&f.current){if(dl(s.mode)&&dl(n.mode)&&s.treeListId===n.treeListId)return;var e=$s({projectId:t,tasksBySectionIdWithoutSubTasks:r,editorState:s,editorValue:f.current,viewOptions:a}),c=e.fields,l=e.note,u=e.reminders;if(!br(c))return;if("edit"===s.mode)return function(){return o(c,u,null)};var d=Us({note:l,reminders:u},c);return function(){return i(d)}}}();return Object(c.useEffect)((function(){p&&p()}),[p]),Object(c.useEffect)((function(){if(n&&f.current&&d&&!Gr(u,a)){var e=$s({projectId:t,tasksBySectionIdWithoutSubTasks:d,editorState:n,editorValue:f.current,viewOptions:a}),r=e.fields,c=e.note,s=e.reminders;br(r)?("edit"===n.mode?o(r,s,null):i(Us({note:c,reminders:s},r)),l()):l()}}),[u,a,n,t,r,o,i,l,d]),{handleEditorChange:m}};var Gs=function(e){var t=e.projectId,n=e.editorState,r=e.completedTasks,a=e.completedSectionTasks,o=e.archivedSections,i=e.tasksBySectionIdWithoutSubTasks,l=e.viewOptions,s=e.newTaskIdRef,u=e.onTaskCheckedChange,d=e.onTaskAdd,f=e.onTaskUpdate,m=e.onAddToExternalProject,p=e.onResetEditorState,h=Object(c.useCallback)((function(e,t,n){if(t)u(e,t,n);else{var i,c=r&&r.map((function(e){return e.item}))||[],l=Object.values(a||{}).map((function(e){return e.completedItems.map((function(e){return e.item}))})).concat(c).flat().find((function(t){return t.id===e})),s=null==o||null===(i=o.find((function(e){return e.section.id===(null==l?void 0:l.section_id)})))||void 0===i?void 0:i.section;l&&u(e,t,n,[l],s)}}),[u,r,a,o]),v=Object(c.useCallback)((function(e){if("edit"===(null==n?void 0:n.mode)){var r=$s({projectId:t,tasksBySectionIdWithoutSubTasks:i,editorState:n,editorValue:e,viewOptions:l}),a=r.fields,o=r.reminders;f(a,o,null)}p()}),[n,p,t,i,l,f]);return{handleCheckedChange:h,handleTaskAdd:Object(c.useCallback)((function(e){var n=d(e)||{};s.current=n.id,n.project_id!==t&&m(n.id,n.project_id)}),[m,d,t,s]),handleTaskSubmit:v}};var Ws=function(e){var t=e.projectId,n=e.sortedSections,r=e.archivedSections,a=e.setSectionFormPos,o=e.onSectionAdd,i=e.onSectionRemove;return{handleSectionAdd:function(e,r){var i=null===r?null:n.find((function(e){return e.id===r}))||null,c=null===i?1:i.section_order+1;o({name:e,project_id:t,section_order:c}),a(void 0)},handleSectionUnarchiveDelete:Object(c.useCallback)((function(e){var n={completedSections:r&&r.filter((function(t){return t.section.id!==e}))};i({id:t,type:"projects",data:n})}),[r,i,t])}};function Ks(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ks(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Js=function(e){var t,n,r,o=e.clock,i=e.projectId,s=e.sections,u=e.tasksBySectionId,f=e.projectTasks,m=e.user,p=e.reminders,h=e.showCompleted,v=e.completedTasks,g=e.completedSectionTasks,_=e.viewOptions,y=e.canUseLabels,O=e.onTaskCheckedChange,j=e.onTaskUpdate,E=e.onTaskArchive,k=e.onTaskDelete,D=e.onTaskDuplicate,I=e.onTaskLinkCopy,T=e.onTaskMoveToProject,A=e.onTaskAdd,x=e.onAddToExternalProject,P=e.onSectionAdd,R=e.onSectionRemove,N=e.setFullEditorView,L=e.sectionFormPos,M=e.setSectionFormPos,F=Object(c.useState)(!1),z=b()(F,2),B=z[0],V=z[1],$=Object(c.useRef)(null),H=Object(c.useRef)(null),U=Object(Sn.d)("frontend.boards_drag_preview"),q=Object(c.useContext)(nl),W=q.onResetEditorState,K=q.editorState,Y=q.onAddBottom,J=q.onEditItem,Z=q.onTempIdResolval,X=Object(d.h)((function(e){var t=null==K?void 0:K.id;if(e.tempIds&&t)return e.tempIds[t]})),ee=Object(d.h)((function(e){var t=null==K?void 0:K.id;if(void 0!==t)return Object(S.a)(t)?t:Object(C.b)(t,e)})),te=tc({viewOptions:_}),ne=Qr({listType:"project",viewOptions:_}),re=Object(c.useMemo)((function(){return null==f?void 0:f.filter((function(e){return null===e.parent_id&&(!te||te(e))}))}),[f,te]),ae=Xi({tasks:re,viewOptions:_}),oe=Object(c.useMemo)((function(){return ae?ae.reduce((function(e,t){var n=t.key,r=t.tasks;return Ys(Ys({},e),{},G()({},null!=n?n:"null",r.sort(ne)))}),{null:[]}):Object.entries(u).reduce((function(e,t){var n=b()(t,2),r=n[0],a=n[1].filter((function(e){return te?null===e.parent_id&&te(e):null===e.parent_id}));return Ys(Ys({},e),{},G()({},null!=r?r:"null",a.sort(ne)))}),{null:[]})}),[ne,u,te,ae]),ie=Object(c.useMemo)((function(){return s.sort((function(e,t){return e.section_order-t.section_order}))}),[s]),ce=null==K?void 0:K.mode,le=Object(c.useMemo)((function(){var e;return ce===ol&&K?null!==(e=fl(K.treeListId,{shouldParseInt:!ae}).sectionId)&&void 0!==e?e:"null":null}),[K,ce,ae]),se=Boolean(null===(t=oe.null)||void 0===t?void 0:t.length),ue=ae?0===Object.keys(ae).length:0===ie.length&&0===(null===(n=oe.null)||void 0===n?void 0:n.length),de=ie.length>0?ie[ie.length-1].id:null;if(ae){var fe,me=(null===(fe=ae[0])||void 0===fe?void 0:fe.disableAdd)?ae[1]:ae[0];r=me&&me.key||"null"}else r=se||ue?"null":ie[0].id;var pe=Object(d.h)((function(e){var t,n,r;return null==e||null===(t=e.completedItems)||void 0===t||null===(n=t.projects)||void 0===n||null===(r=n[i])||void 0===r?void 0:r.completedSections})),he=Object(c.useRef)(null);Kc({dragElementRef:he});var ve=Object(c.useMemo)((function(){return ae?void 0:ie.find((function(e){var t=e.id;return(ce===ol||"edit"===ce)&&(le===t||oe[t].some((function(e){return e.id===(null==K?void 0:K.id)||e.id===ee})))}))}),[ae,ie,ce,le,oe,null==K?void 0:K.id,ee]),be=Object(c.useMemo)((function(){return ae?ae.find((function(e){var t=e.key;return(null==K?void 0:K.treeListId)===ul(i,t,null)})):void 0}),[ae,K,i]),ge=Object(ws.a)(_),_e=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sectionId,r=ul(e.project_id,n||e.section_id,null);J(r,e.id)}),[J]),ye=Object(c.useCallback)((function(e){if(null===e||"undefined"===e)return W();var t=ul(i,e,null);return Y(t,!1)}),[Y,W,i]),Oe=Object(c.useCallback)((function(){M(void 0)}),[M]),je=Object(c.useCallback)((function(){V(!0)}),[V]),we=Object(c.useCallback)((function(){V(!1)}),[V]),Ee=Ws({projectId:i,sortedSections:ie,archivedSections:pe,setSectionFormPos:M,onSectionAdd:P,onSectionRemove:R}),ke=Ee.handleSectionAdd,De=Ee.handleSectionUnarchiveDelete,Ce=Gs({projectId:i,editorState:K,completedTasks:v,completedSectionTasks:g,archivedSections:pe,tasksBySectionIdWithoutSubTasks:oe,viewOptions:_,newTaskIdRef:$,onTaskCheckedChange:O,onTaskAdd:A,onTaskUpdate:j,onAddToExternalProject:x,onResetEditorState:W}),Se=Ce.handleCheckedChange,Ie=Ce.handleTaskAdd,Te=Ce.handleTaskSubmit,Ae=qs({projectId:i,editorState:K,tasksBySectionIdWithoutSubTasks:oe,viewOptions:_,onTaskAdd:A,onTaskUpdate:j,onResetEditorState:W}).handleEditorChange;function xe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.sectionId,o=n.onEditClick,i=void 0===o?_e:o,c=!("edit"!==ce||(null==K?void 0:K.id)!==e.id&&X!==e.id||be&&(null==be?void 0:be.key)!==r),s=c&&ee?ee:e.id;return l.a.createElement(Bc.b,{key:s,type:"TASK",draggableId:"task-".concat(e.id),index:t,disableDrag:Boolean(c)||(Object(Sn.d)("frontend.sorting_options_dnd")?ge:Boolean(_))},(function(t){var n=t.innerRef,r=t.draggableProps;return c?l.a.createElement("div",a()({},r,{ref:n,className:"board_view__inline_task_editor"}),l.a.createElement(Pc.a,{key:s,user:m,item:e,canUseLabels:y,onSubmit:Te,onCancel:W,onChange:Ae,withQuickNote:!1,reminders:Object(w.f)({reminders:p})[e.id]})):l.a.createElement(l.a.Fragment,null,l.a.createElement(Gc,a()({},r,{ref:n,task:e,taskId:e.id,onCheckedChange:Se,onEditClick:i,onUpdate:j,onArchive:E,onDelete:k,onDuplicate:D,onLinkCopy:I,onMoveToProject:T})),e.id===$.current&&l.a.createElement("div",{ref:H}))}))}function Pe(e){return l.a.createElement(Gc,{key:e.id,task:e,taskId:e.id,onCheckedChange:Se,onEditClick:_e,onUpdate:j,onArchive:E,onDelete:k,onDuplicate:D,onLinkCopy:I,onMoveToProject:T})}if(Object(c.useEffect)((function(){return N(!0),function(){N(!1)}}),[N]),Object(c.useEffect)((function(){return W(),W}),[ue,W]),Object(c.useEffect)((function(){!ae&&ue&&M(null)}),[ue,M,ae]),Object(c.useEffect)((function(){H.current&&(H.current.scrollIntoView(),H.current=null,$.current=null)})),Object(c.useEffect)((function(){null!=X&&Z(X)}),[X,Z]),Object(c.useEffect)((function(){se||we()}),[se,we]),Object(Ur.g)(Ur.b,(function(){ye(r)})),Object(Ur.g)(Ur.a,(function(e){M(de),e.preventDefault()})),_&&L!==de&&(!re||0===re.length))return l.a.createElement("div",{className:"board_view__sections"},l.a.createElement(hi,null));var Re=_&&!ge?"droppable":"inline";return l.a.createElement(Bc.c,{type:"SECTION",scrollableType:"TASK",droppableId:"board-sections",direction:"horizontal",onBeforeCapture:Oe,useClone:U},(function(e,t){var n=e.innerRef,r=e.placeholder,s=e.droppableProps,u=t.draggingFromThisWith;return l.a.createElement("div",a()({className:"board_view__sections",ref:function(e){n(e),he.current=e},"data-board-dragging":B,"data-testid":"project-board-view"},s),se&&!ae&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Bc.c,{type:"TASK",droppableId:"section-null",onBeforeCapture:je,onDragEnd:we,useClone:U,forceRoot:!0,dropzone:Re},(function(e){var t=e.innerRef,n=e.placeholder,r=e.droppableProps;return l.a.createElement(Fc,{className:"board_view__section_board",sectionName:Object(Q.a)("(No Section)"),tasksCount:oe.null.length,taskContainerElementProps:r,sectionElementProps:{"data-is-dropzone":"droppable"===Re,"data-is-active":r["data-droppable-is-active"]},showTaskEditor:"null"===le,taskEditorKey:null==K?void 0:K.key,onActiveEditorChange:ye,onTaskEditorChange:Ae,sectionId:"null",projectId:i,user:m,onTaskAdd:Ie,fullHeightMode:B,ref:function(e){t(null==e?void 0:e.getTaskContainerRef())}},oe.null.map((function(e,t){return xe(e,t)})),n(l.a.createElement(zc,{type:"task"})),h&&(null==v?void 0:v.map((function(e){return Pe(e.item)}))),h&&l.a.createElement(zs,{type:"project",id:i}))})),!u&&null!==L&&ie.length>0&&l.a.createElement(Ns,{onClick:function(){M(null)}}),null===L&&ie.length>0&&l.a.createElement("div",{className:"board_view__add_section-form"},l.a.createElement(xc,{onSubmit:function(e){ke(e,null)},onCancel:function(){return M(void 0)}}))),ae?ae.map((function(e){var t=e.key||"null",n=e.header instanceof Date?so(Object(oo.a)(e.header,{representation:"date"}),o):e.header,r=oe[t];return l.a.createElement(Fc,{key:t,className:"board_view__section_board",sectionName:n,tasksCount:r.length,showTaskEditor:le===t,taskEditorKey:null==K?void 0:K.key,defaultAddFields:e.defaultFields,actions:"overdue"===e.taskListType?l.a.createElement(si,{items:r}):void 0,onActiveEditorChange:ye,onTaskEditorChange:Ae,sectionId:t,projectId:i,user:m,fullHeightMode:B,onTaskAdd:e.disableAdd?void 0:Ie},r.map((function(e,n){return xe(e,n,{sectionId:t,onEditClick:function(e){_e(e,{sectionId:t})}})})))})):ie.map((function(e,t){var n=null==ve?void 0:ve.id;return l.a.createElement(c.Fragment,{key:e.id},l.a.createElement(Bc.b,{type:"SECTION",draggableId:"section-".concat(e.id),index:t,disableDrag:e.id===n},(function(t){var n=t.innerRef,r=t.draggableProps;return l.a.createElement(Bc.c,{type:"TASK",droppableId:"section-".concat(e.id),onBeforeCapture:je,onDragEnd:we,useClone:U,forceRoot:!0,dropzone:_?"droppable":"inline"},(function(t){var a,o=t.innerRef,c=t.placeholder,s=t.droppableProps;return l.a.createElement(Fc,{className:"board_view__section_board",key:e.id,sectionName:e.name,tasksCount:oe[e.id].length,showTaskEditor:le===e.id,taskEditorKey:null==K?void 0:K.key,onActiveEditorChange:ye,onTaskEditorChange:Ae,sectionId:e.id,projectId:i,user:m,onTaskAdd:Ie,ref:function(e){e&&(o(e.getTaskContainerRef()),n(e.getSectionColumnRef()))},sectionElementProps:Ys(Ys({},r),{},{"data-is-dropzone":"droppable"===Re,"data-is-active":s["data-droppable-is-active"]}),taskContainerElementProps:s,fullHeightMode:B},oe[e.id].map((function(e,t){return xe(e,t)})),c(l.a.createElement(zc,{type:"task"})),h&&(null==g||null===(a=g[e.id])||void 0===a?void 0:a.completedItems.map((function(e){return Pe(e.item)}))),h&&l.a.createElement(zs,{type:"section",id:e.id}))}))})),!u&&!B&&L!==e.id&&t+1!==ie.length&&l.a.createElement(Ns,{onClick:function(){M(e.id)}}),t+1!==ie.length&&L===e.id&&l.a.createElement("div",{className:"board_view__add_section-form"},l.a.createElement(xc,{onSubmit:function(t){ke(t,e.id)},onCancel:function(){return M(void 0)}})))})),r(l.a.createElement(zc,{type:"section"})),h&&(null==pe?void 0:pe.map((function(e){var t,n=e.section;return l.a.createElement(Fc,{className:"board_view__section_board",key:n.id,sectionName:n.name,tasksCount:e.completed.sections[n.id]?e.completed.sections[n.id].completed_items:0,sectionId:n.id,projectId:i,user:m,fullHeightMode:B,isArchived:!0,onSectionUnarchive:De,onSectionDelete:De},null==g||null===(t=g[n.id])||void 0===t?void 0:t.completedItems.map((function(e){return Pe(e.item)})),l.a.createElement(zs,{type:"section",id:n.id}))}))),h&&l.a.createElement(Ms,{projectId:i}),ae&&L!==de?null:l.a.createElement("div",{className:"board_view__add_section"},L===de?l.a.createElement(xc,{onSubmit:function(e){ke(e,de)},onCancel:function(){return M(void 0)}}):l.a.createElement(Ls,{onClick:function(){M(de)}})))}))};var Qs=Object(d.c)((function(e,t){var n=t.projectId;return{clock:e.clock,reminders:e.reminders,completedTasks:e.completedItems&&e.completedItems.projects[n]&&e.completedItems.projects[n].completedItems,completedSectionTasks:e.completedItems&&e.completedItems.sections,viewOptions:Object(ei.a)(e,{view:"project",projectId:n}),canUseLabels:Object(T.o)(e)}}),(function(e){var t=Dc(e);return{onTaskCheckedChange:t.onCheckedChange,onTaskUpdate:t.onUpdate,onTaskArchive:t.onArchive,onTaskDelete:t.onDelete,onTaskDuplicate:t.onDuplicate,onTaskLinkCopy:t.onLinkCopy,onTaskMoveToProject:t.onMoveToProject,onTaskAdd:function(e){var n=e.note,r=e.reminders,a=i()(e,["note","reminders"]);return t.onAdd(a,n,r)},onAddToExternalProject:function(t,n){e(Object(na.c)(t,n))},onSectionAdd:function(t){e(Object(Mc.k)(t))},onSectionRemove:function(t){e(Object(qc.h)(t))},setFullEditorView:function(t){e({type:Xo.a,payload:t})}}}))(Js),Zs=n("Ikhd");var Xs=function(e){var t=e.project,n=e.projectItems,r=e.itemsBySid,o=e.notes,i=e.moreNotes,s=e.projectSections,u=e.tempIds,d=e.user,f=e.collaborators,m=e.projectCollaborators,h=e.isDetailViewShowing,v=e.viewOptions,g=e.onFileDrop,_=e.onShareOptionClick,y=e.onProjectUpdate,O=e.onProjectArchive,j=e.onProjectDelete,w=e.showPromo,E=e.onDismissPromo,C=e.isProjectShared,I=e.onToggleViewStyle,T=e.onClearViewOptions,A=Object(Gt.h)(),x=Object(c.useState)(!1),P=b()(x,2),R=P[0],N=P[1],L=Object(c.useState)(void 0),M=b()(L,2),F=M[0],z=M[1],B=Object(c.useState)(!1),V=b()(B,2),$=V[0],H=V[1],U=Object(c.useState)(!1),q=b()(U,2),G=q[0],W=q[1],K=Object(c.useMemo)((function(){return[null].concat(lt()(s.map((function(e){return e.id}))))}),[s]),Y=Object(c.useRef)(Object.values(r).reduce((function(e,t){return e+t.filter((function(e){return null===e.parent_id})).length}),0)),J=Object(p.a)(v),Z=Object(c.useMemo)((function(){return C&&m?[d.id].concat(lt()(Object.keys(m).map((function(e){return Object(S.a)(e)?u&&u[e]?u[e]:e:parseInt(e,10)})))):[]}),[C,m,u,d.id]);rc({collaboratorIds:Z,viewOptions:v,viewInfo:{view:"project",projectId:t.id}});var X=!Ze.r&&"board"===t.view_style,ee=!X,te=t.id!==d.team_inbox&&t.id!==d.inbox_project,ne=Object(c.useCallback)((function(){var e=K[K.length-1];z(e)}),[K]),re=Object(c.useCallback)((function(){H(!0)}),[]),ae=Object(c.useCallback)((function(){H(!1)}),[]),oe=Object(c.useCallback)((function(){O({id:t.id}),A({view:{type:"inbox"},replace:!0})}),[O,t.id,A]),ie=Object(c.useCallback)((function(){W(!0)}),[]),ce=Object(c.useCallback)((function(){j({id:t.id}),A({view:{type:"inbox"},replace:!0})}),[j,t.id,A]),le=Object(c.useCallback)((function(){W(!1)}),[]),se=Object(Rn.c)({title:Object(Q.a)("Reset sorting?"),confirmLabel:Object(Q.d)("confirm action","Ok"),onConfirm:function(){T(),N((function(e){return!e}))},message:Object(Q.a)("Showing completed tasks will reset your current sorting options.")}),ue=(C?Object(Q.a)("Are you sure you want to leave %s?"):Object(Q.a)("Are you sure you want to delete %s?")).replace("%s",t.name),de=C?Object(Q.a)("Leave"):Object(Q.a)("Delete"),fe=t.is_archived,me=Object(c.useCallback)((function(){if(v&&!R)return se();N((function(e){return!e}))}),[se,R,v]),pe=Object(D.j)({collaborators:f,user:d},t.id).length,he=Object(c.useCallback)((function(){h||I(X?"list":"board")}),[h,I,X]),ve=Object(c.useCallback)((function(e){g(t.id,e)}),[g,t.id]);Object(Ur.g)(Ur.e,he),Object(c.useEffect)((function(){var e=C?"shared_project":"private_project";ee?Object(Mn.a)("project_list_view","enter",e,Y.current):X&&Object(Mn.a)("project_board_view","enter",e,Y.current)}),[ee,X,C]),Object(c.useEffect)((function(){null===J&&v&&N(!1)}),[J,v]);var be=Object(Ct.g)({namePrefix:"view-header",rootCssSelector:"#content"}),ge=be.headerRef,_e=be.contentRef,ye=be.stickyProps;return l.a.createElement(l.a.Fragment,null,l.a.createElement(we,{onDrop:ve,canDrop:!h&&!fe},(function(e){var c=e.isDragging;return l.a.createElement("div",a()({className:"project_view project_editor_instance current_editor","data-project-id":t.id},ee&&ye),c&&!h?l.a.createElement("div",{className:"project_view__drop_zone"},l.a.createElement("p",{className:"project_view__drop_zone__inner"},Object(Q.a)("Add file as task / Import from template"))):null,l.a.createElement(_s,{showCompleted:R,project:t,noteCount:Object(k.q)({notes:o},t.id).length,noteHasMore:Object(Zs.b)({moreNotes:i},t.id),user:d,collaboratorIds:Z,collaboratorCount:pe,isProjectShared:C,onAddSection:ne,onToggleCompleted:me,onProjectEdit:te?re:void 0,onProjectArchive:te?oe:void 0,onProjectDelete:te?ie:void 0,onShareOptionClick:_,onDismissPromo:E,showPromo:w,headerRef:ge}),l.a.createElement(wc,{contentRef:_e},l.a.createElement(Ri,{viewInfo:{view:"project",projectId:t.id},className:ee?"list_view_options_status":"board_view__view_options_status",collaboratorIds:Z}),ee&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Rs,{itemsBySid:r,projectItems:n,project:t,projectSections:s,sids:K,showCompleted:R,sectionFormPos:F,setSectionFormPos:z,onAddSectionAtBottom:ne})),X&&l.a.createElement(Qs,{user:d,sections:s,projectId:t.id,tasksBySectionId:r,projectTasks:n,sectionFormPos:F,setSectionFormPos:z,showCompleted:R})))})),$&&l.a.createElement(ys.a,{project:t,onProjectUpdate:y,onModalClose:ae,navigateTo:A}),G&&l.a.createElement(Rn.a,{isOpen:!0,confirmLabel:de,onConfirm:ce,onCancel:le},ue))},eu=n("NZFV"),tu=n("R1vI"),nu=n("s+Lk"),ru=n("WxMS"),au=n("dgfd");function ou(){var e=l.a.useCallback((function(){nu.a.show()}),[]);return l.a.createElement(fi.a,null,l.a.createElement(mi.a,{path:"any_error.svg"}),l.a.createElement(au.a,null,Object(Vc.b)("Project not found.")),l.a.createElement(ru.a,{onClick:e},Object(Vc.b)("Back to Home view")))}function iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iu(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lu=Object(ut.a)((function(e){return Object(O.E)(e)})),su=Object(ut.a)((function(e){return Object(Ic.i)(e)}));function uu(e){var t=e.project,n=e.projectId,r=e.itemsBySid,o=e.projectSections,c=e.onFetchArchivedProject,s=i()(e,["project","projectId","itemsBySid","projectSections","onFetchArchivedProject"]),u=l.a.useState(!1),d=b()(u,2),f=d[0],m=d[1],p=l.a.useState({project:t,itemsBySid:r,projectSections:o}),h=b()(p,2),v=h[0],g=h[1],_=null!=v.project&&null!=v.itemsBySid&&null!=v.projectSections;return Object(Ct.h)((function(){var e={project:t,itemsBySid:r,projectSections:o};g((function(t){return cu(cu({},t),function(e){var t={};for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}(e))}))}),[n,t,r,o]),l.a.useEffect((function(){function e(e){400===(null==e?void 0:e.status)&&Ya.default.captureError(e,{tags:{where:"_projectView"}}),m(!0)}_||Ot.default.getInstance().sync({onSuccess:function(){_||c(n).then((function(e){var t={items:Object(qe.a)(e.items),sections:Object(qe.a)(e.sections)};g({project:cu(cu({},e.project),{},{is_archived:!0}),itemsBySid:Object(O.E)(n)(t),projectSections:Object(Ic.i)(n)(t)})})).catch(e)},onError:e})}),[_,c,n]),f?l.a.createElement(ou,null):_?l.a.createElement(Xs,a()({},v,s)):l.a.createElement(ce.b,{"aria-label":Object(Vc.b)("Loading\u2026")})}uu.propTypes={project:y.a.shape({is_archived:y.a.number}),projectId:y.a.oneOfType([y.a.number,y.a.string]),itemsBySid:y.a.object,projectSections:y.a.array,onFetchArchivedProject:y.a.func};var du=Object(d.c)((function(e,t){var n=t.projectId,r=e.projects[n],a=!r||r.is_archived?void 0:lu(n)(e),o=!r||r.is_archived?void 0:su(n)(e),i=Object(oe.d)(e)>200&&!Object(eu.m)(eu.j,e);return{itemsBySid:a,projectItems:r&&Object(O.w)(e)[r.id],projectSections:o,tempIds:e.tempIds,notes:e.notes,reminders:e.reminders,user:e.user,moreNotes:e.moreNotes,collaborators:e.collaborators,projectCollaborators:r&&e.collaborators.byPID[r.id],project:r,isDetailViewShowing:Object(m.e)(e),showPromo:i,isProjectShared:Object(tu.j)(e,n),viewOptions:Object(ei.a)(e,{view:"project",projectId:n})}}),(function(e,t){var n=t.projectId,r=Dc(e);return{onShareOptionClick:function(e){Signals.sendSignal("show_sharing_manager",e)},onFileDrop:function(t,n){var a=n[0];if(a.name.endsWith(".csv")||a.name.endsWith(".txt"))ss.showImport(t);else{var o=r.onAdd(cu(cu({},Object(O.n)()),{},{content:a.name,project_id:t})),i=new GFile;i.file=a,i.temporaryId=Math.random(),i.upload(),e(Object(k.l)({parentId:o.id,content:"",type:k.c,usersToNotify:[],files:[i]}))}},onDismissPromo:function(){e(Object(eu.o)(eu.j))},onFetchArchivedProject:function(t){return e(Object(rt.j)(t))},onProjectUpdate:function(t){var n=t.id,r=i()(t,["id"]);e(Object(rt.z)(n,r)),Signals.sendSignal("refresh_interface")},onProjectArchive:function(t){var n=t.id;e(Object(rt.g)(n))},onProjectDelete:function(t){var n=t.id;e(Object(rt.x)(n)),Signals.sendSignal("refresh_interface")},onToggleViewStyle:function(t){e(Object(rt.z)(n,{view_style:t}))},onClearViewOptions:function(){e(Object(ki.a)({view:"project",projectId:n}))}}}))(uu);function fu(){var e=function(){var e=Object(Gt.i)("projectId"),t=e.id,n=e.realId,r=e.tempId,a=Object(p.a)(t),o=Object(Gt.h)();return Object(h.a)((function(){t===n&&a===r&&o({view:{type:"project",projectId:t},replace:!0})}),[t,a,n,r,o]),{projectId:t,stableId:null!=r?r:t}}(),t=e.projectId,n=e.stableId,r=Object(d.h)((function(e){var t;return null!==(t=e.mainView.fullEditorView)&&void 0!==t&&t}))?{"data-full-editor":!0}:{},o=Object(d.g)();return c.useEffect((function(){o(Object(Xo.o)([t]))}),[o,t]),c.createElement(c.Fragment,null,c.createElement(pl,{key:n},c.createElement(ia,null,c.createElement("div",a()({id:"editor"},r),c.createElement(f.a,{showErrorMsg:!0},c.createElement(du,{projectId:t}))))),c.createElement(s.e,null))}function mu(){var e=Object(d.h)((function(e){return e.user.inbox_project}));return c.createElement(Gt.c,{view:{type:"project",projectId:e},replace:!0})}var pu=n("hMw4");function hu(e){var t=e.isShared,n=e.project,r=e.onClose;return l.a.createElement("div",{className:"item_detail_header"},l.a.createElement(le.a,{className:"item_detail_parent_info",onClick:r},l.a.createElement("div",{className:"item_detail_parent_icon"},l.a.createElement(pu.b,{isShared:t,project:n})),l.a.createElement(Dn.a,{className:"item_detail_parent_name",text:n.name})),l.a.createElement(le.a,{onClick:r,className:"item_detail_close","aria-label":_("Close")},l.a.createElement(de.x,null)))}function vu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U()(e);if(t){var a=U()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $()(this,n)}}hu.propTypes={project:y.a.object.isRequired,onClose:y.a.func.isRequired,isShared:y.a.bool};var bu=function(e){B()(n,e);var t=vu(n);function n(){var e;R()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),G()(F()(e),"handleKeyPress",(function(t){"Escape"===Object(ne.a)(t)&&e.props.onDismiss()})),G()(F()(e),"focusLockWhiteList",(function(e){return e.ownerDocument===document&&"iframe"===e.tagName.toLowerCase()})),e}return L()(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props,t=e.project,n=e.notesCount,r=e.hasMoreNotes,a=e.onDismiss,o=e.isShared;return l.a.createElement(Re.a.Box,{isOpen:!0,onDismiss:a,closeOnOverlayClick:!0,className:"detail_modal",overlayProps:{className:"detail_modal_overlay"},focusLockWhiteList:this.focusLockWhiteList,height:"expand"},l.a.createElement(Re.a.Body,null,l.a.createElement("div",{className:"item_detail",tabIndex:"-1"},l.a.createElement(f.a,{onErrorCaught:a},l.a.createElement(hu,{isShared:o,project:t,onClose:a}),l.a.createElement(re.b,null,l.a.createElement(re.a,{prerender:!1,className:"notes_tab_container",value:"comments",title:l.a.createElement(Mo,{label:_("Comments"),count:n,hasMore:r})},l.a.createElement(f.a,{showErrorMsg:!0},l.a.createElement(ot,{project:t,type:k.d,parentId:t.id,projectId:t.id}))),l.a.createElement(re.a,{value:"activity",title:_("Activity")},l.a.createElement(f.a,{showErrorMsg:!0},l.a.createElement(No,{filters:{parent_project_id:t.id}}))))))))}}]),n}(l.a.Component);G()(bu,"propTypes",{isShared:y.a.bool,project:y.a.object.isRequired,notesCount:y.a.number.isRequired,hasMoreNotes:y.a.bool.isRequired,onDismiss:y.a.func.isRequired});var gu=Object(d.c)((function(e,t){var n=t.projectId,r=e.projects;return{isShared:Object(D.m)(e,n),project:r[n],notesCount:Object(k.q)(e,n).length,hasMoreNotes:Object(k.i)(e,n)}}),(function(e){return{onClosed:function(){return e(Object(m.c)())}}}))((function(e){var t=Object(Gt.h)();return c.createElement(bu,a()({},e,{onDismiss:function(){return t({view:"current"})}}))}));function _u(e){var t=e.tab,n=Object(Gt.i)("projectId").id;return c.createElement(gu,{projectId:n,tab:t})}var yu=n("XtcL"),Ou=n("wkB0");n("pYGC");function ju(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ju(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ju(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eu(e){var t=e.labelName,n=e.totalCompleted,r=e.viewOptions,o=e.isShared,i=Object(d.g)(),s=ri(),u=Object(O.F)(s).filter((function(e){return e.labels&&e.labels.some((function(e){return e===t}))})),f=Object(c.useMemo)((function(){return u?u.reduce((function(e,t){return!t.responsible_uid||e.includes(t.responsible_uid)?e:[].concat(lt()(e),[t.responsible_uid])}),[]):[]}),[u]);rc({collaboratorIds:f,viewOptions:r,viewInfo:{view:"label",labelName:t}});var m=tc({viewOptions:r}),p=m?u.filter(m):u,h=Xi({tasks:p,viewOptions:r}),v=Object(Gt.h)();var b,g=Object(Ct.g)({namePrefix:"view-header",rootCssSelector:"#content"}),_=g.headerRef,y=g.contentRef,j=g.stickyProps,w={labels:[t]};return b=0===u.length?n<20?l.a.createElement(ie.d,null):l.a.createElement(ie.e,null):r&&0===p.length?l.a.createElement(hi,null):h?l.a.createElement(l.a.Fragment,null,h.map((function(e){return"overdue"===e.taskListType?l.a.createElement(di,{key:e.key,rootItems:e.tasks,"data-day-list-id":e.taskListType,viewOptions:r}):l.a.createElement(fo,{key:e.key,header:e.header},l.a.createElement(sa,{type:e.taskListType,tasks:e.tasks,viewOptions:r,defaultAddFields:e.defaultFields?wu(wu({},w),e.defaultFields):w,allowAdd:!e.disableAdd,showProject:!0}))}))):l.a.createElement(sa,{type:"label",key:t,tasks:p,showProject:!0,defaultAddFields:w,viewOptions:r}),l.a.createElement(wc,a()({id:"agenda_view",className:"label_view"},j),l.a.createElement(ao,{header:l.a.createElement(Cn.a,{source:t}),onRename:function(e){var n=aa.default.getState(),r=Object(Ou.a)(e);if(Object(E.j)(r,n))return alert(Object(Q.a)("Label already exists."));var a=Object(E.j)(t,n);i(a?Object(E.t)(a.id,wu(wu({},a),{},{name:e})):Object(E.s)({oldName:t,newName:e})),v({view:{type:"label",labelName:e},replace:!0})},maxLength:jl.g,ref:_},o?null:l.a.createElement(zi,{viewInfo:{view:"label",labelName:t},collaboratorIds:f})),l.a.createElement(Ri,{viewInfo:{view:"label",labelName:t},collaboratorIds:f}),l.a.createElement("div",{className:"view_content",ref:y},b))}Eu.propTypes={labelName:y.a.string.isRequired,totalCompleted:y.a.number.isRequired,viewOptions:y.a.object,isShared:y.a.bool.isRequired};var ku=Object(d.c)((function(e,t){var n=t.labelName;return{totalCompleted:Object(yu.j)(e),viewOptions:Object(ei.a)(e,{view:"label",labelName:n}),isShared:!Object(E.j)(n,e)}}))(Eu);function Du(){var e=Object(s.k)().labelName,t=Object(d.g)();return c.useEffect((function(){t(Object(Xo.n)(e))}),[t,e]),c.createElement(c.Fragment,null,c.createElement(ia,null,c.createElement("div",{id:"editor"},c.createElement(f.a,{showErrorMsg:!0},c.createElement(ku,{labelName:e})))),c.createElement(s.e,null))}var Cu=n("cdNT"),Su=n("u5z3");function Iu(e){var t=e.searchString,n=Object(d.h)(Object(k.s)(t));return 0===n.length?l.a.createElement(ie.i,{withAction:!1,headerText:Object(me.a)(_("No matches for \u201c{search_term}\u201d"),{search_term:t})}):l.a.createElement("ul",{className:"note_search_list"},n.map((function(e){return l.a.createElement(Tu,{key:e.id,note:e})})))}function Tu(e){var t=e.note,n=Object(Gt.h)(),r=!t.item_id,a=Object(d.h)((function(e){return Object(D.k)(t.posted_uid,e)})),o=Object(d.h)((function(e){return r?null:e.items[t.item_id]})),i=Object(d.h)((function(e){return e.projects[o?o.project_id:t.project_id]})),c=Object(d.h)((function(e){return!!i&&Object(D.m)(e,i.id)}));if(!i)return null;return l.a.createElement("li",null,l.a.createElement("button",{onClick:function(){n(r?{subPath:"/project/".concat(i.id,"/comments"),hash:"#comment-".concat(t.id)}:{task:{id:o.id,tab:"comments"},hash:"#comment-".concat(t.id)})}},l.a.createElement(ya.b,{user:a}),l.a.createElement("div",{className:"content"},o?l.a.createElement("h6",{className:"task_title"},l.a.createElement(Dn.a,{text:o.content,withLinks:!0})):null,l.a.createElement("div",null,l.a.createElement(Cu.a,{content:t.content}),l.a.createElement(Su.a,{attachment:t.file_attachment})),l.a.createElement("div",{className:"meta_info"},l.a.createElement("span",{className:"time"},Object(lo.a)(new Date(t.posted))),l.a.createElement(Gt.a,{view:{type:"project",projectId:i.id},className:"project_item"},l.a.createElement(Dn.a,{className:"project_item__name",text:i.name}),l.a.createElement(de.Ob,{className:"project_item__color",project:i,isShared:c}))))))}Iu.propTypes={searchString:y.a.string},Tu.propTypes={note:y.a.object.isRequired};var Au=n("P/G1"),xu=n.n(Au),Pu=n("VKKv");function Ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ru(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lu(e){var t=e.searchString,n=e.canAccessCompletedView,r=Object(d.h)(Object(O.x)(t)),a=Object(d.h)((function(e){return e.mapping.sections.byRemoteId})),o=c.useState({init:!0}),i=b()(o,2),l=i[0],s=i[1];c.useEffect((function(){s({init:!0})}),[t]);var u=function(){n?(l.error?s({retrying:!0}):s({fetching:!0}),Object(Go.a)("/completed/search",{params:{query:"search: ".concat(t),only_history:!0},withToken:!0}).then((function(e){var t=e.items.map((function(e){var t;return Nu(Nu({},Object(Pu.b)(e)),{},{section_id:null!==(t=a[e.section_id])&&void 0!==t?t:e.section_id})}));s({result:{items:t}})})).catch((function(e){var t=Ya.default.captureError(e,{extra:{response:e.response,url:e.url}}),n="STATUS: ".concat(e.response.status," ERROR_ID: ").concat(t);s({error:n})}))):$e.c()};return 0===r.length?c.createElement("div",{className:"item_search"},c.createElement(c.Fragment,null,(l.init||l.fetching)&&c.createElement(ie.i,{headerText:Object(me.a)(_("No matches for \u201c{search_term}\u201d"),{search_term:t}),withAction:!0,loading:Boolean(l.fetching),onButtonClick:u}),(l.error||l.retrying)&&c.createElement(ie.i,{headerText:_("An unknown error happened while searching. Please wait a few minutes and try again."),errorCode:l.error||l.retrying,withAction:!0,loading:Boolean(l.retrying),onButtonClick:u}),l.result&&0===l.result.items.length&&c.createElement(ie.i,{headerText:Object(me.a)(_("No completed tasks matching for \u201c{search_term}\u201d"),{search_term:t}),withAction:!1}),l.result&&l.result.items.length>0&&c.createElement(Mu,{completed:l.result.items}))):c.createElement(wc,{className:"item_search"},c.createElement(sa,{type:"search",tasks:r,allowAdd:!1,showProject:!0}),c.createElement(c.Fragment,null,l.init&&c.createElement(le.a,{className:"completed_search_btn",onClick:u},_("Search completed tasks...")),(l.fetching||l.retrying)&&c.createElement("div",{className:"spinner_holder"},c.createElement(Fs.a,null)),l.result&&0===l.result.items.length&&c.createElement("p",null,Object(me.a)(_("No completed tasks matching for \u201c{search_term}\u201d"),{search_term:t})),l.result&&l.result.items.length>0&&c.createElement(Mu,{completed:l.result.items}),l.error&&c.createElement(c.Fragment,null,c.createElement("div",{className:"error_msg"},c.createElement("p",null,_("An unknown error happened while searching. Please wait a few minutes and try again.")),c.createElement("code",null,l.error)),c.createElement(le.a,{className:"completed_search_btn",onClick:u},_("Search completed tasks...")))))}Lu.propTypes={searchString:y.a.string,canAccessCompletedView:y.a.bool};var Mu=c.memo((function(e){var t=e.completed,n=c.useState((function(){return Object(qe.a)(t)})),r=b()(n,2),a=r[0],o=r[1],i=Object(d.g)(),l=Object(d.h)((function(e){return e})),s=xu()(a).filter((function(e){return l.projects[e.project_id]})).sort(pr()(["project_id","date_completed"])),u=function(e,t){var n=a[e];i(t?Object(O.p)(e,{completeRecurring:!0}):Object(O.L)(n.id)),o(Nu(Nu({},a),{},G()({},e,Nu(Nu({},n),{},{checked:t}))))};return c.createElement("ul",{className:"items completed_item_list"},s.map((function(e){return c.createElement(cr,{key:e.id,item:e,indent:1,project:l.projects[e.project_id],labels:l.labels,reminders:[],user:l.user,collaborators:l.collaborators,showProject:!0,onCheckedChange:u})})))}));Mu.propTypes={completed:y.a.array.isRequired};n("0dfK");function Fu(e){var t=e.searchString,n=e.canAccessCompletedView,r=Object(me.a)(_("Results for \u201c{search_term}\u201d"),{search_term:t});return l.a.createElement("div",{className:"search_view__container"},l.a.createElement(ao,{disableEditing:!0,header:l.a.createElement(Cn.a,{source:r}),largeBottomMargin:!0}),l.a.createElement("div",{className:"search_view__results"},l.a.createElement(re.b,null,l.a.createElement(re.a,{value:"tasks",title:_("Tasks")},l.a.createElement(Lu,{searchString:t,canAccessCompletedView:n})),l.a.createElement(re.a,{value:"comments",title:_("Comments")},l.a.createElement(Iu,{searchString:t})))))}Fu.propTypes={searchString:y.a.string,canAccessCompletedView:y.a.bool};var zu=Object(d.c)((function(e){return{canAccessCompletedView:Object(T.b)(e)}}))(Fu),Bu=n("A0QH"),Vu=n("TYy9"),$u=n.n(Vu),Hu=n("R1EP"),Uu=n("ZnB/");function qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qu(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wu(e){var t,n,r=e.filterId,o=e.query,i=e.viewOptions,s=e.canUseFilters,u=e.onFilterUpdate,f=Object(d.h)((function(e){return e})),m=tc({viewOptions:i}),p={};r?(o=(n=Object(Uu.d)(f,r)).query,t=l.a.createElement(Cn.a,{source:n.name}),p={maxLength:jl.d,onRename:function(e){var t=Gu(Gu({},n),{},{name:e});u(t)}}):(t=l.a.createElement(Cn.a,{source:o}),p={disableEditing:!0});var h=Object(Ct.b)(o),v=b()(h,2),g=v[0],y=v[1];var O=Object(c.useMemo)((function(){return g?lt()(new Set(g.flatMap((function(e){return e.items})))):null}),[g]),j=Object(c.useMemo)((function(){return O?O.reduce((function(e,t){return!t.responsible_uid||e.includes(t.responsible_uid)?e:[].concat(lt()(e),[t.responsible_uid])}),[]):[]}),[O]),w=m?O.filter(m):O,E={view:"filter",filterId:r},k=Xi({tasks:w,viewOptions:i});rc({collaboratorIds:j,viewOptions:i,viewInfo:E,disabled:null==r});var D,C=Object(Ct.g)({namePrefix:"view-header",rootCssSelector:"#content"}),S=C.headerRef,I=C.contentRef,T=C.stickyProps,A=!1;if(y){if(!r)return l.a.createElement(zu,{searchString:o});D=l.a.createElement(ie.c,{symbol:y.badSymbol,query:y.queryString,onButtonClick:function(){s?Object(Re.b)((function(e){return l.a.createElement(Hu.a,{filter:n,onCreate:function(){},onUpdate:u,onClose:e})})):Object($e.d)()}})}else if(0===(null==O?void 0:O.length))D=l.a.createElement(ie.b,null);else if(i&&0===(null==w?void 0:w.length))D=l.a.createElement(hi,null);else{var x;x=k?k.map((function(e){return{header:e.header,showDue:i.grouped_by!==Yr.g,items:e.tasks,type:e.taskListType}})).filter(Boolean):$u()(g.map((function(e){var t,n,r=m?e.items.filter(m):e.items;if(m&&!r.length)return null;t=e instanceof Bu.b?"overdue":e instanceof Bu.a?"day":"filter";var a=!0;if(e instanceof Bu.b){if(0===r.length)return null;n=_("Overdue")}else e instanceof Bu.a?(n=e.day_date,a=!1):n=e.name;return{header:n,showDue:a,items:r,type:t}}),[]).filter((function(e){return Boolean(e)}))),A=Boolean(k)||x.length>1||1===x.length&&!(x instanceof Bu.a),D=x.map((function(e,t){var n=e.header,r=e.showDue,a=e.items,o=e.type;return"overdue"===o?l.a.createElement(di,{key:t,rootItems:a,"data-day-list-id":"overdue",viewOptions:i}):l.a.createElement(fo,{key:t,header:A?n:void 0},l.a.createElement(sa,{type:o,tasks:a,showTaskDue:r,allowAdd:!1,showProject:!0,viewOptions:i}))}))}return l.a.createElement(wc,a()({className:"filter_view"},T),l.a.createElement(ao,a()({header:t,largeBottomMargin:!i&&A},p,{ref:S}),r?l.a.createElement(zi,{viewInfo:E,collaboratorIds:j}):null),l.a.createElement(Ri,{viewInfo:E,collaboratorIds:j}),l.a.createElement("div",{className:"view_content",ref:I},D))}Wu.propTypes={filterId:y.a.oneOfType([y.a.number,y.a.string]),query:y.a.string,viewOptions:y.a.object,canUseFilters:y.a.bool,onFilterUpdate:y.a.func};var Ku=Object(d.c)((function(e,t){var n=t.filterId;return{canUseFilters:Object(T.n)(e),viewOptions:null!=n?Object(ei.a)(e,{view:"filter",filterId:n}):null}}),(function(e){return{onFilterUpdate:function(t){var n=t.id,r=i()(t,["id"]);e(Object(Uu.i)(n,r))}}}))(Wu);function Yu(){var e=Object(s.k)().searchQuery,t=Object(d.g)();return c.useEffect((function(){t(Object(Xo.p)(e))}),[t,e]),c.createElement(c.Fragment,null,c.createElement(ia,null,c.createElement("div",{id:"editor"},c.createElement(f.a,{showErrorMsg:!0},c.createElement(Ku,{query:e})))),c.createElement(s.e,null))}function Ju(){var e=function(){var e=Object(Gt.i)("filterId"),t=e.id,n=e.realId,r=e.tempId,a=Object(p.a)(t),o=Object(Gt.h)();return Object(h.a)((function(){t===n&&a===r&&o({view:{type:"filter",filterId:t},replace:!0})}),[t,a,n,r,o]),{filterId:t,stableId:null!=r?r:t}}(),t=e.filterId,n=e.stableId,r=Object(d.g)();return c.useEffect((function(){r(Object(Xo.l)(t))}),[r,t]),c.createElement(c.Fragment,null,c.createElement(ia,{key:n},c.createElement("div",{id:"editor"},c.createElement(f.a,{showErrorMsg:!0},c.createElement(Ku,{filterId:t})))),c.createElement(s.e,null))}function Qu(){var e=Object(s.l)(),t=b()(e,2),n=t[0],r=t[1],a=n.get("projectId")||void 0,o=n.get("eventType")||void 0,i=parseInt(String(n.get("userId")),10)||void 0,l=c.useCallback((function(e){r(JSON.parse(JSON.stringify(e)))}),[r]),u=Object(d.g)();return c.useEffect((function(){u({type:"VIEW_SHOW_ACTIVITY_LOG",payload:{projectId:a,userFilter:i,eventFilter:o}})}),[a,i,o,u]),c.createElement(c.Fragment,null,c.createElement(f.a,{showErrorMsg:!0},c.createElement(Ro,{projectId:a,userId:i,setParams:l,eventTypeParam:o})),c.createElement(s.e,null))}var Zu=n("P/y/"),Xu=n("IZBg"),ed=n("kqao"),td=n.n(ed);function nd(){return c.createElement("div",{className:td.a.dropPlaceholder})}function rd(e){var t=e.filters,n=e.canUseFilters,r=e.onFilterEdit,o=e.onFilterDelete,i=e.onFilterFavorite,l=e.onFilterCreate;return 0===t.length?c.createElement("div",{className:td.a.emptyMessage},Object(Q.a)("Your list of filters will show up here.")):c.createElement(Bc.c,{type:"FILTER",droppableId:"filters-labels-view-filters-list"},(function(e){var s=e.innerRef,u=e.placeholder,d=e.droppableProps;return c.createElement("ul",a()({className:"items generic_left_list","aria-label":Object(Q.a)("Filters"),ref:s},d),t.map((function(e,t){return c.createElement(Bc.b,{key:e.id,draggableId:"filter-".concat(e.id),index:t,type:"FILTER"},(function(t){var s=t.innerRef,u=t.draggableProps;return c.createElement("li",a()({className:td.a.listItem,ref:s},u),c.createElement(Xu.a,{filter:e,count:0,onFilterEdit:r,onFilterDelete:n?o:void 0,onFilterFavorite:n?i:void 0,onFilterCreate:n?l:void 0}))}))})),u(c.createElement(nd,null)))}))}var ad=n("y0MZ");function od(e){var t=e.canUseLabels,n=e.labels,r=e.labelCount,o=e.onLabelEdit,i=e.onLabelDelete,l=e.onLabelFavorite,s=e.onLabelRemoveFromPersonal,u=e.onLabelCreate;return 0===n.length?c.createElement("div",{className:td.a.emptyMessage},Object(Q.a)("Your list of labels will show up here.")):c.createElement(Bc.c,{type:"LABEL",droppableId:"filters-labels-view-labels-list"},(function(e){var d=e.innerRef,f=e.placeholder,m=e.droppableProps;return c.createElement("ul",a()({className:"items generic_left_list","aria-label":Object(Q.a)("Labels"),ref:d},m),n.map((function(e,n){return c.createElement(Bc.b,{key:e.id,draggableId:"label-".concat(e.id),index:n,type:"LABEL"},(function(n){var d=n.innerRef,f=n.draggableProps;return c.createElement("li",a()({className:td.a.listItem,ref:d},f),c.createElement(ad.a,{label:e,count:r[e.name]||0,onLabelEdit:o,onLabelDelete:t?i:void 0,onLabelFavorite:t?l:void 0,onLabelRemoveFromPersonal:t?s:void 0,onLabelCreate:t?u:void 0}))}))})),f(c.createElement(nd,null)))}))}function id(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?id(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):id(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ld={name:"",query:"",color:0},sd={name:"",color:0};var ud=Object(d.c)((function(e){return{canUseFilters:Object(T.n)(e),canUseLabels:Object(T.o)(e),filters:Object(Uu.c)(e),personalLabels:Object(E.g)(e),sharedLabels:Object(E.h)(e),labelCount:Object(qt.b)(e)}}),(function(e){return{onReorderFilters:function(t){e(Object(Uu.j)(t))},onFilterCreate:function(t){return e(Object(Uu.b)(t))},onFilterUpdate:function(t){var n=t.id,r=i()(t,["id"]);e(Object(Uu.i)(n,r))},onFilterDelete:function(t){e(Object(Uu.h)(t.id))},onFilterFavorite:function(t){return e(Object(Uu.i)(t.id,{is_favorite:!0}))},onReorderLabels:function(t){e(Object(E.u)(t))},onLabelRename:function(t){var n=t.oldName,r=t.newName;e(Object(E.s)({oldName:n,newName:r}))},onLabelCreate:function(t){e(Object(E.d)(t))},onLabelUpdate:function(t){var n=t.id,r=t.name,a=t.color,o=t.is_favorite;e(Object(E.t)(n,{name:r,color:a,is_favorite:o}))},onLabelDelete:function(t){e(Object(E.q)(t.name))},onLabelFavorite:function(t){e(Object(E.t)(t.id,{is_favorite:1}))},onLabelMoveToPersonal:function(t){e(Object(E.p)(t.name))},onLabelRemoveFromPersonal:function(t){e(Object(E.r)(t.id))}}}))((function(e){var t=e.canUseFilters,n=e.canUseLabels,r=e.filters,a=e.personalLabels,o=e.sharedLabels,l=e.labelCount,s=e.onReorderFilters,u=e.onFilterCreate,d=e.onFilterUpdate,f=e.onFilterDelete,m=e.onFilterFavorite,p=e.onReorderLabels,h=e.onLabelRename,v=e.onLabelCreate,b=e.onLabelUpdate,g=e.onLabelDelete,_=e.onLabelFavorite,y=e.onLabelMoveToPersonal,O=e.onLabelRemoveFromPersonal;function j(e){var t=e.item_order,n=i()(e,["item_order"]);if("number"==typeof t){var a=r.reduce((function(e,n){return e[n.id]=n.item_order>=t?n.item_order+1:n.item_order,e}),{});s(a)}u("number"==typeof t?cd(cd({},n),{},{item_order:t}):n)}function w(e){d(e)}function E(e){t?Object(Re.b)((function(t){return c.createElement(Hu.a,{filter:e,onCreate:j,onUpdate:w,onClose:t})})):$e.d()}function k(e){var t=e.item_order,n=i()(e,["item_order"]);if("number"!=typeof t)v(n);else{var r=a.reduce((function(e,n){return e[n.id]=n.item_order>=t?n.item_order+1:n.item_order,e}),{});p(r),v(cd(cd({},n),{},{item_order:t}))}}function D(e){b(e)}function C(e){var t=e.oldName,n=e.newName;h({oldName:t,newName:n})}function S(e){n?Object(Re.b)((function(t){return c.createElement(Zu.a,{label:e,labels:a.map((function(e){return e.name})),onLabelCreate:k,onLabelUpdate:D,onLabelRename:C,onModalClose:t})})):$e.e()}return c.createElement("div",{className:td.a.filtersLabelsView},c.createElement(ao,{header:c.createElement(Cn.a,{source:Object(Q.a)("Filters & Labels")}),disableEditing:!0,largeBottomMargin:!0}),c.createElement("div",{className:"view_content"},c.createElement(fo,{header:Object(Q.a)("Filters"),withCollapser:!0,actions:c.createElement(le.a,{title:Object(Q.a)("Add new filter"),"aria-label":Object(Q.a)("Add new filter"),className:"section_head_menu",onClick:function(){return E(cd(cd({},ld),{},{item_order:1}))}},c.createElement(de.Hb,null))},c.createElement(rd,{canUseFilters:t,filters:r,onFilterEdit:function(e){return E(e)},onFilterDelete:f,onFilterFavorite:m,onFilterCreate:function(e){return E(cd(cd({},ld),{},{item_order:e}))}})),n?c.createElement(fo,{header:Object(Q.a)("Labels"),withCollapser:!0,actions:c.createElement(le.a,{title:Object(Q.a)("Add new label"),"aria-label":Object(Q.a)("Add new label"),className:"section_head_menu",onClick:function(){return S(cd(cd({},sd),{},{item_order:1}))}},c.createElement(de.Hb,null))},c.createElement(od,{canUseLabels:n,labels:a,labelCount:l,onLabelEdit:function(e){return S(e)},onLabelDelete:function(e){g(e)},onLabelFavorite:_,onLabelRemoveFromPersonal:O,onLabelCreate:function(e){return S(cd(cd({},sd),{},{item_order:e}))}}),o.length>0?c.createElement(fo,{header:Object(Q.a)("Shared Labels"),withCollapser:!0,className:td.a.sharedLabelsList},c.createElement("ul",{className:"items generic_left_list","aria-label":Object(Q.a)("Shared Labels")},o.map((function(e){return c.createElement("li",{key:e.name,className:"LabelListItem"},c.createElement(ad.a,{label:e,color:jn.c,count:l[e.name]||0,onLabelRename:function(e){return S(e)},onLabelDelete:g,onLabelMoveToPersonal:y}))})))):null):null))}));function dd(){return c.useEffect((function(){var e;return null===(e=document.getElementById("filters_labels"))||void 0===e||e.classList.add("current"),function(){var e;null===(e=document.getElementById("filters_labels"))||void 0===e||e.classList.remove("current")}}),[]),c.createElement(c.Fragment,null,c.createElement(ia,null,c.createElement(f.a,{showErrorMsg:!0},c.createElement(ud,null))),c.createElement(s.e,null))}function fd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.children,o=i()(n,["children"]);return c.createElement(s.f,a()({path:e,element:t},o),c.createElement(s.f,{path:"task/:taskId",element:c.createElement(Zo,null)}),c.createElement(s.f,{path:"task/:taskId/:tab",element:c.createElement(Zo,null)}),r)}function md(e){var t=e.mainContentRef,n=Object(s.i)();return c.useEffect((function(){var e;null==t||null===(e=t.current)||void 0===e||e.focus()}),[t,n]),c.createElement(u.a,{basename:"app"},c.createElement(s.f,{path:"task/:taskId",element:c.createElement(Qo,null)}),c.createElement(s.f,{path:"task/:taskId/:syncId",element:c.createElement(Qo,null)}),fd("today",c.createElement(Sl,null)),fd("upcoming",c.createElement(ts,null)),fd("inbox",c.createElement(mu,null)),fd("filters-labels",c.createElement(dd,null)),fd("project/:projectId",c.createElement(fu,null),{children:c.createElement(c.Fragment,null,c.createElement(s.f,{path:"comments",element:c.createElement(_u,{tab:"comments"})}),c.createElement(s.f,{path:"activity",element:c.createElement(_u,{tab:"activity"})}))}),fd("label/:labelName",c.createElement(Du,null)),fd("search/:searchQuery",c.createElement(Yu,null),{children:c.createElement(s.f,{path:"project/:projectId/comments",element:c.createElement(_u,{tab:"comments"})})}),fd("filter/:filterId",c.createElement(Ju,null)),fd("activity",c.createElement(Qu,null),{children:c.createElement(s.f,{path:"project/:projectId/comments",element:c.createElement(_u,{tab:"comments"})})}),c.createElement(s.f,{path:"*",element:c.createElement("div",null)}))}function pd(e){var t=e.when,n=e.title,r=void 0===n?Object(Q.a)("Discard changes?"):n,a=e.message,o=void 0===a?Object(Q.a)("The changes you've made won't be saved."):a,i=e.confirmLabel,l=void 0===i?Object(Q.a)("Discard"):i,u=e.cancelLabel,d=void 0===u?Object(Q.a)("Cancel"):u,f=c.useCallback((function(e){Object(Re.b)((function(t){return c.createElement(Rn.a,{title:r,confirmLabel:l,cancelLabel:d,isOpen:!0,onCancel:t,onConfirm:function(){e.retry(),t()}},o)}))}),[r,o,l,d]);Object(s.h)(f,t)}function hd(e){return pd(e),null}},CX2L:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("g",{fill:"currentColor"},r.createElement("path",{d:"M13.5 9.5V12a1.5 1.5 0 01-1.5 1.5H4A1.5 1.5 0 012.5 12V9.5h3.75a1.75 1.75 0 003.5 0h3.75z",opacity:.1}),r.createElement("path",{d:"M10.491 2a2 2 0 011.923 1.45l1.509 5.28a2 2 0 01.077.55V12a2 2 0 01-2 2H4a2 2 0 01-2-2V9.28a2 2 0 01.077-.55l1.509-5.28A2 2 0 015.509 2h4.982zm0 1H5.51a1 1 0 00-.962.725l-1.509 5.28A1 1 0 003 9.28V12a1 1 0 001 1h8a1 1 0 001-1V9.28a1 1 0 00-.038-.275l-1.51-5.28a1 1 0 00-.96-.725zM6.25 9a.5.5 0 01.5.5 1.25 1.25 0 002.5 0 .5.5 0 01.41-.492L9.75 9h1.75a.5.5 0 01.09.992L11.5 10h-1.306a2.25 2.25 0 01-4.347.156L5.806 10H4.5a.5.5 0 01-.09-.992L4.5 9h1.75zM8 6.5c.952 0 1.564.255 1.836.764a.5.5 0 01-.35.728L9.395 8H6.604a.5.5 0 01-.441-.736C6.436 6.754 7.048 6.5 8 6.5zM8 4a1 1 0 110 2 1 1 0 010-2z"}));function i(e){return r.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16"},e),o)}n.p},CZSy:function(e,t,n){"use strict";n.d(t,"s",(function(){return r})),n.d(t,"u",(function(){return a})),n.d(t,"r",(function(){return o})),n.d(t,"t",(function(){return i})),n.d(t,"q",(function(){return c})),n.d(t,"v",(function(){return l})),n.d(t,"w",(function(){return s})),n.d(t,"x",(function(){return u})),n.d(t,"y",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return g})),n.d(t,"B",(function(){return _})),n.d(t,"p",(function(){return y})),n.d(t,"m",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"A",(function(){return w})),n.d(t,"o",(function(){return E})),n.d(t,"l",(function(){return k})),n.d(t,"b",(function(){return D})),n.d(t,"z",(function(){return C})),n.d(t,"n",(function(){return S})),n.d(t,"k",(function(){return I})),n.d(t,"a",(function(){return T}));var r=null,a="ALPHABETICALLY",o="ASSIGNEE",i="DUE_DATE",c="ADDED_DATE",l="PRIORITY",s="PROJECT",u="ASC",d="DESC",f=null,m="ASSIGNEE",p="ADDED_DATE",h="DUE_DATE",v="LABEL",b="PRIORITY",g="PROJECT",_="TODAY",y="PROJECT",O="LABEL",j="FILTER",w="TODAY_VIEW_OPTIONS_SET",E="PROJECT_VIEW_OPTIONS_SET",k="LABEL_VIEW_OPTIONS_SET",D="FILTER_VIEW_OPTIONS_SET",C="TODAY_VIEW_OPTIONS_RESET",S="PROJECT_VIEW_OPTIONS_RESET",I="LABEL_VIEW_OPTIONS_RESET",T="FILTER_VIEW_OPTIONS_RESET"},Cxpo:function(e,t,n){e.exports=n.p+"assets/images/88bb0bf8e8051a9e3626e8c299fead27.png"},D5jt:function(e,t){var n,r=function(e,t){return function(){return e.apply(t,arguments)}};n=function(){function e(){this.attach=r(this.attach,this),this.clearCurrentTimeout=r(this.clearCurrentTimeout,this)}return e.prototype.default_timeout=400,e.prototype.timeouts={},e.prototype.current_id=null,e.prototype.clearCurrentTimeout=function(){var e,t,n;return this.current_timeout&&(n=(e=this.current_timeout)[0],t=e[1],clearTimeout(t),delete this.timeouts[n]),this.current_id=null},e.prototype.attach=function(e,t,n,r,a){var o,i;return null==a&&(a={}),o=a.timeout||this.default_timeout,$AEV(e,"mouseover",(i=this,function(e){var r;if((r=i.timeouts[t])&&(clearTimeout(r),delete i.timeouts[t]),i.current_id!==t)return i.current_id=t,n?n(e):void 0})),$AEV(e,"mouseout",function(e){return function(a){var i;return(i=e.timeouts[t])&&clearTimeout(i),e.timeouts[t]=setTimeout((function(t){if(e.current_id=null,n)return r(t)}),o),e.current_timeout=[t,e.timeouts[t]]}}(this))},e}(),window.MouseHover=new n},DKBB:function(e,t,n){"use strict";n("Q5E6"),n("Iknz"),n("8LmN"),n("F4YY"),n("ER8O"),n("1AK2"),n("iqYv"),n("uDSZ"),n("SMwu"),n("bh02"),n("j841"),n("vBpM"),n("6Z8W"),n("70oM"),n("JWN4"),n("fPZF"),n("uij1"),n("hYE5"),n("C2QG"),n("FOR8"),n("2hSK"),n("RHZr"),n("AOAU"),n("C98Z"),n("D5jt"),n("M5LU"),n("MiIy");var r=n("On9x"),a=n.n(r);!function(e){var t=function(e,t,n){var r=n||{},o=r.bufferLen||4096;this.context=e.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,o,2,2),this.local_stream=t;var i=new a.a;i.postMessage({command:"init",config:{sampleRate:this.context.sampleRate}});var c,l=!1;this.node.onaudioprocess=function(e){l&&i.postMessage({command:"record",buffer:[e.inputBuffer.getChannelData(0),e.inputBuffer.getChannelData(1)]})},this.configure=function(e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])},this.record=function(){l=!0},this.stop=function(){l=!1},this.stopStream=function(){if(this.local_stream){var e=this.local_stream.getAudioTracks();e.length>0&&(e[0].stop(),this.local_stream=null)}},this.clear=function(){this.stopStream(),i.postMessage({command:"clear"})},this.getBuffer=function(e){c=e||r.callback,i.postMessage({command:"getBuffer"})},this.exportWAV=function(e,t){if(c=e||r.callback,t=t||r.type||"audio/wav",!c)throw new Error("Callback not set");i.postMessage({command:"exportWAV",type:t})},i.onmessage=function(e){var t=e.data;c(t)},e.connect(this.node),this.node.connect(this.context.destination)};t.forceDownload=function(t,n){var r=(e.URL||e.webkitURL).createObjectURL(t),a=e.document.createElement("a");a.href=r,a.download=n||"output.wav";var o=document.createEvent("Event");o.initEvent("click",!0,!0),a.dispatchEvent(o)},e.Recorder=t}(window);n("otg2"),n("YoG7"),n("rk27"),n("apZ8")},Dn8j:function(e,t,n){e.exports={container:"p38MS4Z5Vt4kBdT8Of3gv",spinner:"_1RoFqur7neceeJ0omHFWJN",spinnerBackground:"_26nInAcOIBBBmXTX4nWr3Z"}},DoMW:function(e,t,n){"use strict";t.a=function(e){return e.reduce((function(e,t){return e[t.id]=t,e}),{})}},DwLa:function(e,t,n){},"E/dK":function(e,t,n){e.exports={viewMenu:"_3f3-QUJXXDmmbHx32dQyUB",viewMenuDropdownToggle:"_1xc7GXp-6X-fD5V8lJsqaD",viewMenuReset:"_2We1AyTfLFX_nPzIBJbX3m",viewMenuHelpLink:"_1VDxNlBizBdwbKOMCLW8Ax"}},EH7W:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7W2i"),l=n.n(c),s=n("a1gu"),u=n.n(s),d=n("Nsbk"),f=n.n(d),m=n("lSNA"),p=n.n(m),h=n("q1tI"),v=n.n(h),b=n("17x9"),g=n.n(b);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var y=function(e){l()(n,e);var t=_(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){return v.a.createElement("div",{className:"empty-state-body"},this.props.children)}}]),n}(v.a.PureComponent);p()(y,"propTypes",{children:g.a.node}),t.a=y},ER8O:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addCallback=this.addCallback.bind(this),this.addView=this.addView.bind(this),this.removeView=this.removeView.bind(this),this.notify=this.notify.bind(this),this.resetStates=this.resetStates.bind(this),this.reset=this.reset.bind(this),this.setUploadContent=this.setUploadContent.bind(this),this.upload=this.upload.bind(this),this.resolveFileType=this.resolveFileType.bind(this),this.callbacks=[],this.file_views=[]}return r(e,null,[{key:"initClass",value:function(){this.prototype.url="/sync/v8/upload_file?",this.prototype.file_server_info=null,this.prototype.file=null,this.prototype.xhr=null,this.prototype.processed=!1,this.prototype.success=!1,this.prototype.removed=!1,this.prototype.error=!1,this.prototype.progress_prct=0}}]),r(e,[{key:"addCallback",value:function(e){this.callbacks.push(e),this.processed&&setTimeout(this.notify,300)}},{key:"addView",value:function(e){this.file_views.push(e)}},{key:"removeView",value:function(e){$arrayRemove(this.file_views,e)}},{key:"notify",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,a=this.callbacks[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){(0,r.value)(this)}}catch(e){t=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw n}}}},{key:"resetStates",value:function(){this.processed=!1,this.success=!1,this.error=!1}},{key:"reset",value:function(){this.resetStates(),this.file=null,this.xhr&&(this.xhr.abort(),this.xhr=null),this.notify()}},{key:"setUploadContent",value:function(e){this.instant=!0,this.processed=!0,this.success=!0,this.progress_prct=100,this.file={name:e.file_name},this.resolveFileType(e),this.file_server_info=e}},{key:"upload",value:function(){var e=this;this.xhr&&this.xhr.abort(),this.resetStates();var t=this.file,n=t.name||t.fileName;if(t.size>1e8){alert(_('The file should be less than 20MB. "%s" is more than that.').replace("%s",n).replace("20MB","100MB"));var r=!0,a=!1,o=void 0;try{for(var i,c=this.file_views[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)i.value.remove()}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}}else{var l=new XMLHttpRequest;l.upload.addEventListener("progress",(function(t){if(t.lengthComputable){var n=parseInt(t.loaded/t.total*100);e.progress_prct=n;var r=!0,a=!1,o=void 0;try{for(var i,c=e.file_views[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)i.value.updateProgress(n)}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}}else;}),!1);var s=function(t){e.processed=!0,e.error=!0,e.xhr=null;var n=!0,r=!1,a=void 0;try{for(var o,i=e.file_views[Symbol.iterator]();!(n=(o=i.next()).done);n=!0)o.value.updateProgress(100)}catch(e){r=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}e.notify()};l.addEventListener("load",(function(t){var n=void 0,r=t.currentTarget;try{n=JSON.parse(r.responseText)}catch(e){return s()}var a=!0,o=!1,i=void 0;try{for(var c,l=e.file_views[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)c.value.updateProgress(100)}catch(e){o=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw i}}if(200!==r.status)s(n.errors);else{var u=!0,d=!1,f=void 0;try{for(var m,p=e.file_views[Symbol.iterator]();!(u=(m=p.next()).done);u=!0)m.value.uploadDone(n)}catch(e){d=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(d)throw f}}e.file_server_info=n,e.processed=!0,e.success=!0,e.xhr=null,e.notify()}}),!1),l.addEventListener("error",(function(){s()}));var u=new FormData;u.append("file_name",n),u.append("file_size",t.size||t.fileSize),u.append("file_type",t.type||t.fileType),this.duration&&u.append("file_duration",this.duration),u.append("file",t),this.xhr=l;var d=this.url+"&"+$encode({token:window.User.token,file_name:n});l.open("POST",d,!0),l.send(u)}}},{key:"resolveFileType",value:function(e){if(e.file_name){var t=e.file_type,n="application/octet-stream",r=e.file_name.toLowerCase();t&&0===t.indexOf("td/")?n=t:-1!==r.indexOf(".pdf")?n="application/pdf":-1!==r.indexOf(".txt")?n="text/plain":-1!==r.indexOf(".xl")?n="application/vnd.ms-excel":-1!==r.indexOf(".doc")?n="application/msword":-1!==r.indexOf(".pp")?n="application/vnd.ms-powerpoint":-1!==r.indexOf(".zip")?n="application/zip":-1!==r.indexOf(".png")?n="image/png":-1!==r.indexOf(".gif")?n="image/gif":(-1!==r.indexOf(".jpg")||-1!==r.indexOf(".jpeg"))&&(n="image/jpeg"),e.file_type=n}}}]),e}();a.initClass(),window.GFile=a},Efda:function(e,t,n){e.exports=n.p+"assets/images/d3258f1f7a7131bd3df10bf268a6720d.png"},Ek05:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var r=n("lSNA"),a=n.n(r),o=n("lDtu"),i=n("f0Wu"),c=n.n(i),l=n("LYyr");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var u={getWeekdayNames:function(){return[_("Sunday"),_("Monday"),_("Tuesday"),_("Wednesday"),_("Thursday"),_("Friday"),_("Saturday")]},getWeekdayNamesAbbreviations:function(){return[_("Sun"),_("Mon"),_("Tue"),_("Wed"),_("Thu"),_("Fri"),_("Sat")]},getDayShort:function(){return[_("su"),_("mo"),_("tu"),_("we"),_("th"),_("fr"),_("sa")]},humanizeDayDiff:function(e,t){var n=!0,r="";if(0==e)r=_("Today");else if(1==e)r=_("Tomorrow");else if(-1==e)r=_("Yesterday");else if(e>0&&e<=7){r=u.getWeekDay(t.getDay())}else n=!1,r=u.formatView(t,!1);if(window.PRINT_MODE&&(r=u.formatView(t,!1)),n&&o.b.has_time(t)){var a=u.getDateistLang();"zh"==a||"ja"==a||"ko"==a?r=u.getHourAndMin(t)+r:r+=u.getHourAndMin(t)}return r},prettyDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minimumUnit,r=void 0===n?"second":n,a=t.maximumUnit,o=void 0===a?"week":a,i=t.timezone,s=void 0===i?c.a.tz.guess():i,u=t.inputFormat,d=void 0===u?"YYYY-MM-DD":u,f=new Date(e),m=new Date(Date.now()),p=c.a.tz(e,d,s),h=c()(m).tz(s),v="day"===r?(h.clone().startOf("day").toDate().getTime()-c()(f).startOf("day").toDate().getTime())/1e3:(m.getTime()-f.getTime())/1e3;if("day"===r){if(p.isSame(h,"day"))return _("Today")}else{if(v<5)return _x("time_ago","Just now");if(v<60){var b=Math.floor(v);return Object(l.a)(_nx("time_ago","1 second ago","{n} seconds ago",b),{n:b})}if(v<3600){var g=Math.floor(v/60);return Object(l.a)(_nx("time_ago","1 minute ago","{n} minutes ago",g),{n:g})}if(v<86400){var y=Math.floor(v/3600);return Object(l.a)(_nx("time_ago","1 hour ago","{n} hours ago",y),{n:y})}}if("day"===o){var O=Math.floor(v/86400);return Object(l.a)(_nx("time_ago","1 day ago","{n} days ago",O),{n:O})}if(v<604800){var j=Math.floor(v/86400);return Object(l.a)(_nx("time_ago","1 day ago","{n} days ago",j),{n:j})}if(v>=604800){var w=Math.floor(v/604800);return Object(l.a)(_nx("time_ago","1 week ago","{n} weeks ago",w),{n:w})}return""},jsonFormat:function(e){var t=e.getUTCFullYear(),n=e.getUTCDate();function r(e){return e<10&&(e="0"+e),e}return t+"-"+(e.getUTCMonth()+1)+"-"+n+"T"+(r(e.getUTCHours())+":"+r(e.getUTCMinutes())+":"+r(e.getSeconds()))},format:function(e,t,n){if(!e)return"";var r={lang:u.getDateistLang()},a=new Date,i=!1;e.getFullYear()!=a.getFullYear()&&(i=!0),t&&o.b.is_overdue(a,e)&&(i=!0);var c=!1;59!=e.getSeconds()&&(c=!0);var l={with_year:i,with_month:!0,with_time:c,with_day:!0};u.isUsDates()?r.us_dates=1:r.us_dates=0,u.isAmPm()?r.am_pm=1:r.am_pm=0,n&&$update(l,n);var s=o.a.format_date(e,r,l);return!r.us_dates&&l.with_day&&(s=d(s,r.lang)),n&&n.with_weekday?this.getWeekdayNamesAbbreviations()[e.getDay()]+" "+(l.with_day?d(s,r.lang):s):s},formatView:function(e,t,n){return this.format(e,!1,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({lang:window.LANG,with_weekday:t},n))},getWeekDay:function(e){return _(this.getWeekdayNames()[e])},getWeekdayShort:function(e){return u.getDayShort()[e.getDay()]},parse:function(e,t,n,r,a){var i={all_results:a,us_dates:u.isUsDates()?1:0,am_pm:u.isAmPm()?1:0,start_day:u.startDay(),next_week:u.nextWeek(),weekend:u.nextWeekendStartDay()};r&&(i.ignored_matches=r);var c=new Set;t&&t.due?(i.task_date=t.due.toDate(),"en"!=t.due.lang&&c.add(t.due.lang)):c.add(u.getDateistLang()),c.add("en");try{return 1==n?(i.lang=u.getDateistLang(),o.a.parse_free_text(e,i)):o.a.parse_multiple(e,c.values(),i)}catch(e){return e}},dateistResultFromDate:function(e){var t={lang:u.getDateistLang()},n=o.a.format_date(e,t,{with_time:!1});return o.a.parse(n,t)},getHourAndMin:function(e){var t={lang:u.getDateistLang()};u.isAmPm()?t.am_pm=1:t.am_pm=0;return o.a.format_date(e,t,{with_year:!1,with_month:!1,with_day:!1,with_time:!0,only_with_time:!0})},isUsDates:function(){return!window.Settings||window.Settings.US_DATES},isAmPm:function(){return!window.Settings||window.Settings.AMPM},startDay:function(){return window.Settings?window.Settings.START_DAY:1},nextWeek:function(){return window.Settings?window.Settings.NEXT_WEEK:1},nextWeekendStartDay:function(){return window.Settings?window.Settings.WEEK_START_DAY:1},dateistLang:"en",getDateistLang:function(){return u.dateistLang}};function d(e,t){return"en"===t||"tr"===t||"de"===t?e:e.toLowerCase()}t.a=u},EozN:function(e,t,n){},EpcT:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return u}));var r=n("lzDQ");function a(e){if(!e)return"";var t=e.full_name.split(" ");return t.length>1?t[0]+" "+t[1].substring(0,1)+".":t[0]}function o(e,t){return t.filter((function(t){return t.id!==e.id}))}function i(e,t){return e.every((function(e){return t.some((function(t){return t===e.id}))}))}function c(e){var t=document.createElement("audio");return-1!==e.indexOf("audio/")&&Boolean(t.canPlayType&&t.canPlayType(e).replace(/no/,""))}function l(e,t,n,r){var a;return e/t>n/r?e<=n?[e,t]:(a=n/e,[n,Math.floor(t*a)]):t<=r?[e,t]:(a=r/t,[Math.floor(e*a),r])}function s(e){var t=Math.floor(e/60),n=Math.ceil(e%60),r=t<10?"0".concat(t):t,a=n<10?"0".concat(n):n;return"".concat(r,":").concat(a)}function u(e){var t=e.user,n=e.collaborators,a=e.notes,o=e.type,i=e.item,c=[],l=function(e){var r=n.map((function(e){return e.id}));e&&e!==t.id&&r.includes(e)&&!c.includes(e)&&c.push(e)};if(0!==a.length){var s=a[a.length-1];(s.uids_to_notify||[]).concat(s.posted_uid).forEach(l)}else o===r.c?(l(i.assigned_by_uid),l(i.responsible_uid),l(i.added_by_uid)):n.forEach((function(e){return l(e.id)}));return c}},F4YY:function(e,t,n){"use strict";
/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */window.twemoji=function(){var e={base:"https://twemoji.maxcdn.com/v/13.0.1/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(e){var t="string"==typeof e?parseInt(e,16):e;if(t<65536)return c(t);return c(55296+((t-=65536)>>10),56320+(1023&t))},toCodePoint:v},onerror:function(){this.parentNode&&this.parentNode.replaceChild(l(this.alt,!1),this)},parse:function(t,n){n&&"function"!=typeof n||(n={callback:n});return("string"==typeof t?f:d)(t,{callback:n.callback||s,attributes:"function"==typeof n.attributes?n.attributes:p,base:"string"==typeof n.base?n.base:e.base,ext:n.ext||e.ext,size:n.folder||(r=n.size||e.size,"number"==typeof r?r+"x"+r:r),className:n.className||e.className,onerror:n.onerror||e.onerror});var r},replace:h,test:function(e){n.lastIndex=0;var t=n.test(e);return n.lastIndex=0,t}},t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=/(?:\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\xa9\xae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udeeb\udeec\udef4-\udefc\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78\udd7a-\uddb4\uddb7\uddba\uddbc-\uddcb\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7a\ude80-\ude86\ude90-\udea8\udeb0-\udeb6\udec0-\udec2\uded0-\uded6]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,r=/\uFE0F/g,a=String.fromCharCode(8205),o=/[&<>'"]/g,i=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,c=String.fromCharCode;return e;function l(e,t){return document.createTextNode(t?e.replace(r,""):e)}function s(e,t){return"".concat(t.base,t.size,"/",e,t.ext)}function u(e){return v(e.indexOf(a)<0?e.replace(r,""):e)}function d(e,t){for(var r,a,o,c,s,d,f,m,p,h,v,b,g,_=function e(t,n){for(var r,a,o=t.childNodes,c=o.length;c--;)3===(a=(r=o[c]).nodeType)?n.push(r):1!==a||"ownerSVGElement"in r||i.test(r.nodeName.toLowerCase())||e(r,n);return n}(e,[]),y=_.length;y--;){for(o=!1,c=document.createDocumentFragment(),d=(s=_[y]).nodeValue,m=0;f=n.exec(d);){if((p=f.index)!==m&&c.appendChild(l(d.slice(m,p),!0)),b=u(v=f[0]),m=p+v.length,g=t.callback(b,t),b&&g){for(a in(h=new Image).onerror=t.onerror,h.setAttribute("draggable","false"),r=t.attributes(v,b))r.hasOwnProperty(a)&&0!==a.indexOf("on")&&!h.hasAttribute(a)&&h.setAttribute(a,r[a]);h.className=t.className,h.alt=v,h.src=g,o=!0,c.appendChild(h)}h||c.appendChild(l(v,!1)),h=null}o&&(m<d.length&&c.appendChild(l(d.slice(m),!0)),s.parentNode.replaceChild(c,s))}return e}function f(e,t){return h(e,(function(e){var n,r,a=e,i=u(e),c=t.callback(i,t);if(i&&c){for(r in a="<img ".concat('class="',t.className,'" ','draggable="false" ','alt="',e,'"',' src="',c,'"'),n=t.attributes(e,i))n.hasOwnProperty(r)&&0!==r.indexOf("on")&&-1===a.indexOf(" "+r+"=")&&(a=a.concat(" ",r,'="',n[r].replace(o,m),'"'));a=a.concat("/>")}return a}))}function m(e){return t[e]}function p(){return null}function h(e,t){return String(e).replace(n,t)}function v(e,t){for(var n=[],r=0,a=0,o=0;o<e.length;)r=e.charCodeAt(o++),a?(n.push((65536+(a-55296<<10)+(r-56320)).toString(16)),a=0):55296<=r&&r<=56319?a=r:n.push(r.toString(16));return n.join(t||"-")}}()},FAUZ:function(e,t,n){e.exports={header:"_1DGsXAKSR9X68LL21Qayf1",title:"_10J1x9Y2ZYD313pmi4qB9l",input:"_2BxVk69uo5BWfZydGMCf5Q",separator:"_3hiRq1LNGRxoCY8JS_ehXx",subtitle:"tos-vQNMEJXf7CTZYV0aZ",description:"_3QVZ502qjqj1UAbCFLnZyq",icon:"_1e3d3Q2puAqsY1vzFuKBhj",link:"_24wZVW3i9xyBwP6D2fGnY_",footer:"ijfyPw8jGbBVswzRh0DC",disable_link:"DYqfqS4NCfNG0cmGJoKmM"}},FFjV:function(e,t,n){"use strict";n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return P}));var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("lwsE"),l=n.n(c),s=n("W8MJ"),u=n.n(s),d=n("PJYZ"),f=n.n(d),m=n("7W2i"),p=n.n(m),h=n("a1gu"),v=n.n(h),b=n("Nsbk"),g=n.n(b),_=n("lSNA"),y=n.n(_),O=n("q1tI"),j=n.n(O),w=n("17x9"),E=n.n(w),k=n("TSYQ"),D=n.n(k),C=n("c9wj");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}function A(e,t,n){return[e,t,n].join("-")}function x(e){var t=e.value,n=e.children,r=e.disabled,a=void 0!==r&&r,o=e.active,i=void 0!==o&&o,c=e.track,l=e.onClick,s=e.tabsId;return j.a.createElement("button",{id:A(s,"tab",t),"aria-controls":A(s,"panel",t),"aria-selected":i,role:"tab",className:"reactist","data-track":c,disabled:a,onClick:l},n)}function P(e){var t=e.tabsId,n=e.value,r=e.children,a=e.className,o=e.active,i=void 0!==o&&o,c=e.prerender,l=void 0===c||c;return j.a.createElement("div",{id:A(t,"panel",n),"aria-labelledby":A(t,"tab",n),role:"tabpanel",tabIndex:-1,hidden:!i,className:D()(a,{active:i})},i||l?r:null)}P.propTypes={tabsId:E.a.string,children:E.a.node,active:E.a.bool,value:E.a.string.isRequired,title:E.a.node.isRequired,disabled:E.a.bool,className:E.a.string,track:E.a.string,prerender:E.a.bool};var R=function(e){p()(n,e);var t=T(n);function n(){var e;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),y()(f()(e),"state",{activeTab:e.props.activeTab||j.a.Children.toArray(e.props.children)[0].props.value}),y()(f()(e),"id",Object(C.a)("tabs")),y()(f()(e),"_switchActiveTab",(function(t){e.setState({activeTab:t}),e.props.onChange&&e.props.onChange(t)})),e}return u()(n,[{key:"componentDidUpdate",value:function(e){e.activeTab!==this.props.activeTab&&this._switchActiveTab(this.props.activeTab)}},{key:"render",value:function(){var e=this,t=this.props.className,n=this.state.activeTab,r=this.props.id||this.id,o=j.a.Children.toArray(this.props.children);return j.a.createElement("div",{id:r,className:D()("reactist","tabs",t)},j.a.createElement("div",{role:"tablist"},o.map((function(t){var o=t.props,c=o.title,l=i()(o,["title"]);return j.a.createElement(x,a()({},l,{tabsId:r,key:l.value,active:l.value===n,onClick:function(){return e._switchActiveTab(l.value)}}),c)}))),j.a.createElement("div",{className:"reactist tabs__body"},o.map((function(e){return j.a.cloneElement(e,I(I({},e.props),{},{tabsId:r,key:e.props.value,active:e.props.value===n}))}))))}}]),n}(j.a.Component);R.propTypes={id:E.a.string,activeTab:E.a.string,onChange:E.a.func,className:E.a.string,children:E.a.node}},FIhZ:function(e,t,n){},"FMO/":function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),l=n.n(c),s=n("RZq6"),u=n("181E"),d=n("eY+4"),f=n("17Jv");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(){function e(){i()(this,e),this.connected=!1,this.connect=this.connect.bind(this),window.Notification&&this.connect()}return l()(e,[{key:"connect",value:function(){this.connected||(Signals.connect("notify",(function(e){var t={action:void 0,body:void 0,callback:void 0,title:void 0,user:void 0};if(window.MacBridge&&window.MacBridge.bridge);else if("denied"===Object(u.a)("LocalNotifications").get())return;try{t=d.b.renderNotification(e,0)}catch(t){return void Object(s.captureInfoLog)("Failed to render notification",{error:null==t?void 0:t.message,notificationId:null==e?void 0:e.id})}if(t.title){var n=$setHTML(SPAN(),t.title);return n=n.textContent||n.innerText,t.body&&(t.body=$trim(t.body,200)),window.MacBridge&&window.MacBridge.bridge?Signals.sendSignal("mac_notify",n,t.body,t.action,e.notification_type,{itemId:e.item_id,projectId:e.project_id}):Object(f.a)().notify(p(p({},e),{},{title:n,body:t.body,icon:t.user.avatar_big,tag:e.notification_key}))}})),this.connected=!0)}},{key:"notify",value:function(e){var t=this;function r(t){var n={icon:e.icon};e.body&&(n.body=e.body),e.notificationId&&(n.tag=e.notificationId);try{if(!("Notification"in window))return;var r=new window.Notification(e.title,n);r.onclick=function(){r.close(),t(e)}}catch(e){}}if(e.icon||(e.icon=n("dDER")),"granted"===window.Notification.permission)return r(this.activated);"denied"!==window.Notification.permission&&Promise.resolve(window.Notification.requestPermission((function(e){if("granted"===e)return r(t.activated)}))).catch((function(){}))}},{key:"activated",value:function(e){if("reminder"===e.notification_type)return d.a.navigateTo({task:{id:e.id}}),void Object(f.a)().focusMainWindow();var t=d.b.renderNotification(e),n=null==t?void 0:t.callback;n&&n(),Object(f.a)().focusMainWindow()}}]),e}();t.a=new h},FOR8:function(e,t){IstMenu=Class({init:function(e){$bindMethods(this),this.args=e||{},this.menu_holder=DIV({class:"ist_menu"}),$hide(this.menu_holder),this.menu_table=TABLE({cellpadding:0,cellspacing:0}),this.menu=TBODY(),$add(this.menu_table,this.menu),$add(this.menu_holder,this.menu_table),$add($body(),this.menu_holder),this.shown=!1,this.current_item=null,this.hide_menu_icon=!1,this.with_arrow=!1,this.arrow_y_offset=10,this.arrow_x_offset=0,this.arrow_fixed=!0,this.show_callbacks=[],this.hide_callbacks=[];var t=this;Signals.connect("hide_menus",(function(){t.shown&&t.hide()}))},show:function(e,t,n){n=n||{};var r,a=this;if($map(this.show_callbacks,(function(e){e(a,t)})),n.pos_x_offset||(n.pos_x_offset=this.pos_x_offset),n.pos_y_offset||(n.pos_y_offset=this.pos_y_offset),n.arrow_x_offset||(n.arrow_x_offset=this.arrow_x_offset),n.arrow_y_offset||(n.arrow_y_offset=this.arrow_y_offset),window.IstTooltip&&IstTooltip.hide(),n.hasOwnProperty("hide_other_menus")&&!n.hide_other_menus||Signals.sendSignal("hide_menus"),r=window.GB_getLast&&GB_getLast()?this.menu_holder.style.zIndex=GB_getLast().cur_zindex+500:this.menu_holder.style.zIndex=505,$isDict(e)&&t)var o=$mousePos(t);else o=$position(e);var i=A({href:"javascript:;",name:"link"},".");$isDict(e)||($hasClass(e,"fixed_pos")?this.menu_holder.style.position="fixed":this.menu_holder.style.position="",o.y+=e.offsetHeight),n.pos_x_offset&&(o.x+=n.pos_x_offset),n.pos_y_offset&&(o.y+=n.pos_y_offset),e.change_x_pos&&(o.x=e.change_x_pos(o.x)),e.change_y_pos&&(o.y=e.change_y_pos(o.y)),n.hide_filter&&$$("tr",this.menu).forEach((function(e){$show(e),n.hide_filter(e)&&$hide(e)})),$show(this.menu_holder);var c=$winSize().h,l=c+$scrollTop(),s=o.y+this.menu_holder.offsetHeight;s>l?$setTop(this.menu_holder,o.y-(s-c)-8):$setTop(this.menu_holder,o.y);var u,d=$winSize(),f=o.x,m=this.menu_holder.offsetWidth;f+m+45>d.w?((u=o.x-m+25)<0&&(u=$position(e).x+25),$setLeft(this.menu_holder,u)):((u=o.x-m/2+14)<0&&(u=25),$setLeft(this.menu_holder,u));if(i.focus(),this.shown=!0,this.current_item=e,e.menu_shown=!0,this.with_arrow){var p=this.arrow=DIV({c:"GB_top_arrow"});this.arrow_fixed?p.style.position="fixed":p.style.position="",p.style.zIndex=r;var h=$position(e);$setTop(p,h.y+n.arrow_y_offset),$setLeft(p,h.x+n.arrow_x_offset),$add($body(),p)}Signals.sendSignal("ist_menu_show")},addItem:function(e){"item"==e.type&&(e=this._createListItem(e)),"separator"==e.type&&(e=this._createSeparator(e)),$add(this.menu,e)},addItems:function(){var e=this;$map(arguments,$b((function(t){t&&e.addItem(t)}),this))},toggle:function(e,t,n,r){try{this.current_holder=t,this.shown?(this.hide(),e!=this.current_item&&this.show(e,n,r)):this.show(e,n,r)}catch(e){}return!1},hide:function(e){var t;e&&(t=$eventElm(e));var n=this.current_item;if(t&&$hasClass(t,"menu")||$hasClass(t,"icon")||$hasClass(t,"menu_icon"))return!0;if(t&&$parent(t,"div","ist_menu")||$parent(t,null,"menu_clickable"))return!0;this.arrow&&$remove(this.arrow),this._hideMenuIcon(n,t),this.shown=!1,$hide(this.menu_holder);var r=this;$map(this.hide_callbacks,(function(t){t(r,e)})),Signals.sendSignal("ist_menu_hide")},remove:function(){$remove(this.menu_holder,this.menu_table,this.menu),this.menu_holder=null,this.menu_icon=null,this.menu_table=null,this.current_item=null,this.menu=null,this.hide_callbacks=null,this.show_callbacks=null},clearItems:function(){var e=TBODY();$swap(this.menu,e),this.menu=e},_hideMenuIcon:function(e,t){try{if(t&&e)if($parent(t,"li")==$parent(e,"li"))return!1;e&&this.shown&&this.hide_menu_icon&&(e.menu_shown=!1,$removeClass(e,"shown"))}catch(e){}},_createListItem:function(e){var t=TD(),n=TR(t);if(e.onclick){$AEV(t,"click",$p(e.onclick,t))}if("fade_item"==e.extra&&(this.fade_item=e.view),$AEV(t,"mouseover",$p(this._mouseOver,t)),$AEV(t,"mouseout",$p(this._mouseOut,t)),e.extra_class&&$addClass(n,e.extra_class),e.extra&&e.extra.extra_class&&$addClass(n,e.extra.extra_class),e.extra&&e.extra.id&&(t.id=e.extra.id),e.extra&&e.extra.attr){var r=e.extra.attr;for(var a in r)t.setAttribute(a,r[a])}if(e.extra&&e.extra.icon&&($addClass(n,"menu_item"),$addClass(e.view,"menu_wrapper"),$addToTop(e.view,SPAN({c:"menu_icon"},e.extra.icon))),e.extra&&e.extra.small_text){var o=$$(".menu_label",e.view)[0];$add(o,DIV({c:"menu_small_text"},e.extra.small_text))}return $add(t,e.view),n},_mouseOut:function(e){$removeClass(e,"on")},_mouseOver:function(e){$addClass(e,"on")},_createSeparator:function(e){var t=TR(TD({class:"separator"},DIV()));return e.extra_class&&$addClass(t,e.extra_class),t}}),IstMenu.hide=function(){Signals.sendSignal("hide_menus")},IstMenu.createItem=function(e,t,n){n=n||{};var r={view:DIV(),type:"item",onclick:t,extra:n};return $isString(e)?$replace(r.view,DIV({c:"menu_label"},e)):$add(r.view,e),r},IstMenu.createSeparator=function(e){return{type:"separator",extra_class:e}}},FT93:function(e,t,n){},FUwg:function(e,t,n){"use strict";n.d(t,"a",(function(){return ge}));var r=n("lSNA"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("/MKj"),l=n("jVEK"),s=n("k0om"),u=n("J4zp"),d=n.n(u),f=n("17x9"),m=n.n(f),p=n("OgjY"),h=n("/gRr"),v=n("j3q4"),b=n("TSYQ"),g=n.n(b),y=n("GpCm"),O=n("4eld"),j=n("pVnL"),w=n.n(j);function E(e){return i.a.createElement("svg",w()({width:16,height:16},e,{viewBox:"0 0 24 24"}),i.a.createElement("path",{fill:"gray",fillRule:"evenodd",d:"M12 10.62l4.833-4.834a.976.976 0 1 1 1.381 1.38L13.381 12l4.833 4.833a.976.976 0 0 1-1.38 1.381L12 13.381l-4.833 4.833a.976.976 0 0 1-1.381-1.38L10.619 12 5.786 7.167a.976.976 0 1 1 1.38-1.381L12 10.619z"}))}var k=n("lwsE"),D=n.n(k),C=n("W8MJ"),S=n.n(C),I=n("PJYZ"),T=n.n(I),A=n("7W2i"),x=n.n(A),P=n("a1gu"),R=n.n(P),N=n("Nsbk"),L=n.n(N),M=n("4rNB"),F=n("Ek05");function z(e){return i.a.createElement("svg",w()({width:24,height:24},e),i.a.createElement("path",{d:"M14.243 12L9.646 7.404a.5.5 0 1 1 .708-.707l4.95 4.95a.5.5 0 0 1 0 .707l-4.95 4.95a.5.5 0 0 1-.708-.708L14.243 12z",fill:"currentColor",fillRule:"evenodd"}))}function B(e){var t=e.value,n=e.isSelected,r=void 0!==n&&n,a=e.children,o=e.onClick,c=void 0===o?function(){}:o;var l=g()("scheduler-timezone-item",{"scheduler-timepicker-item--selected":r});return i.a.createElement(O.a,{className:l,onClick:function(e){e.nativeEvent.stopImmediatePropagation(),c(t)}},a)}B.propTypes={value:m.a.string.isRequired,isSelected:m.a.bool,onClick:m.a.func,children:m.a.node};var V=B,$=n("1zEf");function H(e){var t=e.timezone,n=e.userTimezoneInfo,r=e.onSelect,a=void 0===r?function(){}:r,o=i.a.useRef(),c=i.a.useState(!1),l=d()(c,2),s=l[0],u=l[1];function f(e){u(!1),a(e)}return i.a.createElement("div",{className:"scheduler-timezone"},i.a.createElement(O.a,{ref:o,className:"scheduler-timezone-label",onClick:function(){return u(!s)},"aria-haspopup":"true","aria-expanded":s},i.a.createElement("span",null,t||_("Time Zone")),i.a.createElement(z,null)),i.a.createElement(y.c,{className:"scheduler-timezone-list",referenceElement:o.current,isShown:s,withArrow:!1,onClose:function(){u(!1)}},i.a.createElement(V,{value:"floating",isSelected:null===t,onClick:f},i.a.createElement("div",{className:"scheduler-timezone-item-header"},_("Floating Time")),i.a.createElement("div",{className:"scheduler-timezone-item-description"},_("Due time stays the same across time zones"))),i.a.createElement(V,{value:"fixed",isSelected:t===n.timezone,onClick:f},i.a.createElement("div",{className:"scheduler-timezone-item-header"},n.timezone),i.a.createElement("div",{className:"scheduler-timezone-item-description"},_("Your current time zone"))),t&&t!==n.timezone&&i.a.createElement(V,{value:"task",isSelected:t&&t!==n.timezone,onClick:f},i.a.createElement("div",{className:"scheduler-timezone-item-header"},t),i.a.createElement("div",{className:"scheduler-timezone-item-description"},_("This task's current time zone"))),i.a.createElement("div",{className:"scheduler-timezone-help"},i.a.createElement("a",{href:$.p,target:"_blank",rel:"noopener noreferrer"},_("Time Zones Help")))))}H.propTypes={userTimezoneInfo:m.a.object.isRequired,timezone:m.a.string,onSelect:m.a.func};var U=H;function q(){return i.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("g",{fill:"#979797",fillRule:"evenodd"},i.a.createElement("path",{d:"M12 9a1 1 0 0 1 1 1v4a1 1 0 0 1-2 0v-4a1 1 0 0 1 1-1zm0 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}),i.a.createElement("path",{d:"M13.73 4.96L20.75 17A2 2 0 0 1 19.02 20H4.98a2 2 0 0 1-1.73-3l7.02-12.04a2 2 0 0 1 3.46 0zm-.7.55a1.2 1.2 0 0 0-2.07 0L4.15 17.2A1.2 1.2 0 0 0 5.18 19h13.64a1.2 1.2 0 0 0 1.03-1.8L13.04 5.5z"})))}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L()(e);if(t){var a=L()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return R()(this,n)}}var W=function(e){x()(n,e);var t=G(n);function n(e){var r;D()(this,n),r=t.call(this,e),a()(T()(r),"handleInputChange",(function(e){var t=e.target.value,n=r.props.selectedDate,a=F.a.parse(t),o=a.due_date,i=a.has_only_time;return""===t?(clearTimeout(r.errorTimeout),r.errorTimeout=null,r.setState({timeInputValue:t,selectedTime:null,isAddButtonDisabled:!(n&&n.with_time),isErrorShown:!1})):o&&i?(clearTimeout(r.errorTimeout),r.errorTimeout=null,void r.setState({timeInputValue:t,selectedTime:o,isAddButtonDisabled:!1,isErrorShown:!1})):(r.errorTimeout||(r.errorTimeout=setTimeout((function(){r.setState({isErrorShown:!0})}),500)),r.setState({timeInputValue:t,isAddButtonDisabled:!0}))})),a()(T()(r),"handleKeyDown",(function(e){"Escape"===Object(h.a)(e)&&r.props.onCancel(e)})),a()(T()(r),"handleSubmit",(function(e){e.preventDefault();var t=r.state,n=t.selectedTime,a=t.timezone;t.isAddButtonDisabled||r.props.onSelect(e,n,a)})),a()(T()(r),"handleTimezoneSelect",(function(e){var t,n=r.props,a=n.selectedDate,o=n.userTimezoneInfo;switch(e){case"fixed":t=o.timezone;break;case"task":t=a.timezone;break;case"floating":default:t=null}r.setState({timezone:t})}));var o=r.props.selectedDate;if(o&&o.with_time){var i=new Date;i.setHours(o.getTimezoneHours(),o.getTimezoneMinutes(),o.getTimezoneSeconds()),r.state={selectedTime:i,timezone:o.timezone,timeInputValue:o.format({inTimezoneTime:!0,onlyTime:!0}),iisAddButtonDisabled:!1,isErrorShown:!1}}else r.state={selectedTime:null,timezone:null,timeInputValue:"",iisAddButtonDisabled:!0,isErrorShown:!1};return r}return S()(n,[{key:"render",value:function(){var e=this.props,t=e.selectedDate,n=e.userTimezoneInfo,r=e.timeFormat,a=e.onCancel,o=this.state,c=o.timeInputValue,l=o.timezone,s=o.isAddButtonDisabled,u=o.isErrorShown,d=t&&t.with_time;return i.a.createElement("form",{className:"scheduler-timepicker",onSubmit:this.handleSubmit,onKeyDown:this.handleKeyDown},i.a.createElement("div",{className:"scheduler-timepicker-controls"},i.a.createElement("div",{className:"scheduler-timepicker-input"},i.a.createElement("div",{className:"scheduler-timepicker-input-label"},i.a.createElement("label",{htmlFor:"scheduler-timepicker-input-element"},_("Time")),u&&i.a.createElement(M.a,{content:i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,_("Invalid Time")),i.a.createElement("div",null,_("Use 13:00 or 1PM format"))),position:"bottom"},i.a.createElement("div",{role:"img"},i.a.createElement(q,{className:"tip_item"})))),i.a.createElement("div",{className:"scheduler-timepicker-input-controls"},i.a.createElement("input",{id:"scheduler-timepicker-input-element",placeholder:r?_("eg, 2pm"):_("eg, 14:00"),value:c,onChange:this.handleInputChange,"aria-describedby":u?"scheduler-timepicker-input-error-msg":null}),u&&i.a.createElement("span",{id:"scheduler-timepicker-input-error-msg"},_("Invalid Time"),_("Use 13:00 or 1PM format")))),i.a.createElement(U,{timezone:l,userTimezoneInfo:n,onSelect:this.handleTimezoneSelect})),i.a.createElement("div",{className:"scheduler-timepicker-actions"},i.a.createElement(O.a,{type:"submit",className:"scheduler-timepicker-actions-add",disabled:s},d?_x("scheduler_change_time_button","Change"):_x("scheduler_add_time_button","Add")),i.a.createElement(O.a,{onClick:a},_("Cancel"))))}}]),n}(i.a.PureComponent);W.propTypes={selectedDate:m.a.instanceOf(p.a),userTimezoneInfo:m.a.object.isRequired,timeFormat:m.a.number,onCancel:m.a.func,onSelect:m.a.func},W.defaultProps={timeFormat:0,onCancel:function(){},onSelect:function(){}};var K=W;function Y(e){var t=e.timeFormat,n=e.userTimezoneInfo,r=e.isTimePickerShown,a=void 0!==r&&r,o=e.selectedDate,c=e.onTimePickerToggle,l=void 0===c?function(){}:c,s=e.onTimeSelect,u=void 0===s?function(){}:s,d=e.onSave,f=void 0===d?function(){}:d,m=i.a.useRef(o),p=i.a.useRef(null);var h=g()("scheduler-actions-save",{"scheduler-actions-save--disabled":a}),v=Boolean(o&&o.with_time),b=Boolean(v||m.current&&m.current.with_time);return i.a.createElement("div",{className:"scheduler-actions"},v?i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"scheduler-actions-time"},i.a.createElement(O.a,{ref:p,className:"scheduler-actions-time-label",onClick:function(){return l(!0)},"data-track":"scheduler|full_calendar_time"},o.format({inTimezoneTime:!0,onlyTime:!0})),i.a.createElement("span",{className:"scheduler-actions-time-separator"}),i.a.createElement(O.a,{className:"scheduler-actions-time-remove",onClick:function(e){e.stopPropagation(),u(e)}},i.a.createElement(E,null)))):i.a.createElement(O.a,{ref:p,className:"scheduler-actions-addtime",onClick:function(){return l(!0)},"data-track":"scheduler|full_calendar_time","aria-haspopup":"true","aria-expanded":a},"+ ",_("Add time")),b&&i.a.createElement(O.a,{className:h,onClick:function(){f(o)},"data-track":"scheduler|full_calendar_save"},_("Save")),i.a.createElement(y.c,{referenceElement:p.current,placement:"top",isShown:a,withArrow:!1,onClose:function(){return l(!1)}},i.a.createElement(K,{selectedDate:o,timeFormat:t,userTimezoneInfo:n,onCancel:function(){return l(!1)},onSelect:u})))}Y.propTypes={timeFormat:m.a.number.isRequired,userTimezoneInfo:m.a.object.isRequired,isTimePickerShown:m.a.bool,selectedDate:m.a.instanceOf(p.a),onTimePickerToggle:m.a.func,onTimeSelect:m.a.func,onSave:m.a.func},Y.defaultProps={onTimePickerToggle:function(){},onTimeSelect:function(){},onSave:function(){}};var J=Y,Q=n("fF8A"),Z=function(e){return e?e.is_recurring?e.string:e.format({inTimezoneTime:!0}):""},X=n("LYyr"),ee=n("+E59");function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L()(e);if(t){var a=L()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return R()(this,n)}}var ne=function(e){x()(n,e);var t=te(n);function n(){return D()(this,n),t.apply(this,arguments)}return S()(n,[{key:"render",value:function(){var e,t,n;return this.props.isValid?(e=_("You can also type in recurring due dates like <b>every day</b>, <b>every 2 weeks</b>, and <b>every last Fri of the month</b>."),t=_("More about recurring due dates"),n="https://support.todoist.com/hc/articles/360000636289"):(e=_("Did you know you can type in due dates like <b>Jan 15 at 9am</b>, <b>2 months from now</b>, or <b>every Friday</b>?"),t=_("More about due dates"),n="https://support.todoist.com/hc/articles/205325931"),i.a.createElement("div",{className:"scheduler-preview-help"},i.a.createElement("p",{dangerouslySetInnerHTML:{__html:e}}),i.a.createElement("p",null,i.a.createElement("a",{href:n,rel:"noopener noreferrer",className:"scheduler-preview-help-link",target:"_blank"},t)))}}]),n}(i.a.PureComponent);ne.propTypes={isValid:m.a.bool},ne.defaultProps={isValid:!0};var re=ne,ae=n("UVeO");function oe(e){var t=e.dateResult,n=e.karma,r=e.items,a=void 0===r?[]:r,o=e.userTimezoneInfo,c=e.timezone,l=e.isSubmitted,s=void 0!==l&&l,u=e.user,d=e.collaboratorsByPID,f=e.onClick,m=void 0===f?function(){}:f,h=e.onTimezoneSelect,v=void 0===h?function(){}:h;if(s&&!t.due_date)return i.a.createElement("div",{className:"scheduler-preview scheduler-preview--invalid"},i.a.createElement("div",{className:"scheduler-preview-content"},i.a.createElement(ae.n,null),i.a.createElement("div",{className:"scheduler-preview-date"},_("No results"),n<2500&&i.a.createElement(re,{isValid:!1}))));if(t.due_date){var b,g,y,O,j=F.a.format(t.due_date,!1,{with_time:!1,with_weekday:!0}),w=Object(ee.e)(a,t.due_date,{user:u,collaboratorsByPID:d});return t.all_day||(y=t.due_date instanceof p.a?t.due_date.format({inTimezoneTime:!0,onlyTime:!0}):F.a.getHourAndMin(t.due_date)),w.length>0?(g=_n("1 task","{n} tasks",w.length),g=Object(X.a)(g,{n:w.length})):g=_("No tasks"),t.is_recurring?(b=t.end_date?F.a.format(t.end_date,!1,{with_time:!1,with_weekday:!0}):_("Forever"),O=Object(X.a)(_("Repeats {recurring_date_pattern}"),{recurring_date_pattern:t.start_string||t.date_string})):O=g,i.a.createElement("div",{className:"scheduler-preview scheduler-preview--valid"},i.a.createElement("button",{className:"scheduler-preview-content",onClick:function(e){e.stopPropagation(),m(e)}},t.is_recurring?i.a.createElement(ae.Sb,null):i.a.createElement(ae.n,null),i.a.createElement("div",{className:"scheduler-preview-date"},i.a.createElement("div",{className:"scheduler-preview-date-info"},i.a.createElement("span",null,j),b&&i.a.createElement("span",null," \u2192 ".concat(b)),i.a.createElement("span",{className:"scheduler-preview-date-info-time"},y)),i.a.createElement("span",{className:"scheduler-preview-date-tasks"},O))),(!t.all_day||c)&&i.a.createElement(U,{userTimezoneInfo:o,timezone:c,onSelect:v}),n<2500&&i.a.createElement(re,null))}return null}oe.propTypes={dateResult:m.a.object.isRequired,karma:m.a.number.isRequired,items:m.a.array,collaboratorsByPID:m.a.object.isRequired,user:m.a.object.isRequired,userTimezoneInfo:m.a.object.isRequired,selectedDate:m.a.instanceOf(p.a),isSubmitted:m.a.bool,onClick:m.a.func,onTimezoneSelect:m.a.func,timezone:m.a.string};var ie=oe;var ce=function(){return i.a.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm7 8.7v.3c0 .1 0 .3-.1.4 0 .1-.1.3-.1.4 0 .1 0 .2-.1.3 0 .1-.1.3-.1.4 0 .1 0 .1-.1.2-.1.2-.1.3-.2.5 0 0 0 .1-.1.1-.1.2-.2.3-.3.5v.1c-.1.2-.2.3-.3.5-.1.2-.3.3-.4.5-.2-.7-.9-1.2-1.7-1.2h-.9v-2.6c0-.5-.4-.9-.9-.9H8.5v-1.8h1.8c.5 0 .9-.4.9-.9V7.6H13c1 0 1.8-.8 1.8-1.8v-.3c.3.1.6.3.9.5.6.3 1.1.8 1.6 1.3.4.5.8 1 1.1 1.6 0 0 0 .1.1.1.3.6.5 1.2.6 1.8v.2c0 .3.1.6.1 1 0-.3 0-.6-.1-1 0 .3.1.6.1 1-.2.2-.2.5-.2.7zm0 0v.2c-.1 0 0-.1 0-.2zm-.1.7c0 .1 0 .2-.1.3 0-.1 0-.2.1-.3zm-.2.6c0 .1-.1.2-.1.3 0-.1.1-.2.1-.3zm-.2.6c0 .1-.1.2-.1.3 0-.1 0-.2.1-.3zm-.3.6c-.1.1-.1.2-.2.3.1-.1.1-.2.2-.3zm-.3.6c-.1.1-.1.2-.2.3 0-.1.1-.2.2-.3zm-.4.5c-.1.1-.1.2-.2.3 0-.1.1-.2.2-.3zM14.7 5.5c.3.1.6.3.8.4-.3-.1-.6-.3-.8-.4zM18.3 9c.1.3.2.5.3.8 0-.2-.1-.5-.3-.8zm.4.9c.1.3.2.6.2.9-.1-.3-.1-.6-.2-.9zm-1-1.9c-.2-.2-.3-.5-.5-.7.2.2.4.5.5.7zm.5.8c-.1-.3-.3-.5-.5-.8.3.3.4.6.5.8zm-1.1-1.6c-.2-.2-.4-.4-.7-.6.2.2.5.4.7.6zM15.6 6c.2.1.5.3.7.5-.2-.2-.4-.3-.7-.5zM5 11.2v.8c0-.5.1-1.1.2-1.6l4.2 4.2v.9c0 1 .8 1.8 1.8 1.8V19c-1-.1-2-.5-2.9-1 0 0-.1 0-.1-.1-.1-.1-.2-.2-.3-.2-.1 0-.1-.1-.2-.1-.1-.1-.2-.2-.3-.2l-.2-.2c-.1-.2-.2-.3-.3-.4-.1-.1-.1-.2-.2-.2-.1-.1-.1-.2-.2-.3-.1-.1-.1-.2-.2-.3-.1-.1-.1-.2-.2-.3-.1-.1-.1-.2-.2-.3-.1-.1-.1-.2-.2-.3-.1-.1-.1-.2-.1-.3 0-.1-.1-.2-.1-.3 0-.1-.1-.2-.1-.3 0-.1-.1-.2-.1-.3 0-.1-.1-.2-.1-.4 0-.1 0-.2-.1-.3 0-.1 0-.3-.1-.4V11.2zm.2-.7c0 .2-.1.3-.1.5 0-.2 0-.3.1-.5zm5.6 8.4h-.3.3zm-.7-.2c-.1 0-.2 0-.2-.1.1.1.2.1.2.1zm-.7-.2c-.1 0-.2-.1-.3-.1.1 0 .2 0 .3.1zm-.7-.3c-.1 0-.2-.1-.3-.2.1.1.2.1.3.2zm-.6-.4c-.1-.1-.2-.1-.3-.2.2.1.3.2.3.2zm-.5-.3c-.1-.1-.2-.1-.2-.2.1 0 .1.1.2.2zm-.9-.9c-.1-.1-.1-.2-.2-.2.1 0 .1.1.2.2zm-.4-.6c-.1-.1-.1-.2-.2-.2.1.1.1.2.2.2zm-.4-.5c0-.1-.1-.2-.1-.3 0 .1.1.2.1.3zm-.3-.6c0-.1-.1-.2-.1-.3.1.1.1.2.1.3zm-.2-.6c0-.1-.1-.2-.1-.3 0 .1.1.2.1.3zm-.2-.7c0-.1 0-.2-.1-.2.1 0 .1.1.1.2zm-.1-.7v-.2c-.1.1 0 .1 0 .2zm1.8 3.9l.2.2-.2-.2z",fill:"#b2b2b2"}))};function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L()(e);if(t){var a=L()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return R()(this,n)}}var se=function(e){x()(n,e);var t=le(n);function n(e){var r;D()(this,n),r=t.call(this,e),a()(T()(r),"composingRef",i.a.createRef()),a()(T()(r),"handleFocus",(function(){window.requestAnimationFrame((function(){var e=T()(r).input;e&&e.select()}))})),a()(T()(r),"handleInputChange",(function(e){var t=e.target.value;if(""===t)return r.handleInputReset(e,!0);var n={dateResult:F.a.parse(t,r.parsingDate),inputValue:t};r.state.isSubmitted&&(n.isSubmitted=!1),r.state.dateResult||r.props.onActiveChange(!0),r.setState(n)})),a()(T()(r),"handleInputKeyDown",(function(e){if(!r.composingRef.current){var t=Object(h.a)(e);"Enter"===t?r.handleSubmit(e):"Escape"===t&&r.handleInputReset(e)}})),a()(T()(r),"handleInputReset",(function(e,t){var n=Object(h.a)(e);!t&&(!r.state.inputValue&&!r.state.dateResult||n&&"Enter"!==n&&"Escape"!==n)||(e.nativeEvent.stopImmediatePropagation(),r.setState({dateResult:null,inputValue:"",isSubmitted:!1}),r.input.focus(),r.props.onActiveChange(!1))})),a()(T()(r),"handleSubmit",(function(e){e.preventDefault();var t=r.state,n=t.dateResult,a=t.inputValue,o=t.timezone;if(r.setState({isSubmitted:!0}),!n||n.due_date){var i;if(n)if(n.due_date instanceof p.a)i=o!==n.due_date.timezone?n.due_date.changeTimezone(o):n.due_date;else{var c=n.all_day?{}:{timezone:o};i=p.a.fromDateist(n,c)}else i=a?r.props.selectedDate:null;track("scheduler","enter","type_a_date"),r.props.onDateSelect(i)}})),a()(T()(r),"handleTimezoneIconClick",(function(e){e.stopPropagation();var t=r.state.inputValue||Z(r.props.selectedDate),n=F.a.parse(t,r.parsingDate);n.due_date=r.props.selectedDate,r.setState({dateResult:n}),r.input.focus(),r.props.onActiveChange(!0)})),a()(T()(r),"handleTimezoneSelect",(function(e){var t;switch(e){case"fixed":t=r.props.userTimezoneInfo.timezone;break;case"task":t=r.props.selectedDate.timezone;break;case"floating":default:t=null}r.setState({timezone:t}),r.input.focus()}));var o=e.currentDate,c=e.selectedDate;return r.state={dateResult:null,inputValue:Z(c),timezone:c&&c.timezone,isSubmitted:!1},r.initialDate=e.selectedDate,r.parsingDate=e.selectedDate?e.selectedDate.inheritDate({year:o.getFullYear(),month:o.getMonth(),day:o.getDate()}):null,r}return S()(n,[{key:"componentDidUpdate",value:function(e){var t={};this.initialDate&&(!this.initialDate||this.initialDate.is_recurring)||this.props.selectedDate===e.selectedDate||(t.inputValue=Z(this.props.selectedDate)),this.props.selectedDate!==e.selectedDate&&(t.timezone=this.props.selectedDate.timezone),this.setState(t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.dateResult,r=t.inputValue,a=t.timezone,o=t.isSubmitted,c=this.props,l=c.karma,s=c.items,u=c.selectedDate,d=c.userTimezoneInfo,f=c.collaboratorsByPID,m=c.user;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"scheduler-input",onKeyDown:this.handleInputKeyDown},i.a.createElement("input",{ref:function(t){e.input=t},placeholder:_("Type a due date"),value:r,spellCheck:"false",onChange:this.handleInputChange,onFocus:this.handleFocus,onCompositionStart:function(){return e.composingRef.current=!0},onCompositionEnd:function(){return e.composingRef.current=!1}}),n?r.length>0&&i.a.createElement(O.a,{onClick:this.handleInputReset},i.a.createElement(E,null)):a&&i.a.createElement(O.a,{onClick:this.handleTimezoneIconClick},i.a.createElement(ce,null))),n&&i.a.createElement(ie,{dateResult:n,karma:l,items:s,user:m,collaboratorsByPID:f,selectedDate:u,userTimezoneInfo:d,timezone:a,isSubmitted:o,onClick:this.handleSubmit,onTimezoneSelect:this.handleTimezoneSelect}))}}]),n}(i.a.PureComponent);se.propTypes={currentDate:m.a.instanceOf(Date).isRequired,karma:m.a.number.isRequired,items:m.a.array,collaboratorsByPID:m.a.object.isRequired,user:m.a.object.isRequired,selectedDate:m.a.instanceOf(p.a),userTimezoneInfo:m.a.object.isRequired,onActiveChange:m.a.func,onDateSelect:m.a.func},se.defaultProps={items:[],onActiveChange:function(){},onDateSelect:function(){}};var ue=se,de=n("ihri");n("w6ha");function fe(e){var t=e.onClose,n=e.onDateSelect,r=e.selectedDate,a=e.selectedItems,o=e.suggestions,c=void 0===o?[]:o,l=e.clock,s=e.collaboratorsByPID,u=e.ignoredDays,f=void 0===u?[6,7]:u,m=e.items,b=void 0===m?[]:m,g=e.itemsByDate,_=void 0===g?{}:g,y=e.karma,O=e.timeFormat,j=void 0===O?0:O,w=e.user,E=e.userTimezoneInfo,k=void 0===E?{}:E,D=e.weekStartDay,C=void 0===D?7:D,S=Object(v.a)(l),I=i.a.useState(r),T=d()(I,2),A=T[0],x=T[1],P=i.a.useState(!1),R=d()(P,2),N=R[0],L=R[1],M=i.a.useState(!1),F=d()(M,2),z=F[0],B=F[1];return i.a.createElement("div",{className:"scheduler",onKeyDown:function(e){"Escape"===Object(h.a)(e)&&(N||(e.stopPropagation(),t()))}},i.a.createElement(ue,{currentDate:S,items:b,collaboratorsByPID:s,user:w,karma:y,selectedDate:A,userTimezoneInfo:k,onActiveChange:L,onDateSelect:function(e,t){t||x(null),n(e)}}),i.a.createElement(de.c,{suggestions:c,onSuggestionSelect:function(e,t){var r=a.map((function(n){return Object(de.d)({type:e,date:t},n,A)}));n(1===a.length?r[0]:r)}}),i.a.createElement(Q.a,{currentDate:S,ignoredDays:f,itemsByDate:_,items:b,collaboratorsByPID:s,user:w,selectedDate:A,weekStartDay:C,onDateSelect:function(e){var t={year:e.getFullYear(),month:e.getMonth(),day:e.getDate()};if(a.length>1&&(!A||!A.with_time)){var r=a.map((function(n){return n.due?n.due.inheritDate(t):p.a.fromDate(e)}));return n(r)}if(!A){var o=a&&a[0].due?a[0].due.inheritDate(t):p.a.fromDate(e);return n(o)}if(!A.with_time)return n(A.inheritDate(t));x(A.inheritDate(t))}}),i.a.createElement(J,{selectedDate:A,timeFormat:j,userTimezoneInfo:k,isTimePickerShown:z,onTimePickerToggle:function(e){B(e)},onTimeSelect:function(e,t,n){var r=A;e.nativeEvent.stopImmediatePropagation(),t?r=r?r.changeTime(t.getHours(),t.getMinutes(),t.getSeconds(),{timezone:n}):p.a.fromDate(t,{timezone:n,withTime:!0}):r&&(r=r.inheritDate({year:r.getFullYear(),month:r.getMonth(),day:r.getDate(),hours:23,minutes:59,seconds:59},{withTime:!0})),x(r),B(!1)},onSave:n}))}fe.propTypes={onClose:m.a.func.isRequired,onDateSelect:m.a.func.isRequired,predictedDate:m.a.oneOfType([m.a.instanceOf(Promise),m.a.instanceOf(p.a),m.a.arrayOf(m.a.instanceOf(p.a))]),selectedDate:m.a.instanceOf(p.a),selectedItems:m.a.array,suggestions:m.a.array,clock:m.a.string.isRequired,collaboratorsByPID:m.a.object.isRequired,ignoredDays:m.a.array,items:m.a.array,itemsByDate:m.a.object,karma:m.a.number.isRequired,timeFormat:m.a.number,user:m.a.object.isRequired,userTimezoneInfo:m.a.object,weekStartDay:m.a.number};var me=fe,pe=n("/uq8");var he=n("FfTA");function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e){var t,n=Object(c.h)(Object(he.a)((function(e){return{clock:e.clock,clockDate:Object(pe.b)(e),collaboratorsByPID:e.collaborators.byPID,ignoredDays:l.c(e),items:Object(s.m)(e),itemsByDate:Object(s.k)(e),karma:l.d(e),nextWeekDay:l.e(e),timeFormat:l.f(e),user:Object(l.i)(e),userTimezoneInfo:l.g(e),weekStartDay:l.j(e),weekendStartDay:l.k(e)}}))),r=(t=e.selectedItems).every((function(e){return e.due&&e.due.is_recurring}))?{date:1===t.length?t[0].due.nextRecurrence()[0]:t.map((function(e){return e.due.nextRecurrence()[0]})),type:"postpone"}:null,a=Object(de.b)({today:n.clockDate,items:e.selectedItems,nextWeekDay:n.nextWeekDay,weekStartDay:n.weekStartDay,weekendStartDay:n.weekendStartDay,selectedDate:e.selectedDate}),o=be(be(be({},n),e),{},{suggestions:a,predictedDate:r?r.date:null});return i.a.createElement(me,o)}},FfTA:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("Y+p1"),a=n.n(r);function o(e){var t;return function(){var n=e.apply(null,arguments);return t===n||a()(t,n)?t:(t=n,n)}}},"FmY/":function(e,t,n){"use strict";n.d(t,"a",(function(){return z})),n.d(t,"b",(function(){return ge})),n.d(t,"c",(function(){return Ne}));var r=n("q1tI"),a=n.n(r),o=n("/MKj"),i=n("17x9"),c=n.n(i),l=n("kvAW"),s=n("qJlv"),u={userInitiatedDrag:!1,dragCaptureStarted:!1,canApplyTransitions:!1,dragSourceOutOfLayoutFlow:!1,draggables:{},transforms:{},targetIndex:null},d=Object(r.createContext)({}),f=n("ANjH"),m=n("RIqP"),p=n.n(m),h=n("QILm"),v=n.n(h),b=n("lSNA"),g=n.n(b);var _=function(e){};n("GoyQ"),n("Y+p1"),n("UMpK");var y=[];function O(e){return y.find((function(t){return t.droppableId===e}))}function j(e){y=y.filter((function(t){return t.droppableId!==e}))}function w(e){var t="string"==typeof e?O(e):e;return(null==t?void 0:t.forceRoot)||"TOP_LEVEL_DROPPABLE"===(null==t?void 0:t.parentDroppableId)}function E(e){var t="string"==typeof e?O(e):e,n=O(null==t?void 0:t.parentDroppableId);return t&&n&&!w(t)?[n.droppableId].concat(p()(E(n))):[]}function k(e){var t,n;return null!==(t=null===(n=O(e))||void 0===n?void 0:n.draggables)&&void 0!==t?t:[]}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=e.dropTarget,n=e.dragSource,r=e.dragSourceRects,a=e.mouseCoord,o=e.draggables,i=e.dragSourceOutOfLayoutFlow,c=e.scrollLeft,l=e.scrollTop;if(!(t&&n&&r&&a))return _("Failed to calculate children transforms"),{transforms:{},targetIndex:null};var s=k(t.droppableId),u=n.droppableId===t.droppableId&&1===s.length,d=0===s.length||u;if(0===Object.keys(o).length&&!d)return _("getDropTargetTransformsAndTargetIndex should be called with valid draggable clientRects"),{transforms:{},targetIndex:null};var f=t.direction;return Object.values(o).filter((function(e){return e.draggableId!==n.draggableId})).sort((function(e,t){return e.index-t.index})).reduce((function(e,o,s,u){var d,m,p,h,v=e.transforms,b=e.targetIndex,_=function(e){var t=e.dragSource,n=e.dragSourceRects,r=e.draggable,a=e.dragSourceOutOfLayoutFlow,o=e.direction,i=e.scrollLeft,c=e.scrollTop,l={height:r.height,width:r.width,totalHeight:r.height+r.marginTop+r.marginBottom,totalWidth:r.width+r.marginLeft+r.marginRight},s=r.top-r.marginTop,u=r.right+r.marginRight,d=r.bottom+r.marginBottom,f=r.left-r.marginLeft,m=t.droppableId===r.droppableId&&t.index<r.index&&!a,p="horizontal"===o?i-r.initialScrollPosition.scrollLeft:c-r.initialScrollPosition.scrollTop,h="horizontal"===o?n.width+n.marginLeft+n.marginRight:n.height+n.marginTop+n.marginBottom,v=m?h-p:p;return C(C({},l),{},{top:"vertical"===o?s-v:s,bottom:"vertical"===o?d-v:d,left:"horizontal"===o?f-v:f,right:"horizontal"===o?u-v:u})}({dragSource:n,dragSourceRects:r,draggable:o,dragSourceOutOfLayoutFlow:i,direction:f,scrollLeft:c,scrollTop:l}),y="vertical"===f?t.top-_.totalHeight:t.left-_.totalWidth,O="vertical"===f?t.bottom+_.totalHeight:t.right+_.totalWidth,j="vertical"===f?_.top>y&&_.bottom<O:_.left>y&&_.right<O,w="vertical"===f?a.y<_.top:a.x<_.left,E="vertical"===f?a.y>=_.top&&a.y<_.bottom:a.x>=_.left&&a.x<_.right,k="vertical"===f?a.y>=_.bottom:a.x>=_.right,D=w||E,S=b;0===s&&D?S=0:s===u.length-1&&k?S=s+1:E&&(S=s);var I=D||"number"==typeof S&&s>=S,T=r.height+r.marginTop+r.marginBottom,A=r.width+r.marginLeft+r.marginRight,x=o.height+o.marginTop+o.marginBottom,P=o.width+o.marginLeft+o.marginRight,R=j&&I?g()({},o.draggableId,{top:"vertical"===f&&j&&I?T:0,left:"horizontal"===f&&j&&I?A:0}):{};return{transforms:C(C(C({},v),R),{},{__placeholder__:I?{top:"vertical"===f?(null!==(d=null===(m=v.__placeholder__)||void 0===m?void 0:m.top)&&void 0!==d?d:0)-x:0,left:"horizontal"===f?(null!==(p=null===(h=v.__placeholder__)||void 0===h?void 0:h.left)&&void 0!==p?p:0)-P:0}:v.__placeholder__}),targetIndex:S}}),{transforms:{__placeholder__:{top:0,left:0}},targetIndex:d?0:null})}function I(e){var t=e.dropTarget,n=e.dragSource,r=e.dragSourceRects;if(!t||!n||!r)return _("Failed to calculate initial children transforms"),{transforms:{}};var a=r.height,o=r.width,i=r.marginTop,c=r.marginBottom,l=r.marginLeft,s=r.marginRight,u=a+i+c,d=o+l+s;return{transforms:C({},k(t.droppableId).reduce((function(e,r){var a=r.index-n.index,o=a<20&&a>0?g()({},r.draggableId,{top:"vertical"===t.direction?u:0,left:"horizontal"===t.direction?d:0}):{};return C(C({},e),o)}),{__placeholder__:{top:null,left:null}})),targetIndex:n.index}}function T(e){var t=e.dragSourceDroppableId,n=e.dropTargetDroppableId,r=w(t)?t:E(t).find((function(e){return w(e)}));return!r||n===t||n&&function e(t,n){var r="string"==typeof t?O(t):t,a=O(n);return!(!r||!a)&&(!w(a)&&(a.parentDroppableId===r.droppableId||e(r,a.parentDroppableId)))}(r,n)?null:g()({},r,{__placeholder__:{top:null,left:null}})}function A(e){var t=e.dropTargetDroppableId,n=e.dragSourceRects,r=e.dragSource,a=k(t),o=0===a.length,i=r.droppableId===t&&1===a.length;return o||i?function e(t){var n=O(t);return!n||w(n)||"number"!=typeof n.parentDraggableIndex?[]:[{droppableId:n.parentDroppableId,childIndex:n.parentDraggableIndex}].concat(p()(e(n.parentDroppableId)))}(t).reduce((function(e,t){var r=k(t.droppableId);if(0===r.length)return e;var a=w(t.droppableId);return C(C({},e),{},g()({},t.droppableId,r.filter((function(e){return"number"==typeof t.childIndex&&e.index>t.childIndex})).slice(0,20).reduce((function(e,t){var r;return C(C({},e),{},g()({},t.draggableId,{top:null!==(r=null==n?void 0:n.height)&&void 0!==r?r:null,left:0}))}),a?{__placeholder__:{top:null,left:null}}:{})))}),{}):{}}var x=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_INITIATE_DRAG":return C(C({},e),{},{userInitiatedDrag:!0,dragSource:t.payload});case"DRAG_START_CAPTURE":var n,r,a;if(!e.userInitiatedDrag)return _("DRAG_START_CAPTURE called before USER_INITIATE_DRAG"),e;if(!e.dragSource)return _("DRAG_START_CAPTURE called without a dragSource"),e;if("string"==typeof(null===(n=e.dropTarget)||void 0===n?void 0:n.droppableId)&&(null===(r=e.dropTarget)||void 0===r?void 0:r.droppableId)!==(null===(a=e.dragSource)||void 0===a?void 0:a.droppableId))return C(C({},e),{},{dragCaptureStarted:!0,dragSourceRects:t.payload.dragSource});var o=I({dragSource:e.dragSource,dragSourceRects:t.payload.dragSource,dropTarget:t.payload.dropTarget}),i=o.transforms,c=A({dragSource:e.dragSource,dragSourceRects:t.payload.dragSource,dropTargetDroppableId:t.payload.dropTarget.droppableId});return C(C({},e),{},{dragCaptureStarted:!0,dragSourceRects:t.payload.dragSource,dropTarget:t.payload.dropTarget,transforms:C(C({},c),{},g()({},t.payload.dropTarget.droppableId,i))});case"DRAG_START_TRANSITIONS":return e.dragCaptureStarted?C(C({},e),{},{mouseCoord:void 0,canApplyTransitions:!0,dragSourceOutOfLayoutFlow:!0}):(_("DRAG_START_TRANSFORMATIONS called before DRAG_START_CAPTURE"),e);case"DRAG_HOVER_IN":var l=t.payload,s=e.dragSource,d=e.dragSourceRects;if(!s||!d)return C(C({},e),{},{dropTarget:l});var f=0===k(l.droppableId).length,m={__placeholder__:{top:f?0:null,left:f?0:null}};return C(C({},e),{},{dropTarget:t.payload,transforms:C(C(C({},T({dragSourceDroppableId:s.droppableId,dropTargetDroppableId:l.droppableId})),A({dropTargetDroppableId:t.payload.droppableId,dragSource:s,dragSourceRects:d})),{},g()({},l.droppableId,m))});case"CAPTURE_HOVERING_DROPPABLE_CHILDREN":if(!e.dragCaptureStarted)return _("Capture phase called before DRAG_START_CAPTURE"),e;var h=t.payload,b=h.droppableId,y=h.draggableId,O=h.top,j=h.bottom,w=h.left,D=h.right;return C(C({},e),{},{mouseCoord:void 0,draggables:C(C({},e.draggables),{},g()({},b,C(C({},e.draggables[b]),{},g()({},y,C(C({},t.payload),{},{left:w,right:D,top:O,bottom:j})))))});case"DRAG_HOVER_OVER_DROPPABLE":var x=t.payload,P=x.x,R=x.y,N=x.scrollLeft,L=x.scrollTop,M=v()(x,["x","y","scrollLeft","scrollTop"]),F=e.mouseCoord||{},z=F.x,B=F.y,V=e.dragSource,$=e.dropTarget,H=e.draggables,U=e.dragCaptureStarted,q=e.canApplyTransitions;if(P===z&&R===B)return e;if(!U||!$||!V)return e;var G=V.droppableId!==$.droppableId,W=k($.droppableId),K=!G&&1===W.length;if(0===Object.keys(H[$.droppableId]||{}).length&&W.length>0&&!K&&(G||q&&!G))return e;if(M.droppableId!==$.droppableId)return e;var Y={x:P,y:R},J=e.dragSourceRects,Q=e.dragSourceOutOfLayoutFlow,Z=G||q?S({dropTarget:$,dragSource:V,dragSourceRects:J,mouseCoord:Y,draggables:H[$.droppableId]||{},dragSourceOutOfLayoutFlow:Q,scrollTop:L,scrollLeft:N}):I({dragSource:V,dragSourceRects:J,dropTarget:$}),X=Z.transforms;return C(C({},e),{},{mouseCoord:Y,transforms:C(C(C({},T({dragSourceDroppableId:V.droppableId,dropTargetDroppableId:$.droppableId})),A({dragSource:V,dragSourceRects:J,dropTargetDroppableId:$.droppableId})),{},g()({},$.droppableId,X))});case"DRAG_DROP":if(!e.dragCaptureStarted)return _("DRAG_DROP called before DRAG_START_CAPTURE"),e;if(!e.dropTarget)return _("DRAG_DROP called before DRAG_HOVER_IN"),e;if(!e.dragSource)return _("DRAG_DROP called without a dragSource"),e;var ee=t.payload,te=ee.x,ne=ee.y,re=ee.scrollTop,ae=ee.scrollLeft,oe=v()(ee,["x","y","scrollTop","scrollLeft"]),ie={x:te,y:ne},ce=e.dragSource,le=e.dragSourceRects,se=e.dragSourceOutOfLayoutFlow,ue=e.draggables,de=S({dropTarget:e.dropTarget,dragSource:ce,dragSourceRects:le,mouseCoord:ie,draggables:ue[oe.droppableId]||{},dragSourceOutOfLayoutFlow:se,scrollLeft:ae,scrollTop:re}),fe=de.transforms,me=void 0===fe?{}:fe,pe=de.targetIndex,he=void 0===pe?null:pe;return C(C({},e),{},{mouseCoord:ie,userInitiatedDrag:!1,dragCaptureStarted:!1,canApplyTransitions:!1,transforms:C(C(C({},T({dragSourceDroppableId:ce.droppableId,dropTargetDroppableId:oe.droppableId})),A({dragSource:ce,dragSourceRects:le,dropTargetDroppableId:oe.droppableId})),{},g()({},oe.droppableId,me)),targetIndex:he});case"DRAG_DROP_COMBINE":return e.dragCaptureStarted?C(C({},e),{},{userInitiatedDrag:!1,dragCaptureStarted:!1,canApplyTransitions:!1,combineDropTarget:t.payload,targetIndex:t.payload.index}):(_("Combine called before DRAG_START_CAPTURE"),e);case"DRAG_HOVER_OUT":var ve;if(!e.dragCaptureStarted||!e.dragSource)return e;var be=(null===(ve=e.dropTarget)||void 0===ve?void 0:ve.droppableId)===t.payload,ge=be?void 0:e.dropTarget,_e=ge?[ge.droppableId].concat(p()(E(ge.droppableId))).reduce((function(t,n){return e.transforms[n]?C(C({},t),{},g()({},n,e.transforms[n])):t}),{}):{};return C(C({},e),{},{transforms:C(C({},T({dragSourceDroppableId:e.dragSource.droppableId,dropTargetDroppableId:null==ge?void 0:ge.droppableId})),_e),dropTarget:ge});case"DRAG_END":return u;default:return e}}(e,t);return n};var P=function(e){return function(t){return function(n){return function(r){if("DRAG_DROP"===r.type||"DRAG_DROP_COMBINE"===r.type){var a=n(r),o=t.getState(),i=e().onDragEnd,c=o.dragSource,l=o.targetIndex,s=o.combineDropTarget,u=o.dropTarget,d=s||u;return c&&null!==l&&d?(i({draggableId:c.draggableId,type:c.type,source:{index:c.index,droppableId:c.droppableId},destination:{index:l,droppableId:d.droppableId},combine:s?{draggableId:s.draggableId,droppableId:s.droppableId}:void 0}),a):a}return n(r)}}}},R=null,N=Object(o.d)(d),L=Object(o.e)(d);function M(){return R}n("AsOC");function F(e){var t=e.children,n=e.onDragEnd,i=Object(r.useCallback)((function(){return{onDragEnd:n}}),[n]),c=Object(r.useMemo)((function(){return function(e){0;var t=f.d;return R=Object(f.e)(x,t(Object(f.a)(P(e))))}(i)}),[i]);return a.a.createElement(o.a,{context:d,store:c},a.a.createElement(l.a,{backend:s.a},t))}F.propTypes={children:c.a.node,onDragEnd:c.a.func.isRequired};var z=F,B=n("J4zp"),V=n.n(B),$=n("CLjb"),H=n("aMZS"),U=n("NCd1"),q=n("srBm"),G=Object(r.createContext)(null);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y={droppableId:"TOP_LEVEL_DROPPABLE",combineEnabledFor:"NEVER",draggables:[],direction:"vertical",droppableRef:null,useClone:!1,dropzone:"inline"};function J(e,t){switch(t.type){case"REGISTER_DRAGGABLEID":return K(K({},e),{},{draggables:e.draggables.some((function(e){return e.draggableId===t.payload.draggableId}))?e.draggables:[].concat(p()(e.draggables),[t.payload])});case"UNREGISTER_DRAGGABLEID":return K(K({},e),{},{draggables:e.draggables.filter((function(e){return e.draggableId!==t.payload}))});case"UPDATE_DROPZONE":return K(K({},e),{},{dropzone:t.payload.dropzone});default:return e}}var Q=Object(r.createContext)((function(){return null})),Z=Object(r.createContext)(Y);function X(e,t,n){return function(r){var a,o,i,c,l="horizontal"===n?"left":"top";return null!==(a=null===(o=r.transforms)||void 0===o||null===(i=o[e])||void 0===i||null===(c=i[t])||void 0===c?void 0:c[l])&&void 0!==a?a:null}}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e){function t(e){return parseInt(e.slice(0,-2),0)||0}return{marginLeft:t(e.marginLeft),marginRight:t(e.marginRight),marginTop:t(e.marginTop),marginBottom:t(e.marginBottom)}}function re(e){var t=e.transformValue,n=e.direction,r=e.canApplyTransitions,a=e.dragSourceHeight,o=e.dragSourceWidth,i="horizontal"===n?{transform:"translate(".concat(null!=t?t:0,"px, 0px)")}:{transform:"translate(0px, ".concat(null!=t?t:0,"px)")};return te(te({},r?i:null),{},{height:"".concat(a,"px"),width:"".concat(o,"px")})}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=[],ce=[],le=null,se=null;function ue(e){var t,n=e.draggableElement,r=e.droppableElement,a=e.type,o=e.index,i=e.draggableId,c=e.droppableId,l=n.getBoundingClientRect(),s=l.width,u=l.height,d=l.top,f=l.right,m=l.bottom,p=l.left,h=null!==(t=window.getComputedStyle(n).transform.match(/\d+\.?\d*/g))&&void 0!==t?t:[],v=parseInt(h[h.length-2],10)||0,b=parseInt(h[h.length-1],10)||0;return oe(oe({type:a,index:o,draggableId:i,droppableId:c,initialScrollPosition:{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}},ne(window.getComputedStyle(n))),{},{width:s,height:u,top:d-b,right:f-v,bottom:m-b,left:p-v})}function de(){se&&clearTimeout(se),ce.length&&(se=window.setTimeout(me,40))}function fe(){var e,t=M(),n=null==t?void 0:t.dispatch,r=null==t?void 0:t.getState(),a=null==r||null===(e=r.dropTarget)||void 0===e?void 0:e.droppableId;(null==r?void 0:r.dragCaptureStarted)&&n&&r&&Object(o.b)((function(){ie.forEach((function(e){var t;if(e.droppableId===a&&!Boolean(null===(t=r.draggables[e.droppableId])||void 0===t?void 0:t[e.draggableId]))return function(e){var t,n,r,a=M(),o=null==a?void 0:a.getState(),i=e.element,c=e.container,l=e.boundaryBuffer;if(!(null==o?void 0:o.dropTarget))return!0;var s="horizontal"===(null===(t=o.dropTarget)||void 0===t?void 0:t.direction),u=s?c.scrollLeft:c.scrollTop,d=u-l,f=u+(s?null===(n=o.dropTarget)||void 0===n?void 0:n.width:null===(r=o.dropTarget)||void 0===r?void 0:r.height)+l,m=s?i.offsetLeft:i.offsetTop;return m<d||m>f}({element:e.draggableElement,container:e.droppableElement,boundaryBuffer:100})?function(e){(0===ce.length||ce.slice(-1)[0].length>=20)&&ce.push([]),ce.slice(-1)[0].push(e)}(e):n({type:"CAPTURE_HOVERING_DROPPABLE_CHILDREN",payload:ue(e)})})),ie=[]}))}function me(){var e,t=M(),n=null==t?void 0:t.dispatch,r=null==t?void 0:t.getState(),a=null==r||null===(e=r.dropTarget)||void 0===e?void 0:e.droppableId,i=null==r?void 0:r.dragCaptureStarted,c=ce[0];i&&n&&r&&c&&Object(o.b)((function(){c.forEach((function(e){var t;e.droppableId!==a||Boolean(null===(t=r.draggables[e.droppableId])||void 0===t?void 0:t[e.draggableId])||n({type:"CAPTURE_HOVERING_DROPPABLE_CHILDREN",payload:ue(e)})})),ce=ce.slice(1),de()}))}function pe(e){ie.push(e),le&&window.clearTimeout(le),le=window.setTimeout((function(){fe(),de()}),10)}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n,r){if("number"==typeof n||"number"==typeof r){var a=n||0,o="translate(".concat(r||0,"px, ").concat(a,"px)"),i="transform ".concat(100,"ms ease-out");if(e&&t)return{transform:o,transition:i};if(e)return{transform:o}}return{}}pe.clear=function(){le&&window.clearTimeout(le),se&&window.clearTimeout(se),ie=[],ce=[]};var ge=function(e){var t=e.type,n=e.index,o=e.draggableId,i=e.children,c=e.isClone,l=e.disableDrag,s=void 0!==l&&l,u=Object(r.useContext)(Z),d=u.droppableId,f=u.combineEnabledFor,m=u.droppableRef,p=u.draggables,h=u.direction,v=u.useClone,b=u.dropzone,_=Object(r.useContext)(Q),y=N(),O=L((function(e){return e.dropTarget&&e.dropTarget.droppableId})),j=L((function(e){var t;return Boolean(null===(t=e.draggables[d])||void 0===t?void 0:t[o])})),w=L((function(e){return e.userInitiatedDrag})),E=L((function(e){return e.dragCaptureStarted})),k=L((function(e){return e.canApplyTransitions})),D=L(X(d,o,"vertical")),C=L(X(d,o,"horizontal")),S=L((function(e){var t;return null===(t=e.dragSource)||void 0===t?void 0:t.draggableId})),I=L((function(e){var t;return(null===(t=e.dragSource)||void 0===t?void 0:t.draggableId)===o&&!c})),T=Object(r.useRef)(null),A=Object(r.useMemo)((function(){return{type:t,index:n,draggableId:o,droppableId:d}}),[t,n,o,d]);function x(){if(T.current&&m&&m.current){var e=T.current.getBoundingClientRect(),n=m.current.getBoundingClientRect(),r=ne(window.getComputedStyle(T.current)),a=r.marginLeft,o=r.marginRight,i=r.marginTop,c=r.marginBottom;y({type:"DRAG_START_CAPTURE",payload:{dragSource:{marginLeft:a,marginRight:o,marginTop:i,marginBottom:c,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},dropTarget:{type:t,direction:h,droppableId:d,draggables:p,parentDroppableId:null,top:n.top,left:n.left,bottom:n.bottom,right:n.right,width:n.width,height:n.height}}})}}var P=Object($.a)({item:A,begin:function(){setTimeout((function(){y({type:"USER_INITIATE_DRAG",payload:A}),setTimeout(x,1),setTimeout((function(){y({type:"DRAG_START_TRANSITIONS"})}),"inline"===b?100:1)}),0)},end:function(){pe.clear(),y({type:"DRAG_END"})}}),R=V()(P,3),M=R[1],F=R[2],z=Object(H.a)({accept:[f],drop:function(){y({type:"DRAG_DROP_COMBINE",payload:{type:t,index:n,droppableId:d,draggableId:o}})},collect:function(e){return{isOver:e.isOver()}}}),B=V()(z,2),W=B[0],K=B[1];Object(r.useEffect)((function(){if(!c)return _({type:"REGISTER_DRAGGABLEID",payload:{draggableId:o,index:n}}),function(){_({type:"UNREGISTER_DRAGGABLEID",payload:o})}}),[_,o,n,c]),Object(r.useEffect)((function(){O===d&&!j&&E&&T.current&&(null==m?void 0:m.current)&&!c&&pe({droppableElement:m.current,draggableElement:T.current,type:t,index:n,draggableId:o,droppableId:d})}),[O,m,d,o,E,j,c,t,n]),Object(r.useEffect)((function(){v&&!c&&F&&F(Object(U.a)())}),[F,c,v]);var Y=Object(q.a)(Object(q.a)(T,s?null:M),K),J=Object(r.useMemo)((function(){var e=s?{}:{"data-draggable":""},t=I&&w?g()({},"data-draggable-dragstart",""):{},n=I&&E?g()({},"data-draggable-dragging",""):{},r=c?g()({},"data-draggable-clone",""):{},a={};return{innerRef:Y,draggableProps:ve(ve(ve(ve(ve(ve({},e),t),n),r),a),{},{draggable:!s,style:c||"inline"!==b?void 0:be(E,k,D,C)})}}),[s,I,w,E,c,D,C,h,Y,b,k]),ee=Object(r.useMemo)((function(){return{combineTargetFor:W.isOver&&S||void 0}}),[W.isOver,S]),te=Object(r.useMemo)((function(){return{draggableId:o,index:n,isClone:c||!1}}),[o,n,c]);return a.a.createElement(G.Provider,{value:te},i(J,ee))},_e=n("w95p"),ye=n("vzVa"),Oe=n("i8i4"),je=n.n(Oe),we=n("QSzV");function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De=Object(r.memo)((function(e){var t=e.renderDragSource,n=e.isDragging,o=e.x,i=e.y,c=L((function(e){return e.dragSourceRects&&e.dragSourceRects.width})),l=Object(r.useMemo)((function(){return function(e){var t=e.x,n=void 0===t?NaN:t,r=e.y,a=void 0===r?NaN:r,o=e.maxWidth;if(isNaN(n)||isNaN(a))return{display:"none"};var i="translate(".concat(n,"px, ").concat(a,"px) rotate(2deg)");return ke(ke({},"number"==typeof o?{maxWidth:o}:{}),{},{transform:i,WebkitTransform:i})}({x:o,y:i,maxWidth:c})}),[o,i,c]);return n?je.a.createPortal(a.a.createElement("div",{"data-drag-layer":""},a.a.createElement("div",{"data-drag-source-clone":"",style:l},t)),document.body):null}));var Ce=Object(we.a)((function(e){var t=e.getSourceClientOffset();return{x:null==t?void 0:t.x,y:null==t?void 0:t.y,isDragging:e.isDragging()}}))(De);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Te=Object(_e.a)((function(e,t,n,r,a){a({type:"DRAG_HOVER_OVER_DROPPABLE",payload:{droppableId:r,x:t||0,y:n||0,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}})}));function Ae(e,t,n,r){var a=e.getBoundingClientRect(),o=.08*a.height,i=.08*a.width,c=.02*a.height,l=.02*a.width;"vertical"===r?n-a.top<o?e.scrollTop-=c:a.bottom-n<o&&(e.scrollTop+=c):"horizontal"===r&&(t-a.left<i?e.scrollLeft-=l:a.right-t<i&&(e.scrollLeft+=l))}var xe=Object(_e.a)(Ae),Pe=Object(_e.a)(Ae);function Re(e){var t=e.type,n=e.scrollableType,o=e.droppableId,i=e.combineEnabledFor,c=e.children,l=e.direction,s=void 0===l?"vertical":l,u=e.onBeforeCapture,d=e.onDragEnd,f=e.useClone,m=void 0!==f&&f,p=e.forceRoot,h=void 0!==p&&p,v=e.dropzone,b=void 0===v?"inline":v,_=N(),O=L((function(e){var t;return null===(t=e.dragSource)||void 0===t?void 0:t.type})),E=L((function(e){var t;return null===(t=e.dragSource)||void 0===t?void 0:t.draggableId})),k=L((function(e){var t;return(null===(t=e.dragSource)||void 0===t?void 0:t.droppableId)===o})),D=Object(ye.a)(k),C=L((function(e){return e.dragSourceRects})),S=L(function(e,t){return function(n){var r,a,o,i="horizontal"===t?"left":"top",c=null===(r=n.transforms)||void 0===r||null===(a=r[e])||void 0===a||null===(o=a.__placeholder__)||void 0===o?void 0:o[i];return void 0!==c||w(e)?c:"floating"}}(o,s)),I=L((function(e){return(e.dropTarget&&e.dropTarget.droppableId)===o})),T=L((function(e){return e.userInitiatedDrag})),A=L((function(e){return e.dragCaptureStarted})),x=L((function(e){return e.canApplyTransitions})),P=t===O,R=Object(r.useContext)(Z).droppableId,M=Object(r.useContext)(G),F=Object(r.useRef)(null),z="TOP_LEVEL_DROPPABLE"===R||h,B=Object(r.useReducer)(J,{droppableId:o,combineEnabledFor:i||"NEVER",draggables:[],droppableRef:F,direction:s,useClone:m,dropzone:b}),$=V()(B,2),U=$[0],W=$[1],K=Object(H.a)({accept:[t,n||"NEVER"],canDrop:function(e){return e.type===t},hover:function(e,n){var r=n.getClientOffset(),a=F.current,i=n.isOver({shallow:!0});a&&r&&(i?xe(a,r.x,r.y,s):Pe(a,r.x,r.y,s),t===e.type&&Te(a,r.x,r.y,o,_))},drop:function(e,n){if(pe.clear(),Te.cancel(),t===e.type){var r=n.getClientOffset(),a=F.current;!n.didDrop()&&r&&a&&_({type:"DRAG_DROP",payload:{x:r.x,y:r.y,droppableId:o,scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}})}},collect:function(e){var n=X&&X.isDirectlyOver,r=e.isOver({shallow:!0}),a=F.current;if(!n&&P&&r&&a){0;var i=a.getBoundingClientRect(),c=i.top,l=i.left,u=i.bottom,d=i.right,f=i.width,m=i.height;_({type:"DRAG_HOVER_IN",payload:{type:t,direction:s,droppableId:o,parentDroppableId:z?null:R,top:c,left:l,bottom:u,right:d,width:f,height:m}})}return n&&!r&&(Te.cancel(),_({type:"DRAG_HOVER_OUT",payload:o})),{isDirectlyOver:r}}}),Y=V()(K,2),X=Y[0],ee=Y[1],te=Object(q.a)(F,ee),ne=C||{},ae=ne.height,oe=void 0===ae?0:ae,ie=ne.width,ce=void 0===ie?0:ie,le=ne.marginLeft,se=void 0===le?0:le,ue=ne.marginRight,de=void 0===ue?0:ue,fe=ne.marginTop,me=void 0===fe?0:fe,he=ne.marginBottom,ve=oe+me+(void 0===he?0:he),be=ce+se+de,_e=Object(r.useMemo)((function(){var e=0===U.draggables.length?g()({},"data-droppable-is-empty",!0):{},t=x&&k&&1===U.draggables.length?g()({},"data-droppable-last-draggable-dragging",!0):{},n=x&&I?g()({},"data-droppable-is-active",!0):{},r={},o=z?{}:g()({},"data-droppable-is-nested",!0);return{innerRef:te,placeholder:function(e){return A&&"inline"===b?"number"==typeof(t=S)||null===t?a.a.createElement("em",{"data-droppable-placeholder":"",style:re({direction:s,transformValue:S,canApplyTransitions:x,dragSourceHeight:ve,dragSourceWidth:be})},!1,X.isDirectlyOver&&null!==S&&e):function(e){return"floating"===e}(S)?a.a.createElement("em",{"data-droppable-floating-drop-area":"",style:re({direction:s,transformValue:null,canApplyTransitions:!1,dragSourceHeight:ve,dragSourceWidth:be})},!1):null:null;var t},droppableProps:Ie(Ie(Ie(Ie(Ie({},e),t),n),r),o)}}),[U.draggables.length,x,k,I,z,te,A,b,S,s,ve,be,o,X.isDirectlyOver]),Oe=Object(r.useMemo)((function(){return{draggingFromThisWith:k&&E||void 0}}),[k,E]),je=Object(r.useMemo)((function(){if(!(A&&k&&m&&E))return null;var e=function e(t,n){return a.a.Children.toArray(t).reduce((function(t,r){return t||!!a.a.isValidElement(r)&&(r.type===ge&&r.props.draggableId===n?r:!!r.props.children&&e(r.props.children,n))}),!1)}(c(_e,Oe).props.children,E);return e?a.a.cloneElement(e,{isClone:!0}):null}),[A,k,E,m]);return Object(r.useEffect)((function(){"function"==typeof u&&k&&T&&!A&&u()}),[T,A,u,k]),Object(r.useEffect)((function(){"function"!=typeof d||x||k||!D||d()}),[D,k,x,d]),Object(r.useEffect)((function(){var e;if(!(null==M?void 0:M.isClone))return j((e={droppableId:o,parentDroppableId:R,parentDraggableIndex:null==M?void 0:M.index,draggables:U.draggables,direction:s,forceRoot:h}).droppableId),y.push(e),function(){j(o)}}),[null==M?void 0:M.index,null==M?void 0:M.isClone,U.draggables,o,R,s,h]),Object(r.useEffect)((function(){W({type:"UPDATE_DROPZONE",payload:{dropzone:b}})}),[b]),Object(r.useLayoutEffect)((function(){0}),[S]),a.a.createElement(Z.Provider,{value:U},a.a.createElement(Q.Provider,{value:W},c(_e,Oe),je&&a.a.createElement(Ce,{renderDragSource:je})))}Re.propTypes={type:c.a.string.isRequired,droppableId:c.a.string.isRequired,children:c.a.func.isRequired,combineEnabledFor:c.a.string,direction:c.a.oneOf(["horizontal","vertical"]),onBeforeCapture:c.a.func,onDragEnd:c.a.func,useClone:c.a.bool,forceRoot:c.a.bool};var Ne=Re},FySG:function(e,t,n){e.exports={invited:"_1SnD67dJ7uUl_vzbD0wRZt",accept:"_26cw31hVwCVJc9cKEL9-MJ",reject:"_3Ll9t7L66HA1VAC4wnnju1"}},"G/av":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}));var r={activity_log:!1,activity_log_limit:7,automatic_backups:!1,calendar_feeds:!1,comments:!1,completed_tasks:!1,customization_color:!1,email_forwarding:!1,filters:!1,labels:!1,max_collaborators:5,max_filters:0,max_labels:0,max_projects:80,max_reminders_location:0,max_reminders_time:0,max_sections:20,max_tasks:150,plan_name:"free_old",reminders:!1,templates:!1,upload_limit_mb:0,uploads:!1,weekly_trends:!1},a={activity_log:!0,activity_log_limit:-1,automatic_backups:!0,calendar_feeds:!0,comments:!0,completed_tasks:!0,customization_color:!0,email_forwarding:!0,filters:!0,labels:!0,max_collaborators:25,max_filters:150,max_labels:500,max_projects:300,max_reminders_location:300,max_reminders_time:700,max_sections:20,max_tasks:300,plan_name:"pro",reminders:!0,templates:!0,upload_limit_mb:100,uploads:!0,weekly_trends:!0},o={activity_log:!0,activity_log_limit:-1,automatic_backups:!0,calendar_feeds:!0,comments:!0,completed_tasks:!0,customization_color:!0,email_forwarding:!0,filters:!0,labels:!0,max_collaborators:50,max_filters:150,max_labels:500,max_projects:500,max_reminders_location:300,max_reminders_time:700,max_sections:20,max_tasks:300,plan_name:"teams",reminders:!0,templates:!0,upload_limit_mb:100,uploads:!0,weekly_trends:!0}},GFxf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),a=n.n(r);function o(){return a.a.createElement("svg",{width:"24",height:"24"},a.a.createElement("g",{fill:"none"},a.a.createElement("path",{fill:"currentColor",d:"M11 13h2.5c.3 0 .5.2.5.5s-.2.5-.5.5H11v2.5a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5V14H7.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5H10v-2.5c0-.3.2-.5.5-.5s.5.2.5.5V13z"}),a.a.createElement("rect",{width:"12",height:"12",x:"4.5",y:"7.5",stroke:"currentColor",rx:"2"}),a.a.createElement("path",{fill:"currentColor",d:"M19 16.7V6a1 1 0 0 0-1-1H7.3c.2-.3.4-.6.7-.7.3-.2.7-.3 1.6-.3h7.8c1 0 1.3 0 1.6.3.3.1.6.4.7.7.2.3.3.7.3 1.6v7.8c0 1 0 1.3-.3 1.6-.1.3-.4.5-.7.7zm-1.6.3H9.6h7.8z"})))}},GS7h:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),l=n("17x9"),s=n.n(l),u=n("/MKj");function d(e){var t=e.size,n=void 0===t?"medium":t,r=i()(e,["size"]),o=Object(u.h)((function(e){return e.clock})).split("-"),l=o[o.length-1];return"large"===n?c.createElement("svg",a()({width:"28",height:"28",viewBox:"0 0 28 28"},r),c.createElement("g",{fill:"currentColor",fillRule:"nonzero"},c.createElement("path",{d:"M6 3.5h16A2.5 2.5 0 0 1 24.5 6v2.5h-21V6A2.5 2.5 0 0 1 6 3.5z",opacity:".1"}),c.createElement("path",{d:"M22 3a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h16zm0 1H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm-.5 4a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1z"}),c.createElement("text",{fontFamily:"-apple-system, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'",fontSize:11,transform:"translate(4 2)",fontWeight:"500"},c.createElement("tspan",{x:9.5,y:18,textAnchor:"middle"},l)))):c.createElement("svg",a()({width:"24",height:"24",viewBox:"0 0 24 24"},r),c.createElement("g",{fill:"currentColor",fillRule:"evenodd"},c.createElement("path",{fillRule:"nonzero",d:"M6 4.5h12A1.5 1.5 0 0 1 19.5 6v2.5h-15V6A1.5 1.5 0 0 1 6 4.5z",opacity:".1"}),c.createElement("path",{fillRule:"nonzero",d:"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H6zm1 3h10a.5.5 0 1 1 0 1H7a.5.5 0 0 1 0-1z"}),c.createElement("text",{fontFamily:"-apple-system, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'",fontSize:9,transform:"translate(4 2)",fontWeight:"500"},c.createElement("tspan",{x:8,y:15,textAnchor:"middle"},l))))}d.propTypes={size:s.a.oneOf(["large","medium"])}},GfU8:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),l=n.n(c),s=n("TSYQ"),u=n.n(s);n("VBa0");t.a=function(e){var t=e.label,n=e.type,r=i()(e,["label","type"]);return l.a.createElement("div",a()({className:u()("badge_component","badge_component__".concat(n))},r),t)}},Ghd0:function(e,t,n){"use strict";var r={isGmailDomain:function(e){return-1!=e.indexOf("mail.google.com")||-1!=e.indexOf("googlemail.com")},isCurHrefGmail:function(e){var t=r;if(!e)return!1;if(t.isGmailDomain(e)&&t.getGmailRealId(e))return!0;return!1},getGmailRealId:function(e){if(!r.isGmailDomain(e))return null;try{var t=e.split("/"),n=t[t.length-1];if(-1==n.indexOf(".")&&-1==n.indexOf("#")&&-1==n.indexOf("/")&&n.length>=16)return n}catch(e){}return null},getThreadId:function(e){var t=e.match(/th=(.{16,})/);return t||(t=e.match(/\/([^/.]{16,})/))?t[1]:null}};window.GmailPlugin=r,t.a=r},GpCm:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return h.a}));var r=n("lSNA"),a=n.n(r),o=n("J4zp"),i=n.n(o),c=n("q1tI"),l=n.n(c);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={referenceElement:void 0,virtualReferenceElement:void 0};function f(){var e=l.a.useState(d),t=i()(e,2),n=t[0],r=t[1],a=l.a.useCallback((function(){r(d)}),[]),o=l.a.useCallback((function(e){r(u(u({},d),{},{referenceElement:e}))}),[]),c=l.a.useCallback((function(e){e.stopPropagation(),o(e.currentTarget)}),[o]),s=l.a.useCallback((function(e){if(!e.shiftKey){e.stopPropagation(),e.preventDefault();var t=e.pageX,n=e.pageY,a=e.target;a.getBoundingClientRect=function(){var e=document.documentElement,r={x:t-e.scrollLeft,y:n-e.scrollTop};return{width:0,height:0,top:r.y,left:r.x,right:r.x,bottom:r.y}},r(u(u({},d),{},{virtualReferenceElement:a}))}}),[]);var f=l.a.useCallback((function(){if(0!==arguments.length){var e=arguments.length<=0?void 0:arguments[0];return"function"!=typeof e?function(){a()}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.apply(this,n),a()}}a()}),[a]),m=null!=n.referenceElement||null!=n.virtualReferenceElement;return{props:{referenceElement:n.referenceElement||n.virtualReferenceElement,placement:n.virtualReferenceElement?"right-start":void 0,onClose:a,isShown:m},isOpen:m,isOpenedByContextMenu:null!=n.virtualReferenceElement,isOpenedByAnchorClick:null!=n.referenceElement,openAnchoredToElement:o,openOnClick:c,openOnContextMenu:s,close:f}}var m={name:"preventOverflow",options:{boundariesElement:"viewport",padding:20}},p={name:"flip",options:{fallbackPlacements:["top","left","right"]}},h=n("cppk")},Gtu7:function(e,t,n){"use strict";var r=n("RZq6"),a=n("oHMr"),o=n("it2E"),i=function(e){try{if(-1!==e.message.indexOf("window.User")&&-1!==e.message.indexOf("undefined")){var t=a.default.getState().user,n=localStorage.getItem("User"),i=o.a.getAll().length;r.default.captureError(e,{tags:{where:"undefined_user"},extra:{store_user:t,ls_user:n,projectCounts:i}})}}catch(e){}};function c(){try{window.applicationCache.update()}catch(e){}n("nyrj").default.logout()}t.a=function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.message,l=a.extra,s=a.showErrorLog,u=void 0===s||s,d=a.captureError,f=void 0===d||d;if(console.log(e),f&&(i(e),t=r.default.captureError(e,{tags:{where:"init"}})),u){var m=window.DOMError&&e instanceof window.DOMError?"(".concat(e.name,") ").concat(e):"".concat(e);e.message&&-1===m.indexOf(e.message)&&(m+=": ".concat(e.message)),l&&(m+="\n"+l),t&&(m+="\nEvent ID: "+t),n=TEXTAREA({readonly:"readonly"},m)}var p=A({c:"ist_button ist_button_red"},_("Ok"));o||(o=_("An unknown error happened while loading data\u2026We will try to reload Todoist."));var h=DIV({c:"init_error_popup"},P(o),P(_("If you\u07f4re seeing this again, contact us with details about what you were doing before this message popped up and where you\u07f4re using the app.")),n,p);$("app_holder")&&($("app_holder").style.display="block");var v=GB_showHTML(_("Error"),h,500,500,{close_validator_fn:function(){return c(),!0}});$AEV(p,"click",(function(){c(),v.hide()}))}},Gvtx:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=function(){function e(){a()(this,e),this.onContentSave=this.onContentSave.bind(this),this.onContollerHide=this.onContollerHide.bind(this),this.reset=this.reset.bind(this)}return i()(e,[{key:"onContentSave",value:function(e){if(-1!==(e=$strip(e)).indexOf("@")&&(e=" ".concat(e," ")),"gmail"===this.type)return"[[gmail=".concat(this.link_id,", ").concat(e," ]]");if("thunderbird"===this.type)return"[[thunderbird\n ".concat(e.replace(/\n/g,""),"\n").concat(this.link_id.replace(/\n/g,"")," \n ]]");if("outlook"===this.type)return"[[outlook=".concat(this.link_id,", ").concat(e," ]]");if("spark"===this.type)return"".concat(e," ").concat(this.link_id);if(this.type){var t=e;t=(t=t.replace(/\[/g,"(")).replace(/\]/g,")");var n=this.link_id;return n=(n=n.replace(/\(/g,"[")).replace(/\)/g,"]"),"[".concat(t,"](").concat(n,")")}return e}},{key:"onContentShow",value:function(){return this.title}},{key:"onContollerHide",value:function(){this.type=null,this.link_id="",this.title=""}},{key:"reset",value:function(){this.onContollerHide()}},{key:"setupByContent",value:function(e){var t,n=e.match(/mail.google.com\/mail/g);n&&1===n.length&&((t=e.match(/(https?:\/\/mail.google.com\/mail\/[^\s]+) \(([^\)]+)\)/))&&t[0]===e&&(this.link_id=t[1],this.title=e.replace(t[0],t[2]),this.type="gmail_new"),t||(t=e.match(/\[([^\]]+)\]\((https?:\/\/mail.google.com\/mail\/[^\s]+)\)/))&&t[0]===e&&(this.link_id=t[2],this.title=t[1],this.type="gmail_new")),(n=e.match(/twist(?:app)?.com\/a/g))&&1===n.length&&((t=e.match(/(https?:\/\/[^\s]*twist(?:app)?.com\/a\/[^\s]+) \(([^\)]+)\)/))&&t[0]===e&&(this.link_id=t[1],this.title=e.replace(t[0],t[2]),this.type="twist"),t||(t=e.match(/\[([^\]]+)\]\((https?:\/\/[^\s]*twist(?:app)?.com\/a\/[^\s]+)\)/))&&t[0]===e&&(this.link_id=t[2],this.title=t[1],this.type="twist")),-1!==e.indexOf("[[gmail=")&&(t=e.match(/\[\[gmail=(.+?),\s*(.+?)\]\]/))&&t[0]===e&&(this.link_id=t[1],this.title=t[2],this.type="gmail"),-1!==e.indexOf("[[thunderbird")&&(t=e.match(/\[\[thunderbird\n?([^\n]+)\n([^\n]+)\n\s*\]\]/))&&t[0]===e&&(this.link_id=t[2],this.title=t[1],this.type="thunderbird"),-1!==e.indexOf("[[outlook=")&&(t=e.match(/\[\[outlook=(.+?),\s*(.+?)\]\]/))&&t[0]===e&&(this.link_id=t[1],this.title=t[2],this.type="outlook"),-1!==e.indexOf("https://outlook.live.com/owa/?ItemID")&&(t=e.match(/\[([^\]]+)\]\((https?:\/\/outlook.live.com\/owa\/\?ItemID=[^\s]+)\)/))&&t[0]===e&&(this.link_id=t[2],this.title=t[1],this.type="outlook"),(n=e.match(/readdle-spark:\/\//g))&&1===n.length&&(t=e.match(/\[\(.+\)\]\((readdle-spark:[^\s]+)\)/))&&(this.link_id=t[0],this.title=e.replace(t[0],""),this.type="spark"),-1!==e.indexOf("https://mail.superhuman.com/")&&(t=e.match(/\[([^\]]+)\]\((https?:\/\/mail.superhuman.com.+?thread\/[^\s]+)\)/))&&t[0]===e&&(this.link_id=t[2],this.title=t[1].replace(" \u2022 Superhuman",""),this.type="superhuman")}},{key:"annotateWithIcon",value:function(e){var t=e.parentNode;if(t){var n;$addClass(t,"has_content_icon"),n="twist"===this.type?"sm1/twist.svg":"generic"===this.type?"sm1/attachment.svg":"sm1/email.svg";var r=svgs.get(n,{className:"content-icon",width:24,height:24});$ATT(t,r)}}}],[{key:"initClass",value:function(){this.prototype.type=null,this.prototype.link_id="",this.prototype.title=""}}]),e}();c.initClass();var l=new c},HF2Q:function(e,t,n){e.exports={checkmarkDropdownSelect:"CXCP20wIp8ZjquRlahWG0",checkmarkDropdownSelectType:"_2lc12hryPqo93EAvn-7V_2",checkmarkDropdownSelectCheckmark:"_30Prmr1p3K-b5OXrbuzlgw",checkmarkDropdownSelectToggle:"_19Ngvab-pXb6ENOX4SPni9"}},HFim:function(e,t,n){"use strict";function r(e,t){var n=t.type,r=t.id;return e.completedItems&&e.completedItems[n]&&e.completedItems[n][r]}function a(e,t){var n=t.id;if(e.completedItems&&e.completedItems.projects)return Object.values(e.completedItems.projects).reduce((function(e,t){return e||t.completedSections&&t.completedSections.find((function(e){return e.section.id===n}))}),void 0)}function o(e,t){var n,r=t.id;return null===(n=a(e,{id:r}))||void 0===n?void 0:n.completed.sections[r]}n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}))},HLc3:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return b}));var r=n("lSNA"),a=n.n(r),o=n("nvqi"),i=n("n7q7"),c=n("Puqe"),l=n.n(c),s=n("Qi13"),u=n("TQFH"),d=n("mxou");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){return Object(d.k)(t.type)&&e.detailView?m(m({},e),{},{detailView:null}):e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.e:return null===e||t.payload.ids.includes(e.id)?null:e;case"DETAIL_VIEW_SHOW_ITEM":case"DETAIL_VIEW_SHOW_PROJECT":return t.payload;case"DETAIL_VIEW_UNMARK_NOTE":return l()(e,"highlightedNoteId");case"DETAIL_VIEW_CLOSE":return null;case o.b:var n=t.payload.temp_id_mapping;return e&&Object(i.a)(e.id)&&n[e.id]?m(m({},e),{},{id:n[e.id]}):e;default:return e}};var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.activeTab,r=void 0===n?null:n,a=t.highlightedNoteId,o=void 0===a?null:a,i=t.syncId;return function(t){t({type:"DETAIL_VIEW_SHOW_ITEM",payload:{type:"item",id:e=s.a.getRealId(e),syncId:i,activeTab:r,highlightedNoteId:o}})}},v=function(){return function(e){e({type:"DETAIL_VIEW_CLOSE"})}};function b(e){return Boolean(e.detailView)}},HWOQ:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return h}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{fill:"currentColor",d:"M7 11h10v1H7z"});function i(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24"},e),o)}n.p;function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=r.createElement("path",{fill:"currentColor",d:"M17 7v10H7V7h10zm-1 1H8v8h8V8z"});function s(e){return r.createElement("svg",c({width:24,height:24,viewBox:"0 0 24 24"},e),l)}n.p;function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=r.createElement("path",{fill:"currentColor",d:"M14 10H8v6h6v-6zm1 4h1V8h-6v1h5v5zm0 3H7V9h2V7h8v8h-2v2z"});function f(e){return r.createElement("svg",u({width:24,height:24,viewBox:"0 0 24 24"},e),d)}n.p;function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=r.createElement("path",{fill:"currentColor",d:"M17 7.714L12.714 12 17 16.286l-.714.714L12 12.714 7.714 17 7 16.286 11.286 12 7 7.714 7.714 7 12 11.286 16.286 7z"});function h(e){return r.createElement("svg",m({width:24,height:24,viewBox:"0 0 24 24"},e),p)}n.p},I2PJ:function(e,t,n){"use strict";var r=n("/MKj"),a=n("gVGk"),o=n("A72/"),i=n("pVnL"),c=n.n(i),l=n("J4zp"),s=n.n(l),u=n("QILm"),d=n.n(u),f=n("q1tI"),m=n.n(f),p=n("17x9"),h=n.n(p),v=n("TSYQ"),b=n.n(v),g=n("Pxnj"),_=n("4eld"),y=n("zZLx"),O=n("jlRT"),j=n("rbFA"),w=n("UVeO"),E={true:"M18 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h12zm-2.457 4.293l-5.293 5.293-1.793-1.793a1 1 0 1 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l6-6a1 1 0 1 0-1.414-1.414z",mixed:"M18 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h12zm-2 7H8a1 1 0 0 0 0 2h8a1 1 0 0 0 0-2z",false:"M18 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h12zm0 1H6a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"};function k(e){var t=e.checkedStatus,n=d()(e,["checkedStatus"]);return m.a.createElement("svg",c()({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n),m.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:E[t]}))}k.propTypes={checkedStatus:h.a.oneOf(["true","false","mixed"]).isRequired};var D=k,C=n("Ba5u"),S=n("Vdij"),I=n("Vbab"),T=n("wkB0");function A(e){var t=e.label;return m.a.createElement(y.b,{value:t.name,label:t.name,className:"label_picker_option"},(function(e){var n=e.checkedStatus;return m.a.createElement(m.a.Fragment,null,m.a.createElement("span",{"aria-hidden":"true",style:{color:Object(g.g)("label",t.color)}},m.a.createElement(w.X,null)),m.a.createElement("span",{className:"label_picker_option_name"},m.a.createElement(C.a,{source:t.name})),m.a.createElement("span",{className:"label_picker_option_box","aria-hidden":"true"},m.a.createElement(D,{checkedStatus:n})))}))}function x(e){var t=e.personalLabels,n=e.sharedLabels,r=e.onLabelAdd,o=m.a.useContext(y.a),i=o.searchText,c=o.dispatch,l=Object(T.a)(i),s=0===l.length,u=s||0===t.length?t:Object(a.k)({labels:t},l),d=s||0===n.length?n:Object(a.k)({labels:n},l);return 0!==u.length||0!==d.length||s?m.a.createElement(y.d,{"aria-label":Object(I.a)("Select a label")},u.map((function(e){return m.a.createElement(A,{key:e.name,label:e})})),d.length>0&&m.a.createElement(y.c,null,Object(I.a)("Shared")),d.map((function(e){return m.a.createElement(A,{key:e.name,label:e})}))):m.a.createElement(y.d,{"aria-label":Object(I.a)("Select a label"),className:"label_picker_empty"},m.a.createElement(y.c,null,Object(I.a)("Label not found")),m.a.createElement("li",null,m.a.createElement(_.a,{onClick:function(e){e.stopPropagation();var t=r(l);t&&c({type:"SELECT_OPTION",optionValue:t.name})}},m.a.createElement(w.y,null),Object(I.a)('Create "{query}"').replace("{query}",l))))}function P(e){var t=e.children,n=e.personalLabels,r=e.sharedLabels,a=e.value,o=e.partiallySelectedValues,i=e.canUseLabels,l=e.canAddLabels,u=e.userPlanLimits,p=e.onLabelAdd,h=void 0===p?function(){}:p,v=e.onChange,g=e.onClose,_=e.tooltip,w=e.maxLabelItemOrder,E=e.className,k=e.disabled,D=void 0!==k&&k,C=e.isShown,T=e.childlessRef,A=e.placement,P=d()(e,["children","personalLabels","sharedLabels","value","partiallySelectedValues","canUseLabels","canAddLabels","userPlanLimits","onLabelAdd","onChange","onClose","tooltip","maxLabelItemOrder","className","disabled","isShown","childlessRef","placement"]),R=Object(f.useState)(!1),N=s()(R,2),L=N[0],M=N[1];function F(){M(!1)}return m.a.createElement(m.a.Fragment,null,m.a.createElement(y.g,{multiple:!0,disabled:D,value:a,partiallySelectedValues:o,onChange:v,isShown:C},!T&&m.a.createElement(y.h,c()({},P,{tooltip:_,className:b()("item_action",E),onClick:function(e){P.onClick&&P.onClick(e),e.defaultPrevented||i||(M(!0),e.preventDefault())}}),t),m.a.createElement(y.e,{className:"label_picker",childlessRef:T,placement:A,onClose:g},m.a.createElement(y.f,{placeholder:Object(I.a)("Type a label")}),m.a.createElement(x,{personalLabels:n,sharedLabels:r,onLabelAdd:function(e){return l?h({name:e,item_order:w}):(Object(S.a)({type:"LABELS",userPlanLimits:u}),null)}}))),m.a.createElement(O.a.Box,{className:"label_picker__premium",isOpen:L,onDismiss:F,closeOnOverlayClick:!0},m.a.createElement(O.a.Body,null,m.a.createElement(j.a,{feature:"FEATURE_LABEL",onClose:F}))))}A.propTypes={label:h.a.object.isRequired},x.propTypes={personalLabels:h.a.array.isRequired,sharedLabels:h.a.array.isRequired,onLabelAdd:h.a.func.isRequired},P.propTypes={personalLabels:h.a.array.isRequired,sharedLabels:h.a.array.isRequired,value:h.a.arrayOf(h.a.string.isRequired).isRequired,partiallySelectedValues:h.a.arrayOf(h.a.string.isRequired),disabled:h.a.bool,canUseLabels:h.a.bool,canAddLabels:h.a.bool,userPlanLimits:h.a.object,onLabelAdd:h.a.func,tooltip:h.a.node,onChange:h.a.func.isRequired,onClose:h.a.func,children:h.a.node,className:h.a.string,maxLabelItemOrder:h.a.number,isShown:h.a.bool,childlessRef:h.a.object,placement:h.a.string};var R=P;t.a=Object(r.c)((function(e){return{personalLabels:Object(a.g)(e),sharedLabels:Object(a.h)(e),maxLabelItemOrder:Object(a.o)(e)+1,canAddLabels:Object(o.f)(e),canUseLabels:Object(o.o)(e),userPlanLimits:Object(o.s)(e)}}),(function(e){return{onLabelAdd:function(t){return e(Object(a.d)(t))}}}))(R)},I4sn:function(e,t,n){"use strict";var r,a={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.version=e.version,this.isBeta=e.isBeta,this.smartScheduleDomain=e.smartScheduleDomain,this.onInitialized=e.onInitialized},apiVersion:null!==(r=n("Q5di").a.apiVersion)&&void 0!==r?r:"v8.7"};t.a=a},IHJC:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("J4zp"),l=n.n(c),s=n("q1tI"),u=n.n(s),d=n("TSYQ"),f=n.n(d),m=n("4eld"),p=n("oVv/");n("+u6p");var h=function(e){var t=e.checked,n=e.priority,r=e.onChange,o=e.playSound,c=void 0===o||o,d=i()(e,["checked","priority","onChange","playSound"]),h=Object(s.useRef)(null),v=function(e,t){var n=Object(s.useState)(!1),r=l()(n,2),a=r[0],o=r[1];return[a,function(n){o(!0),window.setTimeout((function(){e.current&&(o(!1),n())}),t)}]}(h,250),b=l()(v,2),g=b[0],_=b[1],y=f()("task_checkbox","priority_".concat(n),{checked:t,with_check_animation:g});return u.a.createElement(m.a,a()({ref:h,className:y,onClick:function(e){e.stopPropagation(),e.persist(),_((function(){r(t?0:1,e)})),!1===Boolean(t)&&c&&Object(p.a)().catch((function(){}))},role:"checkbox","aria-checked":Boolean(t)},d),u.a.createElement("div",{className:"task_checkbox__circle"},u.a.createElement("svg",{width:"24",height:"24"},u.a.createElement("path",{fill:"currentColor",d:"M11.23 13.7l-2.15-2a.55.55 0 0 0-.74-.01l.03-.03a.46.46 0 0 0 0 .68L11.24 15l5.4-5.01a.45.45 0 0 0 0-.68l.02.03a.55.55 0 0 0-.73 0l-4.7 4.35z"}))))};t.a=h},IJUe:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("yUE8"),a=n("lDtu"),o=n("Ek05"),i=Object(r.b)("utils/formatDate",["DateExt"]);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.withYear,r=void 0!==n&&n,c=t.withWeekday,l=void 0===c||c,s=t.withTime,u=void 0===s||s;return u||(e instanceof i.DateExt&&(e=e.toDate()),e=a.b.date_max(e)),o.a.format(e,!1,{lang:window.LANG,with_weekday:l,with_year:r})}},IVjG:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c),s=n("4eld"),u=n("I2PJ"),d=n("YrBN"),f=n("9d0M"),m=n("Xczw"),p=n("J4zp"),h=n.n(p),v=n("Vbab"),b=n("L8gx"),g=n("/7zm"),y=n("++xj"),O=n("GpCm"),j=n("Tc49"),w=n("LE+f"),E=n("KIIX"),k=n("0DO4"),D=n("RPD4"),C=n("wwFd"),S=n("fTZR"),I=n("oVv/");function T(e){var t=e.item,n=e.onArchive,r=e.onDelete,a=e.onLinkCopy,o=e.onEmailComments,c=e.onCompletedShow,l=e.onCompletedHide,s=e.onRename,u=e.showCompleted,d=Boolean(t.in_history||t.checked);return i.a.createElement(j.b,{className:"item_menu_list","aria-label":Object(v.d)("a11y","task edit menu")},d?null:i.a.createElement(j.a,{text:Object(v.a)("Rename task"),icon:i.a.createElement(E.a,null),onClick:s,"data-action-hint":"task-actions-overflow-menu-edit"}),!d&&t.due&&t.due.is_recurring?i.a.createElement(j.a,{text:Object(v.a)("Complete forever"),icon:i.a.createElement(w.a,null),onClick:function(){n(t.id),Object(I.a)().catch((function(){}))},"data-action-hint":"task-actions-overflow-menu-complete-forever"}):null,d?null:i.a.createElement(j.a,{text:Object(v.a)("Add comments via email"),icon:i.a.createElement(S.a,null),onClick:function(){return o(t.id)},"data-action-hint":"task-actions-overflow-menu-add-comments-email"}),i.a.createElement(j.a,{text:Object(v.a)("Copy link to task"),icon:i.a.createElement(k.a,null),onClick:function(){return a(t.id)},"data-action-hint":"task-actions-overflow-menu-copy-link"}),u?i.a.createElement(j.a,{text:Object(v.a)("Hide completed sub-tasks"),icon:i.a.createElement(D.a,null),onClick:l,"data-action-hint":"task-actions-overflow-menu-toggle-show-completed"}):i.a.createElement(j.a,{text:Object(v.a)("Show completed sub-tasks"),icon:i.a.createElement(D.a,null),onClick:c,"data-action-hint":"task-actions-overflow-menu-toggle-show-completed"}),i.a.createElement(j.c,null),i.a.createElement(j.a,{className:"danger_menu",text:Object(v.a)("Delete task"),icon:i.a.createElement(C.a,null),onClick:r,"data-action-hint":"task-actions-overflow-menu-delete"}))}T.propTypes={item:l.a.object.isRequired,showCompleted:l.a.bool.isRequired,onArchive:l.a.func.isRequired,onDelete:l.a.func.isRequired,onLinkCopy:l.a.func.isRequired,onEmailComments:l.a.func.isRequired,onCompletedShow:l.a.func,onCompletedHide:l.a.func,onRename:l.a.func};var A=n("gd9Y");function x(e){var t=e.item,n=e.user,r=e.onArchive,a=e.onDelete,c=e.onLinkCopy,l=e.onEmailComments,u=e.showCompleted,d=e.onCompletedShow,f=e.onCompletedHide,m=e.onRename,p=Object(o.useState)(null),j=h()(p,2),w=j[0],E=j[1];function k(e){return function(){E(null);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.apply(null,n)}}var D=Object(A.h)();var C=Object(g.c)({onConfirm:function(){D({view:"current"}),a(t.id)},confirmLabel:Object(v.a)("Delete"),htmlMessage:function(){return Object(v.a)("Are you sure you want to delete {item_name}?").replace("{item_name}","<strong>".concat((e=t,b.a.formatSimple(e.content,{only_text:!0,as_html:!1,with_links:!0,with_emojis:!0,trim_limit:50})),"</strong>"));var e}});return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{className:"item_action item_actions_more",onClick:function(e){return E(e.currentTarget)},title:_("More task actions"),"aria-label":_("More task actions"),"data-action-hint":"task-actions-overflow-menu"},i.a.createElement(y.a,null)),i.a.createElement(O.c,{referenceElement:w,isShown:Boolean(w),withArrow:!1,onClose:function(){return E(null)}},i.a.createElement(T,{item:t,user:n,onArchive:k(r),onDelete:k(C),onLinkCopy:k(c),onEmailComments:k(l),showCompleted:u,onCompletedShow:d,onCompletedHide:f,onRename:m})))}x.propTypes={item:l.a.object.isRequired,showCompleted:l.a.bool.isRequired,user:l.a.object.isRequired,onArchive:l.a.func,onDelete:l.a.func,onLinkCopy:l.a.func,onEmailComments:l.a.func,onCompletedShow:l.a.func,onCompletedHide:l.a.func,onRename:l.a.func};var P=n("QILm"),R=n.n(P),N=n("z430"),L=n("8qSS"),M=n("2JC7"),F=n("UVeO"),z=n("/gRr");function B(e){var t=e.referenceElement,n=e.onClose,r=e.value,c=e.onChange,l=R()(e,["referenceElement","onClose","value","onChange"]),u=Object(o.useState)(!1),d=h()(u,2),f=d[0],m=d[1],p=Object(o.useRef)(null);function b(e){m(!1),null==n||n(e)}return i.a.createElement(O.c,a()({placement:"bottom",modifiers:[O.b],referenceElement:function(e){var n=e.ref;return t({ref:n,onClick:function(){return m(!f)}})},isShown:f,onShown:function(){setTimeout((function(){var e;return null===(e=p.current)||void 0===e?void 0:e.focus()}),0)},onClose:b,zIndex:!1},l),i.a.createElement("div",{className:"quick_note popover_dialog"},i.a.createElement("div",{className:"head"},i.a.createElement("label",{htmlFor:"quick_comment_input"},Object(v.a)("Quick Comment")),i.a.createElement(s.a,{className:"close_btn",onClick:b,"aria-label":Object(v.a)("Close")},i.a.createElement(F.x,{small:!0}))),i.a.createElement(N.a,{autoFocus:!0,id:"quick_comment_input",placeholder:Object(v.a)("Write a comment"),value:r||"",minRows:3,cacheMeasurements:!0,onChange:function(e){return c(e.currentTarget.value)},onKeyDown:function(e){var t=Object(z.a)(e);(e.ctrlKey||e.metaKey)&&"Enter"===t&&b(e)},ref:p})))}function V(e){var t=e.value,n=e.onChange,r=e.onClose,o=e.tooltip,c=e.shortcut,l=R()(e,["value","onChange","onClose","tooltip","shortcut"]);return i.a.createElement(B,{referenceElement:function(e){var n=e.ref,r=e.onClick;return i.a.createElement(s.a,a()({ref:n,className:"item_action quick_note_action",onClick:r,title:o,shortcut:c},l),t?i.a.createElement(M.a,null):i.a.createElement(L.a,null))},onClose:r,value:t,onChange:n})}B.propTypes={referenceElement:l.a.func.isRequired,value:l.a.string,onChange:l.a.func.isRequired,onClose:l.a.func},V.propTypes={value:l.a.string,onChange:l.a.func,onClose:l.a.func,tooltip:s.a.propTypes.title,shortcut:s.a.propTypes.shortcut};var $=n("xvbm"),H=n("giaj");function U(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case 2:return t?svgs.getString("sm1/priority_3_hc.svg"):svgs.getString("sm1/priority_3.svg");case 3:return t?svgs.getString("sm1/priority_2_hc.svg"):svgs.getString("sm1/priority_2.svg");case 4:return t?svgs.getString("sm1/priority_1_hc.svg"):svgs.getString("sm1/priority_1.svg");default:return svgs.getString("sm1/priority_flag.svg")}}function q(e){var t=e.user,n=e.labels,r=e.reminders,o=e.priority,c=e.item,l=e.sectionId,p=e.projectId,h=e.projectName,b=e.quickNote,g=e.showKeyboardShortcuts,_=void 0!==g&&g,y=e.withMoreMenu,O=void 0!==y&&y,j=e.withQuickNote,w=void 0!==j&&j,E=e.withSectionSelection,k=void 0!==E&&E,D=e.onLabelsSelect,C=e.onProjectSelect,S=e.onPrioritySelect,I=e.onReminderAdd,T=e.onReminderDelete,A=e.onReminderClose,P=e.onArchive,R=e.onDelete,N=e.onLinkCopy,L=e.onEmailComments,M=e.onQuickNoteChange,F=e.onQuickNoteClose,z=e.showCompleted,B=e.onCompletedShow,q=e.onCompletedHide,G=e.onRename,W=Object($.e)(t),K=Object($.d)("global.project_iconography"),Y=Boolean(c.in_history||c.checked),J=t&&t.theme===H.d;return i.a.createElement("div",{className:"item_actions","data-item-actions-root":"","data-item-content":c.content,"data-item-project-id":p,"data-item-project-name":h},null!=C?i.a.createElement(m.a,{selectedProjectId:p,selectedSectionId:l,onSelect:C,withSectionSelection:k},(function(e){var t=e.toggle,n=e.buttonProps;return i.a.createElement(s.a,a()({},n,{disabled:Y,className:"item_action",onClick:t,"aria-label":Object(v.a)("Select a project"),title:Object(v.a)("Select a project"),shortcut:"#","data-action-hint":"task-actions-move-to-project"}),i.a.createElement("span",{dangerouslySetInnerHTML:{__html:svgs.getString(K?"sm1/project.svg":"sm1/project_old.svg")}}))})):null,null!=D?i.a.createElement(u.a,{value:n,onChange:function(e){var t=e.target;return D(t.value)},disabled:Y,"aria-label":Object(v.a)("Add label(s)"),tooltip:Object(v.a)("Add label(s)"),shortcut:"@","data-action-hint":"task-actions-add-labels"},i.a.createElement("span",{dangerouslySetInnerHTML:{__html:svgs.getString("sm1/label_outline.svg")}})):null,null!=S?i.a.createElement(d.a,{className:"item_action item_actions_priority",darkTheme:J,priority:o,onSelect:S,disabled:Y,"aria-label":Object(v.a)("Set the priority"),tooltip:Object(v.a)("Set the priority"),shortcut:{variants:[["p1"],["p2"],["p3"],["p4"]]},"data-priority":o},i.a.createElement("span",{"data-action-hint":"task-actions-priority-picker",dangerouslySetInnerHTML:{__html:U(o,J)}})):null,i.a.createElement(f.a,{onReminderAdd:I,onReminderDelete:T,onReminderClose:A,reminders:r,item:c,disabled:Y},(function(e){return i.a.createElement(s.a,a()({},e,{disabled:Y,"aria-label":Object(v.a)("Add reminder(s)"),title:(t=Object(v.a)("Add reminder(s)"),r=_&&null!=n,i.a.createElement("div",{className:"item_actions__tooltip"},r?i.a.createElement("b",null,t):t,r?i.a.createElement("span",null,Object(v.a)("Shortcut: {shortcut}").replace("{shortcut}",n)):null)),className:"item_action item_action__reminders","data-action-hint":"task-actions-reminders"}),i.a.createElement("span",{dangerouslySetInnerHTML:{__html:svgs.getString("sm1/reminder.svg")}}));var t,n,r})),!W&&w?i.a.createElement(V,{value:b,onChange:M,onClose:F,disabled:Y,tooltip:Object(v.a)("Add a comment"),shortcut:[Object(v.a)("ctrl"),"m"],"data-action-hint":"task-actions-quick-comment","data-testid":"task-actions-quick-comment"}):null,O?i.a.createElement(x,{item:c,user:t,onArchive:P,onDelete:R,onLinkCopy:N,onEmailComments:L,showCompleted:z,onCompletedShow:B,onCompletedHide:q,onRename:G}):null)}q.propTypes={user:l.a.shape({theme:l.a.number}),reminders:l.a.array,item:l.a.object.isRequired,labels:l.a.arrayOf(l.a.string.isRequired),priority:l.a.number,projectId:l.a.oneOfType([l.a.number,l.a.string]),withQuickNote:l.a.bool,quickNote:l.a.string,sectionId:l.a.oneOfType([l.a.number,l.a.string]),projectName:l.a.string,showKeyboardShortcuts:l.a.bool,withMoreMenu:l.a.bool,withSectionSelection:l.a.bool,onLabelsSelect:l.a.func,onProjectSelect:l.a.func,onPrioritySelect:l.a.func,onReminderAdd:l.a.func,onReminderDelete:l.a.func,onReminderClose:l.a.func,onArchive:l.a.func,onDelete:l.a.func,onLinkCopy:l.a.func,onEmailComments:l.a.func,onQuickNoteChange:l.a.func,onQuickNoteClose:l.a.func,showCompleted:l.a.bool,onCompletedShow:l.a.func,onCompletedHide:l.a.func,onRename:l.a.func};var G=q;t.a=G},IYoK:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("181E"),l=n("MrOw"),s=n("P/G1"),u=n.n(s);function d(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(){function e(){var t=this;a()(this,e),this.initState=this.initState.bind(this),this.syncLocalModel=this.syncLocalModel.bind(this),this.getNotifications=this.getNotifications.bind(this),this.markNotesAsRead=this.markNotesAsRead.bind(this),this.syncLastRead=this.syncLastRead.bind(this),this.getLastRead=this.getLastRead.bind(this),this.markRead=this.markRead.bind(this),this.markReadAll=this.markReadAll.bind(this),this.markUnread=this.markUnread.bind(this),this.acceptInvitationBiz=this.acceptInvitationBiz.bind(this),this.rejectInvitationBiz=this.rejectInvitationBiz.bind(this),this.doInvitationGenericBiz=this.doInvitationGenericBiz.bind(this),this.acceptInvitation=this.acceptInvitation.bind(this),this.rejectInvitation=this.rejectInvitation.bind(this),this.doInvitationGeneric=this.doInvitationGeneric.bind(this),this.syncCachedData=this.syncCachedData.bind(this),this.loadCachedData=this.loadCachedData.bind(this),this.initState(),Signals.connect("clear_local_data",this.initState),Signals.connect("load_cached_data",(function(){t.loadCachedData()}))}return i()(e,[{key:"initState",value:function(){this.noti_model={},this.last_read_id=0,this.initial_sync=!0}}]),i()(e,[{key:"deserializeFields",value:function(e){e.created=new Date(e.created).getTime()}},{key:"syncLocalModel",value:function(e){var t=this.noti_model,n=!0;(this.initial_sync||l.default.getInstance().isInitialSync())&&(n=!1);var r,a=d(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;this.deserializeFields(o);var i=void 0;if(void 0===t[o.notification_key]&&(i=!0),t[o.notification_key]=o,o.is_deleted)t[o.notification_key]&&delete t[o.notification_key];else n&&i&&Signals.sendSignal("notify",o)}}catch(e){a.e(e)}finally{a.f()}var c=this.getNotifications();if(c.length>120){var s,u=d(c.slice(120));try{for(u.s();!(s=u.n()).done;){var f=s.value;t[f.notification_key]&&delete t[f.notification_key]}}catch(e){u.e(e)}finally{u.f()}}this.syncCachedData(),this.initial_sync=!1}},{key:"getNotifications",value:function(){var e=$values(this.noti_model);return e=e.sort((function(e,t){return t.id-e.id}))}},{key:"hasUnseen",value:function(){var e,t=this.last_read_id,n=0,r=d(this.getNotifications());try{for(r.s();!(e=r.n()).done;){e.value.id>t&&(n+=1)}}catch(e){r.e(e)}finally{r.f()}return n>0}},{key:"setAllSeen",value:function(){var e=this.getNotifications();if(0!==e.length){var t=e[0];t.id!==this.last_read_id&&(this.last_read_id=t.id,this.last_read_id&&(this.syncCachedData(),l.default.getInstance().queueUpdate({type:"live_notifications_set_last_read",args:{id:this.last_read_id}})))}}},{key:"markNotesAsRead",value:function(e){var t,n={},r=d(this.getNotifications());try{for(r.s();!(t=r.n()).done;){var a=t.value;a.note_id&&(n[a.note_id]=a)}}catch(e){r.e(e)}finally{r.f()}var o,i=[],c=d(e);try{for(c.s();!(o=c.n()).done;){var l=n[o.value.id];l&&1===l.is_unread&&(l.is_unread=0,i.push(l.id),Signals.sendSignal("noti_updated",l))}}catch(e){c.e(e)}finally{c.f()}i.length>0&&(this.markRead(i),Signals.sendSignal("notifications_updated")),n=null}},{key:"syncLastRead",value:function(e){this.last_read_id=e,this.syncCachedData()}},{key:"getLastRead",value:function(){return this.last_read_id}},{key:"markRead",value:function(e){u()(this.noti_model).forEach((function(t){e.includes(t.id)&&(t.is_unread=0)})),this.syncCachedData(),l.default.getInstance().queueUpdate({type:"live_notifications_mark_read",args:{ids:e}})}},{key:"markReadAll",value:function(){u()(this.noti_model).forEach((function(e){e.is_unread=0})),this.syncCachedData(),l.default.getInstance().queueUpdate({type:"live_notifications_mark_read_all"})}},{key:"markUnread",value:function(e){u()(this.noti_model).forEach((function(t){e.includes(t.id)&&(t.is_unread=1)})),this.syncCachedData(),l.default.getInstance().queueUpdate({type:"live_notifications_mark_unread",args:{ids:e}})}},{key:"acceptInvitationBiz",value:function(e,t,n){this.doInvitationGenericBiz("biz_accept_invitation",e,t,n)}},{key:"rejectInvitationBiz",value:function(e,t,n){this.doInvitationGenericBiz("biz_reject_invitation",e,t,n)}},{key:"doInvitationGenericBiz",value:function(e,t,n,r){var a={onSuccess:function(){n&&n()},onError:r};l.default.getInstance().queueUpdate({type:e,args:{invitation_id:t.invitation_id,invitation_secret:t.invitation_secret}}),l.default.getInstance().sync(a,!0),this.noti_model[t.notification_key]&&(delete this.noti_model[t.notification_key],this.syncCachedData())}},{key:"acceptInvitation",value:function(e,t,n){this.doInvitationGeneric("accept_invitation",e,t,n)}},{key:"rejectInvitation",value:function(e,t,n){this.doInvitationGeneric("reject_invitation",e,t,n),this.noti_model[e.notification_key]&&(delete this.noti_model[e.notification_key],this.syncCachedData())}},{key:"doInvitationGeneric",value:function(e,t,n,r){var a={onSuccess:function(){n&&n()},onError:r};l.default.getInstance().queueUpdate({type:e,args:{invitation_id:t.invitation_id,invitation_secret:t.invitation_secret}}),l.default.getInstance().sync(a,!0)}},{key:"sendBridgeUpdate",value:function(){Signals.sendSignal("bridge:model_update",{notifications:this.noti_model,notificationsLastReadId:this.last_read_id})}},{key:"syncCachedData",value:function(){Object(c.a)("Notifications").set(this.noti_model),Object(c.a)("NotificationsLastReadId").set(this.last_read_id),this.sendBridgeUpdate(),Signals.sendSignal("notifications_updated")}},{key:"loadCachedData",value:function(){var e=Object(c.a)("Notifications").get();this.noti_model=e||{},$values(this.noti_model).forEach(this.deserializeFields);var t=Object(c.a)("NotificationsLastReadId").get();this.last_read_id=t||0,Signals.sendSignal("notifications_updated")}}]),e}();window.NotificationsModel=new m,t.a=window.NotificationsModel},IZBg:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),l=n.n(c),s=n("17x9"),u=n.n(s),d=n("dE+u"),f=n("TSYQ"),m=n.n(f),p=n("LYyr"),h=n("1Sse"),v=n("Tc49"),b=n("UVeO"),g=n("phBz"),y=n("/7zm"),O=n("GpCm"),j=n("L8gx"),w=n("Ba5u"),E=n("Pxnj"),k=n("Vbab"),D=n("xvbm"),C=n("in4X"),S=n("rcvD");function I(e){var t=e.filter,n=e.count,r=void 0===n?0:n,o=e.onFilterEdit,c=e.onFilterDelete,s=e.onFilterFavorite,u=e.onFilterUnfavorite,f=e.onFilterCreate,I=i()(e,["filter","count","onFilterEdit","onFilterDelete","onFilterFavorite","onFilterUnfavorite","onFilterCreate"]),T=Object(O.d)(),A=Object(d.j)(),x=Object(y.c)({confirmLabel:Object(k.a)("Delete"),onConfirm:function(){c&&c(t),A("/today",{replace:!0})},htmlMessage:Object(p.a)(Object(k.a)("Are you sure you want to delete {item_name}?"),{item_name:"<b>".concat(j.a.format(t.name,{with_links:!1,as_html:!1}),"</b>")})}),P=null!=f,R=null!=o,N=null!=c,L=!t.is_favorite&&null!=s,M=t.is_favorite&&null!=u,F=R||L||M,z=!P&&!F&&!N,B=P&&(F||N),V=F&&N,$=t.item_order;var H=Object(D.d)("frontend.sidebar_new_design"),U=m()(I.className,{"SidebarListItem--highlighted":T.isOpen,new_sidebar_design:H});return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,a()({linkTo:{type:"filter",filterId:t.id},color:Object(E.g)("filter",t.color),leftIcon:l.a.createElement(b.L,null),onMenuClick:T.openOnClick,onContextMenu:T.openOnContextMenu,menuButtonLabel:Object(k.a)("More filter actions")},I,{className:U}),H?l.a.createElement(C.b,{label:Object(S.a)(t.name)},l.a.createElement("span",null,l.a.createElement(w.a,{source:t.name}))):l.a.createElement(w.a,{source:t.name}),r>0&&l.a.createElement("div",{"aria-label":Object(k.a)("".concat(r," ").concat(1===r?Object(k.a)("task"):Object(k.a)("tasks"))),className:"counter_count"},r)),T.isOpen&&!z?l.a.createElement(O.c,a()({},T.props,{withArrow:!1,zIndex:!1}),l.a.createElement(v.b,{className:"item_menu_list"},P&&l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{text:_("Add filter above"),icon:l.a.createElement(b.b,null),onClick:T.close((function(){f&&f($)}))}),l.a.createElement(v.a,{text:_("Add filter below"),icon:l.a.createElement(b.c,null),onClick:T.close((function(){f&&f($+1)}))})),B&&l.a.createElement(v.c,null),R&&l.a.createElement(v.a,{text:_("Edit filter"),icon:l.a.createElement(b.F,null),onClick:T.close((function(){o&&o(t)})),"data-track":"filters|menu_edit"}),L&&l.a.createElement(v.a,{text:_("Add to favorites"),icon:l.a.createElement(b.O,null),onClick:T.close((function(){s&&s(t)})),"data-track":"filters|menu_add_to_favorites"}),M?l.a.createElement(v.a,{text:_("Remove from favorites"),icon:l.a.createElement(g.a,null),onClick:T.close((function(){u&&u(t)}))}):null,V&&l.a.createElement(v.c,null),N&&l.a.createElement(v.a,{text:_("Delete filter"),icon:l.a.createElement(b.z,null),onClick:T.close(x),"data-track":"filters|menu_delete"}))):null)}I.propTypes={filter:u.a.object.isRequired,count:u.a.number,onFilterEdit:u.a.func,onFilterDelete:u.a.func,onFilterFavorite:u.a.func,onFilterUnfavorite:u.a.func,onFilterCreate:u.a.func}},IjxJ:function(e,t,n){},Ikhd:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var r=n("nvqi"),a=n("qRd9"),o=n("lzDQ"),i=n("m/ev"),c=n.n(i),l=n("duPW"),s=n.n(l),u=function(e){return e.reduce((function(e,t){return e[t]=1,e}),{})},d=function(e,t){return Boolean(s()("moreNotes.projects.".concat(t),e))};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.a:var n=t.payload.moreNotes;return void 0===n?e:null===n?{items:{},projects:{}}:n;case o.b:if(!t.payload||0===t.payload.length)return e;var i=t.payload[0];return i.item_id?c()("items.".concat(i.item_id),e):c()("projects.".concat(i.project_id),e);case r.a:var l=t.payload,s=l.incomplete_item_ids,d=l.incomplete_project_ids;return{items:s?u(s):{},projects:d?u(d):{}};default:return e}}},Iknz:function(e,t){Alerts={_confirmed:!1,install:function(){window.oldAlert=window.alert,window.alert=Alerts.alert},alertIcon:(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" transform="translate(.93 .93)"><path d="M0 0h26.13v26.13H0z"></path><path fill="currentColor" d="M13.07 25.2a12.13 12.13 0 1 1 0-24.27 12.13 12.13 0 0 1 0 24.27zm0-.94a11.2 11.2 0 1 0 0-22.4 11.2 11.2 0 0 0 0 22.4z"></path><path fill="currentColor" d="M12.13 7.47H14V14h-1.87z"></path><circle cx="13.07" cy="17.03" r="1.17" fill="currentColor"></circle></g></svg>',"text/html").body.firstChild,confirm:function(e,t,n,r){n||(n=_("OK")),r||(r=_("Cancel")),Alerts._confirmed=!1;var a,o,i=Alerts.renderHolder(e);$add(i.icon,this.alertIcon),$add(i.buttons,a=IstButton.createButton(n)),$AEV(a,"click",(function(){return Alerts._confirmed=!0,GB_hide(),!1})),$addClass(a,"ist_button_red"),$add(i.buttons,o=A({href:"#",c:"ist_button_grey_hallow"},r)),$AEV(o,"click",GB_hide);var c=GB_showHTML("",i.frame,180,275,{callback_fn:function(){t(Alerts._confirmed)}});$addClass(c.g_window,"alert_window"),a.focus()},confirmYesNo:function(e,t,n,r){return Alerts.confirm(e,t,_("Yes"),_("No"))},alert:function(e,t,n){n||(n={});var r=Alerts.renderHolder(e);0!=n.with_icon?$add(r.icon,this.alertIcon):($remove(r.icon),$addClass(r.frame,"alert_holder--no_icon"));var a=IstButton.createButton(_("OK"));$add(r.buttons,a),$AEV(a,"click",(function(){return GB_hide(),$isFunction(t)&&t(),!1})),$addClass(a,"ist_button_red");var o=GB_showHTML("",r.frame,200,275);$addClass(o.g_window,"alert_window"),a.focus()},askPopup:function(e){var t=IstButton.createButton(e.yes_btn);$addClass(t,"ist_button_red");var n=A({c:"no_btn"},e.no_btn),r=DIV(DIV({c:"alert_content"},e.content),DIV({c:"alert_btn_groups"},t,n));$AEV(t,"click",(function(){e.on_yes_click(),l.hide()})),$AEV(n,"click",(function(){e.on_no_click(),l.hide()}));var a=e.width||350,o=e.height||180,i=e.dialog_title||"",c="";e.center_layout&&(c+="alert_center_layout");var l=GB_showHTML(i,r,o,a,{with_class:c,callback_fn:function(){return!0}})},renderHolder:function(e){var t,n,r;if(e&&e.replace){e=(e=(e=e.replace(/\w{20,}/g,(function(e){return e.substring(0,20)}))).replace(/\n/g,"<br>")).replace(/=/g," "),t=$setHTML(DIV({c:"text_holder"}),e)}else t=DIV({c:"text_holder"},e);return{frame:DIV({c:"alert_holder"},r=DIV({c:"icon_holder"}),t,n=DIV({c:"button_holder"})),icon:r,text:t,buttons:n}}},Alerts.install()},Ir2J:function(e,t,n){"use strict";var r=n("giaj"),a=n("VNU/"),o={show:function(){var e=localStorage.getItem("User");if(e){var t,n=localStorage.getItem("LocalSettings.theme");if(n)t=parseInt(n);else t=JSON.parse(e).theme;t===r.d&&a.a.changeThemeClass(t)}},hide:function(){var e=$("loading");if(e){var t=function(){e&&($remove(e),e=null)};$AEV(e,"animationend",t),$addClass(e,"fade_out"),setTimeout(t,700)}},hideWithoutAnimation:function(){ICE.$remove(ICE.$get("loading"))}};window.Loading=o,t.a=o},J3hQ:function(e,t,n){},"J7+s":function(e,t){window.svgs={parser:new DOMParser,cachedElements:{},warning:function(e){console.warn(e)},getString:function(e,t){if(!this[e])return svgs.warning("svgs.getString() received undefined path: "+e),null;var n=this[e];return t&&t.className&&(n=n.replace("<svg ",'<svg class="'+t.className+'" ')),n=n.replace("<svg ",'<svg data-svgs-path="'+e+'" ')},get:function(e,t){if(!this[e])return svgs.warning("svgs.get() received undefined path: "+e),null;t&&t.extra_class&&svgs.warning("svgs: Found deprecated extrass_class usage"+e),this.cachedElements[e]||(this.cachedElements[e]=this.parser.parseFromString(this[e],"text/html").body.firstChild);var n=this.cachedElements[e].cloneNode(!0);return n.setAttribute("data-svgs-path",e),t&&t.className&&(n.classList?n.classList.add(t.className):"[object SVGAnimatedString]"===n.className.toString()?n.className.baseVal=n.className.baseVal.toString()+" "+t.className:n.className=n.className+" "+t.className),t&&t.width&&n.setAttribute("width",t.width),t&&t.height&&n.setAttribute("height",t.height),n}}},JAGl:function(e,t,n){},JWN4:function(e,t){var n;try{var r=(new DOMParser).parseFromString('<svg class="ring_spinner" width="24" height="24" viewBox="0 0 24 24"><g fill="none" fill-rule="nonzero"><path id="ring_segment" fill="#848484" d="M17.945 3.958A9.955 9.955 0 0 0 12 2c-2.19 0-4.217.705-5.865 1.9L5.131 2.16A11.945 11.945 0 0 1 12 0c2.59 0 4.99.82 6.95 2.217l-1.005 1.741z"></path><path id="ring_bg" fill="rgba(132, 132, 132, 0.2)" d="M5.13 2.16L6.136 3.9A9.987 9.987 0 0 0 2 12c0 5.523 4.477 10 10 10s10-4.477 10-10a9.986 9.986 0 0 0-4.055-8.042l1.006-1.741A11.985 11.985 0 0 1 24 12c0 6.627-5.373 12-12 12S0 18.627 0 12c0-4.073 2.029-7.671 5.13-9.84z"></path></g></svg>',"text/html");n=r.body.firstChild}catch(e){}Indicator={ringSpinner:function(e){if(!n)return Indicator.cssSpinner();var t=n.cloneNode(!0);return e&&t.setAttribute("class","ring_spinner "+e),t},cssSpinner:function(e){return e||(e="small"),DIV({c:"spinner spinner--"+e},DIV({c:"bounce1"}),DIV({c:"bounce2"}),DIV({c:"bounce3"}))},addToElm:function(e){$add(e,Indicator.cssSpinner())},removeFromElm:function(e){var t=$child(e,null,"spinner");t&&$remove(t)}}},Jbpo:function(e,t,n){},Jv0Z:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return s}));var r=n("lwsE"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=function e(t){a()(this,e),i()(this,"message",void 0),this.message=t,Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this)},l=function e(t,n,r){a()(this,e),i()(this,"queryString",void 0),i()(this,"index",void 0),i()(this,"badSymbol",void 0),i()(this,"message",void 0),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this),this.queryString=t,this.index=n,this.badSymbol=r,this.message="UnrecognizedSymbolError: "+r},s=function e(t){a()(this,e),i()(this,"message",void 0),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this);var n=t.map((function(e){return"".concat(e.constructor.name,'("').concat(e.matchedStr,'")')})).join(" ");this.message="GrammarError (tokens: "+n+")"}},KGy4:function(e,t,n){"use strict";var r=n("J4zp"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),l=n.n(c),s=n("hleb"),u=n("VLRb"),d=n("LYyr"),f=n("qFoM"),m=n("Ek05"),p=n("oHMr"),h=n("4PH6"),v=n("Bl08"),b=n("kmjL"),g=n("/7zm"),y=n("L8gx");function O(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){if(e.json)return e.json;var t=Object(f.a)(e.getAttribute("data-item-id"));return s.a.getById(t)},E=function(){function e(){var t=this;i()(this,e),this.updatePriority=this.updatePriority.bind(this),this.updateItems=this.updateItems.bind(this),Signals.connect("show_item_delete_confirm",(function(e,n){var r=[{json:e}];t.deleteItems(r,n)}))}return l()(e,[{key:"updatePriority",value:function(e,t){u.a.mark("ItemCommonEdits/updatePriority"),Signals.sendSignal("update_priority",e,t);var n=w(e);if(n){var r,o=s.a.update(n.id,{priority:t}),i=a()(o,1)[0],c=O($all("li","item_".concat(i.id)));try{for(c.s();!(r=c.n()).done;){var l=r.value;$update(l.json,i),this._setPriority(l)}}catch(e){c.e(e)}finally{c.f()}}}},{key:"_setPriority",value:function(e){for(var t=0,n=[1,2,3,4];t<n.length;t++){$removeClass(e,"priority_".concat(n[t]))}$addClass(e,"priority_".concat(w(e).priority))}},{key:"deleteItems",value:function(e,t){var n,r,a={},o={},i=0,c=function(e){if(!a[e.id]){var t=o[e.project_id];t||(t=o[e.project_id]=[]),i+=1,t.push(e.id),a[e.id]=e}},l=[];if(e.forEach((function(e){var t=w(e);if(t){var n=s.a.getById(t.id);n?(r=s.a.getChildren(n,{with_parent:!0})).forEach((function(e){c(e)})):(r=[t],c(t)),l.push(e)}})),0!==i){if(1===i){var u=y.a.formatSimple(r[0].content,{only_text:!0,as_html:!1,with_links:!0,with_emojis:!0,trim_limit:50});n=Object(d.a)(_("Are you sure you want to delete {item_name}?"),{item_name:"<b>".concat(u,"</b>")})}else n=_n("Are you sure you want to delete this task?","Are you sure you want to delete {num_of_task} tasks?",i),n=Object(d.a)(n,{num_of_task:i});Object(g.b)({confirmLabel:_("Delete"),htmlMessage:n,onConfirm:function(){for(var e in o){var n=o[e];s.a.deleteItem(n,parseInt(e))}l.forEach((function(e){e.json&&e.json.onDelete&&e.json.onDelete()})),Signals.sendSignal("instant_refresh_interface"),t&&t(!0)},onCancel:function(){t&&t(!1)}})}}},{key:"updateItems",value:function(e,t,n){var r,a=O(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o.json){var i,c=O($all("li","item_".concat(o.json.id)));try{for(c.s();!(i=c.n()).done;){var l=i.value,s=void 0;l.render_opts.renderCls&&(s=l.render_opts.renderCls.renderItem(l.json,l.render_opts)),s.disabled=!1,n?($ATT($parent(l,"ul"),s),$remove(l)):$swap(l,s)}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){a.e(e)}finally{a.f()}}},{key:"moveItems",value:function(e,t,n){u.a.mark("ItemCommonEdits/moveItems"),s.a.moveMultiple(e,t,n);var r=$keys(e);r.push(t),Signals.sendSignal("projects.rerender",r),Signals.sendSignal("instant_refresh_interface"),Signals.sendSignal("hide_editor_menu")}},{key:"notifyAddedTo",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&e.due&&e.due.string&&e.due.string.length>0){var n="".concat(e.due.string," (").concat(m.a.getWeekDay(e.due.getDay()),")"),r=Object(d.a)(_("Task added for {task_due_date}"),{task_due_date:n});p.default.dispatch(Object(h.g)(r))}else p.default.dispatch(Object(h.c)(e.id,e.project_id))}},{key:"duplicate",value:function(e){if(0!==e.length){var t=p.default.getState();Object(b.l)(t,e,{countChildren:!0})>0?Alerts.askPopup({content:_("Duplicate comments?"),width:350,height:180,center_layout:!0,yes_btn:_("Duplicate comments"),no_btn:_("Exclude comments"),on_yes_click:function(){p.default.dispatch(Object(v.w)(e))},on_no_click:function(){p.default.dispatch(Object(v.w)(e,{withNotes:!1}))}}):p.default.dispatch(Object(v.w)(e))}}}]),e}();t.a=new E},KIIX:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"currentColor",d:"M9.5 19h10a.5.5 0 110 1h-10a.5.5 0 110-1z"}),r.createElement("path",{stroke:"currentColor",d:"M4.42 16.03a1.5 1.5 0 00-.43.9l-.22 2.02a.5.5 0 00.55.55l2.02-.21a1.5 1.5 0 00.9-.44L18.7 7.4a1.5 1.5 0 000-2.12l-.7-.7a1.5 1.5 0 00-2.13 0L4.42 16.02z"}));function i(e){return r.createElement("svg",a({width:24,height:24},e),o)}n.p},KT94:function(e,t,n){e.exports={container:"_2RPqscab68uA1_pg2QHImM",header:"_1rLtZsIp_BhjqFoz3PYz7K",headerInner:"_2HyvK5s8f61iQVpnIUINIb",tabList:"_4bMKqlKNBKlfhm_H1hz16",tab:"_1Pw7RZzertlz-tGy9Am5WZ",tab_fixedWidth:"_3_-tLjPpWU2hpU5eKjyZXA",markAll:"_3C9BJa5la8EBKQy1ELKts8"}},Kk46:function(e,t,n){e.exports=n.p+"assets/images/7bdea416b12d9cd1a8bf96b3bc849390.png"},Koeu:function(e,t,n){"use strict";function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){"function"==typeof e&&(e=[e]);var n,a=r(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(t.target instanceof Element&&t.target.closest(o))return!0}}catch(e){a.e(e)}finally{a.f()}return!1}n.d(t,"a",(function(){return o}))},KpGl:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return b}));var r=n("RIqP"),a=n.n(r),o=n("P/G1"),i=n.n(o),c=n("Snkc"),l=n.n(c),s=n("ANjH"),u=n("uS8r"),d=n.n(u),f=n("VXWU"),m=n.n(f),p=n("k08V"),h=n.n(p),v=function(e){return null!=e.user&&null!=e.items&&null!=e.projects},b=function(e){var t=e.projects,n=t,r=Object(s.d)(m()("parent_id"),i.a)(t);return function e(t){var o=n[t],i=r[t];if(!i||0===i.length)return[o];var c=Object(s.d)(h.a,d()((function(t){return e(t.id)})),l()("child_order"))(i);return null===t?c:[o].concat(a()(c))}(null)}},Ku9o:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{d:"M11.145 5.148a.5.5 0 01.71.704L6.738 11H17.5a.5.5 0 010 1H6.738l5.117 5.148a.5.5 0 01-.71.704l-5.964-6-.025-.027A.44.44 0 015 11.5c0-.124.059-.238.156-.325l.025-.027 5.964-6z",fill:"currentColor"});function i(e){return r.createElement("svg",a({width:24,height:24},e),o)}n.p},L8gx:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("VDcK");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=/^https:\/\/([a-z]+\.)?todoist.com\/(showTask|app)/,d={formatSimple:function(e,t){if((t=this.setOpts(t)).with_email=!1,!t.as_html&&t.with_emojis){var n=$escapeHTML(e);return n=c.a.formatSimple(n,s(s({},t),{},{as_html:!0,styles_as_html:!1}))}return c.a.formatSimple(e,t)},format:function(e,t){return t=this.setOpts(t),e=c.a.format(e,t),e=d.transformExternalServices(e,t)},setOpts:function(e){return e||(e={}),e.fn_generate_link=function(e,t,n){e=e.replace(/javascript:/gi,"");var r=n.attachment;if(t==e&&r&&r.title&&r.url==e){var a=$strip(r.title);a.length>0&&(t=a)}var o=250;e==t&&(o=50),t==e&&t.length>o&&(t=t.substring(0,o)+"\u2026"),t=-1!=t.indexOf("&lt;")||-1!=t.indexOf("&gt;")?$escapeHTML(t,{skip:["&"]}):$escapeHTML(t);var c=u.test(e),l=function(e){var t=e.url,n=e.text,r=e.isExternal,a=void 0===r||r,o=i()(e,["url","text","isExternal"]),c=[];for(var l in o)c.push("".concat(l,'="').concat(o[l],'"'));return a&&(c.push('target="_blank"'),c.push('rel="noopener noreferrer"')),'<a href="'.concat(t,'" ').concat(c.join(" "),">").concat(n,"</a>")}({url:e,text:t.trim(),isExternal:!c,"data-redirect-link":""});return d.handleExternalServices(e,l)},e.fn_handle_gmail=function(e,t,n){return'<a href="'+("https://mail.google.com/mail/u/0/"+t)+'" class="ex_link" target="_blank" rel="noopener noreferrer" data-redirect-link>'+d.generateServiceIcon("email")+$xssStrip($strip(n))+"</a>"},e.fn_handle_outlook=function(t,n,r){var a=$xssStrip($strip(r));return e.only_text?a:'<a href="#openOutlook/'+n.replace(/'/g,"")+'" class="ex_link" data-redirect-link>'+d.generateServiceIcon("email")+a+"</a>"},e.fn_handle_new_outlook=function(e,t,n){var r=d.generateServiceIcon("email");return"<a href='https://outlook.live.com/owa/?ItemID="+t.replace(/'/g,"")+'\' class="ex_link" target="_blank" rel="noopener noreferrer" data-redirect-link>'+r+$xssStrip($strip(n))+"</a>"},e.fn_handle_thunderbird=function(e,t,n){var r=d.generateServiceIcon("email");return"<a thunder_id='"+n.replace(/'/g,"")+'\' href="#openThunderbird" class="ex_link" data-redirect-link>'+r+$xssStrip($strip(t))+"</a>"},e},generateServiceIcon:function(e){var t;switch(e){case"attachment":t="sm1/attachment.svg";break;case"cal":t="sm1/calendar.svg";break;case"email":t="sm1/email.svg";break;case"evernote":t="sm1/evernote.svg";break;case"twist":t="sm1/twist.svg"}return svgs.getString(t,{className:"service_icon"})},handleExternalServices:function(e,t){return-1===e.indexOf("d1x0mwiac2rqwt.cloudfront.net")&&-1===e.indexOf("files.todoist.com")||(t=d.generateServiceIcon("attachment")+" "+t),-1!==e.indexOf("mail.google.com")&&(t=d.generateServiceIcon("email")+" "+t),-1!==e.indexOf("https://outlook.live.com/owa/?ItemID")&&(t=d.generateServiceIcon("email")+" "+t),-1===e.indexOf("twistapp.com/a/")&&-1===e.indexOf("twist.com/a/")||(t=d.generateServiceIcon("twist")+" "+t),-1===e.indexOf("evernote.com/Home.action")&&-1===e.indexOf("evernote.com/shard")&&-1===e.indexOf("evernote://")||(t=d.generateServiceIcon("evernote")+t),-1!==e.indexOf("google.com/calendar/event")&&(t=d.generateServiceIcon("cal")+t),t},transformExternalServices:function(e){if(-1!=e.indexOf('<a href="readdle-spark://')){var t=e.match(/(<a href="readdle-spark:\/\/[^>]+>)(.+)(<\/a>)/);t&&0==t[2].indexOf("readdle-spark:")&&(e=e.replace(t[0],"")||_("Open")+" Spark",t[1]=t[1].replace('target="_blank"','target="_self"'),e=d.generateServiceIcon("email")+" "+t[1]+e+t[3])}else if(-1!=e.indexOf('<a href="bear://')){var n=e.match(/(<a href="bear:\/\/[^>]+>)(.+)(<\/a>)/);n&&0==n[2].indexOf("bear:")&&(e=e.replace(n[0],"")||_("Open")+" Bear",n[1]=n[1].replace('target="_blank"','target="_self"'),e=d.generateServiceIcon("attachment")+" "+n[1]+e+n[3])}else if(-1!=e.indexOf('<a href="airmail://')){var r=e.match(/(<a href="airmail:\/\/[^>]+>)(.+)(<\/a>)/);r&&0==r[2].indexOf("airmail:")&&(e=e.replace(r[0],"")||_("Open")+" AirMail",r[1]=r[1].replace('target="_blank"','target="_self"'),e=d.generateServiceIcon("attachment")+" "+r[1]+e+r[3])}return e}};window.Formatter=d,t.a=d},"LE+f":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),a=n.n(r);function o(){return a.a.createElement("svg",{width:"24",height:"24"},a.a.createElement("g",{fill:"none"},a.a.createElement("path",{stroke:"currentColor",d:"M5.5 9.5V18A1.5 1.5 0 0 0 7 19.5h10a1.5 1.5 0 0 0 1.5-1.5V9.5h-13zm-1 0h15V7A1.5 1.5 0 0 0 18 5.5H6A1.5 1.5 0 0 0 4.5 7v2.5z"}),a.a.createElement("rect",{width:"6",height:"1",x:"9",y:"12",fill:"currentColor",rx:".5"})))}},LQPw:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),l=n.n(c),s=n("Pxnj");var u={},d=function(){var e,t,n,r,a;return u.Menu=e=new IstMenu,$addClass(e.menu_holder,"color_picker"),e.pos_y_offset=-3,e.pos_x_offset=4,e.addItems(e.colors=(t=s.e.get(),n=function(t){return Signals.sendSignal("color_selected",t),e.hide(),!1},r=UL({class:"menu_buttons colors"}),a=LI({class:"colors"}),$map(t,(function(e,t){var r=t+s.e.START_INDEX,o=A({c:"object_color","data-index":r},svgs.get("sm1/check_mark_big.svg"));o.style.backgroundColor=e.hex,o.onclick=$p(n,r,o,null),IstTooltip.showSimpleText(o,e.name,null,1,9),$add(a,o)})),$add(r,a),{type:"item",view:r,extra_class:"no_hover"})),$addClass(e.colors.view,"projects_list_colors"),$AEV(document,"click",e.hide),e},f=n("32ZO"),m=n("it2E"),p=n("hwkv"),h=n("Qi13"),v=n("J4zp"),b=n.n(v),g=n("RIqP"),y=n.n(g),O=n("ANjH"),j=n("Snkc"),w=n.n(j),E=n("VXWU"),k=n.n(E),D=n("KtqP"),C=n.n(D),S=n("b3vA"),I=n.n(S),T=(n("ZJ5+"),n("ejxE"),n("RZq6"));function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=w()(["item_order","id"]);function N(e){return function(){try{return e.apply(null,arguments)}catch(e){throw T.captureError(e,{tags:{where:"hierachy"},extra:{args:arguments}}),e}}}var L=function e(t,n,r){for(var a=t.reduce((function(e,t,n){return t.indent==r+1&&e.push(n),e}),[]),o=0;o<a.length;o++){var i=a[o],c=t[i];c=P(P({},c),{},{parent_id:n,child_order:o+1}),t[i]=c}a.push(t.length);for(var l=1;l<a.length;l++){var s=a[l],u=a[l-1],d=t[u],f=t.slice(u+1,s);0!=f.length&&(f=e(f,d.id,d.indent),t.splice.apply(t,[u+1,f.length].concat(y()(f))))}return t},M=N((function(e){return e=z(e=R(e)),L(e,null,0)})),F=Object(O.d)(I()(w()(["child_order"])),k()("parent_id"));N((function(e){return function e(t,n,r){var a=t[n];if(!a)return[];for(var o=[],i=0;i<a.length;i++){var c=P(P({},a[i]),{},{indent:r+1});o.push(c);var l=t[c.id];l&&(l=e(t,c.id,c.indent),o=o.concat(l))}return o=o.map((function(e,t){return P(P({},e),{},{item_order:t+1})}))}(F(e),null,0)}));Object(O.d)(I()(C.a),k()("id"));function z(e){if(0===e.length)return e;var t=0,n=!1,r=e.map((function(e){return e.indent<=t+1?(t=e.indent,e):(e=P(P({},e),{},{indent:t+1}),n=!0,e)}));return n?r:e}var B=n("qOpA"),V=n.n(B),H=n("vNHF"),U=n("VLRb"),q=n("7SpX"),G=Class({current_replacer:null,init:function(e,t){this.li_items=e,this.controller=t,this.set_indent=!0,this.start_x=0,this.current_indent=1,this.indent_level="ProjectList"==t.name?22:28,this.max_indent="ProjectList"==t.name?4:5,$bindMethods(this)},onStart:function(){var e=ICE.$dnd.current_root,t=e.getBoundingClientRect().top,n=this.current_replacer=LI();ICE.$dnd.current_replacer=n,this.start_indent_x=(e.json.indent-1)*this.indent_level,this.set_indent&&($setStyle(n,"marginLeft",this.start_indent_x+"px"),this.current_indent=e.json.indent,this.cur_child=q.a.getChildren(e)),this.cur_child=this.cur_child||[],ICE.$dnd.cur_child=this.cur_child,$map(this.cur_child,(function(e){$hide(e)})),$setClass(n,e.className),$addClass(n,"drop_item"),$removeClass(n,"current"),$addClass(e,"on_drag");var r=0;$hasClass(e,"task_item")||(r=1),$setHeight(n,e.offsetHeight-r),$setOpacity(e,1),$setTop(e,t),e.style.position="fixed",$addAfter(n,e),$setWidth(e,n.offsetWidth)},onDrag:function(){var e=ICE.$dnd.current_root,t=this.current_replacer,n=e.getBoundingClientRect().top,r=n+e.offsetHeight;if(this.li_items.forEach((function(a){if(a!==e){var o=a.getBoundingClientRect().top,i=o+a.offsetHeight/2,c=o+a.offsetHeight;if($hasClass(a,"reorder_item")&&n<i&&r>i)$addAfter(t,a);else if(r>i&&r<c){for(;a.nextSibling&&"none"==a.nextSibling.style.display;)a=a.nextSibling;$addAfter(t,a)}else n<i&&n>o&&$addBefore(t,a)}})),this.set_indent){0===this.start_x&&(this.start_x=$position(e).x-this.start_indent_x);var a=$position(e).x-this.start_x,o=this.current_indent,i=this.indent_level;a<=10?o=1:a>=1*i-10&&a<=1*i+10?o=2:a>=2*i-10&&a<=2*i+10?o=3:a>=3*i-10&&a<=3*i+10?o=4:a>=4*i-10&&a<=4*i+10?o=5:a>=5*i-10&&a<=5*i+10&&(o=6),o>this.max_indent&&(o=this.max_indent);for(var c=t.previousSibling;c&&(!c.json||c==e||$isHidden(c)||$hasClass(c,"manager")||$hasClass(c,"reorder_item"));)c=c.previousSibling;c?o>c.json.indent&&(o=Math.min(c.json.indent+1,this.max_indent)):o=1;var l=t.nextSibling;if(l)try{var s=l.json.indent;o<s&&(o=s)}catch(e){}$setStyle(t,"marginLeft",(o-1)*this.indent_level+"px"),this.current_indent=o}},onEnd:function(){var e=this,t=ICE.$dnd.current_root,n=this.current_replacer;if($removeClass(t,"on_drag"),t.style.position="",t.style.left="",t.style.top="",t.style.width="",t.style.opacity=1,this.set_indent){var r=this.current_indent;if(r>5&&(r=5),r!=t.json.indent){var a=r-t.json.indent;q.a.setIndent(t,r),$map(this.cur_child,(function(t){var n=t.json.indent+a;n>e.max_indent&&(n=e.max_indent),q.a.setIndent(t,n)}))}}try{$addBefore(t,n)}catch(e){}$remove($$("li.drop_item"));var o=this.controller.name||this.controller.list_class;if(("ProjectList"==o||"ProjectEditor"==o)&&q.a.normalizeIndent(t,t),ICE.$dnd.removeDragAble(t),this.current_replacer=null,ICE.$dnd.current_replacer=null,this.cur_child)return $rmap(this.cur_child,(function(e){$addAfter(e,t)})),q.a.showHideChildren(this.cur_child,t),ICE.$dnd.cur_child=this.cur_child=null,!1}}),W=n("KGy4"),K=n("TLm1"),Y=n("qFoM"),J=n("yUE8");function Q(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=Object(J.b)("DragAndDrop",["ProjectList"]),ee=function(){function e(){i()(this,e),this.attachHandler=this.attachHandler.bind(this),this.attach=this.attach.bind(this),this.projectEditorMakeSortable=this.projectEditorMakeSortable.bind(this),this.projectListMakeSortable=this.projectListMakeSortable.bind(this),this.genericMouseDown=this.genericMouseDown.bind(this),this.genericOnEnd=this.genericOnEnd.bind(this),this.genericMakeSortable=this.genericMakeSortable.bind(this),this.onDragToProject=this.onDragToProject.bind(this),this.onEndToProject=this.onEndToProject.bind(this),this.autoFocusInput=this.autoFocusInput.bind(this),this.scrollCustom=this.scrollCustom.bind(this),this.handler=DIV({c:"drag_and_drop_handler","data-drag-handle":1},svgs.get("sm1/drag.svg")),this.handler.onmousedown=this.genericMouseDown,this.handler.reuseable=!0,this.current_li=null,K.a.set("drag_and_drop_mode",K.a.DragMode.waiting)}return l()(e,[{key:"attachHandler",value:function(e){$gc(e,"div","drag_and_drop_handler")||(this.current_li=e,$child(e,"div","arrow")?$addClass(this.handler,"extra_arrow_margin"):$removeClass(this.handler,"extra_arrow_margin"),$ATT(e,this.handler))}},{key:"attach",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(){return K.a.get("drag_and_drop_mode")!==K.a.DragMode.reordering&&(MouseHover.clearCurrentTimeout(),t.attachHandler(e))},a=function(){return $remove(t.handler)};MouseHover.attach(e,"drag_and_drop_".concat(e.json.id),r,a,200),n.trigger_mouse_over&&r()}},{key:"projectEditorMakeSortable",value:function(){}},{key:"projectListMakeSortable",value:function(e){return this.genericMakeSortable(X.ProjectList,e)}},{key:"genericMouseDown",value:function(e){if(e&&e.shiftKey)return!1;var t=this.current_li.json.manager_type,n=this.current_li.getAttribute("data-type");return $hasClass(this.current_li,"task_item")||"project_editor"===t?this.projectEditorMakeSortable(e):"project_list_item"===n?this.projectListMakeSortable(e):void 0}},{key:"genericOnEnd",value:function(){K.a.set("drag_and_drop_mode",K.a.DragMode.waiting),this.current_editor=null,this.sortable.onEnd(),this.autoFocusInput()}},{key:"genericMakeSortable",value:function(e,t){var n,r,a=this;e.save_indent=!1,this.handler.onmousedown=this.genericMouseDown;var o=$parent(this.handler,"li");if("ProjectEditor"===e.list_class){n=[];var i,c=Q($all("li","task_item"));try{for(c.s();!(i=c.n()).done;){var l=i.value;$hasClass(l,"history_item")||($hasClass(l,"checked")||($hasClass(l,"reorder_item")||l.json&&!$isHidden(l))&&n.push(l))}}catch(e){c.e(e)}finally{c.f()}}else n=e.getAllRenrededItems(!0);this.sortable=r=new G(n,e),this.project_items=null;var s=!1,u=r.onDrag,d=r.onEnd,f=r.onStart;return"ProjectEditor"===e.list_class?(this.project_items=this.calculateProjectListXY(),this.list_class=e,u=this.onDragToProject,d=this.onEndToProject,s=!0):e===X.ProjectList&&(d=function(){a.genericOnEnd(),e.saveOrder()&&e.reRender()},e===X.ProjectList?s=!0:this.sortable.set_indent=!1),ICE.$dnd.dragAble(o,{handler:this.handler,move_x:s,on_start:f,on_drag:u,scroll_on_overflow:!0,scroll_custom:this.scrollCustom,on_end:d}),K.a.set("drag_and_drop_mode",K.a.DragMode.reordering),ICE.$dnd._start(this.handler,t),$preventDefault(t),!1}},{key:"calculateProjectListXY",value:function(){var e=[],t=X.ProjectList.getAllRenrededItems(!0,!1);t.push($("filter_inbox")),$("filter_team_inbox")&&t.push($("filter_team_inbox"));var n,r=Q(t=t.concat($$('#top_filters li[data-type="project_list_item"]')));try{for(r.s();!(n=r.n()).done;){var a=n.value,o=$position(a);o.x_max=o.x+a.offsetWidth,o.y_max=o.y+a.offsetHeight,o.dom=a,e.push(o)}}catch(e){r.e(e)}finally{r.f()}return e}},{key:"onDragToProject",value:function(){if(this.sortable.onDrag(),!this.current_li.json.manager_type){var e=ICE.$dnd.mouse_pos||$mousePos(),t=e.x,n=e.y;n+=$("left_menu").scrollTop-$scrollTop(),this.drop_to_dom&&($removeClass(this.drop_to_dom,"drop_background"),this.drop_to_dom=null);var r,a=Q(this.project_items);try{for(a.s();!(r=a.n()).done;){var o=r.value,i=t>=o.x&&t<=o.x_max;if(i=i&&n>=o.y&&n<=o.y_max){$addClass(o.dom,"drop_background"),this.drop_to_dom=o.dom;break}}}catch(e){a.e(e)}finally{a.f()}}}},{key:"onEndToProject",value:function(){var e;K.a.set("drag_and_drop_mode",K.a.DragMode.waiting);var t,n=Q(this.project_items);try{for(n.s();!(t=n.n()).done;){var r=t.value;$removeClass(r.dom,"drop_background")}}catch(e){n.e(e)}finally{n.f()}var a=ICE.$dnd.current_root,o=this.sortable.cur_child;this.sortable.onEnd();var i=$parent(a,"div","project_editor_instance");i&&(i=ElementStore.get(i,"editor"));var c=ElementStore.get($parent(a,"div","section"),"SectionList");if(c===this.drag_section?(this.drag_section.saveOrder(a),this.drag_section.arrows.updateArrows()):c&&c!==this.drag_section&&(this.drag_section.arrows.updateArrows(),c.arrows.updateArrows(),c.saveOrder(a)),this.drop_to_dom){var l=[a];o&&(l=l.concat(o));var s,u,d={},f=d[a.json.project_id]=[a.json.id],m=Q(o);try{for(m.s();!(s=m.n()).done;)e=s.value,f.push(e.json.id)}catch(e){m.e(e)}finally{m.f()}u=this.drop_to_dom.json?this.drop_to_dom.json.id:Object(Y.a)(this.drop_to_dom.getAttribute("data-id")),W.a.moveItems(d,u);var p,h=Q(l);try{for(h.s();!(p=h.n()).done;){var v=p.value;$remove(v)}}catch(e){h.e(e)}finally{h.f()}this.drop_to_dom=null}this.autoFocusInput(),MouseHover.clearCurrentTimeout(),this.attachHandler(a)}},{key:"autoFocusInput",value:function(){if(this.current_li.json.manager_type){var e=$child(this.current_li,null,"richtext_editor");e&&e.proxyFocus()}}},{key:"updateDayStyles",value:function(){var e,t=Q($all("h2","section_header"));try{for(t.s();!(e=t.n()).done;){var n,r=e.value,a=r.parentNode,o=a.nextSibling,i=0,c=Q(o.childNodes);try{for(c.s();!(n=c.n()).done;){var l=n.value;l.json&&l.json.id&&!l.is_manager&&(i+=1)}}catch(e){c.e(e)}finally{c.f()}0===i?$hasClass(r,"overdue")&&($remove(a),$remove(o)):$removeClass(a,"no_matches")}}catch(e){t.e(e)}finally{t.f()}}},{key:"scrollCustom",value:function(e,t){var n=this.scrollObject(e);n.scrollBy?n.scrollBy(0,t):n.scrollTop+=t}},{key:"scrollObject",value:function(e){var t=$("left_menu"),n=$position(t);return e.x>=n.x-50&&e.x<=n.x+t.offsetWidth?t:window}}]),e}();window.DragAndDrop=new ee;var te=window.DragAndDrop;var ne,re,ae,oe=function(e,t){var n=new Date;e.addEventListener("compositionstart",(function(){n=new Date})),e.addEventListener("compositionend",(function(e){var r=new Date;setTimeout((function(){n&&n>=r&&n.getTime()-r.getTime()<50||t(e)}),10)}))},ie=n("181E"),ce="WR_PlaceholderCount",le={genereate:function(){if(this.increaseCount()>=100)return null;var e=[_("Get pastries sun at 9")+" "+_("#Family"),_("Renew gym every May 1st")+" "+_("#Health"),_("Design meeting at 11am p1")+" "+_("#Meeting"),_("Learn Portuguese every 2 days")+" "+_("#Learning"),_("Buy gift tomorrow at 6pm p1")+" "+_("#Errands"),_("Read every day p3 @goals")+" "+_("#Learning"),_("Conference Wednesday at 15")+" "+_("#Meeting"),_("Family lunch on Sunday at 11am")+" "+_("#Personal")],t=Math.floor(Math.random()*e.length);return _("e.g.,")+" "+e[t]},increaseCount:function(){var e=Object(ie.a)(ce).get();if(null===e)return this.restoreCountFromServer(),100;var t=parseInt(e||0);return t+=1,Object(ie.a)(ce).set("".concat(t)),100===t&&this.markAsSeenGlobally(),t},restoreCountFromServer:function(){var e=$requestJSON("/sync/v8/tooltips/is_seen");return e.addCallback((function(e){e.result?Object(ie.a)(ce).set(100):Object(ie.a)(ce).set("0")})),e.sendReq({name:"web_ph_natrual_text",token:window.User.token})},markAsSeenGlobally:function(){$request("/sync/v8/tooltips/mark_as_seen").sendReq({name:"web_ph_natrual_text",token:window.User.token})}},se=function(e){e.className="richtext_editor sel_richtext_editor";var t=DIV(e);if(e.generatePlaceholder){var n=le.genereate();n&&(t.placeholderText=n)}e.placeholder&&(t.placeholderText=e.placeholder),t.contentEditable=!0,t.proxyFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];setTimeout((function(){t.focus(),e&&LibEdit.setCaretPositionWithin(t,t.proxyGetValue().length)}),50)};var r=null;if(t.proxySelect=function(){var e=document.createRange();e.selectNodeContents(t);var n=window.getSelection();n.removeAllRanges(),n.addRange(e)},t.placeholderText){var a=function(){""===(t.textContent||t.innerText)?t.placeholder||(t.placeholder=SPAN({c:"rich_text_placeholder"},t.placeholderText),$AEV(t.placeholder,"contextmenu",(function(e){if(e.shift)return!0;$remove(t.placeholder),t.proxyFocus()})),$addBefore(t.placeholder,t),setTimeout((function(){t.offsetWidth&&$setWidth(t.placeholder,t.offsetWidth)}),50)):t.placeholder&&($remove(t.placeholder),t.placeholder=null)};r=function(){t.placeholder_ta&&clearTimeout(t.placeholder_ta),t.placeholder_ta=setTimeout(a,0)},$AEV(t,"keyup",r)}return t.proxyGetValue=function(){var e=t.textContent||t.innerText;return e=(e=e.replace(new RegExp(IstComplete.CHAR_FORCED_WHITESPACE,"g")," ")).replace(/\u00A0/g," ")},t.proxyPlaceCursor=function(){LibEdit.placeCursor(t,t.proxyGetValue().length)},$AEV(t,["keydown"],(function(e){if(window.getSelection)try{if(!window.getSelection().getRangeAt(0).collapsed){var n=t.proxyGetValue().length;return window.getSelection().toString().length===n&&46===e.keyCode&&(t.proxySetValue(""),t.proxyFocus(),e.preventDefault()),!0}}catch(e){}})),$AEV(t,["keypress","paste"],(function(e){if(e.clipboardData){e.preventDefault();var n=LibEdit.normalzieClipboardData(e.clipboardData.getData("text/plain"));return-1!==n.indexOf("\n")&&t.onMultilinePaste&&!t.onMultilinePaste(t,n)||(document.execCommand("insertHTML",!1,n),t.onchanged&&t.onchanged()),!1}if(e.ctrl&&e.key||e.shift)return!0;if(ne&&clearTimeout(ne),window.getSelection)try{if(!window.getSelection().getRangeAt(0).collapsed)return!0}catch(e){}return ne=setTimeout(t.onchanged,0),!0})),oe(t,(function(){ne&&clearTimeout(ne),ne=setTimeout(t.onchanged,0)})),t.proxySetValue=function(e){var n,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];LibEdit.getSelectedNode(),void 0===t.save_position&&(t.save_position=!0),t.save_position&&(n=LibEdit.getCaretOffsetWithin(t)),e=(e=(e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/(?:^\s)|(?:\s$)/g,"&nbsp;")).replace(/\s\s/g," &nbsp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/\u27e6/g,"<")).replace(/\u27e7/g,">"),t.innerHTML=e,t.placeholderText&&r&&r(),o&&t.save_position&&LibEdit.setCaretPositionWithin(t,n.start),a&&t.onchanged&&setTimeout(t.onchanged,0)},$AEV(t,"focus",(function(){t.save_position=!0})),t};document.addEventListener("compositionend",(function(){re=new Date,ae=!1})),document.addEventListener("compositionstart",(function(){ae=!0}));var ue=function(e){var t=new Date,n=re&&t.getTime()-re.getTime()<500;return 27==e.keyAscii&&(ae||n)},de=0,fe=Class({init:function(){},initWithData:function(e){this.state_manager=this,e&&$update(this,e)},getAllRenrededItems:function(e){var t=[];return $map(this.current_list.childNodes,(function(n){if(n&&n.json&&!$hasClass(n,"reorder_item")){if(!0===e&&$isHidden(n))return;t.push(n)}})),t},isFormFirst:function(){var e=$first(this.current_list.childNodes);return $hasClass(e,"reorder_item")&&(e=e.nextSibling),e==$parent(this.state_manager.current_form,"li")},isFormLast:function(){return $last(this.current_list.childNodes)==$parent(this.state_manager.current_form,"li")},isAddFormOn:function(){return this.current_form&&"add"===this.current_mode},isEditFormOn:function(){return this.current_form&&"edit"===this.current_mode},getItem:function(e){var t=(e=e||$last)(this.current_list.childNodes);return t&&$hasClass(t,"reorder_item")?t.nextSibling:t&&t.is_manager?t.previousSibling:t&&t.json&&!t.is_empty?t:null},addIndentArrows:function(e,t,n){var r=DIV({"data-track":"projects|add_or_edit_project_indent_right"},svgs.get("sm1/indent.svg")),a=DIV({"data-track":"projects|add_or_edit_project_indent_left"},svgs.get("sm1/indent.svg",{className:"flipped"})),o=this,i=function(e,n){return o.incIndent(t,e),$all(null,"richtext_editor",t)[0].proxyFocus(!0),$preventDefault(n),!1};r.onclick=$p(i,1),a.onclick=$p(i,-1),!0===n?$add(e,a,r):$add(e,r,a)},generateAddEditForm:function(e){var t=LI({class:"manager indent_1"});t.is_manager=!0,this.li_data_type&&t.setAttribute("data-type",this.li_data_type);var n=FORM(),r=IstButton.createButton(e.submit_val);if($addClass(r,"ist_button_red"),$addClass(r,"submit_btn"),e.submit_attr)for(var a in e.submit_attr)r.setAttribute(a,e.submit_attr[a]);n.onsubmit=function(){return!1},$add(t,n);var o={tabIndex:1,autocomplete:"off",generatePlaceholder:e.generatePlaceholder};e.placeholder&&(o.placeholder=e.placeholder);var i=se(o);i.proxySetValue(e.name_val,!0,!1);var c=$p(e.action,n);n.submit_fn=c,$AEV(r,["click","touchstart"],(function(e){return c(e),!1})),void 0===e.with_esc_cancel&&(e.with_esc_cancel=!0);var l,s,u=this,d=function(r){if(r=r||window.event,ICE._setEventKey(r),ue(r))return!1;if(r.ctrl&&77==r.keyAscii&&e.on_ctrl_m)return $preventDefault(r),e.on_ctrl_m(r),!1;if(e.with_esc_cancel&&27==r.keyAscii){if(window.IstComplete&&window.IstComplete.isShown())return!1;if(i.cancelInput&&i.cancelInput(r))return $preventDefault(r),!1;i.blur(),e.cancel&&e.cancel.onclick(),$preventDefault(r)}if(8==r.keyAscii&&i.cancelInput&&i.cancelInput(r))return $preventDefault(r),!1;if(e.onKeyPress)return e.onKeyPress(r,t);if(function(e){return 13==e.keyAscii&&e.ctrl&&!e.shift||me&&77==e.keyAscii&&e.ctrl&&!e.shift}(r))return $preventDefault(r),n.submit_fn((function(){i.blur(),u.showAddItem(!0,!0)}),!0),!1;if(13==r.keyAscii&&r.shift&&!e.disable_shift_enter)return $preventDefault(r),n.submit_fn((function(){i.blur(),u.showAddItem(!0,!1)}),!0),!1;if(13==r.keyAscii)return window.IstComplete&&window.IstComplete.isShown()||($preventDefault(r),i.blur(),n.submit_fn(null,!0)),!1;if(9==r.keyAscii&&!r.ctrl){var a=$f(n,"due_date");if(a&&!IstComplete.isShown()){var o=$eventElm(r);if(o&&!$hasClass(o,"due_date"))return $preventDefault(r),a.click(),!1}}if(r.ctrl&&37==r.keyAscii&&!r.shift)return!$gp($eventElm(r),"ul","items")||(!(!n.no_indent&&0!=u.with_indent)||($preventDefault(r),u.incIndent(t,-1),!1));if(r.ctrl&&39==r.keyAscii&&!r.shift)return!$gp($eventElm(r),"ul","items")||(!(!n.no_indent&&0!=u.with_indent)||($preventDefault(r),u.incIndent(t,1),!1));var c=function(e){"edit"==u.current_mode?u.saveItem(u.state_manager.current_form,e,!0):u.addItem(u.state_manager.current_form,e,!0)};return r.ctrl&&38==r.keyAscii&&!r.shift?($preventDefault(r),c(u.editPrevItem),!1):r.ctrl&&40==r.keyAscii&&!r.shift?($preventDefault(r),c(u.editNextItem),!1):void 0},f=TABLE({width:"100%"}),m=TBODY();$add(f,m);var p=TABLE(TBODY(l=TR(s=TD({c:"text_box_holder"},i))));$AEV(s,"click",(function(e){var t=$eventElm(e);if(t&&"input"==$nodeName(t))return!0;i.proxyFocus()}));var h=TD({colSpan:2,class:"form_content"},p),v=TR(h);if($add(m,v),e.indent_arrows){var b=TD({rowSpan:2,class:"indent_arrows"});$add(v,b),this.addIndentArrows(b,t)}var g=TD({align:"left",c:"td_submit"}),_=TD({align:"right",c:"td_extra"});$add(g,r,e.cancel),e.td_extra&&$add(_,e.td_extra),$add(n,f),$add(n,TABLE({c:"td_submit_area"},TBODY(TR(g,_)))),e.fn_extend_form&&(n=e.fn_extend_form(n,v,e));var y=[i];return y=y.concat($all("input",null,n)),e.inputs&&(y=y.concat(e.inputs)),$map(y,(function(e){Object(H.b)(e,d)})),e.manager_reodering&&(t.json={id:de--,manager_type:e.manager_type,indent:1},te.attach(t,{trigger_mouse_over:!0})),{li_item:t,form:n,textarea:i,text_box_holder:s,duedate:$f(n,"due_date"),form_content:h,input_holders_tr:l}},insertForm:function(e,t){var n=this.current_item;if(n&&!0===t&&e)return n.previousSibling?$addBefore(e,n):$addToTop(this.current_list,e),void FocusElm.focus(e,null,35);if(this.current_item){for(var r=n.nextSibling;r&&$isHidden(r);)r=r.nextSibling;return r?$addAfter(e,r.previousSibling||n):$add(this.current_list,e),void FocusElm.focus(e,null,35)}$add(this.current_list,e),FocusElm.focus(e,null,35)},saveCurrentItem:function(e,t){this.state_manager.current_form?this.state_manager.current_section_list&&this.state_manager.current_section_list.saveCurrentItem(e,t):e()},setCurrentItem:function(e){this.current_item=e},editPrevItem:function(){U.a.mark("GenericManager/editPrevItem");for(var e=this.current_item.previousSibling;e&&$isHidden(e);)e=e.previousSibling;if($hasClass(e,"reorder_item")&&(e=null),e)this.setCurrentItem(e),this.editCurrentItem(!0);else try{this.isFormFirst()||this.showAddItem(!0,!0)}catch(e){this.showAddItem(!0,!0)}},editNextItem:function(){U.a.mark("GenericManager/editNextItem");for(var e=this.current_item.nextSibling;e&&$isHidden(e);)e=e.nextSibling;if(e)this.setCurrentItem(e),this.editCurrentItem(!0);else try{this.isFormLast()||this.showAddItem(!0,!1)}catch(e){this.showAddItem(!0,!1)}},showAddItem:function(){U.a.mark("GenericManager/showAddItem"),this.setCurrentItemViaMenu(),this.current_mode="add",this.removeEmpty(),this.cancelCurrentEdit()},editCurrentItem:function(){this.setCurrentItemViaMenu(),this.current_mode="edit",U.a.mark("GenericManager/editCurrentItem"),this.cancelCurrentEdit(),$hide(this.current_item)},incIndent:function(e,t){var n,r=q.a.getIndent(e)+t;if(r<1&&(r=1),r>this.max_indent&&(r=this.max_indent),(n="add"==this.current_mode?e.previousSibling:e.previousSibling.previousSibling)&&$hasClass(n,"reorder_item")&&(n=null),n){var a=q.a.getIndent(n);r>a&&(r=a+1)}q.a.setIndent(e,r)},empty_text:"No items",isEmpty:function(){return 0===this.getAllRenrededItems().length},renderEmpty:function(){return LI({class:"empty"},this.empty_text)},checkEmpty:function(){if(this.isEmpty()){var e=this.renderEmpty();return e&&(q.a.attachClick(e,this.showAddItem),e.is_empty=!0,$add(this.current_list,e)),!0}return this.removeEmpty(),!1},removeEmpty:function(){$remove($all("li","empty",this.current_list))},getCurrentOrderIndent:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.as_list,r=void 0!==n&&n,a=$all("li",null,this.current_list),o=0,i={},c=[];return $map(a,(function(t){t.json&&t.json.id&&!t.is_manager&&!t.json.newCompletedView&&(o++,"project_list"===!e.manager_type&&(t.json.item_order=o),r?c.push({id:t.json.id,item_order:o,indent:t.json.indent}):i[t.json.id]=[o,t.json.indent])})),r?c:i},saveOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{noUndo:!1},t=e.noUndo;if(!this.isAddFormOn()){if(this.opts.with_indent){var n=this.getCurrentOrderIndent({as_list:!0}),r=M(n).map(V()(["id","parent_id","child_order"]));return this.data_model.moveAndReorder(r,{noUndo:t}),!0}var a=I()((function(e){return b()(e,1)[0]}),this.getCurrentOrderIndent());return this.data_model.updateOrders(a),!0}},incOrderAfterItem:function(e){if(e&&e.json)for(var t=e.json.item_order,n=e.nextSibling,r={};n;)n.json&&n.json.id&&!n.is_manager&&(t++,n.json.item_order=t,r[n.json.id]=[t,n.json.indent]),n=n.nextSibling},setCurrentItemViaMenu:function(){var e=this.menu;e.shown&&e.current_holder&&(this.setCurrentItem(e.current_holder),this.menu.hide())},cancelCurrentEdit:function(){var e=this.state_manager.current_cancel;e&&(e.onclick(),this.state_manager.current_cancel=null)}}),me=-1!=navigator.userAgent.indexOf("Macintosh")&&$isMozilla();var pe=fe,he=n("L8gx"),ve=n("QPCg"),be=n("/7zm"),ge=n("xvbm");function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var we=pe.extend({initWithData:function(e){var t={data_model:e.data_model,max_indent:4,undo_reorder_intent:e.undo_reorder_intent,markdown_support:!1};$update(t,e),this.opts=t,this.parent(t),this.event_name=e.event_name,this.current_list=null,this.current_item=null,this.empty_text=e.empty_text,this.move_x=!1,this.menu.hide_callbacks.push((function(e,t){if(t){var n=$eventElm(t);if($parent(n,"div","popper")||$parent(n,"div","scheduler")||$parent(n,"div","dialog-content")||$parent(n,"div","dialog-timepicker")||$parent(n,"div","dialog-timezone"))return!0;$removeClass($all("li","on_menu_show"),"on_menu_show")}})),Signals.connect("color_selected",this.colorSelected),e.init&&e.init(),this.is_inited=!0},insertItems:function(e){var t=this.current_list;if(t){this.opts.with_indent&&(e=Object(ve.a)(e));var n=this.opts.fn_get_selected();$replace(t,null);var r,a=window.User.team_inbox,o=Oe(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(!i.inbox_project&&i.id!==a){var c=this.renderItem(i);$add(t,c),this.current_item&&h.a.getRealId(this.current_item.json.id)==i.id&&(this.menu.shown&&(this.menu.current_holder=c),this.current_item=c),n&&n.includes(i.id)&&$addClass(c,"current")}}}catch(e){o.e(e)}finally{o.f()}q.a.showHideChildren($AF(t.childNodes)),this.opts.with_arrows&&this.arrows.updateArrows(),this.checkEmpty()}},reRender:function(){this.current_form?setTimeout(this.reRender,200):this.insertItems(this.opts.fn_get_all())},renderEmpty:function(){return this.parent()},checkEmpty:function(){this.parent(),Signals.sendSignal("check_premium_promo")},getProjectById:function(e){var t,n=null,r=Oe($AF(this.current_list.childNodes));try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a.json&&a.json.id===e){n=a;break}}}catch(e){r.e(e)}finally{r.f()}return n},deselectCurrent:function(){this.current_list&&$removeClass($all("li","current",this.current_list),"current"),this.current_item&&$removeClass(this.current_item,"current")},setCurrentVisually:function(e){if(this.current_list){var t,n=Oe($AF(this.current_list.childNodes));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.json&&r.json.id===e){$removeClass($all("li","current"),"current"),$addClass(r,"current");break}}}catch(e){n.e(e)}finally{n.f()}}},setCurrentById:function(e,t,n,r){var a;if(this.flash_item=t,!this.current_list)return!1;var o,i=!1,c=Oe($AF(this.current_list.childNodes));try{for(c.s();!(o=c.n()).done;)if((a=o.value).json&&a.json.id===e){this.setCurrent(a,n,r),i=!0;break}}catch(e){c.e(e)}finally{c.f()}return i||this.opts.fn_show_items([e]),!1},setCurrent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.cancelCurrentEdit(),this.deselectCurrent(),e&&e.json){if(U.a.mark("GenericLeftList/setCurrent"),this.current_item=e,this.current_item_with_children=n,$addClass(e,"current"),this.opts.with_indent&&!1!==n){var r,a=q.a.getChildren(e,!0),o=Oe(a);try{for(o.s();!(r=o.n()).done;){var i=r.value;$addClass(i,"current")}}catch(e){o.e(e)}finally{o.f()}}this.opts.fn_show_items([e.json.id]),this.opts.with_arrows&&this.arrows.updateArrows()}},editingDone:function(e){e&&(this.current_item=e),this.current_mode=null,this.current_form=null,this.current_cancel=null,this.opts.with_arrows&&this.arrows.updateArrows(),this.checkEmpty(),this.opts.fn_editing_done&&this.opts.fn_editing_done()},saveItem:function(e,t){var n=$parent(e,"li"),r=n.list_item;if(n&&r){var a=q.a.getChildren(r);$addAfter(r,n);var o=r.nextSibling,i=$gc(e,null,"richtext_editor").proxyGetValue();this.opts.with_indent&&q.a.normalizeIndent(n,n);var c=this.selected_color,l={name:""!==i?i:r.json.name};if(this.opts.fn_parse_form&&!1===(l=this.opts.fn_parse_form(e,l,!0)))return;null!==c&&(l.color=c);var s=this.opts.data_model.update(r.json.id,l),u=this.renderItem(s);if($hasClass(r,"current")&&$addClass(u,"current"),$addClass(u,"generic_left_list_updated"),$swap(r,u),this.opts.with_indent){var d=q.a.getIndent(n);q.a.setIndent(u,d),this.saveOrder()}$remove(n),this.opts.with_indent&&q.a.updateParentIds(u,this.opts.data_model,a),this.editingDone(u),o!==u.nextSibling&&this.saveOrder()}return $isFunction(t)&&t(),!1},editCurrentItem:function(){var e=this;this.parent();var t={cancel:q.a.genCancel("li",(function(){if($show(e.current_item),e.opts.with_arrows)return e.arrows.updateArrows()}),this,null,{"data-track":"Labels"===this.event_name?"labels|edit_cancel":"projects|edit_cancel"}),action:this.saveItem,submit_val:_("Save"),submit_attr:{"data-track":"Labels"===this.event_name?"labels|edit_confirm":"projects|edit_confirm"},name_val:this.current_item.json.name,indent_arrows:this.opts.with_indent,placeholder:this.opts.placeholder,fn_extend_form:this.opts.fn_extend_form,current_item:this.current_item.json,manager_type:this.manager_type,manager_reodering:this.manager_reodering};this.current_cancel=t.cancel;var n=this.generateAddEditForm(t);if(this.opts.with_color){this.selected_color=null;var r=this.createColorSelector(this.current_item.json.color);$ATT(n.text_box_holder,r)}else $addClass(n.form,"no_color");var a=n.li_item,o=n.textarea;a.list_item=this.current_item,this.current_form=n.form,this.opts.with_indent&&q.a.setIndent(a,this.current_item.json.indent),$addAfter(a,this.current_item),o.proxyPlaceCursor(),this.arrows&&this.arrows.updateArrows()},deleteCurrentItem:function(e,t){var n,r,a=this;U.a.mark("GenericLeftList/deleteCurrentItem");var o=q.a.getChildren(e,!1),i=[],c=!1;e.json.shared&&(c=!0);var l=function(e){return a.format(e,!0,!1)},s=null;if(this.opts.with_indent&&o&&o.length>0){var u,d=[],f=Oe(o);try{for(f.s();!(u=f.n()).done;){var m=u.value;(r=m.json&&m.json.name)&&(d.push(l(r)),i.push(m.json.id))}}catch(e){f.e(e)}finally{f.f()}n=_("Following will be deleted as well: %s."),c&&(n=_("Following will be left as well: %s.")),s=n.replace("%s","<b>".concat(d.join(", "),"</b>"))}n=_("Are you sure you want to delete %s?");var p=_("Delete");c&&(n=_("Are you sure you want to leave %s?"),p=_("Leave"));var h=n.replace("%s","<b>".concat(l(e.json.name),"</b>"));s&&(h="<span>".concat(h,"<br/><br/>").concat(s,"</span>"));Object(be.b)({confirmLabel:p,htmlMessage:h,onConfirm:function(){return o.splice(0,0,e),i.splice(0,0,e.json.id),a.opts.data_model.deleteMany(i),a.opts.fn_on_delete&&a.opts.fn_on_delete(o),"function"==typeof t&&t(),a.editingDone(),Signals.sendSignal("instant_refresh_interface")}})},addItem:function(e,t){var n,r=$parent(e,"li"),a=r.previousSibling,o=a?a.json.item_order+1:1;n=void 0!==e.color?e.color:this.opts.default_color,void 0!==this.selected_color&&(n=this.selected_color),this.opts.with_indent&&q.a.normalizeIndent(r,r);var i={name:$gc(e,null,"richtext_editor").proxyGetValue(),color:n};if(this.opts.with_indent||(i.item_order=o),this.opts.fn_parse_form&&(i=this.opts.fn_parse_form(e,i,!0)),""!==i.name&&!1!==i.is_changed){var c=this.opts.data_model.add(i);if(!c)return;if(this.opts.with_indent){q.a.normalizeIndent(r,r);var l=q.a.getIndent(r);c=ye(ye({},c),{},{indent:l})}var s=this.renderItem(c);$addClass(s,"generic_left_list_added"),$swap(r,s),this.setCurrent(s),window.scroll(0,0),this.editingDone(s),this.saveOrder({noUndo:!0}),$isFunction(t)&&t()}else this.current_item=r,$isFunction(t)&&t();return!1},showAddItem:function(e,t,n){var r=this;if(!this.fn_check_show_add_item||this.fn_check_show_add_item()){this.parent(e,t,n);var a=this.current_item,o=this.opts.default_color;!0===e&&a&&(o=a.json.color),this.selected_color=o;var i={cancel:q.a.genCancel("li",(function(){if(r.checkEmpty(),r.opts.with_arrows)return r.arrows.updateArrows()}),this,null,{"data-track":"Labels"===this.event_name?"labels|add_cancel":"projects|add_cancel"}),action:this.addItem,submit_val:this.opts.add_text,submit_attr:{"data-track":"Labels"===this.event_name?"labels|add_confirm":"projects|add_confirm"},name_val:"",indent_arrows:this.opts.with_indent,placeholder:this.opts.placeholder,fn_extend_form:this.opts.fn_extend_form,manager_type:this.manager_type,manager_reodering:this.manager_reodering};this.current_cancel=i.cancel;var c=this.generateAddEditForm(i);if(this.opts.with_color){var l=this.createColorSelector(o);$ATT(c.text_box_holder,l)}else $addClass(c.form,"no_color");if((this.current_form=c.form).color=o,!0===e&&this.opts.with_indent){var s=q.a.getIndent(a)||1,u=a&&a.nextSibling;u&&u.json&&u.indent===s+1&&(s+=1),q.a.setIndent(c.li_item,s)}this.insertForm(c.li_item,t),this.current_item=null,this.arrows&&this.arrows.updateArrows(),setTimeout((function(){return c.textarea.proxyFocus()}),20)}},render:function(){var e=this,t=DIV({c:"left_list_man"});if(!Object(ge.d)("frontend.sidebar_new_design")){$addClass(t,"actions");var n=A({href:"",class:"action sel_add_project","data-track":"Labels"===this.event_name?"labels|add":"projects|add"},SPAN({c:"icon_add"},svgs.get("sm1/plus.svg")),this.opts.add_text);this.add_item=n,n.onclick=function(){return e.saveCurrentItem((function(){return e.current_item=e.getItem($last),e.showAddItem()})),!1},$add(t,n)}return $add($(this.opts.list_holder),t)},renderItem:function(e,t){var n,r=this,a=TABLE({cellpadding:0,cellspacing:0,class:"item_table"}),o=TBODY();$add(a,o);var i={class:"clickable"};this.li_data_type&&(i["data-type"]=this.li_data_type),i["data-id"]=e.id,i.role="link";var c=LI(i,a);c.json=ye({},e),$ATT(c,DIV({c:"invisible_space"}));var l=null;!0!==e.not_editable?(l=q.a.getMenuEditIcon(),c.menu_icon=l,new MenuRightClick(c,$p(this.toggleMenu,c,{id:e.id,menu_icon:l},e.id)),this.opts.with_ordering&&!0!==t&&!e.inbox_project&&this.opts.DragAndDrop.attach(c)):$addClass(c,"not_editable");var s=this.format(e.name,!1,!0),u=this.format(e.name,!0,!1,!1),d=TD({class:"name"},$setHTML(SPAN({class:"text"}),s));Object(ge.d)("frontend.sidebar_new_design")||$add(d,this.opts.fn_create_counter(e));var f=TD({class:"menu"},l);$AEV(f,["click","touchstart"],(function(){return r.toggleMenu(c,l,e.id)})),n=this.opts.with_color?TD({class:"td_color"},this.opts.fn_create_color(e)):null;var m=TD({class:"counter"},this.opts.fn_create_counter(e));if($AEV(c,"click",(function(t){var n=$eventElm(t);if(!n.is_menu_icon&&"svg"!==$nodeName(n)&&!$hasClass(n,"arrow"))return r.opts.fn_on_click(c,e,t)})),Object(ge.d)("frontend.sidebar_new_design")){$add(o,TR(n,d,m,f));var p=null;$AEV(o,"mouseover",(function(){p=setTimeout((function(){IstTooltip.show(o,DIV({c:"ist_tooltip_content"},u),null,5,5)}),500)})),$AEV(o,"mouseout",(function(){clearTimeout(p),IstTooltip.hide()}))}else $add(o,TR(n,d,f));return this.opts.with_indent&&q.a.setIndent(c,e.indent,!0),c},colorSelected:function(e){var t=$("color_selector");if(t&&this.current_form){this.selected_color=e;var n=this.createColorSelector(e);$swap(t,n),IstTooltip.hide();var r=$child(this.current_list,"textarea");r&&r.proxyFocus(!0)}},createColorSelector:function(e){var t=this,n={color:e};this.current_item&&(n.id=this.current_item.json.id);var r,a,o,i=this.opts.fn_create_color(n,!0);return i.id="color_selector",$addClass([i,$child(i,"div")],"menu_icon"),i.setAttribute("data-track","Labels"===this.event_name?"labels|add_or_edit_color":"projects|add_or_edit_color"),$AEV(i,"click",(function(e){return e.stopPropagation(),t.menu_colors.show(i,!0),!1})),i.change_y_pos=function(e){return e+=$scrollTop(),e-=$("left_menu").scrollTop},r=this.menu_colors,a=e,o=$all("li","colors",r.colors.view)[0],$map($AF(o.childNodes),(function(e){parseInt(e.getAttribute("data-index"))==a?$addClass(e,"selected_color"):$removeClass(e,"selected_color")})),i},createColorDiv:function(e,t){var n=DIV({class:"div_color counter_color ".concat(this.icon),id:e});return $setStyle(n,"color",t),n},toggleMenu:function(e,t,n,r){return this.opts.fn_on_show_menu&&this.opts.fn_on_show_menu(e),$removeClass($all("li","on_menu_show"),"on_menu_show"),$addClass(e,"on_menu_show"),t.change_y_pos=function(){var e=t.menu_icon||t,n=$position(e).y+15;return n-=$("left_menu").scrollTop,n+=$scrollTop()},this.menu.toggle(t,e,r),!1},getAllRenrededItems:function(e,t){void 0===t&&(t=!0);var n,r=[],a=Oe(this.parent(e));try{for(a.s();!(n=a.n()).done;){var o=n.value;$hasClass(o,"not_editable")||(!0===t&&o.json&&o.json.inbox_project||!0===t&&o.json&&o.json.team_inbox||r.push(o))}}catch(e){a.e(e)}finally{a.f()}return r},isEmpty:function(){return 0===this.getAllRenrededItems(!1,!1).length},format:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.opts.markdown_support||(n=!1);var a="g_l_".concat(t).concat(n),o={only_text:t,as_html:n,with_links:!1,with_emojis:r,cache_prefix:a};return he.a.formatSimple(e,o)}});function Ee(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=new Class({init:function(e){e&&$update(this,e),void 0!==this.x_off?this.x_off=this.x_off:this.x_off=0,$bindMethods(this),$isMozilla()&&(this.y_offset=4)},updateArrows:function(e){(e=e||this.list.current_list)&&(this.removeArrows(e),this._updateArrows(e),this.list.current_his_list&&this._updateArrows(this.list.current_his_list))},displayArrow:function(e,t){if(!(e.is_manager||e.json&&e.json.dont_show_arrow)){var n=e.json&&e.json.showCollapser||this._hasChildren(e),r=e.json&&e.json.collapsed;if(!0===t&&(r=!0),void 0!==e._collapsed&&(r=!!e._collapsed),n){var a="down";r&&(a="right");var o=svgs.get("sm1/caret.svg"),i=DIV({c:"arrow "+a});return $add(i,o),$addToTop(e,i),i.host_item=e,e.arrow=i,i.onclick=e.json&&e.json.onCollapse||$p(this._switchState,i),i}}},removeArrows:function(e){var t=this._getArrows(e);$map(t,(function(e){e.host_item&&(e.host_item.arrow=null),$remove(e)}))},setList:function(e){this.list=e},_updateArrows:function(e){for(var t=$first(e.childNodes);t;)$isHidden(t)||this._childEdited(t)||this.displayArrow(t),t=t.nextSibling},_saveState:function(e,t){this.data_model.update(e,{collapsed:t},!0)},_switchState:function(e){if(e){var t=e.host_item,n=t.json,r=new Set([n.id]),a=q.a.getChildren(t),o=t.parentElement.querySelectorAll("[completed-data-hint]");if(n.collapsed){t.json=Ce(Ce({},n),{},{collapsed:0}),q.a.showHideChildren(a,t),$map(a,(function(e){$addClass(e,"task_expand_collapse"),0===e.json.collapsed&&r.add(e.json.id)}));var i,c=[],l=Ee(o);try{for(l.s();!(i=l.n()).done;){var s=i.value;r.has(s.parent_id)&&c.push(s)}}catch(e){l.e(e)}finally{l.f()}c.forEach((function(e){e.style.display="flex"}))}else{t.json=Ce(Ce({},n),{},{collapsed:1}),$map(a,(function(e){$hide(e)})),$map(a,(function(e){r.add(e.json.id)}));var u,d=[],f=Ee(o);try{for(f.s();!(u=f.n()).done;){var m=u.value;r.has(m.parent_id)&&d.push(m)}}catch(e){f.e(e)}finally{f.f()}d.forEach((function(e){e.style.display="none"}))}this.updateArrows($parent(t,"ul")),this._saveState(t.json.id,t.json.collapsed)}},_hasEdit:function(e,t){return e.is_manager&&q.a.getIndent(e),!0},_childEdited:function(e){var t,n=e.nextSibling;if(!n)return!1;if(e.json)t=e.json.indent;else{if(!e.previousSibling||!e.previousSibling.json)return!1;t=e.previousSibling.json.indent}for(;n;){var r=n.json;if(r&&r.indent<=t)return!1;if(n.is_manager)return!0;if(r&&r.indent<=t)return!1;n=n.nextSibling}return!1},_getArrows:function(e){if(e){var t=$parent(e,"div");return $all("div","arrow",t)}return this.list_holder||(this.list_holder=$parent(this.list.current_list,"td")),$all("div","arrow",this.list_holder)},_hasChildren:function(e){if(!e||!e.json)return!1;var t=e.nextSibling;return!!(t&&t.json&&t.json.indent>e.json.indent)}}),Ie=n("QF5v"),Te=n("oHMr"),Ae=n("mxou"),xe=n("maC2"),Pe=n("dGQG"),Re=n("t8vb");function Ne(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Me=we.extend({name:"ProjectList",navigateTo:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("Legacy ProjecstList navigateTo placeholder",t)},initWithData:function(){var e=this,t={event_name:"Projects",li_data_type:"project_list_item",data_model:m.a,fn_get_all:function(){return m.a.getAll()},icon:"project",markdown_support:!1,max_indent:4,default_color:7,empty_text:_("You have no projects"),add_text:_("Add Project"),placeholder:_("Name your project"),list_holder:"projects_list_manager",DragAndDrop:te,with_color:!0,with_arrows:!0,with_indent:!0,with_ordering:!0,manager_reodering:!0,manager_type:"project_list",empty_screen_only_with_activity:!0,fn_on_click:function(t,n,r){if(f.a.get().hide(r),r.shift||r.ctrl)return $preventDefault(r),e.setCurrent(t),!1;e.setCurrent(t,null,!1)},fn_show_items:function(t){var n=null==t?void 0:t[0];n&&e.navigateTo({view:{type:"project",projectId:n}})},fn_on_delete:function(e){var t=Te.default.getState().mainView;if(t){e.reduce((function(e,n){return e||Object(Ae.j)({mainView:t},n.json.id)}),!1)&&window.location.replace("#start")}else{var n,r=Ne(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;Ie.a.delete(a),Signals.sendSignal("project_deleted",a)}}catch(e){r.e(e)}finally{r.f()}}},fn_create_counter:ze.createCounter,fn_get_selected:function(){var e=Te.default.getState().mainView;return"project"===e.type?e.ids:[]},fn_on_show_menu:function(t){if(t.json.inbox_project)$hide($all("tr","project_inbox_action",e.menu.menu_holder));else{$show($all("tr","project_inbox_action",e.menu.menu_holder));var n=$("menu_archive_text"),r=$parent(n,".menu_wrapper").querySelector(".menu_icon"),a=t.json.is_archived;a?($setHTML(n,_("Unarchive")),$replace(r,svgs.get("sm1/unarchive.svg")),$hide($all("tr","project_archive_action",e.menu.menu_holder))):($setHTML(n,_("Archive project")),$replace(r,svgs.get("sm1/archive.svg")),$show($all("tr","project_archive_action",e.menu.menu_holder)));var o=p.a.isProjectShared(t.json.id),i=$("menu_delete_text"),c=$parent(i,".menu_wrapper").querySelector(".menu_icon");o?($setHTML(i,_("Leave project")),$replace(c,svgs.get("sm1/leave.svg"))):($setHTML(i,_("Delete project")),$replace(c,svgs.get("sm1/trash.svg"))),a||t.json.is_favorite?$hide($all("tr","project_add_favorite_action",e.menu.menu_holder)):$show($all("tr","project_add_favorite_action",e.menu.menu_holder))}}},n=t.arrows=new Se({data_model:t.data_model,x_off:-6});n.setList(this);var r=n._switchState;n._switchState=function(e,t){r(e,t),ze.updateCount(e.host_item.json)},t.arrows=n,$bindMethods(this),t.fn_create_color=this.createColor,t.menu=f.a.init(this),t.menu_colors=d(),Signals.connect("project_editor_manager_reset",(function(){e.current_selected&&(e.deselectCurrent(),e.current_selected=null)})),Signals.connect("projects.reset",(function(){e.deselectCurrent()})),this.parent(t)},createColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(ge.d)("global.project_iconography"),r=this.createColorDiv("project_color_".concat(e.id),s.e.getHex("project",e.color));return n&&$removeClass(r,"project"),!0!==t&&p.a.isProjectShared(e.id)?($removeClass(r,"project"),$addClass(r,"project_shared"),$add(r,svgs.get("sm1/project_shared".concat(n?"":"_old",".svg")))):n&&$add(r,svgs.get("sm1/project".concat(n?"":"_old",".svg"))),r},projectDeleted:function(){var e=this;Signals.connect("project_deleted",(function(t){t===e.current_selected&&($replace($("editor"),null),e.current_selected=null),$remove(t)}))},editCurrentItem:function(){var e=Fe();e&&Object(Re.b)({projectId:e}),IstMenu.hide()},showAddItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Fe();Object(Re.a)({anchorProjectId:n,addAbove:t,navigateTo:this.navigateTo}),IstMenu.hide()}});function Fe(){var e=document.getElementById("projects_list");if(e){var t=e.querySelector(".on_menu_show");if(t){var n=t.dataset.id;return void 0!==n?Number(n):void 0}}}var ze=new(function(){function e(){var t=this;i()(this,e),this.updateCount=this.updateCount.bind(this),this.updateColor=this.updateColor.bind(this),this.createCounter=this.createCounter.bind(this),$AEV(window,"load",(function(){h.a.listenAll((function(e,t){var n=$("project_count_".concat(e));n&&(n.id="project_count_".concat(t)),(n=$("project_color_".concat(e)))&&(n.id="project_color_".concat(t))}))})),Signals.connect("update_project_color",this.updateColor),Signals.connect("app_data_loaded",(function(){Object(Pe.a)(Te.default,xe.c,(function(){$values(Te.default.getState().projects).forEach((function(e){t.updateCount(e)}))}))}))}return l()(e,[{key:"updateCount",value:function(e){var t=$("project_count_".concat(e.id));t&&$swap(t,this.createCounter(e))}},{key:"updateColor",value:function(e){var t=$("project_color_".concat(e.id));t&&$swap(t,Be.createColor(e))}},{key:"createCounter",value:function(e){var t=Object(xe.c)(Te.default.getState()),n=t[e.id]||0;if(e.collapsed){var r,o=Ne(m.a.getChildren(e));try{for(o.s();!(r=o.n()).done;){n+=t[r.value.id]||0}}catch(e){o.e(e)}finally{o.f()}}return 0===n&&(n=""),DIV(a()({c:"counter_count",id:"project_count_".concat(e.id)},"aria-label","".concat(n||0," ").concat(1===n?_("task"):_("tasks"))),"".concat(n))}}]),e}()),Be=new Me;window.ProjectList=Be;t.a=Be},LYsz:function(e,t,n){},LYyr:function(e,t,n){"use strict";function r(e,t){for(var n=e,r=0,a=Object.keys(t);r<a.length;r++){var o=a[r],i=new RegExp("\\{\\s*".concat(o,"\\s*\\}"),"g"),c=t[o];n=n.replace(i,String(c))}return n}n.d(t,"a",(function(){return r}))},LsxX:function(e,t,n){"use strict";n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"g",(function(){return w})),n.d(t,"f",(function(){return S}));var r=n("peh1"),a=n("44Ds"),o=n.n(a),i=n("n7q7"),c=n("mX6p"),l=n("L8gx"),s=n("RZq6");function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var r,a=u(t);try{for(a.s();!(r=a.n()).done;){var o=(0,r.value)(e,n);if(0!=o)return o}}catch(e){a.e(e)}finally{a.f()}return 0}},m=function(e,t){return t.priority-e.priority},p=function(e,t){return e=e.due,t=t.due,e||t?e&&!t?-1:!e&&t?1:e.isSameDate(t)?e.with_time||t.with_time?e.with_time&&!t.with_time?-1:!e.with_time&&t.with_time?1:e.getTime()-t.getTime():0:e.getTime()-t.getTime():0},h=function(e,t){return e.child_order-t.child_order};var v=function(e,t){return e=e.id,t=t.id,Object(c.a)(e)&&Object(c.a)(t)?e-t:Object(c.a)(e)&&Object(i.a)(t)?-1:Object(i.a)(e)&&Object(c.a)(t)?1:Object(i.a)(e)&&Object(i.a)(t)?e.localeCompare(t):void 0},b={only_text:!0,as_html:!1},g=function(e,t){return e=l.a.format(e.content,b),t=l.a.format(t.content,b),e.localeCompare(t)},_=[Math.pow(10,12),Math.pow(10,10),Math.pow(10,7),Math.pow(10,4),Math.pow(10,2)],y=Object(r.createSelector)((function(e){return e.projects}),(function(e){var t=o()((function(t){var n=e[t];if(!n)return-1;if(n.inbox_project)return 1e6;if(n.team_inbox)return 1000001;for(var r=[];r.push(n.child_order),n.parent_id;)n=e[n.parent_id];r.reverse();for(var a=0,o=0;o<r.length;o++)a+=r[o]*_[o];return a}));function n(t){e[t.project_id]||s.default.captureInfoLog("missing_task_project",{id:t.id})}return function(e,r){return n(e),n(r),(e=t(e.project_id))-(r=t(r.project_id))}})),O=(Object(r.createSelector)((function(e){return e.collaborators.all}),(function(e){return function(t,n){return t=e[t.responsible_uid],n=e[n.responsible_uid],t||n?t&&!n?-1:!t&&n?1:t&&n?t.full_name===n.full_name?0:t.full_name>n.full_name?-1:1:void 0:0}})),Object(r.createSelector)((function(e){return e.sections}),(function(e){return e.items}),(function(e,t){var n=o()((function(n){var r=t[n],a=[];if(!r)return null;for(;;){if(a.push(r.child_order),!r.parent_id){var o=e[r.section_id],i=o?o.section_order+1:1;a.push(i);break}if(!t[r.parent_id])return s.default.captureInfoLog("visual_order_issue",{id:r.id}),-1;r=t[r.parent_id]}a.reverse();for(var c=0,l=0;l<a.length;l++)c+=a[l]*_[l];return c}));return function(e,t){return(e=n(e.id))-(t=n(t.id))}}))),j=Object(r.createSelector)(y,O,(function(e,t){return f(e,t)})),w=Object(r.createSelector)(j,(function(e){return f(e,v)})),E=function(e,t){return e.item_id&&t.item_id?0:!e.item_id&&t.item_id?-1:e.item_id&&!t.item_id?1:e.item_id||t.item_id?void 0:0},k=function(e,t){return e.item_id&&t.item_id?e.item_id-t.item_id:0},D=Object(r.createSelector)(O,(function(e,t){return function(n,r){var a=e[n.item_id],o=e[r.item_id];return a&&o?t(a,o):0}})),C=Object(r.createSelector)(y,(function(e,t){return function(n,r){var a=e[n.item_id],o=e[r.item_id];return a&&o?t(a,o):0}})),S=Object(r.createSelector)(C,D,(function(e,t){return f(e,E,t,k,v)}))},M1jK:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("q1tI"),a=n.n(r),o=n("pmBd"),i=n("4eld"),c=n("LYyr"),l=n("G/av");function s(e){var t=e.type,n=e.userPlanLimits,r=e.isOpen,s=e.onClose,u=function(e){return{TASKS_FREE:Object(c.a)(_n("You\u2019ve reached the limit of 1 task per project. Upgrade to the Pro plan and keep track of up to 1 task in each of your projects.","You\u2019ve reached the limit of {currentNum} tasks per project. Upgrade to the Pro plan and keep track of up to {nextNum} tasks in each of your projects.",e.current.max_tasks),{currentNum:e.current.max_tasks,nextNum:e.next?e.next.max_tasks:l.b.max_tasks}),PROJECTS_FREE:Object(c.a)(_n("You\u2019ve reached the Free plan\u2019s limit of 1 project.","You\u2019ve reached the Free plan\u2019s limit of {num} projects.",e.current.max_projects),{num:e.current.max_projects}),PROJECTS_PRO:Object(c.a)(_n("You\u2019ve reached the limit of 1 active project. Consider archiving some, or upgrading to the Business Plan to increase your limit.","You\u2019ve reached the limit of {num} active projects. Consider archiving some, or upgrading to the Business Plan to increase your limit.",e.current.max_projects),{num:e.current.max_projects}),COLLABORATORS_FREE:Object(c.a)(_n("You\u2019ve reached the Free Plan\u2019s limit of 1 guest.","You\u2019ve reached the Free Plan\u2019s limit of {num} guests.",e.current.max_collaborators),{num:e.current.max_collaborators}),COLLABORATORS_PRO:Object(c.a)(_n("You\u2019ve reached the limit of 1 collaborator per project. Upgrade to the Business Plan to increase your limit.","You\u2019ve reached the limit of {num} collaborators per project. Upgrade to the Business Plan to increase your limit.",e.current.max_collaborators),{num:e.current.max_collaborators}),FILE_UPLOAD:Object(c.a)(_n("This file exceeds the Free plan\u2019s 1MB upload limit.","This file exceeds the Free plan\u2019s {num}MB upload limit.",e.current.upload_limit_mb),{num:e.current.upload_limit_mb}),FILTERS:Object(c.a)(_n("You\u2019ve reached the Free plan\u2019s limit of 1 filter.","You\u2019ve reached the Free plan\u2019s limit of {num} filters.",e.current.max_filters),{num:e.current.max_filters}),ACTIVITY_LOG:Object(c.a)(_n("You\u2019ve reached the Free plan\u2019s limit of 1-day activity history.","You\u2019ve reached the Free plan\u2019s limit of {num}-day activity history.",e.current.activity_log_limit),{num:e.current.activity_log_limit}),REMINDERS:_("Reminders are only available on Pro and Business plans.")}}(n)[t],d="COLLABORATORS_PRO"===t||"PROJECTS_PRO"===t?_("Limit reached"):_("Go Pro"),f="COLLABORATORS_PRO"===t||"PROJECTS_PRO"===t?"/business/freeTrial":"/premium/upgrade",m=a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{className:"ist_button",onClick:s},_("Cancel")),a.a.createElement("a",{className:"ist_button ist_button_red link_cta",href:f,target:"_blank",rel:"noreferrer"},_("Upgrade for more")));return a.a.createElement(o.a,{isOpen:r,header:d,body:u,onClose:s,action:m})}},M5LU:function(e,t){var n,r=function(e,t){return function(){return e.apply(t,arguments)}};n=function(){function e(){this.timerStop=r(this.timerStop,this),this.timerFormat=r(this.timerFormat,this),this.updateState=r(this.updateState,this),this.play=r(this.play,this),this.stop=r(this.stop,this),this.attach=r(this.attach,this),this.reset=r(this.reset,this)}return e.prototype.state="stop",e.prototype.timer_to=null,e.prototype.audio_control=null,e.prototype.reset=function(){if(this.audio_control){try{this.audio_control.pause(),this.audio_control.currentTime=0}catch(e){e}this.audio_control=null}return this.timer_to&&(clearTimeout(this.timer_to),this.timer_to=null),this.cb_states&&(this.cb_states=null),this.state="stop"},e.prototype.attach=function(e,t,n,r){return e.onclick=(a=this,function(){return a.audio_control!==t&&a.stop(),a.audio_control=t,a.timer=n,a.cb_states=r,"stop"===a.state?a.play():a.stop(),!1});var a},e.prototype.stop=function(){var e,t;if(e=this.audio_control){try{e.pause(),e.currentTime=0}catch(e){e}t=e.duration||0,this.timerFormat(this.timer,Math.ceil(t))}return this.timerStop(),this.updateState("stop")},e.prototype.play=function(e,t){var n,r;return this.audio_control.error_loading?(alert(SPAN(_("There was an error loading the audio file. Maybe your browser does not support audio playback.")," ",A({href:this.audio_control.src,target:"_blank"},_("Direct link to the file.")))),!1):(this.audio_control.play(),this.timerFormat(this.timer,0),this.time=0,r=this,n=function(){return r.audio_control?(r.time+=1,r.time===Math.ceil(r.audio_control.duration)?r.stop():PlayManager.timerFormat(r.timer,r.time)):(r.timerStop(),r.updateState("stop"))},this.timer_to=setInterval(n,1e3),this.updateState("play"))},e.prototype.updateState=function(e){if(this.state=e,this.cb_states)return this.cb_states(e)},e.prototype.timerFormat=function(e,t){var n,r,a,o;return r=t-60*(n=Math.floor(t/60)),a=(n<10?"0":"")+parseInt(n),o=(r<10?"0":"")+parseInt(r),$setHTML(e,a+":"+o)},e.prototype.timerStop=function(){if(this.timer_to)return clearTimeout(this.timer_to),this.timer_to=null},e}(),window.PlayManager=new n},MbCg:function(e,t,n){e.exports=n.p+"assets/sounds/b4253d428df0737eee364cba3e266741.mp3"},MiIy:function(e,t){var n,r=function(e,t){return function(){return e.apply(t,arguments)}};n=function(){function e(){this.timerStop=r(this.timerStop,this),this.timerStart=r(this.timerStart,this),this.record=r(this.record,this),this.stopRecording=r(this.stopRecording,this),this.attach=r(this.attach,this),this._genHolder=r(this._genHolder,this),this.show=r(this.show,this),this.generateIcon=r(this.generateIcon,this),this.reset=r(this.reset,this)}return e.prototype.reset=function(){return $remove(this.timer,this.a_record),this.a_record=this.timer=null,this.recorder&&(this.recorder.stop(),this.recorder.clear(),this.recorder=null),this.timerStop()},e.prototype.generateIcon=function(e){var t;return t=IstButton.createMiniButton(imageSprite("cmp_record_icon",16,16),"upload_btn"),$AEV(t,"click",this.show),t},e.prototype.show=function(e){return $preventDefault(e),FilesManager.showDropArea(!1,{fn_gen_drop_area:this._genHolder,with_close_btn:!0,fn_on_close:this.reset}),!1},e.prototype._genHolder=function(){var e,t;return e=DIV({c:"drop_area fstandalone"},DIV({c:"drop_area_inner"},this.timer=SPAN("00:00"),this.audio=SPAN({c:"audio_holder"}),DIV({c:"links"},CENTER(this.a_retake=A({href:"#"},_("Retake")),this.a_record=A({href:"#"},_("Record")),this.a_attach=A({href:"#"},B(_("Attach"))))))),$hide(this.a_retake,this.a_attach),this.a_attach.onclick=this.attach,this.a_record.onclick=$p(this.record,!1),this.a_retake.onclick=(t=this,function(){return $hide(t.a_retake),$hide(t.a_attach),t.record(!1),!1}),e},e.prototype.attach=function(){var e,t;return this.audio_blob.name="voice"+(new Date).getTime()+".wav",(e=new GFile).file=this.audio_blob,e.duration=this.time,t=new GFileView(e),$add(FilesManager.files_view,t.render()),e.upload(),this.reset(),FilesManager.removeDropArea(),!1},e.prototype.stopRecording=function(){var e;return this.recorder&&this.recorder.stop(),this.a_record.onclick=null,$replace(this.a_record,"..."),$show(this.a_retake,this.a_attach),this.timerStop(),this.recorder.exportWAV((e=this,function(t){var n,r;return e.audio_blob=t,r=URL.createObjectURL(t),e.audio_control=n=document.createElement("audio"),n.controls=!1,n.src=r,$replace(e.audio,n),$replace(e.a_record,_("Play")),PlayManager.attach(e.a_record,e.audio_control,e.timer,(function(t){if(e.a_record){if("play"===t)return $replace(e.a_record,_("Stop"));if("stop"===t)return $replace(e.a_record,_("Play"))}})),e.recorder.stopStream()})),!1},e.prototype.record=function(e){var t,n,r;return null==e&&(e=!0),r=this,n=function(e){var t;return r.local_stream=e,window.AudioContext=window.AudioContext||window.webkitAudioContext,t=(new AudioContext).createMediaStreamSource(e),r.recorder=new Recorder(t,e),r.recorder.record(),$replace(r.a_record,_("Stop")),r.a_record.onclick=r.stopRecording,r.timerStart()},t=function(){if(!e)return alert(_("Your browser does not seem to support HTML5 Audio recording :-("))},navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getUserMedia?navigator.getUserMedia({audio:!0},n,t):t(),!1},e.prototype.timerStart=function(){var e,t;return this.time=0,PlayManager.timerFormat(this.timer,0),t=this,e=function(){if(t.time+=1,PlayManager.timerFormat(t.timer,t.time),$add(t.timer,SPAN({c:"desc"},"("+_("Max 4 min")+")")),t.time>240)return t.stopRecording()},this.timer_to=setInterval(e,1e3)},e.prototype.timerStop=function(){if(this.timer_to&&(clearTimeout(this.timer_to),this.timer_to=null),this.time=0,PlayManager.timerFormat(this.timer,this.time),this.audio_control)return this.audio_control.pause(),$remove(this.audio_control),this.audio_control=null},e}(),window.RecordManager=new n},MrOw:function(e,t,n){"use strict";n.r(t),n.d(t,"checkForNewAppVersion",(function(){return z})),n.d(t,"default",(function(){return B}));var r=n("lSNA"),a=n.n(r),o=n("o0o1"),i=n.n(o),c=n("yXPU"),l=n.n(c),s=n("lwsE"),u=n.n(s),d=n("W8MJ"),f=n.n(d),m=n("DzJC"),p=n.n(m),h=n("7tbW"),v=n.n(h);function b(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var g=n("J4zp"),y=n.n(g),O=n("RIqP"),j=n.n(O),w=function(){function e(){u()(this,e),this.locked=!1,this.deferred=[]}return f()(e,[{key:"lock",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timeout;this.locked=!0,n&&(this.unlockTimeout&&clearTimeout(this.unlockTimeout),this.unlockTimeout=setTimeout((function(){e.locked&&e.unlock(),e.unlockTimeout=null}),n))}},{key:"unlock",value:function(){this.locked=!1;var e=j()(this.deferred);this.deferred=[],this.unlockTimeout&&(clearTimeout(this.unlockTimeout),this.unlockTimeout=null),Promise.resolve().then((function(){e.forEach((function(e){return e()}))})).catch((function(){}))}},{key:"onUnlock",value:function(e){var t=function(e){var t,n;return[new Promise((function(e,r){t=e,n=r})),function(){try{t(e())}catch(e){n(e)}}]}(e),n=y()(t,2),r=n[0],a=n[1];return this.locked?this.deferred.push(a):Promise.resolve().then(a).catch((function(){})),r}}]),e}();var E=n("181E"),k=n("Qi13");function D(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(){function e(){u()(this,e),this.get=this.get.bind(this),this.add=this.add.bind(this),this.assignUnqiueIds=this.assignUnqiueIds.bind(this),this.save=this.save.bind(this),this.deleteItems=this.deleteItems.bind(this),this.clear=this.clear.bind(this),this.get()||this.clear()}return f()(e,[{key:"get",value:function(){var e=Object(E.a)("Queue").get(!0);return null===e&&(e=[],Object(E.a)("Queue").set(e,!0)),e}},{key:"add",value:function(e){var t=this.get();e.uuid||(e.uuid=this.guid()),t.push(e),this.save(t)}},{key:"assignUnqiueIds",value:function(e){var t,n=!1,r=D(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.uuid||(a.uuid=this.guid(),n=!0)}}catch(e){r.e(e)}finally{r.f()}n&&this.save(e)}},{key:"save",value:function(e){Object(E.a)("Queue").set(e,!0)}},{key:"deleteItems",value:function(e){var t,n=this.get(),r=D(e);try{var a=function(){var e=t.value;$arrayRemove(n,e,(function(t){return t.uuid===e.uuid}))};for(r.s();!(t=r.n()).done;)a()}catch(e){r.e(e)}finally{r.f()}this.save(n)}},{key:"clear",value:function(){Object(E.a)("Queue").set([],!0)}},{key:"guid",value:function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}]),e}(),I=n("I4sn"),T=n("XM3Z"),A=n("RZq6"),x=n("AnGN"),P=n("qiGY");function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F="".concat(window.location.pathname,"service-worker.js"),z=p()((function(){if("serviceWorker"in navigator)return navigator.serviceWorker.getRegistration(F).then((function(e){e&&"function"==typeof e.update&&e.update().catch((function(){}))}))}),18e5,{trailing:!1,leading:!0}),B=function(){function e(){var t=this;u()(this,e),this.queueUpdate=this.queueUpdate.bind(this),this.scheduleSync=this.scheduleSync.bind(this),this.getSyncState=this.getSyncState.bind(this),this.getQueueAllLength=this.getQueueAllLength.bind(this),this.getQueueSuccessLength=this.getQueueSuccessLength.bind(this),this.getQueueErrorLength=this.getQueueErrorLength.bind(this),this.getReportableErrorQueue=this.getReportableErrorQueue.bind(this),this.queueIncludesErrors=this.queueIncludesErrors.bind(this),this.sync=this.sync.bind(this),this._setSyncingState=this._setSyncingState.bind(this),this._setGlobalError=this._setGlobalError.bind(this),this._processSyncQueue=this._processSyncQueue.bind(this),this._queueWithoutErrorMeta=this._queueWithoutErrorMeta.bind(this),this._scheduleSyncRetry=this._scheduleSyncRetry.bind(this),this.sync_queue=new S,this.number_of_errors=0,this.commands_number=100,this.max_notes=5,this.sync_states={idle:1,syncing:2},this.last_synced=new Date,this.client_id=b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b(),this.sync_token=null,this.api_version=I.a.apiVersion,this.sync_lock=new w,Signals.connect("clear_local_data",(function(){Object(E.a)("TimestampS2").clear(),t.sync_token="*"}))}return f()(e,[{key:"isInitialSync",value:function(){if(void 0===this.sync_token)throw new Error("SyncEngine.isInitialSync() error: cached data should be loaded prior to the call");return"*"===this.sync_token}},{key:"loadCachedData",value:function(){var e=Object(E.a)("TimestampS2").get();this.sync_token=e||"*"}},{key:"updateSyncToken",value:function(e){e.sync_token&&(this.sync_token=e.sync_token,Object(E.a)("TimestampS2").set(this.sync_token))}},{key:"queueUpdate",value:function(e){this.sync_queue.add(e),this.scheduleSync()}},{key:"scheduleSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=Date.now()+e;this.scheduled_sync_time&&this.scheduled_sync_time>t||(this.scheduled_sync_timeout&&clearTimeout(this.scheduled_sync_timeout),this.scheduled_sync_timeout=setTimeout(this.sync,e),this.scheduled_sync_time=t)}},{key:"getSyncState",value:function(){return this.sync_state}},{key:"getQueueAllLength",value:function(){return this.sync_queue.get().length}},{key:"getQueueSuccessLength",value:function(){var e,t=0,n=L(this.sync_queue.get());try{for(n.s();!(e=n.n()).done;){e.value.last_error||t++}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getQueueErrorLength",value:function(){var e,t=0,n=L(this.sync_queue.get());try{for(n.s();!(e=n.n()).done;){e.value.last_error&&t++}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getReportableErrorQueue",value:function(){var e,t=[],n=L(this.sync_queue.get());try{for(n.s();!(e=n.n()).done;){var r=e.value;r.last_error&&(r.retry_count>=3||r.user_initiated)&&t.push(r)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"queueIncludesErrors",value:function(){var e,t=L(this.sync_queue.get());try{for(t.s();!(e=t.n()).done;){if(e.value.last_error)return!0}}catch(e){t.e(e)}finally{t.f()}return!1}},{key:"lock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.timeout;this.sync_lock.lock({timeout:t})}},{key:"unlock",value:function(){this.sync_lock.unlock()}},{key:"sync",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.sync_timeout&&(clearTimeout(this.sync_timeout),this.sync_timeout=null),this.current_req)this.sync_timeout=setTimeout($p(this.sync,t,!1),1e3);else{!0===n&&this._setSyncingState(this.sync_states.syncing);var r=this.sync_queue.get();r=r.slice(0,this.commands_number),this.sync_queue.assignUnqiueIds(r);var a,o=$arrayCopy(r),c={},s=L(o);try{for(s.s();!(a=s.n()).done;){var u=a.value;this._setRealIds(u)}}catch(e){s.e(e)}finally{s.f()}var d=function(){var n=l()(i.a.mark((function n(r){var a,c,l,s,u;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.json();case 2:if(l=n.sent,e.current_req=null,e._setGlobalError(null),!$(r)){n.next=7;break}return n.abrupt("return");case 7:if((s=l.temp_id_mapping)&&k.a.setRealIds(s),!((u=null===(a=l.user)||void 0===a?void 0:a.id)&&window.User&&window.User.id)){n.next=13;break}if(u===window.User.id){n.next=13;break}return n.abrupt("return",V());case 13:l.full_sync&&Signals.sendSignal("clear_local_data"),null===(c=z())||void 0===c||c.catch((function(){})),e._processSyncQueue(o,l),e._setSyncingState(e.sync_states.idle),e.commands_number=100,0===e.getQueueSuccessLength()?(Signals.sendSignal("sync_local_data",l),e.updateSyncToken(l),Signals.sendSignal("sync_engine_synced")):(Signals.sendSignal("sync_local_data",{temp_id_mapping:l.temp_id_mapping}),e.scheduleSync()),e.getQueueErrorLength()?e._scheduleSyncRetry(r):(e.number_of_errors=0,e.last_synced=new Date),s&&0===e.getQueueAllLength()-o.length&&k.a.clearOld(),t&&t.onSuccess&&t.onSuccess(l);case 22:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();this.current_req=Object(P.a)("/sync",{method:"POST",headers:{"X-Todoist-Webapp-Version":I.a.version,"X-Todoist-Client-ID":this.client_id,"X-CSRFToken":Date.now()},body:N(N({},c),{},{resource_types:["all"],commands:this._queueWithoutErrorMeta(o),day_orders_timestamp:this._getDayOrdersTimestamp(),collaborators_timestamp:this._getCollaboratorsTimestamp(),sync_token:this.sync_token||"*",with_web_static_version:!0,limit_notes:1,max_notes:this.max_notes,with_dateist_version:1})}).then((function(t){return e.sync_lock.locked?e.sync_lock.onUnlock((function(){return d(t)})).catch((function(e){return Object(A.captureError)(e)})):d(t)})).catch(function(){var n=l()(i.a.mark((function n(r){var a,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.current_req=null,n.prev=1,n.next=4,r.text();case 4:a=n.sent,n.next=10;break;case 7:return n.prev=7,n.t0=n.catch(1),n.abrupt("return",Object(A.captureError)(r));case 10:if(403!==r.status){n.next=13;break}return e.handleForbiddenError(a,r),n.abrupt("return");case 13:if(!$(r)){n.next=15;break}return n.abrupt("return");case 15:switch(e._setGlobalError([a,r]),e._setSyncingState(e.sync_states.idle),o=new Error(a),t&&t.onError&&t.onError(o),429!==r.status&&Object(A.captureError)(o),r.status){case 413:case 503:e.commands_number>1&&(e.commands_number=Math.round(e.commands_number/2))}e._scheduleSyncRetry(r);case 22:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}())}}},{key:"registerForbiddenErrorHandler",value:function(e){this.forbiddenErrorHandler=e}},{key:"handleForbiddenError",value:function(e,t){if(this.forbiddenErrorHandler)this.forbiddenErrorHandler(e,t);else if(this.isInitialSync()){var n=window.location.pathname,r=x.l?"/app/integrations/desktop/login":"/users/showlogin";window.location.href=window.location.origin+r+"?success_page=".concat(n)}else V()}},{key:"_setSyncingState",value:function(e){this.sync_state=e,Signals.sendSignal("sync_state_changed")}},{key:"_setGlobalError",value:function(e){this.global_error=e,Signals.sendSignal("sync_state_changed")}},{key:"_setRealIds",value:function(e){var t=k.a.getRealId;for(var n in e.temp_id&&(e.temp_id=t(e.temp_id)),e.args)switch(n){case"id":e.args.id=t(e.args.id);break;case"ids":e.args.ids=e.args.ids.map((function(e){return t(e)}));break;case"project_id":e.project_id=t(e.project_id)}}},{key:"_getDayOrdersTimestamp",value:function(){return Object(E.a)("DayOrdersTimestamp").get()||""}},{key:"_getCollaboratorsTimestamp",value:function(){return Object(E.a)("CollaboratorsTimestamp").get()||""}},{key:"_processSyncQueue",value:function(e,t){var n,r=[],a=!1,o=t.sync_status;if(o){var i,c=L(e);try{for(c.s();!(i=c.n()).done;){var l=o[(n=i.value).uuid];if(l&&l.error_tag){switch(l.error_tag){case"ALREADY_PROCESSED":continue;case"LIMITS_REACHED_COMMANDS":a=!0}n.last_error||(n.last_error=l),this.sync_state===this.sync_states.syncing&&(n.user_initiated=!0),n.retry_count?n.retry_count++:n.retry_count=1,n.retry_count<100&&r.push(n)}}}catch(e){c.e(e)}finally{c.f()}}a&&this.commands_number>1&&(this.commands_number=Math.round(this.commands_number/2)),this.sync_queue.deleteItems(e);for(var s=0,u=r;s<u.length;s++)n=u[s],this.sync_queue.add(n);try{if(r.length>0){var d=v()(r.map((function(e){return e.type})));T.c.log(T.a,{cmds:d})}}catch(e){}}},{key:"_queueWithoutErrorMeta",value:function(e){var t,n=[],r=L(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,o=$update({},a);o.last_error&&(delete o.last_error,delete o.user_initiated),n.push(o)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"_scheduleSyncRetry",value:function(e){var t,n=e.headers.get("Retry-After");if(this.number_of_errors++,n)t=1e3*parseInt(n,10);else if((t=n?parseInt(n,10):Math.floor(Math.random()*(5e3*Math.pow(2,this.number_of_errors-1))))>36e5)return this.number_of_errors=0,void(this.timeout=0);this.timeout=t,this.scheduleSync(t)}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();function V(){alert(_("It seems like our session has expired. Please re-login."),(function(){return Signals.sendSignal("logout")}))}function $(e){try{if(e&&410===e.status)return alert(_("You're using an old version of Todoist. To make sure the app keeps working, update to the latest version.")),!0;var t=e.headers.get("warning");if(t){var n=t.match(/119.+([\d]{4}-[\d]{2}-[\d]{2})/),r=n?n[1]:(new Date).toLocaleString(),a=_("Just a reminder that you're using an old version of Todoist that will stop working on {date}. To continue using Todoist, update to the latest version.").replace("{date}",r);return alert(a),!0}}catch(e){}return!1}window.SyncEngine=B.getInstance()},MvHh:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),o=n("/MKj"),i=n("RIqP"),c=n.n(i),l=n("J4zp"),s=n.n(l),u=n("q1tI"),d=n.n(u),f=n("TSYQ"),m=n.n(f),p=n("17x9"),h=n.n(p),v=n("OgjY"),b=n("4eld"),g=n("jlRT"),y=n("9l1k"),O=n("1/Z5"),j=n("/7zm"),w=n("lDtu"),E=n("Ek05"),k=n("AnGN"),D=n("Vbab"),C=n("y2hQ"),S=n("xvbm");function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e){var t=e.item,n=void 0===t?{}:t,r=e.labelName,a=e.projectId,o=e.user,i=e.isDayView,l=e.isOpen,f=void 0!==l&&l,p=e.onClose,h=e.onAdd,I=e.canUseLabels,A=void 0!==I&&I,x=e.canAddComments,P=void 0!==x&&x,R=e.isLoading,N=void 0!==R&&R,L=e.withCloseButton,M=void 0===L||L,F=Object(S.e)(o),z=Object(u.useState)(!1),B=s()(z,2),V=B[0],$=B[1],H=Object(u.useRef)(null),U=Object(u.useRef)(null),q=Object(u.useState)(!1),G=s()(q,2),W=G[0],K=G[1],Y=Object(u.useRef)(null);function J(e){F?(K(!0),Y.current=window.setTimeout((function(){K(!1),e()}),200)):e()}function Q(){(null==U?void 0:U.current)&&U.current.content.trim().length>0?$(!0):J(p)}Object(u.useEffect)((function(){return function(){Y.current&&window.clearTimeout(Y.current)}}),[]),Object(u.useEffect)((function(){var e;V||(null===(e=H.current)||void 0===e||e.focusContentInput())}),[V]),Object(C.a)("closeQuickAdd",Q),Object(u.useEffect)((function(){var e;return k.j&&Object(k.b)()<=3&&(e=setTimeout((function(){var e;null===(e=H.current)||void 0===e||e.focusContentInput()}),0)),function(){e&&clearTimeout(e)}}),[]),Object(C.a)("quickAddOpened",(function(){var e=setTimeout((function(){var e;null===(e=H.current)||void 0===e||e.focusContentInput()}),0);return function(){clearTimeout(e)}})),n=Object(u.useMemo)((function(){var e=T(T({},n),{},{project_id:a});if(i){var t=w.b.date_max(new Date),o=E.a.dateistResultFromDate(t);e.due=v.a.fromDateist(o)}return r&&(e.labels=e.labels?[].concat(c()(e.labels),[r]):[r]),e}),[n,i,r,a]);var Z=window.CURRENT_EXERNAL_SERVICE;return d.a.createElement(g.a.Box,{className:m()("quick_add focus-marker-enabled-within",{quick_add_task_description:F}),closeOnOverlayClick:M,isOpen:f,onDismiss:Q,overlayProps:F?{className:m()("quick_add_overlay",{will_close:W})}:void 0,focusLockAutoFocus:!1},F?null:d.a.createElement(g.a.Header,{title:Object(D.a)("Quick Add Task"),className:"quick_add__header",button:M}),N?d.a.createElement(g.a.Body,null,d.a.createElement("div",{className:"quick_add__centered"},d.a.createElement(y.a,null))):d.a.createElement(g.a.Body,{className:"quick_add__body"},f?d.a.createElement(O.a,{item:n,forwardedRef:H,user:o,canUseLabels:A,withCancelButton:F,withQuickNote:P,onCancel:Q,onChange:function(e){U.current=e},onSubmit:function(e){var t;if(0===e.content.trim().length)return null===(t=H.current)||void 0===t?void 0:t.focusContentInput();h(e),k.j&&Object(k.i)()||J(p)}}):null,Z?d.a.createElement("div",{className:"quick_add__attach_email"},d.a.createElement(b.a,{className:"action",onClick:function(){return Z.annotate_fn(H.current)}},Z.annotate_add_text||_("Attach email to task"))):null),d.a.createElement(j.a,{isOpen:V,confirmLabel:Object(D.a)("Discard task"),onConfirm:function(){$(!1),J(p)},onCancel:function(){return $(!1)}},d.a.createElement("span",null,_("Are you sure you want to discard your current task?"))))}A.propTypes={item:h.a.object,labelName:h.a.string,projectId:h.a.oneOfType([h.a.string,h.a.number]),user:h.a.object.isRequired,isOpen:h.a.bool.isRequired,isDayView:h.a.bool.isRequired,onAdd:h.a.func.isRequired,onClose:h.a.func.isRequired,canUseLabels:h.a.bool,canAddComments:h.a.bool,isLoading:h.a.bool,withCloseButton:h.a.bool};var x=A,P=n("/6o7"),R=n("TQFH"),N=n("A72/"),L=n("vV6a"),M=n("KGy4"),F=n("17Jv");function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=Object(o.c)((function(e){return{labelName:e.mainView.type===L.j?e.mainView.id:null,projectId:e.mainView.type===L.k?e.mainView.ids[0]:e.user&&e.user.inbox_project,user:e,isDayView:e.mainView.type===L.m||e.mainView.type===L.n,canUseLabels:Object(N.o)(e),canAddComments:Object(N.d)(e)}}),(function(e){return{onItemAdd:function(t){return e(Object(R.o)(t))},onClose:function(){return e(Object(P.c)())}}}),(function(e,t,n){return B(B(B({},e),n),{},{onClose:function(){k.j&&Object(k.i)()||t.onClose(),n.onClose&&n.onClose()},onAdd:function(e){if(track("task_form","click","add_from_quick_add"),k.j&&Object(k.i)())Object(F.a)().sendQuickAddAdd(e);else{var r=t.onItemAdd(e);M.a.notifyAddedTo(r,!0),n.onAdd&&n.onAdd(r)}}})}))(x)},N8Tj:function(e,t,n){"use strict";var r=n("/MKj"),a=n("p3jf"),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c),s=n("TSYQ"),u=n.n(s),d=n("in4X"),f=n("LYyr"),m=n("lDtu"),p=n("RIqP"),h=n.n(p),v=n("Pxnj");function b(e){var t=e.projects,n=e.items,r=e.unitHeight,a=void 0===r?4:r,o=e.unitWidth,c=void 0===o?4:o,l=e.maxWidth,s=function(e){return t[e]?t[e].color:v.a},u=h()(n);return u.sort((function(e,t){return s(e.project_id)-s(t.project_id)})),l&&u.length*c>l&&(c=l/u.length),i.a.createElement("div",{className:"item_stat_bar"},u.map((function(e){var t={backgroundColor:Object(v.g)("project",s(e.project_id)),height:"".concat(a,"px"),width:"".concat(c,"px")};return i.a.createElement("div",{key:e.id,className:"color_block",style:t})})))}b.propTypes={projects:l.a.object.isRequired,items:l.a.array.isRequired,unitHeight:l.a.number,unitWidth:l.a.number,maxWidth:l.a.number};var g=n("IJUe"),y=n("TQFH"),O=n("yn26");function j(e){var t=e.item,n=e.reminders,a=e.showRemainingDays,o=Object(r.h)((function(e){return t.due&&Object(y.A)(t.due,e)||[]})),c=Object(r.h)((function(e){return e.projects||{}}));if(!t.due&&0===n.length)return null;if(!t.due)return i.a.createElement("span",null,i.a.createElement(O.a,{item:t,reminders:n}));var l=Object(g.a)(t.due,{withWeekday:!0,withTime:t.due.with_time}),s=a&&function(e){var t=m.b.day_diff(new Date,e.due);return 0===t?null:(t>0?t=Object(f.a)(_n("{num} day left","{num} days left",t),{num:t}):t<0&&(t=Math.abs(t),t=Object(f.a)(_n("{num} day ago","{num} days ago",t),{num:t})),t)}(t);return i.a.createElement("span",null,l,s?i.a.createElement(i.a.Fragment,null,i.a.createElement("br",null),i.a.createElement("small",null,s)):null,t.due.is_recurring?i.a.createElement(i.a.Fragment,null,i.a.createElement("br",null),i.a.createElement("small",null,t.due.string)):null,i.a.createElement(O.a,{item:t,reminders:n}),i.a.createElement(w,{items:o,projects:c}))}function w(e){var t=e.items,n=e.projects,r=0===t.length?_("No tasks due"):Object(f.a)(_n("{count} task due","{count} tasks due",t.length),{count:t.length});return i.a.createElement("div",{className:"project_bar_holder"},r,i.a.createElement(b,{items:t,projects:n,maxWidth:100}))}j.propTypes={item:l.a.object.isRequired,reminders:l.a.array.isRequired,showRemainingDays:l.a.bool},w.propTypes={projects:l.a.object.isRequired,items:l.a.array.isRequired};t.a=Object(r.c)((function(e,t){return{reminders:t.item?Object(a.b)(t.item.id,e):[]}}))((function(e){var t=e.children,n=e.item,r=e.reminders,a=e.fallbackText,o=e.showFallback,c=e.tooltipClassName,l=e.showRemainingDays,s=void 0===l||l;return o||!n.due&&0===r.length?a?i.a.createElement(d.b,{label:a},t):i.a.createElement(i.a.Fragment,null,t):i.a.createElement(d.b,{label:i.a.createElement("div",{className:u()("item_due_tooltip",c)},i.a.createElement(j,{item:n,reminders:r,showRemainingDays:s}))},t)}))},NLcT:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("lSNA"),l=n.n(c),s=n("Qi13"),u=n("MrOw");function d(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=new(function(){function e(){var t=this;a()(this,e),l()(this,"receiveBridgeUpdate",(function(e){var n=e.reminders;n&&(t.model_data=n,t.syncCachedData({bridgeUpdate:!1}))})),this.initState=this.initState.bind(this),this.hasReminders=this.hasReminders.bind(this),this.getRemindersByItemId=this.getRemindersByItemId.bind(this),this.remove=this.remove.bind(this),this.removeRelative=this.removeRelative.bind(this),this.syncCachedData=this.syncCachedData.bind(this),this.handleItemArchive=this.handleItemArchive.bind(this),this.initState(),Signals.connect("clear_local_data",this.initState),Signals.connect("bridge:redux_update",this.receiveBridgeUpdate)}return i()(e,[{key:"initState",value:function(){this.model_data={}}}]),i()(e,[{key:"hasReminders",value:function(e){return this.getRemindersByItemId(e).length>0}},{key:"getRemindersByItemId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=s.a.getRealId(e);var n,r=[],a=d($values(this.model_data));try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.item_id===e){if(null!==t&&o.type!==t)continue;r.push(o)}}}catch(e){a.e(e)}finally{a.f()}return r}},{key:"remove",value:function(e){e=s.a.getRealId(e),this.model_data[e]&&delete this.model_data[e],u.default.getInstance().queueUpdate({type:"reminder_delete",args:{id:e}}),this.syncCachedData()}},{key:"removeRelative",value:function(e){var t,n=d(this.getRemindersByItemId(e,"relative"));try{for(n.s();!(t=n.n()).done;){var r=t.value;this.remove(r.id)}}catch(e){n.e(e)}finally{n.f()}}},{key:"syncCachedData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bridgeUpdate,n=void 0===t||t;n&&this.sendBridgeUpdate()}},{key:"sendBridgeUpdate",value:function(){Signals.sendSignal("bridge:model_update",{reminders:this.model_data})}},{key:"handleItemArchive",value:function(e){var t,n=$values(this.model_data).filter((function(t){return e.includes(t.item_id)})).map((function(e){return e.id})),r=d(n);try{for(r.s();!(t=r.n()).done;){var a=t.value;delete this.model_data[a]}}catch(e){r.e(e)}finally{r.f()}return n.length>0&&this.syncCachedData(),n}}]),e}());window.RemindersModel=m},NPjY:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("J4zp"),l=n.n(c),s=n("K6Df"),u=n("17x9"),d=n.n(u),f=n("q1tI"),m=n.n(f),p=n("vV6a"),h=n("1zEf"),v=n("Vbab"),b=n("Pxnj"),g=n("4eld"),_=n("nLu1"),y=n("Au0W"),O=n("UVeO"),j=n("jlRT"),w=n("okMy"),E=n("IHJC"),k=n("in4X");n("DwLa");function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(){return m.a.createElement(k.b,{label:Object(v.a)("Click to find out about projects and how to use them.")},m.a.createElement("a",{href:h.b,rel:"noopener noreferrer",target:"_blank"},m.a.createElement(O.Q,null)))}function I(e){var t=e.isOpen,n=void 0===t||t,r=e.project,o=void 0===r?{}:r,i=e.parentId,c=e.childOrder,u=e.onProjectCreate,d=e.onProjectUpdate,O=e.onModalClose,k=e.navigateTo,D=void 0===o.id,I=Object(y.c)("name",o.name||""),T=Object(y.c)("color",o.color||b.a,Number),A=Object(f.useState)(o.view_style||"list"),x=l()(A,2),P=x[0],R=x[1],N=Object(f.useState)((function(){return Boolean(o.is_favorite)||!1})),L=l()(N,2),M=L[0],F=L[1],z=I.value.trim().length>0&&null!=T.value;return m.a.createElement(j.a.Box,{className:"edit_project_modal focus-marker-enabled-within",isOpen:n,onDismiss:O,size:"small"},m.a.createElement(j.a.Header,{title:D?Object(v.a)("Add project"):Object(v.a)("Edit project"),button:m.a.createElement(S,null)}),m.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),z){var t={name:I.value,color:T.value,is_favorite:M,view_style:P};if(D){if(!u)return;var n=u(C(C({},t),{},{parentId:i,childOrder:c}));n&&k&&k({view:{type:"project",projectId:n.id}})}else!d||"number"!=typeof o.id&&"string"!=typeof o.id||d(C({id:o.id},t));O()}}},m.a.createElement(j.a.Body,{className:"form_fields edit_project_modal"},m.a.createElement("div",{className:"form_field"},m.a.createElement("label",{htmlFor:"edit_project_modal_field_name"},Object(v.a)("Name")),m.a.createElement(y.a,{id:"edit_project_modal_field_name_hint",length:I.value.length,maxLength:p.q}),m.a.createElement("input",a()({id:"edit_project_modal_field_name","aria-describedby":"edit_project_modal_field_name_hint",className:"form_field_control",autoFocus:!0,maxLength:p.q},I))),m.a.createElement("div",{className:"form_field"},m.a.createElement("label",{id:"edit_project_modal_field_color_label"},Object(v.a)("Color")),m.a.createElement(_.a,a()({"aria-labelledby":"edit_project_modal_field_color_label",className:"form_field_control"},T))),m.a.createElement("div",{className:"form_field form_field_inline"},m.a.createElement("label",null,m.a.createElement(w.a,{name:"is_favorite",checked:M,onChange:function(e){return F(e.target.checked)}}),Object(v.a)("Add to favorites"))),m.a.createElement("div",{className:"form_field"},m.a.createElement("label",null,Object(v.a)("View")),m.a.createElement("div",{className:"edit_project_modal__view_radio_group",role:"radiogroup"},m.a.createElement("label",{id:"project_list_view_style_option",className:"edit_project_modal__view_radio"},m.a.createElement("div",{className:"edit_project_modal__list_preview","data-checked":"list"===P}),m.a.createElement("div",{className:"edit_project_modal__view_radio_option"},m.a.createElement("span",{className:"edit_project_modal__view_radio_button"},m.a.createElement(E.a,{priority:"list"===P?4:1,checked:"list"===P?1:0,onChange:function(){return R("list")},role:"radio",playSound:!1,"aria-labelledby":"project_list_view_style_option"})),Object(v.a)("List"))),m.a.createElement("label",{id:"project_list_board_style_option",className:"edit_project_modal__view_radio"},m.a.createElement("div",{className:"edit_project_modal__board_preview","data-checked":"board"===P}),m.a.createElement("div",{className:"edit_project_modal__view_radio_option"},m.a.createElement("span",{className:"edit_project_modal__view_radio_button"},m.a.createElement(E.a,{priority:"board"===P?4:1,checked:"board"===P?1:0,onChange:function(){return R("board")},role:"radio",playSound:!1,"aria-labelledby":"project_list_board_style_option"})),Object(v.a)("Board")))),m.a.createElement("span",{className:"edit_project_modal__view_style_note"},m.a.createElement(s.a,{string:Object(v.a)("View is synced between teammates in shared projects. <a>Learn more</a>."),mapping:{a:m.a.createElement("a",{href:h.c,target:"_blank",rel:"noreferrer"})}})))),m.a.createElement(j.a.Actions,null,m.a.createElement(g.a,{className:"ist_button",onClick:O},Object(v.a)("Cancel")),m.a.createElement(g.a,{type:"submit",disabled:!z,className:"ist_button ist_button_red"},D?Object(v.a)("Add"):Object(v.a)("Save")))))}I.propTypes={project:d.a.object,parentId:d.a.number,childOrder:d.a.number,onProjectCreate:d.a.func,onProjectUpdate:d.a.func,onModalClose:d.a.func.isRequired,isOpen:d.a.bool,navigateTo:d.a.func},t.a=I},"NVV/":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pVnL"),a=n.n(r),o=n("q1tI"),i=n.n(o);function c(e){var t=Object.assign({},e);return i.a.createElement("svg",a()({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},t),i.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18zm0 1a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm.5 6a.5.5 0 0 1 .5.5V15h1a.5.5 0 1 1 0 1h-3a.5.5 0 1 1 0-1h1v-4h-1a.5.5 0 1 1 0-1h1.5zm-.16-2.68a.84.84 0 1 1 0 1.68.84.84 0 0 1 0-1.68z"}))}},NZFV:function(e,t,n){"use strict";n.d(t,"j",(function(){return b})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return _})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return j})),n.d(t,"i",(function(){return w})),n.d(t,"h",(function(){return E})),n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return D})),n.d(t,"s",(function(){return C})),n.d(t,"r",(function(){return S})),n.d(t,"o",(function(){return I})),n.d(t,"p",(function(){return T})),n.d(t,"k",(function(){return A})),n.d(t,"q",(function(){return x})),n.d(t,"m",(function(){return L})),n.d(t,"n",(function(){return F}));var r=n("RIqP"),a=n.n(r),o=n("7tbW"),i=n.n(o),c=n("Wt1U"),l=n.n(c),s=n("duPW"),u=n.n(s),d=n("MFAt"),f=n.n(d),m=n("ANjH"),p=n("RZq6"),h=n("qRd9"),v=n("peh1"),b="sharing",g="premium_trial",_="premium_expiring",y="web_complete_first_task",O="empty_state_inbox_first",j="assistant_intro",w="web_promote_windows_app",E="web_promote_macos_app",k="follow",D="close",C=function(e){return function(t,n){var r=n().tooltip.seen,a=f()(r,e);t({type:"TOOLTIP_UPDATED",payload:{seen:e}}),a.forEach((function(e){return t(I(e))}))}},S=function(e){return{type:"TOOLTIP_UPDATED",payload:{scheduled:e}}};function I(e,t){return function(n,r){var a=r();return n({type:"TOOLTIP_MARK_AS_SEEN",payload:e}),t&&P(e,t),fetch("/sync/v8/tooltips/mark_as_seen?name=".concat(e),{headers:{Authorization:"Bearer ".concat(a.user.token)}}).catch((function(){}))}}var T=function(e){return function(t,n){return t({type:"TOOLTIP_MARK_UNSEEN",payload:e}),fetch("/sync/v8/tooltips/reset_seen?name=".concat(e),{headers:{Authorization:"Bearer ".concat(n().user.token)}})}};function A(){return P(g,"follow"),I(g)}function x(){return P(g,"close"),I(g)}function P(e,t){fetch("/sync/v8/tooltips/mark_event?name=".concat(e,"&event=").concat(t),{headers:{Authorization:"Bearer ".concat(window.User.token)}}).catch((function(e){p.captureError(e)}))}var R=Object(m.c)({seen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.a:return t.payload["tooltip.seen"]||e;case"TOOLTIP_UPDATED":var n=t.payload.seen;if(void 0===n)return e;if(null===e)return n;var r=f()(n,e);return 0===r.length?e:[].concat(a()(e),a()(r));case"TOOLTIP_MARK_AS_SEEN":if(null===e)return e;var o=t.payload;return i()([].concat(a()(e),[o]));case"TOOLTIP_MARK_UNSEEN":return null===e?e:l()(e,t.payload);default:return e}},scheduled:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.a:return t.payload["tooltip.scheduled"]||e;case"TOOLTIP_UPDATED":var n=t.payload.scheduled;return void 0===n?e:n;case"TOOLTIP_MARK_AS_SEEN":return null===e?e:l()(e,t.payload);default:return e}}});t.l=R;var N=u()("tooltip.seen");function L(e,t){var n=Object(v.createSelector)(N,(function(t){return null===t||-1!==t.indexOf(e)}));return 1===arguments.length?n:arguments.length>1?n(arguments[1]):void 0}var M=u()("tooltip.scheduled");function F(e,t){var n=Object(v.createSelector)(M,(function(t){return null!==t&&-1!==t.indexOf(e)}));return 1===arguments.length?n:arguments.length>1?n(arguments[1]):void 0}},OH70:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),l=n.n(c),s=n("7W2i"),u=n.n(s),d=n("a1gu"),f=n.n(d),m=n("Nsbk"),p=n.n(m),h=n("q1tI"),v=n.n(h),b=n("/MKj"),g=n("17x9"),_=n.n(g),y=n("TSYQ"),O=n.n(y),j=n("oHMr"),w=n("mItv"),E=n("TTkg");function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var D=function(e){u()(n,e);var t=k(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).emptyState=v.a.createRef(),r.footer=v.a.createRef(),r.state={offsetBottom:null,style:{visibility:"hidden",opacity:e.shouldFadeIn?0:1}},r.setFooterPosition=r.setFooterPosition.bind(l()(r)),r.setEmptyStatePosition=r.setEmptyStatePosition.bind(l()(r)),r}return i()(n,[{key:"componentDidMount",value:function(){var e=this;this.positionTimeout=setTimeout((function(){var t=e.footer.current;e.props.isWindowCentered||e.props.isStickyFooterForced?t&&(t.style.position="absolute",e.props.isWindowCentered||(Signals.connect("refresh_interface",e.setFooterPosition),e.setFooterPosition())):t&&(t.style.visibility="visible"),e.props.isWindowCentered&&(Signals.connect("refresh_interface",e.setEmptyStatePosition),e.setEmptyStatePosition()),e.setState({style:{visibility:"visible",opacity:1}})}),0)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.positionTimeout),Signals.disconnect("refresh_interface",this.setEmptyStatePosition)}},{key:"setFooterPosition",value:function(){var e=this.footer.current;if(!e||!e.offsetHeight)return setTimeout(this.setFooterPosition,0);var t=Object(E.a)(),n=null==t?void 0:t.getBoundingClientRect(),r=n.y,a=void 0===r?0:r,o=n.height,i=void 0===o?0:o,c=this.emptyState.current.getBoundingClientRect(),l=i-(c.y-a+c.height)-24;l<e.offsetHeight&&(l=e.offsetHeight+20),e.style.bottom="".concat(-l,"px"),e.style.marginLeft="".concat(-e.offsetWidth/2,"px"),e.style.left="50%",e.style.visibility="visible"}},{key:"setEmptyStatePosition",value:function(){var e=this.emptyState.current;if(!e||!e.offsetHeight)return setTimeout(this.setEmptyStatePosition,0);var t=Object(E.a)(),n=(null==t?void 0:t.getBoundingClientRect()).height,r=void 0===n?0:n,a=e.getBoundingClientRect(),o=a.y,i=.4*r-.6*a.height-.1*o;e.style.marginTop=i<0?0:"".concat(i,"px"),this.setFooterPosition()}},{key:"render",value:function(){var e=this,t=O()("empty-state",this.props.className);return v.a.createElement(b.a,{store:j.default},v.a.createElement("div",{ref:this.emptyState,className:t,style:this.state.style},v.a.Children.map(this.props.children,(function(t){return t&&t.type===w.a?v.a.cloneElement(t,{forwardRef:e.footer}):t}))))}}]),n}(v.a.PureComponent);D.propTypes={className:_.a.string,isWindowCentered:_.a.bool,isStickyFooterForced:_.a.bool,shouldFadeIn:_.a.bool,children:_.a.node},D.defaultProps={isWindowCentered:!0,isStickyFooterForced:!1,shouldFadeIn:!0},t.a=D},OeMC:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n("71j2"),a=n("lwsE"),o=n.n(a),i=n("W8MJ"),c=n.n(i),l=function(){function e(t){var n=t.locale,r=t.messages,a=t.pluralfunc,i=t.nplurals;o()(this,e),this.messages=r,this.locale=n,this.pluralfunc=a,this.nplurals=i,this._=this.gettext.bind(this),this._n=this.ngettext.bind(this),this._x=this.pgettext.bind(this),this._nx=this.npgettext.bind(this)}return c()(e,[{key:"gettext",value:function(e){return this.pgettext("",e)}},{key:"ngettext",value:function(e,t,n){return this.npgettext("",e,t,n)}},{key:"pgettext",value:function(e,t){var n=this.messages[e];if(!n)return t;var r=n[t];return s(r)?r:t}},{key:"npgettext",value:function(e,t,n,r){var a=!r||r>1?n:t,o=this.messages[e];if(!o)return a;var i=o[t];if(!i)return a;var c=i[this.pluralfunc(r)];return s(c)?c:a}}]),e}();function s(e){return"string"==typeof e&&""!==e}var u=new l({messages:{},locale:"default",pluralfunc:function(e){return 1==e?0:1},nplurals:2});function d(e){return u._.call(u,e)}function f(e,t,n){return u._n.call(u,e,t,n)}function m(e,t){return u._x.call(u,e,t)}function p(e,t,n,r){return u._nx.call(u,e,t,n,r)}var h=d,v=f,b=m,g=p;function _(e){return function(e){switch(e){case"cs":return n.e(4).then(n.t.bind(null,"Imnn",7));case"da":return n.e(6).then(n.t.bind(null,"jEVS",7));case"de":return n.e(8).then(n.t.bind(null,"Y0/A",7));case"es":return n.e(11).then(n.t.bind(null,"EZFI",7));case"fi":return n.e(13).then(n.t.bind(null,"Dn3c",7));case"fr":return n.e(15).then(n.t.bind(null,"HK1z",7));case"it":return n.e(17).then(n.t.bind(null,"7M1M",7));case"ja":return n.e(19).then(n.t.bind(null,"IL6s",7));case"ko":return n.e(21).then(n.t.bind(null,"Ns1F",7));case"nb":return n.e(23).then(n.t.bind(null,"cYOA",7));case"nl":return n.e(25).then(n.t.bind(null,"vbEP",7));case"pl":return n.e(27).then(n.t.bind(null,"IjGW",7));case"ptBR":case"pt_BR":return n.e(29).then(n.t.bind(null,"Xe3G",7));case"ru":return n.e(32).then(n.t.bind(null,"Emf4",7));case"sv":return n.e(35).then(n.t.bind(null,"365X",7));case"tr":return n.e(51).then(n.t.bind(null,"hX5V",7));case"zhTW":case"zh_TW":return n.e(70).then(n.t.bind(null,"/sBw",7));case"zhCN":case"zh_CN":return n.e(68).then(n.t.bind(null,"Yeg6",7));default:return Promise.resolve()}}(e).then((function(){if(window.I18N_LANG_RESOURCE)try{u=new l(window.I18N_LANG_RESOURCE)}catch(e){}}))}window._=d,window._n=f,window._x=m,window._nx=p;var y=function(e){return window.LANG=e,document.documentElement.setAttribute("lang",e),Promise.all([Object(r.d)(e),_(e)])}},OgjY:function(e,t,n){"use strict";n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return S}));var r=n("J4zp"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),l=n.n(c),s=n("lSNA"),u=n.n(s),d=n("UB5X"),f=n.n(d),m=n("noZS"),p=n.n(m),h=n("RZq6"),v=n("f0Wu"),b=n.n(v),g=n("OljV"),_={"GMT -12:00":"Etc/GMT+12","GMT -11:00":"Etc/GMT+11","GMT -10:00":"Etc/GMT+10","GMT -9:00":"Etc/GMT+9","GMT -8:00":"Etc/GMT+8","GMT -7:00":"Etc/GMT+7","GMT -6:00":"Etc/GMT+6","GMT -5:00":"Etc/GMT+5","GMT -4:00":"Etc/GMT+4","GMT -3:00":"Etc/GMT+3","GMT -2:00":"Etc/GMT+2","GMT -1:00":"Etc/GMT+1",GMT:"Etc/GMT+0",UTC:"Etc/GMT+0","GMT +1:00":"Etc/GMT-1","GMT +2:00":"Etc/GMT-3","GMT +3:00":"Etc/GMT-3","GMT +4:00":"Etc/GMT-4","GMT +5:00":"Etc/GMT-5","GMT +6:00":"Etc/GMT-6","GMT +7:00":"Etc/GMT-7","GMT +8:00":"Etc/GMT-8","GMT +9:00":"Etc/GMT-9","GMT +10:00":"Etc/GMT-10","GMT +11:00":"Etc/GMT-11","GMT +12:00":"Etc/GMT-12","GMT +13:00":"Etc/GMT-13"};function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.useUTC,a=void 0!==r&&r;try{return-b.a.tz(a?t:Object(g.a)(t),O(e)).utcOffset()}catch(e){return 0}}function O(e){return _[e]?_[e]:e}var j=n("Ek05"),w=n("lDtu");function E(e){var t=new Date(e);return t.setSeconds(59),t}var k=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,D=/^(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(\.(\d){1,4})?Z*/;function C(e,t,n){return e instanceof Date&&f()(t)&&f()(n)?new Date(e.getTime()+60*n*1e3-60*t*1e3):null}var S=function(){function e(t){var n=t.date,r=t.timezone,o=t.is_recurring,c=t.string,l=t.lang;i()(this,e),u()(this,"date",void 0),u()(this,"timezone",void 0),u()(this,"timezone_offset",void 0),u()(this,"is_recurring",void 0),u()(this,"string",void 0),u()(this,"lang",void 0),u()(this,"_date",void 0),u()(this,"with_time",void 0),this.date=n,this.timezone=r||null,this.is_recurring=Boolean(o),this.string=c,this.lang=l;var s=k.exec(n);if(s){var d=s.slice(1,4).map((function(e){return parseInt(e)})),f=a()(d,3),m=f[0],p=f[1],h=f[2];return this._date=new Date(m,p-1,h,23,59,59,0),this.with_time=!1,this.timezone_offset=null,Object.freeze(this)}var v=D.exec(n);if(!v)throw new Error("Unsupported date string format: ".concat(this.date));this.with_time=!0;var b=v.slice(1,7).map((function(e){return parseInt(e)})),g=a()(b,6),_=g[0],O=g[1],j=g[2],w=g[3],E=g[4],C=g[5];return r?(this._date=new Date(Date.UTC(_,O-1,j,w,E,C)),this.timezone_offset=y(r,this._date,{useUTC:!0})):(this._date=new Date(_,O-1,j,w,E,C),this.timezone_offset=null),Object.freeze(this)}return l()(e,[{key:"inheritDate",value:function(e){var t=e.year,n=e.month,r=e.day,a=e.hours,o=e.minutes,i=e.seconds,c=e.milliseconds,l=void 0===c?0:c,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.withTime,d=s.timezone,m=void 0===d?null:d,p=this._createWritableClone();return f()(t)&&f()(n)&&f()(r)&&(!u||f()(a)&&f()(o)&&f()(i)&&f()(l))?(p._date=p._toTimezoneDate(),p._date.setDate(1),p._date.setFullYear(t),p._date.setMonth(n),p._date.setDate(r),u&&(p.timezone=m,p._date.setHours(a,o,i,l),p.with_time=59!==i),p.with_time&&p.timezone?(p._date=b.a.tz(Object(g.a)(p._date),O(p.timezone)),p.timezone_offset=-p._date.utcOffset(),p._date=p._date.toDate()):p.timezone_offset=null,p.is_recurring||(p.string=j.a.format(p._toTimezoneDate()),p.lang=j.a.getDateistLang()||"en"),p.date=Object(g.a)(p._date,{toUTC:Boolean(p.timezone),dateOnly:!p.with_time}),Object.freeze(p)):Object.freeze(p)}},{key:"changeTime",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.timezone;if(!f()(e)||!f()(t)||!f()(n))return Object.freeze(this._createWritableClone());var o=this._toTimezoneDate();return this.inheritDate({year:o.getFullYear(),month:o.getMonth(),day:o.getDate(),hours:e,minutes:t,seconds:n,milliseconds:o.getMilliseconds()},{withTime:!0,timezone:a})}},{key:"changeTimezone",value:function(e){var t=this._toTimezoneDate();return this.inheritDate({year:t.getFullYear(),month:t.getMonth(),day:t.getDate(),hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),milliseconds:t.getMilliseconds()},{withTime:!0,timezone:e})}},{key:"nextRecurrence",value:function(){if(!this.is_recurring)throw new Error("nextRecurrence() can only be called on a recurring DateExt");var t,n={us_dates:j.a.isUsDates()?1:0,am_pm:j.a.isAmPm()?1:0,start_day:j.a.startDay(),next_week:j.a.nextWeek(),weekend:j.a.nextWeekendStartDay(),task_date:this._toTimezoneDate()},r="en"==this.lang?["en"]:[this.lang,"en"];try{t=w.a.parse_multiple(this.string,r,n)}catch(e){t={error:!0},Object(h.captureError)(e)}return t.end_reached?[this,!0]:(t.error&&(t=w.a.parse("tomorrow")),[e.fromDateist(t,{timezone:this.timezone}),!1])}},{key:"postpone",value:function(){var e,t=new Date;if(this.is_recurring){var n=this.nextRecurrence(),r=a()(n,2),o=r[0];return r[1]?null:o}return this.isGreaterThanOrEqual(t)?(e=new Date(this.getTime())).setDate(e.getDate()+1):(e=new Date(t)).setDate(e.getDate()+1),this.inheritDate({year:e.getFullYear(),month:e.getMonth(),day:e.getDate()},{timezone:this.timezone})}},{key:"toAPIFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stripMilliseconds,n=void 0===t||t,r=Object.assign({},this);delete r.with_time,delete r._date,delete r.timezone_offset;var a=/^(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):59Z*/;return a.exec(r.date)&&Object(h.captureInfoLog)("warning (DateExt): deprecated YYYY-MM-DDTHH:MM:59Z in use",{date:r}),n&&(r.date=r.date.replace(/\.(\d){1,4}/,"")),r}},{key:"format",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.inTimezoneTime,n=e.onlyTime,r=t?this._toTimezoneDate():this._date;return n?$strip(j.a.getHourAndMin(r)):j.a.format(r)}},{key:"relativeFormat",value:function(){var e=w.b.day_diff(new Date,this);return j.a.humanizeDayDiff(e,this)}},{key:"isSameDate",value:function(e){return this.getFullYear()==e.getFullYear()&&this.getMonth()==e.getMonth()&&this.getDate()==e.getDate()}},{key:"isGreaterThan",value:function(t){return e.compare(this,t)>0}},{key:"isGreaterThanOrEqual",value:function(t){var n=e.compare(this,t);return n>0||0==n}},{key:"isLessThan",value:function(t){return e.compare(this,t)<0}},{key:"isLessThanOrEqual",value:function(t){var n=e.compare(this,t);return n<0||0==n}},{key:"toDate",value:function(){return new Date(this._date)}},{key:"_toTimezoneDate",value:function(){return this.timezone&&f()(this.timezone_offset)&&C(this._date,-this._date.getTimezoneOffset(),-this.timezone_offset)||this.toDate()}},{key:"dateMin",value:function(){var e=new Date(this._date);return e.setMilliseconds(0),e.setSeconds(0),e.setMinutes(0),e.setHours(0),e.setMilliseconds(0),e}},{key:"_createWritableClone",value:function(){var t=Object.getOwnPropertyDescriptors(this);return t=p()(t,(function(e){if(e.value instanceof Date){var t=new Date(e.value);return Object.assign({},e,{value:t,writable:!0,configurable:!0})}return Object.assign({},e,{writable:!0,configurable:!0})})),Object.create(e.prototype,t)}},{key:"getFullYear",value:function(){return Date.prototype.getFullYear.call(this._date)}},{key:"getMonth",value:function(){return Date.prototype.getMonth.call(this._date)}},{key:"getDate",value:function(){return Date.prototype.getDate.call(this._date)}},{key:"getDay",value:function(){return Date.prototype.getDay.call(this._date)}},{key:"getHours",value:function(){return Date.prototype.getHours.call(this._date)}},{key:"getMinutes",value:function(){return Date.prototype.getMinutes.call(this._date)}},{key:"getSeconds",value:function(){return Date.prototype.getSeconds.call(this._date)}},{key:"getMilliseconds",value:function(){return Date.prototype.getMilliseconds.call(this._date)}},{key:"getUTCFullYear",value:function(){return Date.prototype.getUTCFullYear.call(this._date)}},{key:"getUTCMonth",value:function(){return Date.prototype.getUTCMonth.call(this._date)}},{key:"getUTCDate",value:function(){return Date.prototype.getUTCDate.call(this._date)}},{key:"getUTCDay",value:function(){return Date.prototype.getUTCDay.call(this._date)}},{key:"getUTCHours",value:function(){return Date.prototype.getUTCHours.call(this._date)}},{key:"getUTCMinutes",value:function(){return Date.prototype.getUTCMinutes.call(this._date)}},{key:"getUTCSeconds",value:function(){return Date.prototype.getUTCSeconds.call(this._date)}},{key:"getUTCMilliseconds",value:function(){return Date.prototype.getUTCMilliseconds.call(this._date)}},{key:"getTimezoneFullYear",value:function(){return Date.prototype.getFullYear.call(this._toTimezoneDate())}},{key:"getTimezoneMonth",value:function(){return Date.prototype.getMonth.call(this._toTimezoneDate())}},{key:"getTimezoneDate",value:function(){return Date.prototype.getDate.call(this._toTimezoneDate())}},{key:"getTimezoneDay",value:function(){return Date.prototype.getDay.call(this._toTimezoneDate())}},{key:"getTimezoneHours",value:function(){return Date.prototype.getHours.call(this._toTimezoneDate())}},{key:"getTimezoneMinutes",value:function(){return Date.prototype.getMinutes.call(this._toTimezoneDate())}},{key:"getTimezoneSeconds",value:function(){return Date.prototype.getSeconds.call(this._toTimezoneDate())}},{key:"getTimezoneMilliseconds",value:function(){return Date.prototype.getMilliseconds.call(this._toTimezoneDate())}},{key:"getTime",value:function(){return Date.prototype.getTime.call(this._date)}},{key:"getTimezoneOffset",value:function(){return Date.prototype.getTimezoneOffset.call(this._date)}},{key:"isInPast",get:function(){var e=new Date;return this.isLessThan(e)}},{key:"isInFuture",get:function(){var e=new Date;return this.isGreaterThan(e)}}],[{key:"fromDateist",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.timezone,a=void 0===r?null:r;if(!t.due_date)throw new Error("Cannot create DateExt with invalid dateist result");var o=t.due_date,i=59!==o.getSeconds(),c=null;i&&a&&(c=-(o=b.a.tz(Object(g.a)(o),O(a))).utcOffset(),o=o.toDate());var l=Object(g.a)(o,{toUTC:Boolean(a),dateOnly:!i}),s={_date:{value:o,enumerable:!0},lang:{value:t.date_lang,enumerable:!0},with_time:{value:i,enumerable:!0},is_recurring:{value:t.is_recurring,enumerable:!0},string:{value:t.date_string,enumerable:!0},date:{value:l,enumerable:!0},timezone:{value:a,enumerable:!0},timezone_offset:{value:c,enumerable:!0}},u=Object.freeze(Object.create(e.prototype,s));return u}},{key:"fromDate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.timezone,a=void 0===r?null:r,o=n.withTime,i=void 0!==o&&o;if(isNaN(t.getTime()))throw new Error("Cannot create DateExt from an invalid Date (isNaN)");i||(t=E(t),a=null);var c=j.a.format(t),l=j.a.getDateistLang(),s=null;if(a){var u=b.a.tz(Object(g.a)(t),O(a));s=-u.utcOffset(),t=u.toDate()}var d=Object(g.a)(t,{toUTC:Boolean(a),dateOnly:!i}),f=Object.create(e.prototype,{_date:{value:t,enumerable:!0},lang:{value:l,enumerable:!0},with_time:{value:i,enumerable:!0},is_recurring:{value:!1,enumerable:!0},string:{value:c,enumerable:!0},date:{value:d,enumerable:!0},timezone:{value:a,enumerable:!0},timezone_offset:{value:s,enumerable:!0}});return Object.freeze(f)}},{key:"compare",value:function(t,n){var r=t instanceof e?t._date:t,a=n instanceof e?n._date:n;return r.getTime()-a.getTime()}}]),e}()},OljV:function(e,t,n){"use strict";function r(e){return e<10?"0"+String(e):String(e)}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.toUTC,a=void 0!==n&&n,o=t.dateOnly,i=void 0!==o&&o,c=t.withOffset,l=void 0!==c&&c,s=a?e.getUTCFullYear():e.getFullYear(),u=r(a?e.getUTCMonth()+1:e.getMonth()+1),d=r(a?e.getUTCDate():e.getDate());if(i)return"".concat(s,"-").concat(u,"-").concat(d);var f=r(a?e.getUTCHours():e.getHours()),m=r(a?e.getUTCMinutes():e.getMinutes()),p=r(a?e.getUTCSeconds():e.getSeconds()),h="".concat(a?e.getUTCMilliseconds():e.getMilliseconds()).padStart(4,"0");if(a)return"".concat(s,"-").concat(u,"-").concat(d,"T").concat(f,":").concat(m,":").concat(p,".").concat(h,"Z");if(!l)return"".concat(s,"-").concat(u,"-").concat(d,"T").concat(f,":").concat(m,":").concat(p,".").concat(h);var v=e.getTimezoneOffset(),b=r(Math.abs(Math.floor(v/60))),g=r(Math.abs(v%60)),_=v>0?"-":"+",y="".concat(_).concat(b,":").concat(g);return"".concat(s,"-").concat(u,"-").concat(d,"T").concat(f,":").concat(m,":").concat(p,".").concat(h).concat(y)}},On9x:function(e,t){e.exports=function(){return new Worker("/app/144a8b2debd3849a6fa3.worker.js")}},Oub8:function(e,t,n){"use strict";n.r(t),n.d(t,"noteAdd",(function(){return b})),n.d(t,"noteUpdate",(function(){return g})),n.d(t,"noteAddWithFiles",(function(){return _})),n.d(t,"noteRemove",(function(){return y})),n.d(t,"noteInsert",(function(){return O})),n.d(t,"noteAddReaction",(function(){return j})),n.d(t,"noteRemoveReaction",(function(){return w})),n.d(t,"noteFetchFromItem",(function(){return E})),n.d(t,"noteFetchFromProject",(function(){return k})),n.d(t,"noteFetch",(function(){return D}));var r=n("J4zp"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("Qi13"),l=n("MrOw"),s=n("jVEK"),u=n("dLxo"),d=n("kmjL"),f=n("Ra23"),m=n("TQFH"),p=n("XOeF");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=e.parentId,n=e.content,r=e.type,a=e.usersToNotify,o=e.file,i=e.additionalProperties,s=void 0===i?{}:i;return function(e,i){if(r!==u.g&&r!==u.h)throw new Error("Programming error: incorrect note type. (note_type=".concat(r,")"));var d=i().user.id,f=v({content:n,posted_uid:d},s);r===u.g?f.item_id=t:f.project_id=t,a&&(f.uids_to_notify=a),o&&o.file_server_info&&(f.file_attachment=o.file_server_info);var m=v(v({},f),{},{id:c.a.generate("note"),posted:new Date});return l.default.getInstance().queueUpdate({type:"note_add",temp_id:m.id,args:f}),e({type:u.a,payload:m}),m}},g=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(a,o){e=c.a.getRealId(e);var i=o().notes[e];if(i){var s={note_id:i.id};t&&(s.content=t),n&&(s.file_attachment=n),l.default.getInstance().queueUpdate({type:"note_update",args:s});var d=v(v(v({},i),s),r);return delete d.note_id,a({type:u.f,payload:d}),d}}},_=function(e){var t=e.parentId,n=e.content,r=e.type,a=e.usersToNotify,o=e.files;return function(e){if(0===o.length)return e(b({parentId:t,content:n,type:r,usersToNotify:a}));o.forEach((function(o,i){var c=Object(f.b)(o),l=c.file_info,s=c.is_buffer_obj,u=e(b({parentId:t,content:0===i?n:"",type:r,usersToNotify:a,file:l,additionalProperties:{is_buffer_obj:s}}));o.addCallback((function(t){if(t.success&&!t.instant){var n=t.file_server_info;n.upload_state="completed",e(g(u.id,null,n,{is_buffer_obj:!1}))}}))}))}},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.shouldSync,r=void 0===n||n;return function(t,n){e=c.a.getRealId(e);var a=n().notes[e];a&&(r&&l.default.getInstance().queueUpdate({type:"note_delete",args:{note_id:a.id}}),t({type:u.d,payload:a.id}))}},O=function(e){if(e&&e.id)return e=Object(f.a)(e),{type:u.f,payload:e}},j=function(e,t){return function(n,r){e=c.a.getRealId(e);var a=r(),o=a.user.id;a.notes[e]&&(l.default.getInstance().queueUpdate({type:"note_reaction_add",args:{id:e,reaction:t}}),n({type:u.b,payload:{id:e,userId:o,reaction:t}}))}},w=function(e,t){return function(n,r){e=c.a.getRealId(e);var a=r(),o=a.user.id,i=a.notes[e];i&&i.reactions&&(l.default.getInstance().queueUpdate({type:"note_reaction_remove",args:{id:e,reaction:t}}),n({type:u.e,payload:{id:e,userId:o,reaction:t}}))}},E=function(e,t){return function(n,r){e=c.a.getRealId(e);var o=r();return fetch("/API/".concat(l.default.getInstance().api_version,"/get_item"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:Object(s.h)(o),item_id:e,sync_id:t,all_data:1})}).then((function(e){return e.json().then((function(t){return[e.status,t]}))})).then((function(e){var t=a()(e,2),r=t[0],o=t[1];if(200!==r)throw o;return o.notes=o.notes.map(f.a),n({type:u.c,payload:o.notes}),o.item=Object(m.m)(o.item),Signals.sendSignal("refresh_interface"),o}))}},k=function(e){return function(t,n){e=c.a.getRealId(e);var r=n();return fetch("/API/".concat(l.default.getInstance().api_version,"/get_project"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:Object(s.h)(r),project_id:e,all_data:1})}).then((function(e){return e.json().then((function(t){return[e.status,t]}))})).then((function(e){var n=a()(e,2),r=n[0],o=n[1];if(200!==r)throw o;return t({type:u.c,payload:o.notes}),t(Object(p.h)(v({},o.project))),Signals.sendSignal("refresh_interface"),o}))}},D=function(e){var t=e.type,n=e.item,r=e.project;return function(e){return t===u.g?e(E(n.id,n.sync_id)):e(k(r.id))}};$queryArgument("print_mode")&&(window.NotesModel={},window.NotesModel.TYPE_ITEM_NOTE=u.g,window.NotesModel.TYPE_PROJECT_NOTE=u.h,window.NotesModel.getNotes=function(e,t){var r=n("oHMr").default;return Object(d.h)(r.getState(),e,t)})},"P/y/":function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("J4zp"),l=n.n(c),s=n("q1tI"),u=n.n(s),d=n("17x9"),f=n.n(d),m=n("in4X"),p=n("Pxnj"),h=n("jlRT"),v=n("4eld"),b=n("nLu1"),g=n("UVeO"),y=n("Au0W"),O=n("wkB0"),j=n("okMy"),w=n("vV6a"),E=n("1zEf");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(){return u.a.createElement(m.b,{label:_("Click to find out about labels and how to use them.")},u.a.createElement("a",{href:E.k,rel:"noopener noreferrer",target:"_blank"},u.a.createElement(g.Q,null)))}function S(e){var t=e.isOpen,n=void 0===t||t,r=e.label,o=void 0===r?{}:r,i=e.labels,c=void 0===i?[]:i,s=e.onLabelCreate,d=e.onLabelUpdate,f=e.onLabelRename,m=e.onModalClose,g={new:_("Add label"),edit:_("Edit label"),rename:_("Rename label")},E=void 0===o.id?null!=o.name&&o.name.trim().length>0?"rename":"new":"edit",k=Object(y.c)("name",o.name||""),S=Object(y.c)("color",o.color||p.a,Number),I=u.a.useState((function(){return Boolean(o.is_favorite)||!1})),T=l()(I,2),A=T[0],x=T[1],P=u.a.useMemo((function(){return k.value!==o.name&&c.indexOf(Object(O.a)(k.value))>=0}),[c,o.name,k.value]),R=!P&&k.value.trim().length>0&&("rename"===E||null!=S.value);return u.a.createElement(h.a.Box,{className:"edit_project_modal focus-marker-enabled-within",isOpen:n,onDismiss:m,size:"small"},u.a.createElement(h.a.Header,{title:g[E],button:u.a.createElement(C,null)}),u.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),R){var t={name:k.value,color:S.value,is_favorite:A};switch(E){case"new":s(D(D({},t),{},{item_order:o.item_order}));break;case"edit":d(D({id:o.id},t),o);break;case"rename":f({oldName:o.name,newName:k.value})}m()}}},u.a.createElement(h.a.Body,{className:"form_fields"},u.a.createElement("div",{className:"form_field"},u.a.createElement("label",{htmlFor:"edit_label_modal_field_name"},_("Label name")),P?u.a.createElement(y.b,{id:"edit_label_modal_field_name_hint"},_("Label already exists.")):u.a.createElement(y.a,{id:"edit_label_modal_field_name_hint",length:k.value.length,maxLength:w.g}),u.a.createElement("input",a()({id:"edit_label_modal_field_name","aria-describedby":"edit_label_modal_field_name_hint",className:"form_field_control",autoFocus:!0,maxLength:w.g},k))),"rename"!==E&&u.a.createElement("div",{className:"form_field"},u.a.createElement("label",{id:"edit_label_modal_field_color_label"},_("Label color")),u.a.createElement(b.a,a()({"aria-labelledby":"edit_label_modal_field_color_label",className:"form_field_control"},S))),"rename"!==E&&u.a.createElement("div",{className:"form_field form_field_inline"},u.a.createElement("label",null,u.a.createElement(j.a,{name:"is_favorite",checked:A,onChange:function(e){return x(e.target.checked)}}),_("Add to favorites")))),u.a.createElement(h.a.Actions,null,u.a.createElement(v.a,{className:"ist_button",onClick:m},_("Cancel")),u.a.createElement(v.a,{type:"submit",disabled:!R,className:"ist_button ist_button_red"},"new"===E?_("Add"):_("Save")))))}S.propTypes={label:f.a.shape({id:f.a.number,name:f.a.string,color:f.a.number,is_favorite:f.a.bool,item_order:f.a.number}),labels:f.a.array,onLabelCreate:f.a.func.isRequired,onLabelUpdate:f.a.func.isRequired,onLabelRename:f.a.func.isRequired,onModalClose:f.a.func.isRequired,isOpen:f.a.bool};var I=S;t.a=I},"PI/q":function(e,t,n){"use strict";var r=n("1zEf"),a={navigate:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("WindowOpener navigate placeholder",t)},showKeyboardShortcuts:function(){return window.open(r.j),!1},showPrefs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"account";"karma"===e&&(e="productivity"),window.location.pathname!="/app/settings/".concat(e)?a.navigate("/app/settings/".concat(e)):window.location.reload()},showKarmaInfo:function(){return GB_show(_("More about Todoist Karma"),"/karma/showInfo",550,500)}};t.a=a},POZF:function(e,t,n){e.exports=n.p+"assets/images/680c43c1ae53cb83dd8c12783abae541.png"},PRk6:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return y}));var r=n("ANjH"),a=n("peh1"),o=n("duPW"),i=n.n(o),c=n("ejxE"),l=n.n(c),s=n("DwX5"),u=n.n(s),d=n("Snkc"),f=n.n(d),m=n("lOx9"),p=n.n(m),h=n("uS8r"),v=n.n(h),b=n("3/82");function g(e){return Object(a.createSelector)((function(e){return e.sections}),(function(t){var n=Object.values(t).filter((function(t){return t.project_id===e}));return f()("section_order",n)}))}function _(e,t){return Object(r.d)((function(e){return e||0}),p.a,f()((function(e){return e})),v()((function(e){return e.section_order})),u()((function(t){return t.project_id===e})),l.a,i()("sections"))(t)}function y(e,t){return Object(b.a)(e,t.sections)}},PaV8:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),o=n("LQPw"),i=n("XOeF"),c=n("S+H7"),l=n("it2E"),s=n("MrOw"),u=n("yUE8"),d=n("oHMr"),f=n("Oub8"),m=n("TQFH"),p=n("p3jf"),h=n("OgjY"),v=n("s+Lk"),b=n("0tNw");n("IJUe"),n("nyrj"),n("o1Ek");t.a={resolve:function(){var e;Object(u.c)((e={UtilModels:{SyncEngine:s.default},ProjectListUtils:{ProjectList:o.a},ProjectsArchive:{ProjectList:o.a},filterist:{itemGetUncompleted:m.F,createProjectPickBySelector:i.d,projectGetChildren:i.p,createCollaboratorFilterSelector:c.d,isShared:c.m},DragAndDrop:{ProjectList:o.a},Logger:{store:d.default,ProjectsModel:l.a},LoadEngine:{SyncEngine:s.default}},a()(e,"reducers/items/actions",{notesActions:f,reminderUpdate:p.h}),a()(e,"utils/formatDate",{DateExt:h.a}),a()(e,"PremiumOnlyModal",{store:d.default}),a()(e,"jsonAPI",{store:d.default,SyncEngine:s.default}),a()(e,"LocationManager",{store:d.default}),a()(e,"reducers/filters/actions",{StartPage:v.a}),a()(e,"reducers/collaborators/actions",{userPlanLimitsSelectors:b}),e)),Object(u.a)()}}},PbLX:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{d:"M15.436 3c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v12.873c0 .892-.093 1.215-.267 1.54a1.81 1.81 0 01-.756.757c-.326.174-.65.267-1.54.267H8.563c-.892 0-1.215-.093-1.54-.267a1.81 1.81 0 01-.757-.756c-.16-.301-.252-.6-.265-1.345L6 5.564c0-.892.093-1.215.267-1.54a1.81 1.81 0 01.756-.757c.301-.16.6-.252 1.345-.265L15.436 3zm.17 1.001H8.394l-.305.01c-.305.018-.449.06-.594.138a.814.814 0 00-.346.346c-.05.093-.085.186-.109.321l-.023.186-.008.114-.008.278v13.212l.01.305c.018.305.06.449.138.594a.814.814 0 00.346.346c.093.05.186.085.321.109l.186.023.114.008.278.008h7.212l.278-.008.114-.008.186-.023c.135-.024.228-.059.321-.109a.814.814 0 00.346-.346c.05-.093.085-.186.109-.321l.023-.186.008-.114.008-.278V5.394l-.008-.278-.008-.114-.023-.186a1.007 1.007 0 00-.109-.321.814.814 0 00-.346-.346 1.007 1.007 0 00-.321-.109l-.186-.023-.114-.008-.278-.008zM9.359 17c.223 0 .304.023.385.067a.45.45 0 01.19.189c.043.081.066.162.066.385v.718c0 .223-.023.304-.067.385a.45.45 0 01-.189.19c-.081.043-.162.066-.385.066h-.718c-.223 0-.304-.023-.385-.067a.45.45 0 01-.19-.189c-.043-.081-.066-.162-.066-.385v-.718c0-.223.023-.304.067-.385a.45.45 0 01.189-.19c.081-.043.162-.066.385-.066h.718zm3 0c.223 0 .304.023.385.067a.45.45 0 01.19.189c.043.081.066.162.066.385v.718c0 .223-.023.304-.067.385a.45.45 0 01-.189.19c-.081.043-.162.066-.385.066h-.718c-.223 0-.304-.023-.385-.067a.45.45 0 01-.19-.189c-.043-.081-.066-.162-.066-.385v-.718c0-.223.023-.304.067-.385a.45.45 0 01.189-.19c.081-.043.162-.066.385-.066h.718zm3 0c.223 0 .304.023.385.067a.45.45 0 01.19.189c.043.081.066.162.066.385v.718c0 .223-.023.304-.067.385a.45.45 0 01-.189.19c-.081.043-.162.066-.385.066h-.718c-.223 0-.304-.023-.385-.067a.45.45 0 01-.19-.189c-.043-.081-.066-.162-.066-.385v-.718c0-.223.023-.304.067-.385a.45.45 0 01.189-.19c.081-.043.162-.066.385-.066h.718zm-6-6c.223 0 .304.023.385.067a.45.45 0 01.19.189c.043.081.066.162.066.385v.718c0 .223-.023.304-.067.385a.45.45 0 01-.189.19c-.081.043-.162.066-.385.066h-.718c-.223 0-.304-.023-.385-.067a.45.45 0 01-.19-.189c-.043-.081-.066-.162-.066-.385v-.718c0-.223.023-.304.067-.385a.45.45 0 01.189-.19c.081-.043.162-.066.385-.066h.718zm0-3c.223 0 .304.023.385.067a.45.45 0 01.19.189c.043.081.066.162.066.385v.718c0 .223-.023.304-.067.385a.45.45 0 01-.189.19c-.081.043-.162.066-.385.066h-.718c-.223 0-.304-.023-.385-.067a.45.45 0 01-.19-.189C8.024 9.663 8 9.582 8 9.36v-.718c0-.223.023-.304.067-.385a.45.45 0 01.189-.19c.081-.043.162-.066.385-.066h.718zm3 0c.223 0 .304.023.385.067a.45.45 0 01.19.189c.043.081.066.162.066.385v.718c0 .223-.023.304-.067.385a.45.45 0 01-.189.19c-.081.043-.162.066-.385.066h-.718c-.223 0-.304-.023-.385-.067a.45.45 0 01-.19-.189c-.043-.081-.066-.162-.066-.385v-.718c0-.223.023-.304.067-.385a.45.45 0 01.189-.19c.081-.043.162-.066.385-.066h.718zm-3-3c.223 0 .304.023.385.067a.45.45 0 01.19.189c.043.081.066.162.066.385v.718c0 .223-.023.304-.067.385a.45.45 0 01-.189.19c-.081.043-.162.066-.385.066h-.718c-.223 0-.304-.023-.385-.067a.45.45 0 01-.19-.189C8.024 6.663 8 6.582 8 6.36v-.718c0-.223.023-.304.067-.385a.45.45 0 01.189-.19c.081-.043.162-.066.385-.066h.718zm3 0c.223 0 .304.023.385.067a.45.45 0 01.19.189c.043.081.066.162.066.385v.718c0 .223-.023.304-.067.385a.45.45 0 01-.189.19c-.081.043-.162.066-.385.066h-.718c-.223 0-.304-.023-.385-.067a.45.45 0 01-.19-.189c-.043-.081-.066-.162-.066-.385v-.718c0-.223.023-.304.067-.385a.45.45 0 01.189-.19c.081-.043.162-.066.385-.066h.718zm3 0c.223 0 .304.023.385.067a.45.45 0 01.19.189c.043.081.066.162.066.385v.718c0 .223-.023.304-.067.385a.45.45 0 01-.189.19c-.081.043-.162.066-.385.066h-.718c-.223 0-.304-.023-.385-.067a.45.45 0 01-.19-.189c-.043-.081-.066-.162-.066-.385v-.718c0-.223.023-.304.067-.385a.45.45 0 01.189-.19c.081-.043.162-.066.385-.066h.718z",fill:"currentColor",fillRule:"nonzero"});function i(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24"},e),o)}n.p},Pm0r:function(e,t,n){},"Pp/T":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("J4zp"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("jlRT"),l=n("17x9"),s=n.n(l),u=n("/gRr"),d=n("3SZs"),f=n("crsb"),m=n("lGOm"),p=n("ssSt"),h=n("Vbab"),v=n("Ymoq"),b=n("309x"),g=n("xDOP"),_=n.n(g);function y(e){var t=e.isOpen,n=void 0!==t&&t,r=e.setIsCommandMenuShown,l=Object(o.useState)(!1),s=a()(l,2),g=s[0],y=s[1],O=Object(v.g)({autoSelect:!0}),j=Object(p.a)("command"),w=i.a.useRef(null),E=Object(m.getApplicationKeyMap)(),k=O.setInputValue,D=Object(b.b)().activeHandlers;Object(o.useEffect)((function(){!1===n&&k("")}),[n,k]);var C=Object(o.useCallback)((function(e,t){setTimeout((function(){var n;null==D||null===(n=D[e])||void 0===n||n.call(D,t)}),101)}),[D]);function S(){y(!0),setTimeout((function(){y(!1),r(!1)}),100)}return n?i.a.createElement(c.a.Box,{className:_.a.command_menu,isOpen:n,closeOnOverlayClick:!0,overlayProps:{className:"command_menu_overlay ".concat(g?"will_close":"")},onDismiss:S},i.a.createElement(c.a.Body,{className:_.a.command_menu_body},i.a.createElement(v.a,{state:O},i.a.createElement("span",{className:_.a.command_menu_input_container},i.a.createElement(v.b,{ref:w,onKeyDown:function(e){"Escape"===Object(u.a)(e)&&S()},onFocus:function(){return O.show()},placeholder:Object(h.a)("What would you like to do?"),"aria-label":Object(h.a)("Search for keyboard shortcuts")}),i.a.createElement(f.a,{className:_.a.reactist_keyboard_shortcut},j),i.a.createElement(f.a,{className:_.a.reactist_keyboard_shortcut},"k")),i.a.createElement(v.e,{"aria-label":Object(h.a)("Keyboard shortcut search results")},i.a.createElement(d.a,{keyMap:E,onSearchResultSelected:function(e,t){C(e,t),S()}}))))):null}y.propTypes={isOpen:s.a.bool,setIsCommandMenuShown:s.a.func.isRequired}},Pxnj:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return v})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a}));var r=47,a=30,o=48,i={4:"#DE4C4A",3:"#F49C18",2:"#4073d6",1:"#808080"},c=function(){return[{name:_("Berry Red"),hex:"#b8255f"},{name:_("Red"),hex:"#db4035"},{name:_("Orange"),hex:"#ff9933"},{name:_("Yellow"),hex:"#fad000"},{name:_("Olive Green"),hex:"#afb83b"},{name:_("Lime Green"),hex:"#7ecc49"},{name:_("Green"),hex:"#299438"},{name:_("Mint Green"),hex:"#6accbc"},{name:_("Teal"),hex:"#158fad"},{name:_("Sky Blue"),hex:"#14aaf5"},{name:_("Light Blue"),hex:"#96c3eb"},{name:_("Blue"),hex:"#4073ff"},{name:_("Grape"),hex:"#884dff"},{name:_("Violet"),hex:"#af38eb"},{name:_("Lavender"),hex:"#eb96eb"},{name:_("Magenta"),hex:"#e05194"},{name:_("Salmon"),hex:"#ff8d85"},{name:_("Charcoal"),hex:"#808080"},{name:_("Grey"),hex:"#b8b8b8"},{name:_("Taupe"),hex:"#ccac93"}]},l={0:35,1:46,2:32,3:33,4:40,5:49,6:44,7:48,8:46,9:32,10:37,11:39,12:45,13:30,14:31,15:36,16:37,17:38,18:39,19:41,20:47,21:47},s={};for(var u in l)s[l[u]]=u;var d={0:36,1:34,2:31,3:45,4:43,5:41,6:38,7:47,8:38,9:37,10:30,11:35,12:47},f={};for(var m in d)f[d[m]]=m;var p=function(){return c()},h=function(e,t){var n;return n="project"==e?l:d,t>=30&&t<=49?t:null!=n[t]?parseInt(n[t]):r},v=function(e,t){return t=h(e,t),t-=a,c()[t].hex};t.e={PRIORITY_COLORS:i,get:p,normalizeToNew:h,normalizeToOld:function(e,t){var n;return n="project"==e?s:f,"project"==e&&0<=t&&t<=21||("label"==e||"filter"==e)&&0<=t&&t<=12?t:null!=n[t]?parseInt(n[t]):7},getHex:v,DEFAULT_COLOR:r,START_INDEX:a}},"Q+Wq":function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=function(){function e(){a()(this,e),this.renderAvatar=this.renderAvatar.bind(this),this.renderAnonymous=this.renderAnonymous.bind(this)}return i()(e,[{key:"renderAvatar",value:function(e,t,n){var r;if(e.image_id)r="".concat(this.base_url).concat(e.image_id,"_").concat(t,".jpg");else{var a=50;"small"===t&&(a=18);var o="theme_dark"==n?"1f1f1f":"ffffff",i=$encode({fullName:e.full_name||e.email.split("@")[0],email:e.email,size:2*a,bg:o});r="https://avatars.doist.com/?".concat(i)}return IMG({src:r,c:"user_avatar ".concat(t)})}},{key:"renderAnonymous",value:function(e){return IMG({src:n("hvkN"),c:"user_avatar ".concat(e)})}}],[{key:"initClass",value:function(){this.prototype.base_url="https://dcff1xvirvpfp.cloudfront.net/"}}]),e}();c.initClass();var l=new c;window.Avatars=l,t.a=l},Q05W:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{fill:"currentColor",d:"M17.5 20a.5.5 0 010 1h-11a.5.5 0 010-1h11zM16 8a2 2 0 012 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8zm0 1H8a1 1 0 00-.993.883L7 10v5a1 1 0 00.883.993L8 16h8a1 1 0 00.993-.883L17 15v-5a1 1 0 00-.883-.993L16 9zm1.5-5a.5.5 0 010 1h-11a.5.5 0 010-1h11z"});function i(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24"},e),o)}n.p},Q0V0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("J4zp"),a=n.n(r),o=n("q1tI");function i(e){var t=o.useRef(!1),n=o.useState((function(){var t=null==e?void 0:e();return void 0===t?{status:"idle"}:{status:"resolved",value:t}})),r=a()(n,2),i=r[0],c=r[1],l=o.useCallback((function(){c({status:"idle"}),t.current=!0}),[]);return o.useEffect((function(){return function(){t.current=!0}}),[]),{state:i,run:o.useCallback((function(e){t.current=!1,c({status:"pending"}),e.then((function(e){t.current||c({status:"resolved",value:e})}),(function(e){t.current||c({status:"rejected",error:e})})).finally((function(){t.current=!1}))}),[]),reset:l,setValue:o.useCallback((function(e){c({status:"resolved",value:e}),t.current=!0}),[]),setError:o.useCallback((function(e){c({status:"rejected",error:e}),t.current=!0}),[])}}},Q5E6:function(e,t,n){var r=n("cDf5");if(!window.ICE){void 0===window.ICE_EXPORT_TO_SCOPE&&(window.ICE_EXPORT_TO_SCOPE=window);var a={BASE_URL:"",_ready_bound:!1,_is_ready:!1,_agent:navigator.userAgent.toLowerCase(),_agent_version:navigator.productSub,_ready_list:[],_f_guid:2,_has_mouse:!1,generalErrorback:null,generalCallback:null,annotateAjaxData:[],$isIe:function(){return-1!=a._agent.indexOf("msie")},$isEdge:function(){return-1!=a._agent.indexOf("edge/")},$isSafari:function(e){return e?a._agent.indexOf("khtml"):-1!=a._agent.indexOf("khtml")&&null===a._agent.match(/3\.\d\.\d safari/)},$isMozilla:function(){return-1!=a._agent.indexOf("gecko")&&a._agent_version>=20030210},$isMac:function(){return-1!=a._agent.indexOf("macintosh")},$supportsSVG:function(){return document.implementation&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},$queryArgument:function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if(r[0]==e)return r[1]}return null},$isHighDensity:function(){return window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||window.devicePixelRatio&&window.devicePixelRatio>1.3},$arrayCreate:function(e){return a.$isArray(e)&&!a.$isString(e)?e:e?[e]:[]},$arrayCompare:function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<t.length;n++){if(e[n].compareArrays){if(e[n].compareArrays(t[n]))continue;return!1}if(e[n]!=t[n])return!1}return!0},$arrayRemove:function(e,t,n){var r=a.$index(t,e,n);return-1!=r&&e.splice(r,1),e},$arrayUpdate:function(e,t,n){var r=a.$index(t,e);return-1!=r&&e.splice(r,1,n),e},$arrayCopy:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},$arrayDiff:function(e,t){if(t.length>e.length){var n=e;e=t,t=n}return a.$filter(e,(function(e){return!(a.$index(e,t)>-1)}))},$arrayUnion:function(e,t){if(t.length>e.length){var n=e;e=t,t=n}return a.$filter(e,(function(e){return a.$index(e,t)>-1}))},$arrayForce:function(e){return a.$isArray(e)?e:e.slice?e.slice(0):Array.prototype.slice.call(e)},$arrayJoin:function(e,t){return t.join(e)},$isIn:function(e,t){return-1!=a.$index(e,t)},$index:function(e,t,n){for(var r=0;r<t.length;r++)if(n&&n(t[r])||e==t[r])return r;return-1},$first:function(e){return e.length>0?e[0]:null},$last:function(e){return e.length>0?e[e.length-1]:null},$random:function(e){return e[Math.floor(Math.random()*e.length)]},$arrayFlatten:function(e){e=a.$arrayForce(e);var t=!0;if(a.$map(e,(function(e){if(e&&a.$isArray(e))return t=!1,!0})),t)return e;for(var n=!1,r=[],o=0;o<e.length;o++){var i=e[o];if(a.$isArray(i)){n=!0;break}null!==i&&r.push(i)}if(!n)return r;var c=[];return function e(t,n){a.$map(n,(function(n){null===n||(a.$isArray(n)?e(t,n):t.push(n))}))}(c,e),c},$update:function(e,t){for(var n in t)e[n]=t[n];return e},$map:function(e,t,n,r){var a=0,o=e.length;for(void 0!==n&&(a=n),void 0!==r&&(o=r);a<o;a++){var i=t(e[a],a);if(void 0!==i)return i}},$rmap:function(e,t,n,r){var a=e.length-1,o=0;for(void 0!==n&&(a=n),void 0!==r&&(o=r);a>=o;a--){var i=t.apply(null,[e[a],a]);if(void 0!==i)return i}},$filter:function(e,t,n,r){var o=[];return a.$map(e,(function(e,n){t(e,n)&&o.push(e)}),n,r),o},$partial:function(e){var t=$AF(arguments);return t.shift(),function(){var n=[];return n=(n=n.concat(t)).concat($AF(arguments)),e.apply(this||window,n)}},$get:function(e){return a.$isString(e)||a.$isNumber(e)?document.getElementById(e):e},$$:function(e,t){return t?a.$arrayForce(t.querySelectorAll(e)):a.$arrayForce(document.querySelectorAll(e))},$all:function(e,t,n,r){var o;return a.$defined(n)||(n=document),a.$defined(e)||(e="*"),e&&t?o=e+"."+t:e?o=e:t&&(o="."+t),class_elements=a.$arrayForce(n.querySelectorAll(o)),r?class_elements[0]:class_elements},$nodeName:function(e){return e&&e.nodeName?e.nodeName.toLowerCase():"undefined"},_nodeWalk:function(e,t,n,r){if(!e)return null;var o,i=r(e);if((o=t&&n?function(e){return a.$nodeName(e)==t&&a.$hasClass(e,n)}:t?function(e){return a.$nodeName(e)==t}:function(e){return a.$hasClass(e,n)})(e))return e;for(;i;){if(o(i))return i;i=r(i)}return null},$parent:function(e,t,n,r){var o=a._parseTagClassName(t,n);return t=o[0],n=o[1],a._nodeWalk(e,t,n,(function(e){return e==r?null:e?e.parentNode:void 0}))},$child:function(e,t,n){var r=a._parseTagClassName(t,n);t=r[0],n=r[1];var o=a.$all(t,n,e);return o.length>0?o[0]:null},$prevSibling:function(e,t,n){var r=a._parseTagClassName(t,n);return t=r[0],n=r[1],a._nodeWalk(e,t,n,(function(e){return e.previousSibling}))},$nextSibling:function(e,t,n){var r=a._parseTagClassName(t,n);return t=r[0],n=r[1],a._nodeWalk(e,t,n,(function(e){return e.nextSibling}))},$html:function(){return a.$all("html")[0]},$head:function(){return a.$all("head")[0]},$body:function(){return a.$all("body")[0]},$form:function(e,t){e=a.$(e);var n=null;return a.$map(e.elements,(function(e){e.name&&e.name==t&&(n=e)})),n||(a.$map(a.$all("select",null,e),(function(e){e.name&&e.name==t&&(n=e)})),n)},$selectValue:function(e){return(e=a.$(e))?e.options[e.selectedIndex].value:null},$add:function(e){var t=a.$arrayFlatten(arguments);return t.length>=2&&a.$map(t,(function(t){a.$isString(t)&&(t=a.TN(t)),a.$defined(e)&&a.$defined(t)&&e.appendChild&&e.appendChild(t)}),1),e},$addToTop:function(e){var t=a.$arrayFlatten(arguments).slice(1);if(t.length>=1){var n=e.firstChild;if(n)for(;;){var r=t.shift();if(!r)break;a.$addBefore(r,n)}else a.$add.apply(null,arguments)}return e},$replace:function(e){for(var t;t=e.firstChild;)a.$swap(t,null);return arguments.length<2?e:a.$add.apply(null,arguments)},$addAfter:function(e,t){return t.parentNode.insertBefore(e,t.nextSibling),e},$addBefore:function(e,t){return t.parentNode.insertBefore(e,t),e},$clean:function(e){if(e&&1==e.nodeType){if(e.reuseable)return!0;ElementStore.remove(e),a.$map(e.getElementsByTagName("*"),(function(e){e&&!e.reuseable&&ElementStore.remove(e)}))}},$swap:function(e,t){e=a.$(e),a.$clean(e);var n=e.parentNode;return t?(t=a.$get(t),n.replaceChild(t,e)):n.removeChild(e),t},$remove:function(){var e=a.$arrayFlatten(arguments);try{a.$map(e,(function(e){$(e)&&a.$swap(e,null)}))}catch(e){}},$create:function(e,t){var n,o=0,i=document.createElement(e),c=t[0];if(a.$isDict(t[o])){for(var l in c)switch(n=c[l],l){case"style":case"s":i.style.cssText=n;break;case"c":case"class":case"className":i.className=n;break;case"reuseable":i.reuseable=!0;break;default:i.setAttribute(l,n)}o++}null===c&&(o=1);for(var s=o;s<t.length;s++)if(n=t[s]){var u=r(n);"string"!=u&&"number"!=u||(n=document.createTextNode(n)),i.appendChild(n)}return i},$setHTML:function(){var e=a.$arrayFlatten(arguments),t=e.pop();return a.$map(e,(function(e){e&&(e.innerHTML=t)})),e[0]},$xssStrip:function(e){return e?(e=e.replace(/<[^>]+>/g,"")).replace(/[<>"=]/g," "):e},HTML_ENTITY_MAP:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},$escapeHTML:function(e,t){return e.replace(/[&<>"'`=\/]/g,(function(e){return t&&t.skip&&-1!=t.skip.indexOf(e)?e:HTML_ENTITY_MAP[e]}))},_createDomShortcuts:function(){a.$map(["header","code","ul","li","td","tr","th","tbody","table","input","span","b","a","div","img","button","h1","h2","h3","h4","h5","h6","br","textarea","form","p","select","option","optgroup","iframe","script","center","dl","dt","dd","small","pre","i","label","thead","hr","object"],(function(e){a[e.toUpperCase()]=function(){return a.$create.apply(null,[e,arguments])}})),a.TN=function(e){return document.createTextNode(e)}},$setVisibility:function(){var e=a.$arrayFlatten(arguments),t=e.pop()?"visible":"hidden";a.$setStyle(e,"visibility",t)},$setOpacity:function(e,t){var n=a.$arrayFlatten(arguments),r=n.pop();a.$map(n,(function(e){1==r?(e.style.opacity=1,e.style.filter=""):(e.style.opacity=r,e.style.filter="alpha(opacity="+100*r+")")}))},$show:function(){a.$setStyle(a.$arrayFlatten(arguments),"display","")},$hide:function(e){a.$setStyle(a.$arrayFlatten(arguments),"display","none")},$isHidden:function(e){return!!e&&("none"==e.style.display||"hidden"==e.style.visibility)},$isShown:function(e){return!!e&&!a.$isHidden(e)},$setStyle:function(){var e=a.$arrayFlatten(arguments);if(0!==e.length&&1!=e.length){var t=e.pop(),n=["top","left","right","width","height"];if(a.$isObject(t))a.$map(e,(function(e){e&&a.$map(a.$keys(t),(function(r){var o=t[r];a.$isIn(r,n)&&(o=a.$isString(o)&&o||o+"px"),e&&e.style&&(e.style[r]=o)}))}));else{var r=e.pop();a.$map(e,(function(e){e&&(a.$isIn(r,n)&&(t=a.$isString(t)&&t||t+"px"),e&&e.style&&(e.style[r]=t))}))}}},$getStyle:function(e,t){return document.defaultView.getComputedStyle(e,null)[t]},$setWidth:function(){return a.__cssDim(arguments,"width")},$setHeight:function(){return a.__cssDim(arguments,"height")},$setLeft:function(){return a.__cssDim(arguments,"left")},$setRight:function(){return a.__cssDim(arguments,"right")},$setTop:function(){return a.__cssDim(arguments,"top")},$setBottom:function(){return a.__cssDim(arguments,"top")},$setClass:function(){var e=a.$arrayFlatten(arguments),t=e.pop();a.$map(e,(function(e){e.className=t}))},$addClass:function(){var e=a.$arrayFlatten(arguments),t=e.pop(),n=function(e){e&&("[object SVGAnimatedString]"!==e.className.toString()?(e&&e.className)!=t&&(a.$hasClass(e,t)||(e.className+=(e.className?" ":"")+t)):e.className.baseVal=e.className.baseVal.toString()+" "+t)};a.$map(e,(function(e){e&&e.classList&&-1==t.indexOf(" ")?e.classList.add(t):n(e)}))},$removeClass:function(){var e=a.$arrayFlatten(arguments),t=e.pop(),n=function(e){e&&("[object SVGAnimatedString]"!==e.className.toString()?e.className==t?e.className="":e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)"),"$1"):e.className.baseVal=e.className.baseVal.toString().replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)"),"$1"))};a.$map(e,(function(e){e&&e.classList&&-1==t.indexOf(" ")?e.classList.remove(t):n(e)}))},$replaceClass:function(){var e=a.$arrayFlatten(arguments),t=e.pop(),n=e.pop();a.$removeClass(e,n),a.$addClass(e,t)},$hasClass:function(e,t){var n=a.__getClass(e);if(!n)return!1;if(e.classList&&-1==t.indexOf(" "))return e.classList.contains(t);if(n==t)return!0;if(0===n.indexOf(t+" "))return!0;if(-1!=n.indexOf(" "+t+" "))return!0;var r=n.indexOf(" "+t);return-1!=r&&r==n.length-t.length-1},__getClass:function(e){return!(!e||void 0===e.getAttribute)&&("string"==typeof e.className?e.className:e.getAttribute("class"))},__cssDim:function(e,t){(e=a.$AF(e)).splice(e.length-1,0,t),a.$setStyle.apply(null,e)},$mousePos:function(e){var t=0,n=0;return e||(e=window.event),e.pageX||e.pageY?(t=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:n}},$scrollTop:function(e){return e||(e=document.documentElement&&document.documentElement.scrollTop?document.documentElement:document.body),e&&e.scrollTop||0},$position:function(e){if(!e)return{x:0,y:0};if(e.scrollLeft)return{x:e.scrollLeft,y:e.scrollTop};if(e.clientX)return{x:e.clientX,y:e.clientY};var t={x:e.offsetLeft,y:e.offsetTop};if(e.offsetParent)for(var n=e.offsetParent;n;)t.x+=n.offsetLeft,t.y+=n.offsetTop,n=n.offsetParent;return a.$isSafari()&&"absolute"==e.style.position&&(t.x-=document.body.offsetLeft,t.y-=document.body.offsetTop),t},$winSize:function(e){var t,n;return e=e||document,self.innerHeight?(t=self.innerWidth,n=self.innerHeight):e.documentElement&&e.documentElement.clientHeight?(t=e.documentElement.clientWidth,n=e.documentElement.clientHeight):e.body&&(t=e.body.clientWidth,n=e.body.clientHeight),{w:t,h:n}},$isOverlapping:function(e,t){var n=a.$position(e),r=a.$position(t),o=n.y,i=n.x,c=i+e.offsetWidth,l=o+e.offsetHeight,s=r.y,u=r.x,d=u+t.offsetWidth,f=function(e){return e>0?"+":e<0?"-":0};return f(o-(s+t.offsetHeight))!=f(l-s)&&f(i-d)!=f(c-u)},$request:function(e,t,n){""!==a.BASE_URL&&a.BASE_URL.lastIndexOf("/")!=a.BASE_URL.length-1&&(a.BASE_URL+="/"),null===e.match(/^https?:\/\//)&&("/"==e[0]&&(e=e.slice(1)),e=a.BASE_URL+e),t||(t="POST");var r=new XMLHttpRequest;return new ICEDeferred(r,t,e,n)},$requestJSON:function(e,t,n){var r=a.$request(e,t,n);return r.addCallback((function(e,t){var n=t.responseText;if("Error"!=n)return a.$eval(n);r.errback(t)})),r},$serialize:function(e){return window.JSON.stringify(e)},$eval:function(e){return a.$isString(e)?window.JSON.parse(e):e},$encode:function(e){var t=[];for(var n in e)t.push(n+"="+a.$urlencode(e[n]));return t.join("&")},$cookie:{create:function(e,t,n){var r=null;if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),r="; expires="+a.toGMTString()}else r="";document.cookie=e+"="+t+r+"; path=/"},get:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=n.length-1;r>=0;r--){for(var a=n[r];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null},erase:function(e){a.$cookie.create(e,"",-1)}},_bindReady:function(){a._ready_bound||(a._ready_bound=!0,document.addEventListener("DOMContentLoaded",(function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),a._ready()}),!1),a.$AEV(window,"load",a._ready))},_ready:function(e){a._is_ready||(a._is_ready=!0,a.$map(a._ready_list,(function(e){e.call(window)})),a._ready_list=[])},$eventElm:function(e){return!e||e.type||e.keyCode?(e||(e=window.event),e.target?t=e.target:e.srcElement&&(t=e.srcElement),t&&3==t.nodeType&&(t=t.parentNode),t):e;var t},$addListener:function(e,t,n,r){e=a.$A(e),t=a.$A(t),a.$map(e,(function(e){r&&(n.listen_once=!0),n.$f_guid||(n.$f_guid=a._f_guid++);var o=ElementStore.get(e,"$events");o||(o=ElementStore.set(e,"$events",{})),a.$map(t,(function(t){var r=o[t];e==window&&"load"==t?a._ready_list.push(n):("lazy_load"==t&&(t="load"),r||(r=o[t]={},e["on"+t]&&(r[1]=e["on"+t])),r[n.$f_guid]=n,"compositionstart"===t||"compositionend"===t||"compositionupdate"===t?e.addEventListener(t,a._handleEvent):e["on"+t]=a._handleEvent)})),e=null}))},_handleEvent:function(e){if(e=e||window.event){e.ctrl||a._setEventKey(e);var t=ElementStore.get(this,"$events");if(t){var n=t[e.type],r=[],o=!0;for(var i in n){var c=n[i];c!=a._handleEvent&&(o=c.apply(this,[e]),c.listen_once&&r.push(c))}return r.length>0&&a.$map(r,(function(e){delete n[e.$f_guid]})),o}}},$removeListener:function(e,t,n){n&&(e=a.$A(e),a.$map(e,(function(e){var r=ElementStore.get(e,"$events");r&&r[t]&&delete r[t][n.$f_guid]})))},$removeAllListeners:function(e,t){e=a.$A(e),a.$map(e,(function(e){var n=ElementStore.get(e,"$events");n&&n[t]&&delete n[t]}))},$preventDefault:function(e){(e=e||window.event)&&(a.$isIe()?e.returnValue=!1:e.preventDefault())},$stopPropagation:function(e){e=e||window.event,a.$isIe()?e.cancelBubble=!0:e.stopPropagation()},$bind:function(e,t,n){return e._cscope=t,a._getRealScope(e,n)},$bindMethods:function(e){for(var t in e){var n=e[t];"function"==typeof n&&(e[t]=a.$bind(n,e))}},_setEventKey:function(e){var t;e||(e=window.event),t=e.keyCode?e.keyCode:e.charCode,e.keyAscii=e.keyCode=t,e.ctrl=e.ctrlKey,a.$isMac()&&e.metaKey&&(e.ctrl=e.metaKey),e.alt=e.altKey,e.meta=e.metaKey,e.shift=e.shiftKey},_listenOnce:function(e,t,n){return function r(){a.$removeListener(e,t,r),n(arguments)}},_getRealScope:function(e,t){t=a.$A(t);var n=e._cscope||window;return function(){var r=a.$AF(arguments).concat(t);return e.apply(n,r)}},$keys:function(e){return e?Object.keys(e):[]},$values:function(e){return Object.values(e)},$urlencode:function(e){return encodeURIComponent(a.$defined(e)&&e.toString()||"")},$urldecode:function(e){return decodeURIComponent(a.$defined(e)&&e.toString()||"")},$urlparse:function(e){var t=(a.$defined(e)&&e.toString()||"").match(/^(?:([^:\/?\#]+):)?(?:\/\/([^\/?\#]*))?([^?\#]*)(?:\?([^\#]*))?(?:\#(.*))?/);return{scheme:t[1],netloc:t[2],path:t[3],params:t[4],query:t[5],fragment:t[6]}},$defined:function(e){return"undefined"!=e&&null!=e},$isArray:function(e){try{return e instanceof Array}catch(e){return!1}},$isString:function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},$isNumber:function(e){return"number"==typeof e},$isObject:function(e){return"object"==r(e)},$isFunction:function(e){return"function"==typeof e},$isBoolean:function(e){return!0===e||!1===e},$isDict:function(e){return-1!=String(e).indexOf(" Object")},_exportToGlobalScope:function(e){for(var t in e=e||window,a)0!==t.indexOf("_")&&"addEventListener"!=t&&"fx"!=t&&"dnd"!=t&&(e[t]=a[t])},$log:function(e){try{window._firebug?window._firebug.log(e):window.console&&console.log(e)}catch(e){}},$strip:function(e){return e&&e.trim?e.trim():e||""},$trim:function(e,t,n){return e.length>t?e.substring(0,t)+(n||"..."):e},$escape:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'\/]/g,(function(e){return t[e]}))},domParser:new DOMParser,$toDOM:function(e,t){return this.domParser.parseFromString(e,"text/html").body.firstChild},$hasTouchEnabled:function(){var e;void 0===a.cached_touch_device&&(("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)&&(e=!0),a.cached_touch_device=e);return a.cached_touch_device},$isTouchDeviceOnly:function(){return!a._has_mouse&&a.$hasTouchEnabled()},_parseTagClassName:function(e,t){if(e&&-1!=e.indexOf(".")){var n=e.split(".");e=a.$strip(n[0]),t=a.$strip(n[1])}return[e,t||null]}};a.$=a.$get,a.$f=a.$form,a.$b=a.$bind,a.$p=a.$partial,a.$gp=a.$parent,a.$gc=a.$child,a.$A=a.$arrayCreate,a.$AF=a.$arrayForce,a.$ATT=a.$addToTop,a.$AEV=a.$addListener,a.$REV=a.$removeListener,a._createDomShortcuts(),a.Class=function(e){var t=function(){if("no_init"!=arguments[0])return this.init.apply(this,arguments)};return t.prototype=e,a.$update(t,a.Class.prototype),t},a.Class.prototype={extend:function(e){var t=new this("no_init");for(var n in e){var r=t[n],o=e[n];r&&r!=o&&"function"==typeof o&&(o=this._parentize(o,r)),t[n]=o}return new a.Class(t)},implement:function(e){a.$update(this.prototype,e)},_parentize:function(e,t){return function(){return this.parent=t,e.apply(this,arguments)}}},a.fx={_shades:{0:"ffffff",1:"ffffee",2:"ffffdd",3:"ffffcc",4:"ffffbb",5:"ffffaa",6:"ffff99"},highlight:function(e,t){var n=1500;t&&t.duration&&(n=t.duration);try{var r=a.$getStyle(e,"transition");r?a.$setStyle(e,{transition:r+", background-color 150ms ease"}):a.$setStyle(e,{transition:"background-color 150ms ease"})}catch(e){console.log("highlight_transition:",e)}try{a.$addClass(e,"js-highlight"),setTimeout((function(){a.$removeClass(e,"js-highlight"),t&&t.onEnd&&t.onEnd()}),n)}catch(e){console.log("highlight:",e)}return e},fadeIn:function(e,t){return(t=t||{}).from||(t.from=0,a.$setOpacity(e,0)),t.to||(t.to=1),new a.fx.Style(e,"opacity",t).custom(t.from,t.to)},fadeOut:function(e,t){return(t=t||{}).from||(t.from=1),t.to||(t.to=0),t.duration||(t.duration=300),new a.fx.Style(e,"opacity",t).custom(t.from,t.to)},setWidth:function(e,t){return new a.fx.Style(e,"width",t).custom(t.from,t.to)},setHeight:function(e,t){return new a.fx.Style(e,"height",t).custom(t.from,t.to)}},$fx=a.fx,a.fx.Base=new a.Class({init:function(e,t){this.options={onStart:function(){},onComplete:function(){},transition:a.fx.Transitions.sineInOut,duration:500,wait:!0,fps:50},a.$update(this.options,t),a.$bindMethods(this),this.elm=e,e&&e._fx_running&&(e._fx_end=!0)},setOptions:function(e){a.$update(this.options,e)},step:function(){if(this.elm){var e=(new Date).getTime();e<this.time+this.options.duration?(this.cTime=e-this.time,this.setNow(),this.elm._fx_running=!0):(this.options.onComplete&&setTimeout($b(this.options.onComplete,this,[this.elm]),10),this.elm._fx_end&&delete this.elm._fx_end,this.elm._fx_running&&delete this.elm._fx_running,this.clearTimer(),this.now=this.to),this.increase()}else this.clearTimer()},setNow:function(){this.now=this.compute(this.from,this.to)},compute:function(e,t){var n=t-e;return this.options.transition(this.cTime,e,n,this.options.duration)},clearTimer:function(){return clearInterval(this.timer),this.timer=null,this},_start:function(e,t){if(this.options.wait||this.clearTimer(),!this.timer)return setTimeout($p(this.options.onStart,this.elm),10),this.from=e,this.to=t,this.time=(new Date).getTime(),this.timer=setInterval(this.step,Math.round(1e3/this.options.fps)),this},custom:function(e,t){return this._start(e,t)},set:function(e){return this.now=e,this.increase(),this},setStyle:function(e,t,n){"opacity"==this.property?a.$setOpacity(e,n):a.$setStyle(e,t,n)}}),a.fx.Style=a.fx.Base.extend({init:function(e,t,n){this.parent(e),this.elm=e,this.setOptions(n),this.property=t},increase:function(){this.setStyle(this.elm,this.property,this.now)}}),a.fx.Styles=a.fx.Base.extend({init:function(e,t){this.parent(e),this.elm=a.$(e),this.setOptions(t),this.now={}},setNow:function(){for(var e in this.from)this.now[e]=this.compute(this.from[e],this.to[e])},custom:function(e){if(!this.timer||!this.options.wait){var t={},n={};for(var r in e)t[r]=e[r][0],n[r]=e[r][1];return this._start(t,n)}},increase:function(){for(var e in this.now)this.setStyle(this.elm,e,this.now[e])}}),a.fx.Transitions={linear:function(e,t,n,r){return n*e/r+t},sineInOut:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t}},a.fx.scrollToPos=function(e,t,n){(new a.fx._scrollToCls).custom(a.$scrollTop(),e)},a.fx.scrollToElm=function(e,t,n){void 0===t&&(t=0),a.fx.scrollToPos(a.$position(e).y+t,n)},a.fx._scrollToCls=a.fx.Base.extend({init:function(e,t){var n={duration:400};t&&a.$update(n,t),this.elm=e||window,this.parent(this.elm,n)},increase:function(){this.elm.scrollTo?this.elm.scrollTo(0,this.now):this.elm.scrollTop=parseInt(this.now)}}),a.Drag=a.Class({current_handler:null,current_root:null,init:function(){a.$bindMethods(this)},dragAble:function(e,t){var n=(t=t||{}).handler||e;(n=a.$(n))._start_fn&&a.dnd.removeDragAble(n),t.scroll_elm=t.scroll_elm,n._kws=t,n._root=a.$(e),n._start_fn=function(e){return e.shiftKey||(a.dnd._start(n,e),a.$preventDefault(e)),!1},a.$AEV(n,"mousedown",n._start_fn)},removeDragAble:function(e){e._start_fn&&a.$REV(e,"mousedown",e._start_fn)},recalculateMarginLeft:function(){this.root_margin_left=a.$getStyle(this.current_root,"marginLeft")||0,this.root_margin_left&&(this.root_margin_left=parseInt(this.root_margin_left))},_start:function(e,t){if(!this.current_handler){this.current_handler=e;var n=this.current_root=e._root;this.last_mouse_pos=a.$mousePos(t),a.$setVisibility(n,!1),this.old_z_index=n.style.zIndex,n.style.zIndex=1e3,this.recalculateMarginLeft(),e._kws.on_start&&e._kws.on_start(t),a.$setTop(n,t.clientY),a.$setLeft(n,t.clientX),a.$setVisibility(n,!0),a.$AEV(document,"mousemove",this._move),a.$AEV(document,"mouseup",this._end),$addClass($html(),"ice_dnd_active")}},_move:function(e){var t=this.current_handler;if(!t)return!1;var n=this.current_root,r=t._kws,o=a.dnd.mouse_pos=a.$mousePos(e),i=e.clientX,c=e.clientY;if(r.move_filter){var l=r.move_filter(i,c);i=l[0],c=l[1]}if(a.$setLeft(n,i),a.$setTop(n,c),r.on_drag&&r.on_drag(i,c,e),this.last_mouse_pos=o,!1!==r.scroll_on_overflow){var s=null;if(r.scroll_elm){var u=a.$scrollTop(r.scroll_elm),d=r.scroll_elm.getBoundingClientRect();u>0&&Math.abs(o.y-d.top)<70&&(s=-6),!(u===r.scroll_elm.scrollHeight-r.scroll_elm.offsetHeight)&&Math.abs(o.y-d.bottom)<70&&(s=6)}else{var f=a.$winSize().h,m=o.y-a.$scrollTop();m<70&&(s=-6),m>=f-70&&(s=6)}this.scroll_interval&&(clearTimeout(this.scroll_interval),this.scroll_interval=null),null!=s&&(this.scroll_interval=setInterval($p((function(e,t){r.scroll_custom?r.scroll_custom(e,t):r.scroll_elm?r.scroll_elm.scrollBy(0,t):window.scrollBy(0,t)}),o,s),1))}return a.$preventDefault(e),!1},_end:function(e){$removeClass($html(),"ice_dnd_active");var t=this.current_root,n=this.current_handler;return a.$REV(document,"mousemove",this._move),a.$REV(document,"mouseup",this._end),this.scroll_interval&&(clearTimeout(this.scroll_interval),this.scroll_interval=null),n._kws.on_end&&n._kws.on_end(),this.current_handler=null,this.current_root=null,t.style.zIndex=this.old_z_index,a.$preventDefault(e),!1}}),a.dnd=a.$dnd=new a.Drag,$dnd=a.dnd,ElementStore={storage_dict:{},uuid:1,expando:"ElementStore"+(new Date).getTime(),get:function(e,t){return ElementStore.getStore(e)[t]||null},set:function(e,t,n){return ElementStore.getStore(e)[t]=n,n},has:function(e,t){return void 0!==ElementStore.getStore(e)[t]},remove:function(e,t){if(e)if(void 0!==t){var n=ElementStore.getStore(e);n[t]&&delete n[t]}else{var r=e[ElementStore.expando];r&&(delete ElementStore.storage_dict[r],e[ElementStore.expando]=null)}},getStore:function(e){var t=ElementStore.expando,n=ElementStore.storage_dict,r=e[t];return r||(n[r=e[t]=ElementStore.uuid++]={}),n[r]}},ICEDeferred=function(e,t,n,r){this.callbacks=[],this.errbacks=[],this.req=e,this.http_method=t,this.http_url=n,this.headers=r&&r.headers?r.headers:null},ICEDeferred.prototype={excCallbackSeq:function(e,t){var n=e.responseText;if(!a.generalCallback||(n=generalCallback(e,t,this)))for(;t.length>0;){var r=t.pop()(n,e);if(r)n=r;else if(!1===r)break}},callback:function(){this.excCallbackSeq(this.req,this.callbacks)},defaultErrback:function(e,t){var n=t.getResponseHeader("Content-Type"),r=n&&0==n.indexOf("application/json"),o=e.substring(0,200);if(r)try{o=JSON.parse(e).error}catch(e){}a.$strip(o)&&-1==o.indexOf("<html")&&alert("Error encountered:\n"+o)},errback:function(){if(a.generalErrorback&&a.generalErrorback(this.req,this))return;0===this.errbacks.length&&this.defaultErrback(this.req.responseText,this.req),this.excCallbackSeq(this.req,this.errbacks)},addErrback:function(e){this.errbacks.unshift(e)},addCallback:function(e){this.callbacks.unshift(e)},abort:function(){this.req.abort()},addCallbacks:function(e,t){e&&this.addCallback(e),t&&this.addErrback(t)},_onreadystatechange:function(){var e=this.req;if(4==e.readyState){var t="";try{t=e.status}catch(e){}200==t||304==t||null===e.responseText?this.callback():this.errback()}},setCSRFHeader:function(){var e=this.req,t=a.$urlparse(this.http_url);a.$defined(t.netloc)||e.setRequestHeader("X-CSRFToken",(new Date).getTime())},sendReq:function(e,t,n){!1!==t&&(t=!0),n||(n="application/x-www-form-urlencoded");var r=this.req,o=null==this.http_method?"GET":this.http_method,i=this.http_url;if(a.annotateAjaxData.length>0&&a.$map(a.annotateAjaxData,(function(t){t(e,i,o)})),"POST"==o||"PUT"==o){if(r.open(o,i,t),r.onreadystatechange=a.$bind(this._onreadystatechange,this),r.setRequestHeader("Content-Type",n),this.setCSRFHeader(),this.headers){var c=this.headers;$keys(this.headers).forEach((function(e){var t=c[e];r.setRequestHeader(e,t)}))}a.$isObject(e)?"application/json"===n?r.send(JSON.stringify(e)):r.send(a.$encode(e)):a.$defined(e)?r.send(e):r.send("")}else r.open(o,i,t),r.onreadystatechange=a.$bind(this._onreadystatechange,this),r.send(null)}},window.ICE_EXPORT_TO_SCOPE&&(a._exportToGlobalScope(ICE_EXPORT_TO_SCOPE),window.ICE=a),a._bindReady(),a.onMouseMove=function(){a.$REV(document,"mousemove",a.onMouseMove),a._has_mouse=!0},a.$AEV(document,"mousemove",a.onMouseMove)}},Q5di:function(e,t,n){"use strict";t.a={smartScheduleDomain:"ai.todoist.com",sentry:"https://e32100505867435a8bf3369f83d72769@o476415.ingest.sentry.io/5631392",datadog:"pubcf978a70542f64e5e850274b8761676d",googleAnalytics:"UA-114971719-2",apiVersion:"v8.7"}},QF5v:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("it2E"),l=n("MrOw"),s=n("7SpX"),u=n("yUE8"),d=n("Vbab");function f(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=Object(u.b)("ProjectsArchive",["ProjectList"]),h=function(){function e(){a()(this,e),this.projectsIds=[],this.render=this.render.bind(this),this.getArchived=this.getArchived.bind(this),this.showHideArchived=this.showHideArchived.bind(this),this.hideArchived=this.hideArchived.bind(this),this.archive=this.archive.bind(this),this.delete=this.delete.bind(this)}return i()(e,[{key:"render",value:function(){var e,t;$add($("projects_list_manager"),DIV({c:"controller actions controller_history",id:"projects_archived_holder"},e=A({href:"#",id:"show_archived_link","data-track":"projects|show_archived","aria-label":Object(d.a)("Load archived projects"),role:"button"},_("Archived projects")),t=A({href:"#",id:"hide_archived_link","data-track":"projects|hide_archived",style:"display:none","aria-label":Object(d.a)("Hide archived projects"),role:"button"},_("Hide Archived"))),UL({id:"projects_archived_ul",c:"items generic_left_list","aria-label":Object(d.a)("Archived projects")})),$AEV(e,"click",$p(this.getArchived,e)),$AEV(t,"click",$p(this.hideArchived,t))}},{key:"getArchived",value:function(e){var t=this;$hide(e);var n=$("projects_archived_holder"),r=$("projects_archived_ul");Indicator.addToElm(n.parentNode);var a=$requestJSON("/API/".concat(l.default.getInstance().api_version,"/projects/get_archived"));a.offline_message=!0,a.addCallback((function(a){Indicator.removeFromElm(n.parentNode),$replace(r,null),c.a.archivedFetched(a),t.projectsIds=[];var o,i=f(a);try{for(i.s();!(o=i.n()).done;){var l=o.value;t.projectsIds.push(l.id),l.indent=1,$add(r,p.ProjectList.renderItem(l,!0))}}catch(e){i.e(e)}finally{i.f()}if(0===a.length){var s;$add(r,s=LI({c:"empty"},_("No archived projects")));$fx.fadeOut(s,{duration:3e3,onComplete:function(){$remove(s),$show(e)}})}else t.showHideArchived()})),a.addErrback((function(){Indicator.removeFromElm(n.parentNode)}));var o={onSuccess:function(){a.sendReq({token:window.User.token})}};return l.default.getInstance().sync(o),!1}},{key:"showHideArchived",value:function(){var e=$("show_archived_link"),t=$("hide_archived_link");e&&($hide(e),$show(t))}},{key:"hideArchived",value:function(){var e=$("show_archived_link"),t=$("hide_archived_link");t&&($replace($("projects_archived_ul"),null),$hide(t),$show(e))}},{key:"archive",value:function(e){var t=s.a.getChildren(e,!0);t.reverse();var n,r=f(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;c.a.archive(a.json.id),Signals.sendSignal("project_archived",a.json.id),$remove(a)}}catch(e){r.e(e)}finally{r.f()}Signals.sendSignal("instant_refresh_interface"),this.hideArchived()}},{key:"unarchive",value:function(e){c.a.unarchive(e.json);var t,n=f(s.a.getChildren(e,!0));try{for(n.s();!(t=n.n()).done;){var r=t.value;$arrayRemove(this.projectsIds,r.json.id),$remove(r)}}catch(e){n.e(e)}finally{n.f()}Signals.sendSignal("project_unarchived",e.json.id);var a={onSuccess:function(){Signals.sendSignal("instant_refresh_interface")}};l.default.getInstance().sync(a,!0)}},{key:"delete",value:function(e){if(!(this.projectsIds.indexOf(e.json.id)<0)){var t,n=$("projects_archived_ul"),r=f(s.a.getChildren(e,!0));try{for(r.s();!(t=r.n()).done;){var a=t.value;$arrayRemove(this.projectsIds,a.json.id),$remove(a)}}catch(e){r.e(e)}finally{r.f()}if(0===this.projectsIds.length){var o,i=$("hide_archived_link"),c=$("show_archived_link");$hide(i),$add(n,o=LI({c:"empty"},_("No archived projects")));$fx.fadeOut(o,{duration:3e3,onComplete:function(){$remove(o),$show(c)}})}}}}]),e}();t.a=new h},QPCg:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return h}));var r=n("lSNA"),a=n.n(r),o=n("RIqP"),i=n.n(o),c=n("TYy9"),l=n.n(c),s=n("xweI"),u=n.n(s);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e[String(t)];return n&&0!==n.length?l()(u()(n,(function(e){return e.child_order})).map((function(t){return[t].concat(i()(m(e,t.id)))}))):[]}function p(e){var t={};return e.map((function(e,n){var r=null===e.parent_id?1:(t[e.parent_id]||1)+1;return t[e.id]=r,f(f({},e),{},{item_order:n+1,indent:r})}))}function h(e,t){var n;if(!e)return e;for(var r=0,a=Object.keys(t);r<a.length;r++){var o=a[r],i=e[o];if(i){var c=t[o];n||(n=f({},e)),n[c]=f(f({},i),{},{id:c}),delete n[o]}}return n||e}},QWT2:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("yUE8");function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=Object(c.b)("UtilModels",["SyncEngine"]),d=function(){function e(){a()(this,e),this.daySort=this.daySort.bind(this),this.gSortByGeneric=this.gSortByGeneric.bind(this),this.normalizeIndent=this.normalizeIndent.bind(this),this.sortByDate=$p(this.gSortByGeneric,"time"),this.sortByPriority=$p(this.gSortByGeneric,"priority"),this.sortByResponsible=$p(this.gSortByGeneric,"assigned_by_uid")}return i()(e,[{key:"getChildren",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];n&&r.push(t);var a=$index(t,e,(function(e){return e.id===t.id}));if(-1!==a){var o,i=e.slice(a+1,+e.length+1||void 0),c=l(i);try{for(c.s();!(o=c.n()).done;){var s=o.value;if(s.indent<=t.indent)break;r.push(s)}}catch(e){c.e(e)}finally{c.f()}}return r}},{key:"getParent",value:function(e,t){var n,r=[],a=l(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.id===t.id)break;r.push(o)}}catch(e){a.e(e)}finally{a.f()}r.reverse();for(var i=0,c=r;i<c.length;i++){var s=c[i];if(s.indent<t.indent)return s}return null}},{key:"daySort",value:function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:-1!==e.day_order&&-1!==t.day_order?this.gSortByGeneric("day_order",t,e):e.project_id!==t.project_id?this.gSortByGeneric("project_id",t,e):this.sortByItemOrder(e,t)}},{key:"sortByItemOrder",value:function(e,t){return e.item_order<t.item_order?-1:e.item_order===t.item_order?0:1}},{key:"gSortByGeneric",value:function(e,t,n){if(!t[e]||!n[e])return 1;var r=t[e],a=n[e];return r===a?this.sortByItemOrder(t,n):r>a?-1:1}},{key:"syncLocalModel",value:function(e,t){var n,r,a=l(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;o&&((n=t[o.id])?$update(n,o):n=o,t[o.id]=n)}}catch(e){a.e(e)}finally{a.f()}var i=!0;if(u.SyncEngine.getInstance().queueIncludesErrors()&&(i=!1),i){var c,s=l($keys(t));try{for(s.s();!(c=s.n()).done;){var d=c.value;n=t[d];var f=!1;d.indexOf&&-1!==d.indexOf("_")&&(f=!0),n.is_deleted&&(f=!0),f&&delete t[d]}}catch(e){s.e(e)}finally{s.f()}}}},{key:"normalizeIndent",value:function(e,t){e.indent>=t&&(e.indent=t),e.indent<1&&(e.indent=1)}}]),e}();window.UtilModels=new d,t.a=window.UtilModels},QYcL:function(e,t,n){e.exports=n.p+"assets/images/76e0a8c731ed258aa06959ba4fdd3a25.png"},Qi13:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("181E");function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(){function e(){var t=this;a()(this,e),this.generate=this.generate.bind(this),this.getRealId=this.getRealId.bind(this),this.getRealIds=this.getRealIds.bind(this),this.setRealIds=this.setRealIds.bind(this),this.clearOld=this.clearOld.bind(this),this.listenAll=this.listenAll.bind(this),this.waitToResolve=this.waitToResolve.bind(this),this.loadCachedData=this.loadCachedData.bind(this),this._getCurrentTempIds=this._getCurrentTempIds.bind(this),this._saveCurrentTempIds=this._saveCurrentTempIds.bind(this),this.getRealIdMapping=this.getRealIdMapping.bind(this),this._saveRealIdMapping=this._saveRealIdMapping.bind(this),this._getRealIdList=this._getRealIdList.bind(this),this._saveRealIdList=this._saveRealIdList.bind(this),this.temp_counter=(new Date).getTime(),Signals.connect("load_cached_data",(function(){t.loadCachedData()}))}return i()(e,null,[{key:"initClass",value:function(){this.prototype.listeners_all=[]}}]),i()(e,[{key:"_getCurrentTempIds",value:function(){var e=Object(c.a)("CurTempIds").get(!0);return e||(e={},this._saveCurrentTempIds(e)),e}},{key:"_saveCurrentTempIds",value:function(e){Object(c.a)("CurTempIds").set(e,!0)}},{key:"getRealIdMapping",value:function(){var e=Object(c.a)("RealIdMapping").get(!0);return e||(e={},this._saveRealIdMapping(e)),e}},{key:"_saveRealIdMapping",value:function(e){Object(c.a)("RealIdMapping").set(e,!0)}},{key:"_getRealIdList",value:function(){var e=Object(c.a)("RealIdList").get(!0);return e||(e=[],this._saveRealIdList(e)),e}},{key:"_saveRealIdList",value:function(e){Object(c.a)("RealIdList").set(e,!0)}},{key:"generate",value:function(e,t){var n="_".concat(this.temp_counter++),r=this._getCurrentTempIds();return r[n]=e,this._saveCurrentTempIds(r),n}},{key:"isTemporary",value:function(e){if($isString(e)){if(0===e.indexOf("_"))return!0;if(0===e.indexOf("$"))return!0}return!1}},{key:"getRealId",value:function(e){var t=this.getRealIdMapping()[e];return t&&t||e}},{key:"getRealIds",value:function(e){var t,n=this.getRealIdMapping(),r=[],a=l(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;r.push(n[o]||o)}}catch(e){a.e(e)}finally{a.f()}return r}},{key:"setRealIds",value:function(e){var t;if(0!==$keys(e).length){var n=this.getRealIdMapping(),r=this._getCurrentTempIds(),a=this._getRealIdList();for(var o in e)t=e[o],n[o]=t,a.push(o);for(var i in e){t=e[i];var c=r[i];if(Signals.sendSignal("resolve_temp.".concat(c),i,t),this.listeners_all.length>0){var s,u=l(this.listeners_all);try{for(u.s();!(s=u.n()).done;){(0,s.value)(i,t)}}catch(e){u.e(e)}finally{u.f()}}}for(;a.length>250;){var d=a.shift();n[d]&&delete n[d]}this._saveRealIdList(a),this._saveRealIdMapping(n)}}},{key:"clearOld",value:function(){this._saveCurrentTempIds({})}},{key:"listenAll",value:function(e){this.listeners_all.push(e)}},{key:"waitToResolve",value:function(e,t){var n=this.getRealId(e);return this.isTemporary(n)?setTimeout($p(this.waitForResolve,e,t),500):t(n),!1}},{key:"sendBridgeUpdate",value:function(){Signals.sendSignal("bridge:model_update",{tempIds:this.getRealIdMapping()})}},{key:"loadCachedData",value:function(){this.sendBridgeUpdate()}}]),e}();u.initClass(),window.TemporaryIds=new u,t.a=window.TemporaryIds},R1EP:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("J4zp"),l=n.n(c),s=n("q1tI"),u=n.n(s),d=n("17x9"),f=n.n(d),m=n("in4X"),p=n("Pxnj"),h=n("jlRT"),v=n("4eld"),b=n("nLu1"),g=n("UVeO"),y=n("Au0W"),O=n("okMy"),j=n("vV6a"),w=n("1zEf");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(){return u.a.createElement(m.b,{label:_("Click to find out about filters and how to use them.")},u.a.createElement("a",{href:w.e,rel:"noopener noreferrer",target:"_blank"},u.a.createElement(g.Q,null)))}function C(e){var t=e.isOpen,n=void 0===t||t,r=e.filter,o=void 0===r?{}:r,i=e.onCreate,c=e.onUpdate,s=e.onClose,d=void 0===o.id,f=Object(y.c)("name",o.name||""),m=Object(y.c)("query",o.query||""),g=Object(y.c)("color",o.color||p.a,Number),w=u.a.useState((function(){return Boolean(o.is_favorite)||!1})),E=l()(w,2),C=E[0],S=E[1],I=f.value.trim().length>0&&m.value.trim().length>0&&null!=g.value;return u.a.createElement(h.a.Box,{className:"edit_project_modal focus-marker-enabled-within",isOpen:n,onDismiss:s,size:"small"},u.a.createElement(h.a.Header,{title:d?_("Add filter"):_("Edit filter"),button:u.a.createElement(D,null)}),u.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),I){var t={name:f.value,query:m.value,color:g.value,is_favorite:C};d?i(k(k({},t),{},{item_order:o.item_order})):c(k({id:o.id},t)),s()}}},u.a.createElement(h.a.Body,{className:"form_fields"},u.a.createElement("div",{className:"form_field"},u.a.createElement("label",{htmlFor:"edit_filter_modal_field_name"},_("Filter name")),u.a.createElement(y.a,{id:"edit_filter_modal_field_name_hint",length:f.value.length,maxLength:j.d}),u.a.createElement("input",a()({id:"edit_filter_modal_field_name","aria-describedby":"edit_filter_modal_field_name_hint",className:"form_field_control",autoFocus:!0,maxLength:j.d},f))),u.a.createElement("div",{className:"form_field"},u.a.createElement("label",{htmlFor:"edit_filter_modal_field_query"},_("Filter query")),u.a.createElement(y.a,{id:"edit_filter_modal_field_query_hint",length:m.value.length,maxLength:1024}),u.a.createElement("input",a()({id:"edit_filter_modal_field_query","aria-describedby":"edit_filter_modal_field_query_hint",className:"form_field_control"},m))),u.a.createElement("div",{className:"form_field"},u.a.createElement("label",{htmlFor:"edit_filter_modal_field_color"},_("Filter color")),u.a.createElement(b.a,a()({id:"edit_filter_modal_field_color",className:"form_field_control"},g))),u.a.createElement("div",{className:"form_field form_field_inline"},u.a.createElement("label",null,u.a.createElement(O.a,{name:"is_favorite",checked:C,onChange:function(e){return S(e.target.checked)}}),_("Add to favorites")))),u.a.createElement(h.a.Actions,null,u.a.createElement(v.a,{className:"ist_button",onClick:s},_("Cancel")),u.a.createElement(v.a,{type:"submit",disabled:!I,className:"ist_button ist_button_red"},d?_("Add"):_("Save")))))}C.propTypes={filter:f.a.shape({id:f.a.oneOfType([f.a.number,f.a.string]),name:f.a.string,query:f.a.string,color:f.a.number,is_favorite:f.a.bool,item_order:f.a.number}),onCreate:f.a.func.isRequired,onUpdate:f.a.func.isRequired,onClose:f.a.func.isRequired,isOpen:f.a.bool};var S=C;t.a=S},R1vI:function(e,t,n){"use strict";n.d(t,"k",(function(){return b})),n.d(t,"j",(function(){return g})),n.d(t,"d",(function(){return _})),n.d(t,"f",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"h",(function(){return w})),n.d(t,"a",(function(){return E})),n.d(t,"e",(function(){return k})),n.d(t,"g",(function(){return D})),n.d(t,"i",(function(){return I})),n.d(t,"b",(function(){return T}));var r=n("RIqP"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("peh1"),l=n("duPW"),s=n.n(l),u=n("US0Z"),d=n.n(u),f=n("u57q"),m=n.n(f),p=n("vkXV");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=Object(c.createSelector)(s()("collaborators.byPID"),(function(e){return e?function(t){return!!e[t]}:function(){return!1}}));function g(e,t){return b(e)(t)}var _=Object(c.createSelector)((function(e){return e.collaborators}),(function(e){return e.user}),(function(e,t){var n=e.all,r=e.byPID,a={};for(var o in r){var c=v(v({},r[o]),{},i()({},t.id,p.c)),l=m()(c).map((function(e){return e===""+t.id?t:n[e]})).filter((function(e){return Boolean(e)}));a[o]=l}return a})),y=[];function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_(e),o=r[t]||y;return n?a()(o).sort(C(e)):o}function j(e){return e.collaborators.all}function w(e,t){var n;return e=t.tempIds[e]||e,t.user.id===e?t.user:null!==(n=j(t)[e])&&void 0!==n?n:null}function E(e){return Object(c.createSelector)(s()("collaborators.all"),s()("user"),(function(t,n){var r=v(v({},t),{},i()({},n.id,n));return d()(e,r)}))}var k=Object(c.createSelector)((function(e){return e.collaborators.all}),(function(e){return e.user}),(function(e,t){return t?v(v({},e),{},i()({},t.id,t)):e}));function D(e,t){for(var n in t.collaborators.all){var r=t.collaborators.all[n];if(r.email===e)return r}return null}function C(e){return function(t,n){return t.id===e.user.id?-1:n.id===e.user.id?1:(t=t.full_name.toLowerCase(),n=n.full_name.toLowerCase(),t.localeCompare(n))}}function S(e){return function(t,n){var r=n.collaborators.byPID[t];if(!r)return[];var a=[];for(var o in r){var i=n.collaborators.all[o];i&&r[o]===e&&a.push(i)}return a.sort(C(n)),a}}var I=S(p.d),T=S(p.c)},R395:function(e,t,n){},R7S2:function(e,t,n){},RHZr:function(e,t){var n={getCursorPosition:function(e){if(!e)return 0;if(e.selectionStart||"0"==e.selectionStart)return e.selectionStart;var t;try{t=window.getSelection().getRangeAt(0)}catch(e){return 0}var n=t.cloneRange();return n.selectNodeContents(e),n.setEnd(t.endContainer,t.endOffset),n.toString().length},placeCursor:function(e,t){if(e.proxyFocus?e.proxyFocus():e.focus(),e.setSelectionRange)e.setSelectionRange(t,t);else if(e.childNodes[0]){var n=document.createRange(),r=window.getSelection();try{n.setStart(e.childNodes[0],t),n.collapse(!0),r.removeAllRanges(),r.addRange(n)}catch(e){}}},placeCaretAtEnd:function(e){if(e.focus(),"input"!=$nodeName(e))if(void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges();try{n.addRange(t)}catch(e){}}else if(void 0!==document.body.createTextRange){var r=document.body.createTextRange();r.moveToElementText(e),r.collapse(!1),r.select()}},insertAtCursor:function(e,t,n){if(e.focus(),e.selectionStart||"0"==e.selectionStart){var r=e.selectionStart,a=e.selectionEnd;e.value=e.value.substring(0,r)+t+e.value.substring(a,e.value.length)}else{var o,i;if((o=window.getSelection()).getRangeAt&&o.rangeCount){(i=o.getRangeAt(0)).deleteContents();var c=document.createTextNode(t);i.insertNode(c),e.focus(),setTimeout((function(){try{i.setStart(c,t.length),i.collapse(!1)}catch(e){return}o.removeAllRanges(),!0===n&&e.appendChild(document.createTextNode("\xa0 ")),e.onchanged&&e.onchanged()}),5)}}},isNotWhiteSpace:function(e){if(e&&e.charCodeAt){var t=e.charCodeAt(0);if(32==t||160==t||9==t||11==t)return!1}return!0},getValue:function(e){return e.proxyGetValue?e.proxyGetValue():e.value},setValue:function(e,t){e.proxySetValue?e.proxySetValue(t):e.value=t},getCaretOffsetWithin:function(e){var t=n.createTreeWalker(e),r=window.getSelection(),a={start:0,end:0},o=!1;try{for(;t.nextNode();){if(o||t.currentNode!==r.anchorNode)o||(a.start+=t.currentNode.length);else if(o=!0,a.start+=r.anchorOffset,r.isCollapsed){a.end=a.start;break}if(!r.isCollapsed&&t.currentNode===r.focusNode){a.end+=r.focusOffset;break}r.isCollapsed||(a.end+=t.currentNode.length)}}catch(e){}return a},setCaretPositionWithin:function(e,t){var r=n.createTreeWalker(e),a=0;try{for(;r.nextNode();)if((a+=r.currentNode.length)>=t){var o=t-(a-r.currentNode.length),i=document.createRange();i.setStart(r.currentNode,o),i.collapse(!0);var c=window.getSelection();c.removeAllRanges();try{c.addRange(i)}catch(e){}break}}catch(e){}},createTreeWalker:function(e){return document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1)},getSelectedNode:function(){if(document.selection)return document.selection.createRange().parentElement();if(window.getSelection){var e=window.getSelection();if(e.rangeCount>0)return e.getRangeAt(0).startContainer.parentNode}},normalzieClipboardData:function(e){return e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=$strip(e)},getSelectedNodes:function(){if(window.getSelection){var e=window.getSelection();if(!e.isCollapsed)return this.getRangeSelectedNodes(e.getRangeAt(0))}return[]},nextNode:function(e){if(e.hasChildNodes())return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},getRangeSelectedNodes:function(e){var t=e.startContainer,n=e.endContainer;if(t==n)return[t];for(var r=[];t&&t!=n;)r.push(t=this.nextNode(t));for(t=e.startContainer;t&&t!=e.commonAncestorContainer;)r.unshift(t),t=t.parentNode;return r}};window.LibEdit=n},RPD4:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),a=n.n(r);function o(){return a.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{fill:"currentColor",d:"M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18zm0-1a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm3.9-11.4a.5.5 0 0 1 .7.8l-6 6a.5.5 0 0 1-.7 0l-2.5-2.5a.5.5 0 0 1 .7-.8l2.1 2.2L16 8.6z"}))}},RU3q:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{d:"M18 4a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h12zm0 1H6a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V6a1 1 0 00-1-1zm-4.784 5.589a.501.501 0 01.638.057l.057.07a.501.501 0 01-.057.638L12.208 13H17a.5.5 0 010 1h-4.792l1.646 1.646.057.07a.501.501 0 01-.765.638l-2.5-2.5-.057-.07a.501.501 0 01.057-.638l2.5-2.5zM8 12.5a1 1 0 110 2 1 1 0 010-2zM17 8a.5.5 0 010 1H7a.5.5 0 010-1h10z",fill:"currentColor"});function i(e){return r.createElement("svg",a({width:24,height:24},e),o)}n.p},RZq6:function(e,t,n){"use strict";n.r(t),n.d(t,"captureError",(function(){return s})),n.d(t,"captureMessageWithTrace",(function(){return u})),n.d(t,"captureBreadcrumb",(function(){return d})),n.d(t,"captureInfoLog",(function(){return f}));var r=n("3CEA"),a=n("gtzJ"),o=n("Antg"),i=n("yUE8"),c=Object(i.b)("Logger",["store","ProjectsModel"]),l=function(e){try{if(-1!==e.message.indexOf("window.User")&&-1!==e.message.indexOf("undefined"))return s(e,{tags:{where:"undefined_user_2"},extra:{store_user:c.store.getState().user,ls_user:localStorage.getItem("User"),projectCounts:c.ProjectsModel.getAll().length}}),!0}catch(e){}return!1};function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.error(e),t.extra=t.extra?t.extra:{},t.extra.error_message=e.message,l(e)){var n=r.b();return console.log(e,"\n"+"event_id: ".concat(n)),n}a.b(e,t);var o=r.b();return o}function u(e,t){try{throw new Error(e)}catch(e){s(e,t)}console.log(e)}function d(e){a.a(e)}function f(e,t){o.a.logger.info(e,t),console.log(e,t)}t.default={captureError:s,captureMessageWithTrace:u,captureBreadcrumb:d,captureInfoLog:f}},Ra23:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n("lSNA"),a=n.n(r),o=n("4qC0"),i=n.n(o);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e){return l(l({},e),{},{posted:new Date(e.posted)})},u=function(e,t){return i()(e.posted)&&(e.posted=new Date(e.posted)),i()(t.posted)&&(t.posted=new Date(t.posted)),e.posted.getTime()===t.posted.getTime()?e.id-t.id:e.posted.getTime()-t.posted.getTime()},d=function(e){var t,n={};return e.file_server_info?(n.file_server_info=e.file_server_info,t=!1):(n.file_server_info={file_name:e.file.name,file_type:e.file.type,file_size:e.file.size,upload_state:"pending"},t=!0),{file_info:n,is_buffer_obj:t}}},RhW5:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("QWT2"),a=n("Gvtx"),o=n("lDtu"),i=n("Ek05");function c(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t,n=new Date,l=new a.b,s=[],u=c(e);try{for(u.s();!(t=u.n()).done;){var d=t.value,f={};$update(f,d),l.setupByContent(d.content),"outlook"===l.type?f.content="Outlook: ".concat(l.title):"thunderbird"===l.type?f.content="Thunderbird: ".concat(l.title):l.type&&(f.content="Gmail: ".concat(l.title)),f.is_recurring=f.due.is_recurring;var m=f.due.toDate();if(f.due_date=m,f.date_string=f.due.string,o.b.is_overdue(n,m)){var p=o.b.day_diff(new Date,m);f.diff_human=i.a.humanizeDayDiff(p,m)}f.indent=1,f.item_order=1,s.push(f),l.reset()}}catch(e){u.e(e)}finally{u.f()}return s.sort(r.a.daySort),s}},Rhkm:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("q1tI"),a=n.n(r),o=n("pmBd"),i=n("4eld"),c=n("LYyr");function l(e){var t=e.type,n=e.isOpen,r=e.onClose,l=e.userPlanLimits,s=a.a.createElement(i.a,{className:"ist_button",onClick:r},_("Close")),u="COLLABORATORS"===t?a.a.createElement("div",null,a.a.createElement("a",{href:"mailto:support@todoist.com",target:"_blank",rel:"noopener noreferrer"},"support@todoist.com")):null,d=a.a.createElement(a.a.Fragment,null,function(e){return{TASKS:Object(c.a)(_n("You\u2019ve reached the limit of 1 active task per project. Consider archiving some, or creating a new project.","You\u2019ve reached the limit of {num} active tasks per project. Consider archiving some, or creating a new project.",e.current.max_tasks),{num:e.current.max_tasks}),SECTIONS:Object(c.a)(_n("You\u2019ve reached the limit of 1 active section. Consider archiving some, or creating a new project.","You\u2019ve reached the limit of {num} active sections. Consider archiving some, or creating a new project.",e.current.max_sections),{num:e.current.max_sections}),FILE_UPLOAD:Object(c.a)(_n("This file exceeds the 1MB limit. Consider uploading it to a cloud service and pasting the link.","This file exceeds the {num}MB limit. Consider uploading it to a cloud service and pasting the link.",e.current.upload_limit_mb),{num:e.current.upload_limit_mb}),PROJECTS:Object(c.a)(_n("You\u2019ve reached the limit of 1 active project. Consider archiving some you don\u2019t use.","You\u2019ve reached the limit of {num} active projects. Consider archiving some you don\u2019t use.",e.current.max_projects),{num:e.current.max_projects}),FILTERS:Object(c.a)(_n("You\u2019ve reached the limit of 1 available filter. Consider deleting some you don\u2019t use.","You\u2019ve reached the limit of {num} available filters. Consider deleting some you don\u2019t use.",e.current.max_filters),{num:e.current.max_filters}),LABELS:Object(c.a)(_n("You\u2019ve reached the limit of 1 available label. Consider deleting some you don\u2019t use.","You\u2019ve reached the limit of {num} available labels. Consider deleting some you don\u2019t use.",e.current.max_labels),{num:e.current.max_labels}),COLLABORATORS:Object(c.a)(_n("You\u2019ve reached the limit of 1 collaborator per project. Need more? Get in touch below.","You\u2019ve reached the limit of {num} collaborators per project. Need more? Get in touch below.",e.current.max_collaborators),{num:e.current.max_collaborators}),TIME_REMINDERS:Object(c.a)(_n("You\u2019ve reached the limit of 1 available reminder. Consider deleting some you don\u2019t use.","You\u2019ve reached the limit of {num} available reminders. Consider deleting some you don\u2019t use.",e.current.max_reminders_time),{num:e.current.max_reminders_time}),LOCATION_REMINDERS:Object(c.a)(_n("You\u2019ve reached the limit of 1 available location reminder. Consider deleting some you don\u2019t use.","You\u2019ve reached the limit of {num} available location reminders. Consider deleting some you don\u2019t use.",e.current.max_reminders_location),{num:e.current.max_reminders_location})}}(l)[t],u);return a.a.createElement(o.a,{isOpen:n,header:_("Limit reached"),body:d,onClose:r,action:s})}},RkX7:function(e,t,n){"use strict";n("RysO");var r=n("q1tI"),a=n.n(r),o=n("TSYQ"),i=n.n(o);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=r.createElement("path",{fill:"currentColor",d:"M18 4a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h12zM8.89 8.4L4 7.14v1.37h4.93c.05 0 .07 0 .07-.05 0-.04-.03-.06-.11-.08zM7.5 11.74c0-.3.04-.45.29-.54l5.2-1.54a.02.02 0 00.01-.02v-.43c0-.12-.06-.2-.15-.2l-.18.03-6.33.9a.39.39 0 00-.34.39v2.45c0 .22.17.36.38.32l1.1-.22a.02.02 0 00.02-.02v-1.12zm2.32 1.06a.6.6 0 00-.32.56v2.73c0 .2.2.3.36.2l2.57-1.6 1.17.81a.08.08 0 00.05.02c.04 0 .06-.02.07-.06l.55-1.92 1.43-.9a.64.64 0 00.3-.54V9.7c0-.18-.1-.27-.23-.27-.07 0-.11.02-.15.04l-5.8 3.35z"});function s(e){return r.createElement("svg",c({width:24,height:24,viewBox:"0 0 24 24"},e),l)}n.p;var u=n("gIvJ");t.a=function(e){var t=e.type,n=e.className;if(!t)return null;var r=i()("service_icon",n);return"twist"===t?a.a.createElement(s,{className:r}):a.a.createElement(u.a,{className:r})}},RnhZ:function(e,t,n){var r={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-SG":"zavE","./en-SG.js":"zavE","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="RnhZ"},RysO:function(e,t,n){},"S+H7":function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return y.a})),n.d(t,"f",(function(){return y.b})),n.d(t,"g",(function(){return y.c})),n.d(t,"h",(function(){return y.d})),n.d(t,"i",(function(){return y.e})),n.d(t,"j",(function(){return y.f})),n.d(t,"k",(function(){return y.h})),n.d(t,"l",(function(){return y.i})),n.d(t,"m",(function(){return y.j})),n.d(t,"n",(function(){return y.k})),n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return C}));var r=n("lSNA"),a=n.n(r),o=n("Bcse"),i=n.n(o),c=n("DoMW"),l=n("7GkX"),s=n.n(l),u=n("nvqi"),d=n("qRd9"),f=n("vkXV");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){switch(e){case"active":return f.c;case"invited":return f.d;default:return f.c}},v={all:{},byPID:{}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return e},g=function(e,t){var n=e.user,r=e.collaborators,o=function(e,t,n){switch(n.type){case d.a:return n.payload.collaborators||e;case u.a:var r=n.payload,o=r.collaborators,l=r.collaborator_states;if(e={},o){var s=Object(c.a)(o);e=p(p({},e),{},{all:s})}if(l){var m=l.filter((function(e){return e.user_id!==t.id})).reduce((function(e,t){var n=t.project_id,r=t.user_id,a=t.state;return e[n]||(e[n]={}),e[n][r]=h(a),e}),{});e=p(p({},e),{},{byPID:m})}return e;case u.b:var v=n.payload,b=v.temp_id_mapping,g=v.projects,y=v.collaborators,O=v.collaborator_states;if(b&&(e=function(e,t){var n=e.byPID,r=e.all;for(var a in t){var o=t[a];if(n[a]&&((n=p({},n))[o]=n[a],delete n[a]),r[a])for(var i in(r=p({},r))[o]=p(p({},r[a]),{},{id:o}),delete r[a],n)n[i][a]&&((n=p({},n))[i][o]=n[i][a],delete n[i][a])}if(e.byPID===n&&e.all===r)return e;return{byPID:n,all:r}}(e,b)),y&&y.length>0){var j=p(p({},e.all),Object(c.a)(y));e=p(p({},e),{},{all:j})}if(O&&O.length>0){var w=O.filter((function(e){return e.user_id!==t.id})).reduce((function(e,t){var n=t.project_id,r=t.user_id,a=t.state;return t.is_deleted?i()("".concat(n,".").concat(r))(e):(e[n]||(e[n]={}),e[n][r]=h(a),e)}),p({},e.byPID));e=_(e=p(p({},e),{},{byPID:w}))}return g&&g.length>0&&(e=function(e,t){if(!t||0===t.length)return e;var n=e.byPID,r=t.filter((function(e){return!e.shared||e.is_archived||e.is_deleted})).map((function(e){return e.id}));return 0===r.length?e:(n=i()(r)(n),p(p({},e),{},{byPID:n}))}(e,g)),e;case f.b:var E=n.payload,k=E.collaborator,D=E.projectId,C=e,S=C.all,I=C.byPID;S=p(p({},S),{},a()({},k.id,k));var T=p({},I[D]);return T[k.id]=f.d,I=p(p({},I),{},a()({},D,T)),{all:S,byPID:I};case f.a:var A=n.payload,x=A.collaboratorId,P=A.projectId;return e=function(e){var t=new Set,n=!1;for(var r in e.byPID)for(var a in e.byPID[r])t.add(a);var o=p({},e.all);for(var i in o)t.has(i)||(delete o[i],n=!0);return n?p(p({},e),{},{all:o}):e}(e=_(e=i()("byPID.".concat(P,".").concat(x))(e)));default:return e}}(r,n,t);return o===r?e:p(p({},e),{},{collaborators:o})};function _(e){var t=p({},e.byPID),n=!1;for(var r in t){var a=t[r];0===s()(a).length&&(delete t[r],n=!0)}return n?p(p({},e),{},{byPID:t}):e}var y=n("R1vI"),O=n("MrOw"),j=n("Qi13"),w=n("Vdij"),E=n("yUE8"),k=Object(E.b)("reducers/collaborators/actions",["userPlanLimitsSelectors"]),D=function(e,t){return function(n,r){var a,o=r(),i=Object(y.g)(t,o);if(k.userPlanLimitsSelectors.canAddCollaborators(o,e))i||(i={id:a=j.a.generate("collaborator"),email:t,full_name:t.split("@")[0]}),n({type:f.b,payload:{collaborator:i,projectId:e}}),O.default.getInstance().queueUpdate({type:"share_project",temp_id:a,args:{project_id:e,email:t}});else{var c=k.userPlanLimitsSelectors.getUserPlan(o);"teams"===c.current.plan_name?Object(w.a)({type:"COLLABORATORS",userPlanLimits:c}):"pro"===c.current.plan_name?Object(w.b)({type:"COLLABORATORS_PRO",userPlanLimits:c}):Object(w.b)({type:"COLLABORATORS_FREE",userPlanLimits:c})}}},C=function(e,t){return function(n,r){var a=r(),o=Object(y.h)(e,a);o&&(t=a.tempIds[t]||t,n({type:f.a,payload:{collaboratorId:o.id,projectId:t}}),O.default.getInstance().queueUpdate({type:"delete_collaborator",args:{project_id:t,email:o.email}}))}};t.e=b},S7gr:function(e,t,n){e.exports={container:"W_tiPBBTYBU0kXMh2ANQt"}},SMwu:function(e,t){window.FocusElm={focus:function(e,t,n,r){void 0===r&&(r=!0),parseInt(n)||(n=35);var a=$winSize().h+$scrollTop(),o=$position(e).y+e.offsetHeight;o>a&&(r?$fx.scrollToPos(o-$winSize().h+n):window.scrollTo(0,o-$winSize().h+n)),$isFunction(t)&&t()}}},SavO:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.5a8.5 8.5 0 100 17 8.5 8.5 0 000-17zM2.5 12a9.5 9.5 0 1119 0 9.5 9.5 0 01-19 0zM13 15.5a1 1 0 11-2 0 1 1 0 012 0zm-.014-7.014A.987.987 0 0012 7.5h-.027l-.028.002a.987.987 0 00-.93 1.04l.236 4.25c.053.944 1.445.944 1.498 0l.236-4.25.001-.028v-.027z",fill:"currentColor"});function i(e){return r.createElement("svg",a({width:24,height:24,fill:"none"},e),o)}n.p},SgJ6:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n("lSNA"),a=n.n(r),o=n("duPW"),i=n.n(o),c=n("qRd9"),l=n("nvqi");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){var t=$queryArgument("theme");if(t)try{return parseInt(t)}catch(e){}var n=i()("settings.theme",e);return 0===n||n?n:i()("user.theme",e)}function f(e){var t;return(null==e||null===(t=e.settings)||void 0===t?void 0:t.completed_sound_desktop)||!1}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:var n=t.payload["settings.theme"],r=t.payload.settings;return 0===n||n?u(u({},r),{},{theme:n}):r||e;case l.a:var a=t.payload.user_settings;return a?(e&&e.theme&&(a.theme=e.theme),a):e;case l.b:var o=t.payload.user_settings;return o?u(u({},e),o):e}return e}},SoKn:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("3AAN");function a(e,t){var n=e.viewOptions;switch(t.view){case"today":return null==n?void 0:n.today;case"label":var a,o,i=Object(r.g)(t.labelName,e);return null!==(a=null==n||null===(o=n.labels)||void 0===o?void 0:o[null==i?void 0:i.id])&&void 0!==a?a:null;case"project":var c,l;return null!==(c=null==n||null===(l=n.projects)||void 0===l?void 0:l[t.projectId])&&void 0!==c?c:null;case"filter":var s,u;return null!==(s=null==n||null===(u=n.filters)||void 0===u?void 0:u[t.filterId])&&void 0!==s?s:null;default:return null}}},SpJK:function(e,t,n){},T5Rr:function(e,t,n){"use strict";n.d(t,"g",(function(){return d})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u}));var r=n("q1tI"),a=n("/gRr"),o=["a","\u0444"],i=["A","\u0424"],c=["s","\u044b","\u05d3"],l=["m","M","\u044c","\u042c"],s=["h"],u=["V","\u041c"];var d=function(e,t){Object(r.useEffect)((function(){function n(n){var r=Object(a.a)(n);r&&function(e){if(e instanceof Element){var t=(e.nodeName||"undefined").toLowerCase();if("textarea"===t||"input"===t||"select"===t||"textbox"===e.getAttribute("role"))return!1}return!0}(n.target)&&e.includes(r)&&function(e){return!e.metaKey&&!e.ctrlKey}(n)&&(function(e){return o.includes(e)||i.includes(e)}(r)&&n.preventDefault(),t(n))}return document.addEventListener("keypress",n),function(){document.removeEventListener("keypress",n)}}),[e,t])}},TLm1:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c={waiting:1,reordering:2},l=function(){function e(){a()(this,e),this.set=this.set.bind(this),this.get=this.get.bind(this),this.DragMode=c,this.model_data={drag_and_drop_mode:c.waiting}}return i()(e,[{key:"set",value:function(e,t){this.model_data[e]=t}},{key:"get",value:function(e){return this.model_data[e]}}]),e}();t.a=new l},TPQe:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("q1tI"),a=n.n(r),o=n("crsb"),i=n("17x9"),c=n.n(i),l=n("Vbab"),s=n("xDOP"),u=n.n(s);function d(e){var t=e.actionName,n=e.sequences;function r(e){return e.split("+").length>1}function i(e){return e.split("+").map((function(e){return c(e)}))}function c(e){return a.a.createElement(o.a,{key:"keyboard-shortcut-".concat(t.toLowerCase().replace("_","-"),"-").concat(e),className:u.a.reactist_keyboard_shortcut},e)}function s(e){if(e.split(" ").length>1){var t=e.split(" ");return t.map((function(e,n){return a.a.createElement(a.a.Fragment,{key:"sequence-container-".concat(n)},r(e)?i(e):c(e),n!==t.length-1?a.a.createElement("span",{"aria-hidden":!0},Object(l.a)("then")):null)}))}return r(e)?i(e):c(e)}return n.length>1?a.a.createElement(a.a.Fragment,null,n.map((function(e,t){var r=e.sequence;return a.a.createElement("span",{key:"keyboard-shortcut-".concat(r.toLowerCase().replace("_","-"),"-or-").concat(t)},s(r),t!==n.length-1?Object(l.a)("or"):null)}))):a.a.createElement(a.a.Fragment,null,n.map((function(e){return s(e.sequence)})))}d.propTypes={sequences:c.a.array.isRequired}},TQFH:function(e,t,n){"use strict";n.d(t,"a",(function(){return r.b})),n.d(t,"b",(function(){return r.c})),n.d(t,"c",(function(){return r.d})),n.d(t,"d",(function(){return r.e})),n.d(t,"e",(function(){return r.f})),n.d(t,"f",(function(){return r.i})),n.d(t,"g",(function(){return r.k})),n.d(t,"h",(function(){return r.l})),n.d(t,"j",(function(){return r.q})),n.d(t,"i",(function(){return r.o})),n.d(t,"o",(function(){return r.r})),n.d(t,"p",(function(){return r.s})),n.d(t,"q",(function(){return r.t})),n.d(t,"r",(function(){return r.u})),n.d(t,"s",(function(){return r.v})),n.d(t,"t",(function(){return r.w})),n.d(t,"H",(function(){return r.y})),n.d(t,"J",(function(){return r.A})),n.d(t,"K",(function(){return r.B})),n.d(t,"L",(function(){return r.C})),n.d(t,"M",(function(){return r.D})),n.d(t,"N",(function(){return r.E})),n.d(t,"O",(function(){return r.F})),n.d(t,"P",(function(){return r.G})),n.d(t,"Q",(function(){return r.H})),n.d(t,"I",(function(){return r.z})),n.d(t,"u",(function(){return a.b})),n.d(t,"v",(function(){return a.c})),n.d(t,"w",(function(){return a.d})),n.d(t,"y",(function(){return a.f})),n.d(t,"z",(function(){return a.g})),n.d(t,"B",(function(){return a.i})),n.d(t,"C",(function(){return a.j})),n.d(t,"E",(function(){return a.l})),n.d(t,"F",(function(){return a.m})),n.d(t,"G",(function(){return a.n})),n.d(t,"A",(function(){return a.h})),n.d(t,"x",(function(){return a.e})),n.d(t,"D",(function(){return a.k})),n.d(t,"m",(function(){return o.b})),n.d(t,"n",(function(){return o.d})),n.d(t,"S",(function(){return o.e})),n.d(t,"k",(function(){return o.a})),n.d(t,"R",(function(){return ae}));var r=n("Bl08"),a=n("k0om"),o=n("VKKv"),i=n("RIqP"),c=n.n(i),l=n("J4zp"),s=n.n(l),u=n("lSNA"),d=n.n(u),f=n("9UKM"),m=n.n(f),p=n("DoMW"),h=n("P/G1"),v=n.n(h),b=n("/0g7"),g=n("7GkX"),_=n.n(g),y=n("b3vA"),O=n.n(y),j=n("JoEE"),w=n.n(j),E=n("uS8r"),k=n.n(E),D=n("k08V"),C=n.n(D),S=n("US0Z"),I=n.n(S),T=n("DwX5"),A=n.n(T),x=n("qOpA"),P=n.n(x),R=n("Bcse"),N=n.n(R),L=n("m/ev"),M=n.n(L),F=n("hxO4"),z=n.n(F),B=n("VXWU"),V=n.n(B),$=n("ANjH"),H=n("uNXK"),U=n("3/82"),q=n("4PH6"),G=n("qRd9"),W=n("gVGk"),K=n("nvqi"),Y=n("p3jf"),J=n("Ra23"),Q=n("RZq6"),Z=n("Qi13");function X(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.a:var n=t.payload.items;return n?O()(o.b,n):e;case r.a:var a=t.payload;return ne(ne({},e),{},d()({},a.id,a));case H.a:return t.payload.items?ne({},t.payload.items):e;case W.b:var i=t.payload,c=i.oldName,l=i.newName,s=Object.keys(e).filter((function(t){return e[t].labels.includes(c)}));if(0===s.length)return e;var u=s.reduce((function(t,n){var r=e[n],a=r.labels.map((function(e){return e===c?l:e}));return t[n]=ne(ne({},r),{},{labels:a}),t}),{});return ne(ne({},e),u);case W.a:var f=t.payload,m=f.name,p=f.removeFromTasks,h=void 0===p||p;if(!h)return e;var v=Object.keys(e).filter((function(t){return e[t].labels.includes(m)}));if(0===v.length)return e;var b=v.reduce((function(t,n){var r=e[n],a=r.labels.filter((function(e){return e!==m}));return t[n]=ne(ne({},r),{},{labels:a}),t}),{});return ne(ne({},e),b);default:return e}},ae=function(e,t){switch(t.type){case K.a:var n=t.payload.items||[];return n=Object(p.a)(n.map(o.b)),ne(ne({},e),{},{items:n});case K.b:var i=t.payload,l=i.day_orders,u=i.items,f=i.temp_id_mapping,h=i.notes,g=i.reminders;u&&(u=u.map(o.b)),h&&(h=h.map(J.a));var y=ne({},e);if(f&&(y.items=Object(U.f)(y.items,f)),l){var j=!1;m()(l).forEach((function(e){var t=s()(e,2),n=t[0],r=t[1],a=y.items[n];a&&r!==a.day_order&&(j=!0,y.items[n]=ne(ne({},a),{},{day_order:r}))})),j&&(y.items=ne({},y.items))}if(!u||0===u.length)return y;y.items=ne(ne({},y.items),Object(p.a)(u)),y=function(e,t){try{var n=e.undo;if(!n)return e;var a=t.temp_id_mapping;switch(n.type){case r.e:var o=ne({},n.prevState);o=oe("items",o,t,["checked","in_history"]),o=oe("reminders",o,t);var i=ne(ne({},n),{},{prevState:o});return n.type===r.e&&(i.id=a[i.id]||i.id),ne(ne({},e),{},{undo:i});case r.q:var c=n.idToDue;return c=w()((function(e){return a[e]||e}),c),ne(ne({},e),{},{undo:ne(ne({},n),{},{idToDue:c})});case r.i:var l=n.moveTo,s=n.orders;return l&&(l=ie(["id","parent_id","project_id"],l,a)),s&&(s=s.map((function(e){return ie(["id","child_order"],e,a)}))),ne(ne({},e),{},{undo:ne(ne({},n),{},{moveTo:l,orders:s})});case r.d:var u=a[n.id]||n.id;return ne(ne({},e),{},{undo:ne(ne({},n),{},{id:u})});default:return e}}catch(t){return Q.default.captureError(t),e}}(y,{temp_id_mapping:f,items:u,reminders:g});var E=u.reduce((function(e,t){if(!t.is_deleted&&!t.checked)return e;var n,r,o=[t].concat(c()(Object(a.g)(t.id,y))).map((function(e){return e.id}));t.is_deleted?(n=e.deletedIds).push.apply(n,c()(o)):(r=e.completedIds).push.apply(r,c()(o));return e}),{deletedIds:[],completedIds:[]}),D=Object(o.c)(E.deletedIds,y);y=Object($.d)(Object(U.e)("items",E.deletedIds),Object(U.e)("notes",D.notes),Object(U.e)("reminders",D.reminders))(y);var S=Object(o.c)(E.completedIds,y);y=Object($.d)(Object(U.e)("items",E.completedIds),Object(U.e)("reminders",S.reminders))(y);var T=Object.keys(Z.a.getRealIdMapping()).filter((function(e){return Boolean(y.items[e])}));return T.length>0&&(y=Object(U.e)("items",T)(y)),y;case r.p:var x=t.payload,R=Object($.d)(O()((function(e){return ne(ne({},e),{},{due:x[e.id]})})),P()(_()(x)))(e.items),L=ne(ne({},e),{},{items:ne(ne({},e.items),R)}),F=Object($.d)(O()((function(e){return e.due})),P()(_()(x)))(e.items);return L=Object(q.e)({type:r.q,idToDue:F},L);case r.q:var B=e.undo.idToDue,H=Object($.d)(O()((function(e){return ne(ne({},e),{},{due:B[e.id]})})),P()(_()(B)))(e.items);return ne(ne({},e),{},{items:ne(ne({},e.items),H),undo:null});case r.b:var G=t.payload,W=G.id,ee=G.force_history,te=G.date_completed,re=e.items[W],ae=Object(a.g)(W,e),le=[re].concat(c()(ae)),se=le.map((function(e){return e.id})),ue=Object(o.c)(se,e).reminders;if(e=Object(q.e)({type:r.e,id:W,prevState:{items:Object(b.a)(le),reminders:P()(ue,e.reminders)},force_history:ee},e),ee||null===re.parent_id)e=Object($.d)(Object(U.e)("items",se),Object(U.e)("reminders",ue))(e);else{var de=Object($.d)(b.a,k()((function(e){return ne(ne({},e),{},{checked:1,date_completed:te})})))(le);e=ne(ne({},e),{},{items:ne(ne({},e.items),de)})}return e;case r.e:var fe=e.undo.prevState;return ne(ne({},e),{},{items:ne(ne({},e.items),fe.items),reminders:ne(ne({},e.reminders),fe.reminders),undo:null});case r.c:var me=t.payload,pe=me.id,he=me.nextRecurrence,ve=e.items;e=Object(q.e)({type:r.d,id:pe,due:he,duePrev:ve[pe].due},e);var be=ne(ne({},ve[pe]),{},{due:he});return ne(ne({},e),{},{items:ne(ne({},ve),{},d()({},pe,be))});case r.d:var ge=e.undo,_e=ge.id,ye=ge.duePrev,Oe=ne(ne({},e.items[_e]),{},{due:ye});return ne(ne({},e),{},{items:ne(ne({},e.items),{},d()({},_e,Oe)),undo:null});case r.l:var je=t.payload,we=je.id,Ee=je.completedItems||[e.items[we]].concat(c()(Object(a.a)(we,e))),ke=V()("project_id")(e.items),De=V()("section_id")(e.items),Ce=V()("parent_id")(e.items),Se=Object($.d)(b.a,k()((function(e){var t;t=e.parent_id?Ce[e.parent_id]:e.section_id?De[e.section_id]:ke[e.project_id];var n=Math.max.apply(Math,c()((t||[]).map((function(e){var t=e.child_order;return void 0===t?0:t})))),r=Math.max(n,(t||[]).length);return ne(ne({},e),{},{checked:0,date_completed:null,in_history:0,child_order:r+1})})),A()((function(e){return e.checked})))(Ee);if(0===v()(Se).length)return e;var Ie=ne(ne({},e.items),Se),Te=e.reminders,Ae=Object($.d)(O()(M()("lprocessed")),I()((function(e){return Se[e.item_id]&&e.lprocessed})))(Te);return v()(Ae).length>0&&(Te=ne(ne({},Te),Ae)),ne(ne({},e),{},{items:Ie,reminders:Te});case r.f:var xe=t.payload.ids,Pe=Object($.d)(A()(Boolean),C.a,k()((function(t){return[e.items[t]].concat(c()(Object(a.g)(t,e)))})))(xe).map((function(e){return e.id})),Re=Object(o.c)(Pe,e),Ne=Re.notes,Le=Re.reminders;return e=Object($.d)(Object(U.e)("items",Pe),Object(U.e)("notes",Ne),Object(U.e)("reminders",Le))(e);case r.j:var Me,Fe=t.payload,ze=Fe.ids,Be=Fe.destPID,Ve=Object(q.e)({type:r.k,prevState:{items:P()(ze,e.items)},destProject:e.projects[Be]},e),$e=Object(a.i)({project_id:Be,section_id:null},e),He=X(ze);try{for(He.s();!(Me=He.n()).done;){var Ue=Me.value;$e++,(Ve=ce({id:Ue,project_id:Be},Ve)).items[Ue].child_order=$e}}catch(e){He.e(e)}finally{He.f()}return Ve;case r.h:var qe=t.payload,Ge=qe.moveTo,We=qe.orders,Ke=qe.allowUndo,Ye=ne({},e);return Ge&&(Ye=ce(Ge,e)),We&&(Ye.items=z()(Ye.items,Object(p.a)(We))),Ke&&(Ye=Object(q.e)({type:r.i,moveTo:Ge?P()(["id","parent_id","section_id","project_id"],e.items[Ge.id]):null,destProject:Ge&&Ge.project_id?e.projects[Ge.project_id]:null,orders:We?We.map((function(t){var n=t.id;return P()(["id","child_order"],e.items[n])})):null},Ye)),Ye;case r.i:var Je=t.payload,Qe=Je.moveTo,Ze=Je.orders,Xe=ne({},e);return Qe&&(Xe=ce(Qe,e)),Ze&&(Xe.items=z()(Xe.items,Object(p.a)(Ze))),Xe.undo=null,Xe;case r.g:return ne(ne(ne({},e),t.payload.state),{},{mapping:e.mapping});case r.m:var et=t.payload,tt=et.id,nt=et.due,rt=e.items[tt];if(!rt)return e;if(nt&&rt.due&&(e=function(e,t){var n=t.reminders,r=v()(n).filter((function(t){return t.item_id===e&&t.lprocessed}));return 0===r.length?t:(r=Object($.d)(p.a,k()(N()("lprocessed")))(r),n=ne(ne({},n),r),ne(ne({},t),{},{reminders:n}))}(rt.id,e)),null===nt&&rt.due){var at=Object(Y.b)(rt.id,e).map((function(e){return e.id}));if(at.length>0){var ot=ne({},e.reminders);at.forEach((function(e){return delete ot[e]})),e=ne(ne({},e),{},{reminders:ot})}}return rt=ne(ne({},rt),t.payload),ne(ne({},e),{},{items:ne(ne({},e.items),{},d()({},tt,rt))});case r.n:var it=t.payload,ct=it.orders,lt=it.withUndo,st=ne(ne({},e),{},{items:ne({},e.items)});if(_()(ct).forEach((function(e){var t=ct[e];st.items[e]=ne(ne({},st.items[e]),{},{day_order:t})})),lt){var ut={};_()(ct).forEach((function(t){ut[t]=e.items[t].day_order})),st=Object(q.e)({type:r.o,orders:ut},st)}return st;case r.o:var dt=e.undo.orders,ft=ne(ne({},e),{},{items:ne({},e.items),undo:null});return _()(dt).forEach((function(e){var t=dt[e];ft.items[e]=ne(ne({},ft.items[e]),{},{day_order:t})})),ft;default:return e}};function oe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=n.temp_id_mapping;if(!a&&!n[e])return t;var o=Object(U.f)(t[e],a),i=Object(p.a)(n[e]);return o=O()((function(e){return i[e.id]?ne(ne({},e),N()(r,i[e.id])):e}))(o),ne(ne({},t),{},d()({},e,o))}function ie(e,t,n){var r=ne({},t),a=!1;return e.forEach((function(e){var o=r[e];if(Object.prototype.hasOwnProperty.call(t,e)){var i=n[o];i&&o!==i&&(a=!0,r[e]=i)}})),a?r:t}function ce(e,t){var n=t.items,r=t.sections,o=e.id,i=e.parent_id,c=void 0===i?null:i,l=e.section_id,s=void 0===l?null:l,u=e.project_id,f=void 0===u?null:u;if(c)s=n[c].section_id,f=n[c].project_id;else if(s)f=r[s].project_id;else if(!f)return t;var m=ne(ne({},n[o]),{},{parent_id:c,section_id:s,project_id:f}),h=Object($.d)(p.a,k()((function(e){return ne(ne({},e),{},{section_id:s,project_id:f})})))(Object(a.g)(o,t));return ne(ne({},t),{},{items:ne(ne({},n),{},d()({},o,m),h)})}t.l=re},TTkg:function(e,t,n){"use strict";function r(){return document.getElementById("content")}n.d(t,"a",(function(){return r}))},Tc49:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return _}));var r=n("pVnL"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("QILm"),l=n.n(c),s=n("q1tI"),u=n.n(s),d=n("TSYQ"),f=n.n(d),m=n("dE+u"),p=n("ck76");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var v=u.a.forwardRef((function(e,t){var n=e.text,r=e.linkTo,o=e.icon,c=e.shortcut,s=e.className,d=l()(e,["text","linkTo","icon","shortcut","className"]),v=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({role:"menuitem",tabIndex:0,ref:t,onKeyDown:Object(p.a)(d.onClick),className:f()("menu_item","icon_menu_item",s)},d),b=u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"icon_menu_item__icon","aria-hidden":!0},o),u.a.createElement("div",{className:"icon_menu_item__content"},n),u.a.createElement("div",{className:"icon_menu_item__shortcut","aria-hidden":!0},c));return r?u.a.createElement(m.b,a()({to:r},v),b):u.a.createElement("li",v,b)})),b=n("17x9");function g(e){var t=e.children,n=e.className,r=l()(e,["children","className"]);return u.a.createElement("ul",a()({role:"menu",className:f()("menu_list",n)},r),t)}function _(e){var t=e.fullWidth,n=void 0!==t&&t;return u.a.createElement("li",{className:f()("menu_separator",{"menu_separator--full_width":n}),"aria-hidden":!0})}n.n(b).a.node.isRequired},TcCo:function(e,t,n){"use strict";n.d(t,"b",(function(){return r.a})),n.d(t,"a",(function(){return d}));var r=n("9l1k"),a=n("q1tI"),o=n.n(a),i=n("TSYQ"),c=n.n(i),l=n("17x9"),s=n.n(l);function u(e){var t=e.size,n=void 0===t?"small":t,r=e.className;return o.a.createElement("div",{className:c()("spinner spinner--".concat(n),r)},o.a.createElement("div",{className:"bounce1"}),o.a.createElement("div",{className:"bounce2"}),o.a.createElement("div",{className:"bounce3"}))}u.propTypes={size:s.a.oneOf(["small"])};var d=u},UBzo:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M5 5h14v14H5z"}),r.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M8.5 15.5c0 .32.26.58.58.58h.59v2.04a.87.87 0 101.75 0v-2.04h1.16v2.04a.87.87 0 101.75 0v-2.04h.59c.32 0 .58-.26.58-.58V9.67h-7v5.83zM7.04 9.67a.87.87 0 00-.87.87v4.09a.87.87 0 101.75 0v-4.09a.87.87 0 00-.88-.87zm9.92 0a.87.87 0 00-.88.87v4.09a.87.87 0 101.75 0v-4.09a.87.87 0 00-.87-.87zm-2.9-3.41l.76-.76a.29.29 0 000-.41.29.29 0 00-.42 0l-.86.86A3.4 3.4 0 0012 5.58c-.56 0-1.08.14-1.55.37l-.87-.86a.29.29 0 00-.41 0 .29.29 0 000 .41l.76.77A3.49 3.49 0 008.5 9.08h7a3.48 3.48 0 00-1.44-2.82zm-3.23 1.66h-.58v-.59h.58v.59zm2.92 0h-.58v-.59h.58v.59z"}));function i(e){return r.createElement("svg",a({width:24,height:24},e),o)}n.p},UCf1:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("Q+Wq"),l=n("rbFA"),s=n("L8gx"),u=n("it2E"),d=n("tChx"),f=n("hwkv"),m=n("NZFV"),p=n("oHMr"),h=n("VNU/"),v=n("q1tI"),b=n.n(v),g=n("i8i4"),y=n.n(g),O=n("p8KB"),j=n("/7zm");function w(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(){function e(){a()(this,e),this.refresh=this.refresh.bind(this),this.show=this.show.bind(this),this.renderView=this.renderView.bind(this),this.switchTab=this.switchTab.bind(this),this.renderProjectTabBody=this.renderProjectTabBody.bind(this),this.renderCollaboratorSelector=this.renderCollaboratorSelector.bind(this),this.renderCollaboratorTabBody=this.renderCollaboratorTabBody.bind(this),this.renderUserRow=this.renderUserRow.bind(this),this._renderAdder=this._renderAdder.bind(this),this.render_intro_text=this.render_intro_text.bind(this),this._checkEmpty=this._checkEmpty.bind(this),this.promoCheck=this.promoCheck.bind(this),this._promoShow=this._promoShow.bind(this),this.promoRemove=this.promoRemove.bind(this),this.holder=null,this.view_data=null,this.current_project=null,this.current_tab=null,this.selected_collaborators=[],Signals.connect("collaborators_states_updated",this.refresh),Signals.connect("show_sharing_manager",this.show)}return i()(e,[{key:"refresh",value:function(){if(this.current_project&&this.holder){if(""!==this.adder_input.value)return void setTimeout(this.refresh,500);this.renderView(this.current_project)}}},{key:"show",value:function(e){var t=this;this.holder=DIV({c:"sharing_manager"}),this.view_data=DIV(),this.current_tab="tab_collaborator",$add(this.holder,this.view_data),$add(this.view_data,Indicator.cssSpinner()),GB_showHTML(_("Share options"),this.holder,400,400,{callback_fn:function(){IstComplete.hide(),t.current_project=null,t.holder=null},close_validator_fn:function(){return t.empty_state_holder&&(y.a.unmountComponentAtNode(t.empty_state_holder),t.empty_state_holder=null),!0}});var n=u.a.get(e);return n.team_inbox&&$addClass(this.holder,"team_inbox_view"),n.inbox_project?(alert(_("It's not possible to share the inbox project. Please share a regular project."),GB_hide),!1):(this.current_project=n,this.renderView(),!1)}},{key:"renderView",value:function(){var e=this;if(!this.current_project||!this.current_tab)throw new Error("State @current_project, @current_tab must be set beforing rendering");var t=UL({c:"tab_nav"}),n=LI({"data-track":"share_project|collaborators"},_("Collaborators")),r=LI({"data-track":"share_project|invite_from_project"},_("Invite From Project"));$AEV(n,"click",(function(){e.switchTab("tab_collaborator")})),$AEV(r,"click",(function(){e.switchTab("tab_project")})),$add(t,n,r),"tab_collaborator"===this.current_tab?($addClass(n,"active"),this.renderCollaboratorTabBody()):($addClass(r,"active"),this.renderProjectTabBody()),0===u.a.getAll().filter((function(t){return f.a.isProjectShared(t.id)&&e.current_project.id!==t.id})).length&&$addClass(t,"hidden");var a=DIV(t,this.tab_body);return $swap(this.view_data,a),this.view_data=a,this.adder_input.focus()}},{key:"switchTab",value:function(e){this.current_tab=e,this.renderView()}},{key:"renderProjectTabBody",value:function(){var e=this,t=u.a.getAll().filter((function(t){return f.a.isProjectShared(t.id)&&e.current_project.id!==t.id}));if(0!==t.length){var n,r=UL({c:"projects_list"}),a=w(t);try{var o=function(){var t=n.value,a=void 0,o=t.name.replace(/\*\s*/,"");o=s.a.formatSimple(o,{only_text:!0,as_html:!1}),a=0!==t.id?d.a.createColor(t):SPAN({c:"blank_color"});var i=LI(a,SPAN({c:"project_name"},o));!function(t){$AEV(i,"click",(function(){var n=e.renderCollaboratorSelector(t);return $swap(e.tab_body,n),e.tab_body=n}))}(t),$add(r,i)};for(a.s();!(n=a.n()).done;)o()}catch(e){a.e(e)}finally{a.f()}this.tab_body=r}else this.tab_body=DIV({c:"blank_screen"},_("You have no other shared projects."))}},{key:"renderCollaboratorSelector",value:function(e){var t,n,r,a=this,o=DIV({c:"collaborator_selector"}),i=e.name.replace(/\*\s*/,"");i=s.a.formatSimple(i,{only_text:!0,as_html:!1}),n=0!==e.id?d.a.createColor(e):SPAN({c:"blank_color"});var l=DIV({c:"back_to_list_link"},t=svgs.get("sm1/caret.svg"),SPAN({c:"project_name"},n,i));$AEV(t,"click",(function(){a.switchTab("tab_project")})),$add(o,l);var u,m=UL({c:"collaborator_list selectable"}),p=[],v=function(){var e,t=[],n=w(f.a.getInvitedUsers(a.current_project.id));try{for(n.s();!(e=n.n()).done;)r=e.value,t.push(r.id)}catch(e){n.e(e)}finally{n.f()}return t}(),b=function(){var e,t=[],n=w(f.a.getActiveUsers(a.current_project.id));try{for(n.s();!(e=n.n()).done;)r=e.value,t.push(r.id)}catch(e){n.e(e)}finally{n.f()}return t}(),g=w(f.a.getAll(e.id));try{for(g.s();!(u=g.n()).done;){var y=u.value;if(y.id!==window.User.id){var O=c.a.renderAvatar(y,"small",h.a.theme),j=SPAN({c:"user_info"},B(y.full_name));v.includes(y.id)&&$add(j,SPAN({c:"status pending"},_("Pending"))),b.includes(y.id)&&$add(j,SPAN({c:"status pending"},_("Collaborator"))),$add(j,BR(),y.email);var E=SPAN({c:"check_box"},svgs.get("sm1/check_mark_big.svg")),k=LI({c:"collaborator_list_item"},E,O,j);k.collaborator=y,v.includes(y.id)||b.includes(y.id)?$addClass(k,"is_unselectable"):(p.push(k),function(e){$AEV(e,"click",(function(){$hasClass(e,"is_selected")?$removeClass(e,"is_selected"):$addClass(e,"is_selected"),S()}))}(k)),$add(m,k)}}}catch(e){g.e(e)}finally{g.f()}if($add(o,m),p.length>0){var D=function(){return p.filter((function(e){return $hasClass(e,"is_selected")})).length===p.length},C=LI({c:"batch_selector"},SPAN({c:"check_box"},svgs.get("sm1/check_mark_big.svg")),P({c:"select_all"},_("Select All")));$AEV(C,"click",(function(){var e;if(D()){var t,n=w(p);try{for(n.s();!(t=n.n()).done;)e=t.value,$removeClass(e,"is_selected")}catch(e){n.e(e)}finally{n.f()}}else{var r,a=w(p);try{for(a.s();!(r=a.n()).done;)e=r.value,$addClass(e,"is_selected")}catch(e){a.e(e)}finally{a.f()}}S()}));var S=function(){D()?$addClass(C,"has_all_selected"):$removeClass(C,"has_all_selected")};$addToTop(m,C);var I=IstButton.createButton(_("Invite"),null,null,{"data-track":"share_project|collaborators_invite"});$addClass(I,"ist_button_red"),$AEV(I,"click",(function(){var e,t=w($$(".collaborator_list_item.is_selected"));try{for(t.s();!(e=t.n()).done;){var n=e.value;f.a.addInvite(a.current_project.id,n.collaborator.email)}}catch(e){t.e(e)}finally{t.f()}return a.switchTab("tab_collaborator")})),$add(o,I)}return o}},{key:"renderCollaboratorTabBody",value:function(){var e;this.tab_body=DIV({c:"collaborator_tab_body"});var t=f.a.getActiveUsers(this.current_project.id),n=f.a.getInvitedUsers(this.current_project.id);if(0===t.length&&0===n.length){var r=this.render_intro_text();return e=this._renderAdder(),void $add(this.tab_body,e,r)}var a,o=UL({c:"collaborator_list"}),i=w(this._sort(n));try{for(i.s();!(a=i.n()).done;){var c=a.value,l={};$update(l,c),l.state="pending",$add(o,this.renderUserRow(l))}}catch(e){i.e(e)}finally{i.f()}$add(o,this.renderUserRow(window.User));var s,u=w(this._sort(t));try{for(u.s();!(s=u.n()).done;){var d=s.value;d.id!==window.User.id&&$add(o,this.renderUserRow(d))}}catch(e){u.e(e)}finally{u.f()}e=this._renderAdder(),$add(this.tab_body,e,o)}},{key:"renderUserRow",value:function(e){var t,n=this,r=LI({c:"collaborator_list_item"}),a=SPAN({c:"user_info"});$ATT(r,c.a.renderAvatar(e,"small",h.a.theme)),$ATT(r,a);var o,i,l=e.full_name||e.user_full_name;(e.id===window.User.id&&(l=_x("collaborator_list","Me")),l?$add(a,SPAN(t=B(l),BR(),e.email)):$add(a,SPAN(t=B(e.email))),"pending"===e.state&&$add(t,SPAN({c:"status pending"},_("Pending"))),e.id===window.User.id||this.current_project.team_inbox)||($add(r,o=A({href:"#",c:"delete"},svgs.get("sm1/trash.svg"))),IstTooltip.showSimpleText(o,_("Remove collaborator")),$AEV(o,"click",(function(){return Object(j.b)({message:_('Are you sure you want to remove "%s"?').replace("%s",l||e.email),confirmLabel:_("OK"),onConfirm:function(){$remove(r),f.a.deleteFromProject(n.current_project.id,e)}}),!1})));e.id!==window.User.id||this.current_project.team_inbox||($add(r,i=A({href:"#",c:"leave_channel"},svgs.get("sm1/leave.svg"))),IstTooltip.showSimpleText(i,_("Leave this project")),$AEV(i,"click",(function(){var e=_("Are you sure you want to leave this project?")+" "+_("This will delete it from your account.");return Object(j.b)({message:e,confirmLabel:_("OK"),onConfirm:function(){f.a.deleteFromProject(n.current_project.id,window.User),u.a.deleteMany([n.current_project.id]),GB_hide()}}),!1})));return r}},{key:"_renderAdder",value:function(){var e,t,n=this,r=IstButton.createButton(_("Invite"),null,null,{role:"button","data-track":"share_project|invite_from_project_invite"});$addClass(r,"ist_button_red"),this.adder_input=e=INPUT({type:"text",placeholder:_("Email or Name"),c:"input_email text_box"});var a=DIV({c:"invite_adder"},e,r),o=function(){var r=e.value;-1!==(r=$trim(r)).indexOf(" ")&&-1===r.indexOf("<")&&(r=r.replace(/\s+/g,","));var a,o=w(r.split(/[,;]/));try{for(o.s();!(a=o.n()).done;){t=a.value;var i=void 0;if(0!==(t=$trim(t)).length){if(-1===t.indexOf("@"))return alert(_("Email isn't valid")+": "+$escape(t)),!1;var c,s=f.a.getAll(n.current_project.id),u=w(s);try{for(u.s();!(c=u.n()).done;){if(c.value.email===t)return alert(_("User %s is already part of the project").replace("%s",$escape(t))),!1}}catch(e){u.e(e)}finally{u.f()}if(window.User.is_premium){if(i=window.User.share_limit||26,s.length>=i)return alert(DIV(B(_("Collaboration limit reached")),P(_("Unfortunately, you've reached the limit of 25 collaborators per project.")),P(_("Need more? Get in touch")," ",A({href:"mailto:support@todoist.com",target:"_blank",rel:"noopener noreferrer"},"support@todoist.com")))),!1}else if(i=6,s.length>=i)return l.b.showCollaboratorLimit(),!1;f.a.addInvite(n.current_project.id,t)}}}catch(e){o.e(e)}finally{o.f()}return n.renderView(),e.value="",!1};$AEV(r,"click",o);var i={collection:function(){var e,t={},n=[],r=w($values(f.a.getAllCollaborators()));try{for(r.s();!(e=r.n()).done;){var a=e.value;if(a.id!==window.User.id&&!t[a.email]){t[a.email]=!0;var o={name:a.full_name+" "+a.email,email:a.email,avatar_small:a.avatar_small};n.push(o)}}}catch(e){r.e(e)}finally{r.f()}return n},filterItem:function(e,t){var n=$setHTML(SPAN({c:"name_email"}),t),r=c.a.renderAvatar(e,"small",h.a.theme);return DIV(DIV({c:"ist_complete_icon"},r),DIV({c:"ist_complete_content"},n))},onSelect:function(e){return e.email},onNoMatches:function(){return IstComplete.hide(),!1},onPreProcess:function(e,t){return 0===e.length?[]:t},wildcard_match:!0,require_trigger:!1,whole_input_match:!0,extra_width:1};return IstComplete.attach(e,i),$AEV(e,"keydown",(function(e){return 13!==e.keyAscii||!IstComplete.isShown()&&o()})),a}},{key:"render_intro_text",value:function(){return this.empty_state_holder=DIV(),y.a.render(b.a.createElement(O.j,null),this.empty_state_holder),this.empty_state_holder}},{key:"_checkEmpty",value:function(e){var t=this,n=null;return"owner"!==e.user_role&&(n=A({href:"#"},_("Leave this project")),$AEV(n,"click",(function(){var e=_("Are you sure you want to leave this project?")+" "+_("This will delete it from your account.");return Object(j.b)({message:e,confirmLabel:_("OK"),onConfirm:function(){f.a.deleteFromProject(t.current_project.id,window.User),u.a.deleteMany([t.current_project.id]),GB_hide()}}),!1}))),$add(this.holder,DIV({c:"desc"},n))}},{key:"_sort",value:function(e){var t,n=w(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.full_name?r.name=r.full_name.toLowerCase():r.name=r.email.toLowerCase()}}catch(e){n.e(e)}finally{n.f()}return e=e.sort((function(e,t){return e.name.localeCompare(t.name)}))}},{key:"promoCheck",value:function(){window.User.karma<200||!Object(m.m)(m.j,p.default.getState())&&$isShown($("app_holder"))&&this._promoShow()}},{key:"_promoShow",value:function(){if(!$("blank_state_sharing")){this.promo_shown=!0;var e=DIV({id:"blank_state_sharing"},_("Share projects, assign tasks, discuss in real-time, and get notified when changes are made. Todoist lets you collaborate from any web-enabled device.")),t={},n=$all("a","share_icon",null,!0);n&&(t={fn_left_offset:function(e,t){return $position(n).x-t.width+40},fn_arrow_left:function(){return $position(n).x+5},fn_top_offset:function(){return $position(n).y+30},fixed_pos:!0},this.tipwin=TooptipWin.show(_("Collaborate with others"),e,300,350,t),$fx.fadeIn(e),p.default.dispatch(Object(m.o)(m.j)))}}},{key:"promoRemove",value:function(){return this.promo_shown=!1,this.tipwin&&this.tipwin.hide(),!1}}]),e}();window.SharingManager=new k,t.a=window.SharingManager},UDQ1:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var r=n("/MKj"),a=n("P/G1"),o=n.n(a),i=n("S+H7"),c=n("dwEu"),l=n("q1tI"),s=n.n(l),u=n("17x9"),d=n.n(u),f=n("t4uw"),m=n("h8yO");function p(e){var t=e.selectedUser;if(!t)return _("Assign a person");var n=null!=t?Object(f.a)(t.full_name):_("Someone");return s.a.createElement(m.a,{text:_("Assigned to {username}"),keyval:{username:s.a.createElement("b",null,n)}})}p.propTypes={selectedUser:d.a.shape({full_name:d.a.string})};var h=Object(r.c)((function(e,t){var n=t.projectId;return{currentUser:e.user,users:null!=n?Object(i.j)(e,n):o()(Object(i.g)(e))}}))(c.a)},UVeO:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"h",(function(){return O})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return w.a})),n.d(t,"j",(function(){return D})),n.d(t,"k",(function(){return C})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return A})),n.d(t,"n",(function(){return x.a})),n.d(t,"o",(function(){return M})),n.d(t,"p",(function(){return F})),n.d(t,"q",(function(){return z})),n.d(t,"r",(function(){return B.a})),n.d(t,"t",(function(){return V})),n.d(t,"u",(function(){return $})),n.d(t,"v",(function(){return H})),n.d(t,"w",(function(){return U})),n.d(t,"x",(function(){return q.a})),n.d(t,"y",(function(){return G})),n.d(t,"z",(function(){return W.a})),n.d(t,"A",(function(){return J})),n.d(t,"B",(function(){return Q})),n.d(t,"C",(function(){return Z})),n.d(t,"D",(function(){return te})),n.d(t,"E",(function(){return ne.a})),n.d(t,"F",(function(){return re.a})),n.d(t,"G",(function(){return ae.a})),n.d(t,"H",(function(){return oe})),n.d(t,"I",(function(){return ie})),n.d(t,"K",(function(){return ce})),n.d(t,"L",(function(){return le.a})),n.d(t,"M",(function(){return de})),n.d(t,"N",(function(){return fe})),n.d(t,"O",(function(){return me})),n.d(t,"P",(function(){return pe.a})),n.d(t,"Q",(function(){return he})),n.d(t,"R",(function(){return ve.a})),n.d(t,"S",(function(){return _e})),n.d(t,"T",(function(){return ye.a})),n.d(t,"U",(function(){return Oe.a})),n.d(t,"W",(function(){return Ee})),n.d(t,"X",(function(){return ke.a})),n.d(t,"Y",(function(){return De.a})),n.d(t,"Z",(function(){return Ie})),n.d(t,"cb",(function(){return xe})),n.d(t,"db",(function(){return Pe.a})),n.d(t,"eb",(function(){return Re})),n.d(t,"fb",(function(){return Ne})),n.d(t,"gb",(function(){return Le})),n.d(t,"ib",(function(){return Me})),n.d(t,"jb",(function(){return Be})),n.d(t,"kb",(function(){return He})),n.d(t,"lb",(function(){return Ue.a})),n.d(t,"mb",(function(){return qe})),n.d(t,"nb",(function(){return Ge})),n.d(t,"ob",(function(){return We.a})),n.d(t,"Ab",(function(){return Ke})),n.d(t,"Db",(function(){return Ye.a})),n.d(t,"Hb",(function(){return Je.a})),n.d(t,"Ib",(function(){return Xe})),n.d(t,"Jb",(function(){return et.a})),n.d(t,"Kb",(function(){return tt})),n.d(t,"Lb",(function(){return at})),n.d(t,"Mb",(function(){return ot.a})),n.d(t,"Nb",(function(){return it.a})),n.d(t,"Ob",(function(){return ct.b})),n.d(t,"Qb",(function(){return lt.a})),n.d(t,"Rb",(function(){return st})),n.d(t,"Tb",(function(){return ft})),n.d(t,"Sb",(function(){return ht})),n.d(t,"Ub",(function(){return bt})),n.d(t,"Vb",(function(){return gt})),n.d(t,"Wb",(function(){return Ot})),n.d(t,"bc",(function(){return Et})),n.d(t,"Zb",(function(){return Ct})),n.d(t,"ac",(function(){return Tt})),n.d(t,"cc",(function(){return Pt})),n.d(t,"dc",(function(){return Rt.a})),n.d(t,"ec",(function(){return Mt})),n.d(t,"fc",(function(){return Ft.a})),n.d(t,"gc",(function(){return Bt})),n.d(t,"ic",(function(){return Vt})),n.d(t,"jc",(function(){return Ut})),n.d(t,"kc",(function(){return Wt})),n.d(t,"nc",(function(){return Kt})),n.d(t,"hc",(function(){return Qt})),n.d(t,"J",(function(){return en})),n.d(t,"vb",(function(){return rn})),n.d(t,"xb",(function(){return cn})),n.d(t,"pb",(function(){return un})),n.d(t,"qb",(function(){return mn})),n.d(t,"rb",(function(){return vn})),n.d(t,"sb",(function(){return _n})),n.d(t,"ub",(function(){return jn})),n.d(t,"tb",(function(){return kn})),n.d(t,"wb",(function(){return Sn})),n.d(t,"yb",(function(){return An})),n.d(t,"zb",(function(){return Rn})),n.d(t,"oc",(function(){return Mn})),n.d(t,"pc",(function(){return Bn})),n.d(t,"ab",(function(){return Un})),n.d(t,"bb",(function(){return Kn})),n.d(t,"hb",(function(){return Qn})),n.d(t,"Gb",(function(){return Zn.a})),n.d(t,"V",(function(){return tr})),n.d(t,"Bb",(function(){return ar})),n.d(t,"Cb",(function(){return cr})),n.d(t,"Eb",(function(){return ur})),n.d(t,"Fb",(function(){return mr})),n.d(t,"Xb",(function(){return vr})),n.d(t,"Yb",(function(){return _r})),n.d(t,"lc",(function(){return jr})),n.d(t,"s",(function(){return kr})),n.d(t,"mc",(function(){return Sr})),n.d(t,"Pb",(function(){return Ar}));var r=n("q1tI"),a=n.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:15,height:13,x:4.5,y:5.5,stroke:"currentColor",rx:2}),r.createElement("path",{fill:"currentColor",d:"M11.03 15.38a.5.5 0 00.95-.04l1.64-5.89 1.5 3.26a.5.5 0 00.45.29H20v-1h-4.11l-1.94-4.2a.5.5 0 00-.93.07l-1.58 5.7L10 9.64a.5.5 0 00-.91-.05L7.9 12H4v1h4.2a.5.5 0 00.45-.28l.82-1.64 1.56 4.3z"}));function c(e){return r.createElement("svg",o({width:24,height:24},e),i)}n.p;function l(){return a.a.createElement("svg",{width:"24",height:"24"},a.a.createElement("path",{fill:"currentColor",d:"M9 6.74L6.35 9.4a.5.5 0 0 1-.7-.7l3.53-3.54a.5.5 0 0 1 .7 0l3.55 3.53a.5.5 0 0 1-.71.7L10 6.69V18.5a.5.5 0 1 1-1 0V6.74zM17 15h2.5a.5.5 0 1 1 0 1H17v2.5a.5.5 0 1 1-1 0V16h-2.5a.5.5 0 1 1 0-1H16v-2.5a.5.5 0 1 1 1 0V15z"}))}function s(){return a.a.createElement("svg",{width:"24",height:"24"},a.a.createElement("path",{fill:"currentColor",d:"M9 17.26L6.35 14.6a.5.5 0 0 0-.7.7l3.53 3.54a.5.5 0 0 0 .7 0l3.55-3.53a.5.5 0 0 0-.71-.7L10 17.31V5.5a.5.5 0 1 0-1 0v11.76zM17 9h2.5a.5.5 0 1 0 0-1H17V5.5a.5.5 0 1 0-1 0V8h-2.5a.5.5 0 1 0 0 1H16v2.5a.5.5 0 1 0 1 0V9z"}))}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=r.createElement("path",{fill:"currentColor",d:"M19.5 20a.5.5 0 010 1h-15a.5.5 0 010-1h15zM18 6a2 2 0 012 2v8a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2h12zm0 1H6a1 1 0 00-1 1v8a1 1 0 001 1h12a1 1 0 001-1V8a1 1 0 00-1-1zm-6 2a.5.5 0 01.5.5v2h2a.5.5 0 010 1h-2v2a.5.5 0 01-1 0v-2h-2a.5.5 0 010-1h2v-2A.5.5 0 0112 9zm7.5-6a.5.5 0 010 1h-15a.5.5 0 010-1h15z"});function f(e){return r.createElement("svg",u({width:24,height:24,viewBox:"0 0 24 24"},e),d)}n.p;function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=r.createElement("path",{fill:"currentColor",d:"M19.5 20a.5.5 0 010 1h-15a.5.5 0 010-1h15zM18 6a2 2 0 012 2v8a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2h12zm-6 3a.5.5 0 00-.5.5v2h-2a.5.5 0 00-.492.41L9 12a.5.5 0 00.5.5h2v2a.5.5 0 00.41.492L12 15a.5.5 0 00.5-.5v-2h2a.5.5 0 00.492-.41L15 12a.5.5 0 00-.5-.5h-2v-2a.5.5 0 00-.41-.492zm7.5-6a.5.5 0 010 1h-15a.5.5 0 010-1h15z"});function h(e){return r.createElement("svg",m({width:24,height:24,viewBox:"0 0 24 24"},e),p)}n.p;function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=r.createElement("path",{fill:"currentColor",d:"M19 4a2 2 0 012 2v3h-1.001L20 18a2 2 0 01-2 2H6a2 2 0 01-2-2l-.001-9H3V6a2 2 0 012-2h14zm0 5H5v9a1 1 0 001 1h12a1 1 0 001-1V9zm-4.491 2c.241 0 .442.183.483.412L15 11.5c0 .276-.228.5-.491.5H9.491a.501.501 0 010-1h5.018zM19 5H5a1 1 0 00-1 1v2h16V6a1 1 0 00-1-1z"});function g(e){return r.createElement("svg",v({width:24,height:24,viewBox:"0 0 24 24"},e),b)}n.p;function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=r.createElement("path",{fill:"currentColor",d:"M19.999 9L20 18a2 2 0 01-2 2H6a2 2 0 01-2-2l-.001-9h16zm-5.49 2H9.491a.501.501 0 000 1h5.018a.501.501 0 00.491-.5l-.008-.088a.499.499 0 00-.483-.412zM3 6a2 2 0 012-2h14a2 2 0 012 2v2H3V6z"});function O(e){return r.createElement("svg",_({width:24,height:24,viewBox:"0 0 24 24"},e),y)}n.p;function j(){return a.a.createElement("svg",{width:"24",height:"24"},a.a.createElement("path",{fill:"currentColor",d:"M11.67 17l-1-2.82H6.76L5.76 17H4.47l3.64-9.86h1.22L12.96 17h-1.29zm-3-8.27l-1.55 4.4h3.2l-1.55-4.4h-.1zm7.97 7.37c1.21 0 2.1-.8 2.1-1.85v-.68l-1.97.13c-1.12.08-1.62.47-1.62 1.2 0 .76.64 1.2 1.5 1.2zm-.22 1.03c-1.42 0-2.48-.85-2.48-2.2 0-1.31.97-2.07 2.68-2.17l2.13-.14v-.67c0-.9-.57-1.4-1.67-1.4-.88 0-1.5.33-1.66.91h-1.2c.17-1.18 1.33-1.96 2.9-1.96 1.8 0 2.8.92 2.8 2.45V17H18.8v-1.09h-.1a2.55 2.55 0 0 1-2.28 1.22z"}))}n("UBzo");var w=n("LE+f"),E=n("pVnL"),k=n.n(E);function D(e){return a.a.createElement("svg",k()({viewBox:"0 0 24 24",width:"24",height:"24"},e),a.a.createElement("g",{fill:"none"},a.a.createElement("path",{fill:"currentColor",d:"M20 11v2a.5.5 0 1 1-1 0v-2h-2a.5.5 0 1 1 0-1h2V8a.5.5 0 1 1 1 0v2h2a.5.5 0 1 1 0 1h-2z"}),a.a.createElement("path",{stroke:"currentColor",d:"M12 5.5a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm-6.5 12v.2c0 .4.6.8 1.5.8h10c.9 0 1.5-.4 1.5-.8v-.2c0-2.1-2.9-4-6.5-4s-6.5 1.9-6.5 4z"})))}var C=a.a.memo((function(e){return a.a.createElement("svg",k()({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e),a.a.createElement("path",{fill:"currentColor",d:"M12.646 5.646c1.3-1.3 3.408-1.3 4.708 0 1.251 1.252 1.298 3.253.139 4.56l-.14.148-4.824 4.825c-.845.844-2.213.844-3.058 0-.802-.802-.842-2.078-.12-2.927l.12-.13 3.325-3.326c.196-.195.512-.195.708 0 .173.174.192.443.057.638l-.057.07-3.325 3.325c-.454.453-.454 1.189 0 1.642.42.422 1.085.452 1.541.09l.101-.09 4.825-4.825c.91-.909.91-2.383 0-3.292-.868-.868-2.25-.908-3.165-.119l-.127.119-6.175 6.175c-1.365 1.364-1.365 3.578 0 4.942 1.316 1.317 3.42 1.364 4.793.141l.15-.14 3.674-3.676c.196-.195.512-.195.708 0 .173.174.192.443.057.638l-.057.07-3.675 3.675c-1.756 1.755-4.602 1.755-6.358 0-1.7-1.701-1.753-4.425-.159-6.19l.16-.168 6.174-6.175z"}))}));function S(e){return a.a.createElement("svg",k()({width:"24",height:"24"},e),a.a.createElement("path",{fill:"currentColor",d:"M11 12.5v-5a.5.5 0 0 1 1 0V12h4.5a.5.5 0 1 1 0 1H11v-.5zm1 7.5a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-1a7 7 0 1 0 0-14 7 7 0 0 0 0 14z"}))}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=r.createElement("path",{fill:"currentColor",d:"M12 3a5.75 5.75 0 015.75 5.75c0 3.24.682 5.875 2.03 7.927A1.5 1.5 0 0118.524 19H14.5a2.5 2.5 0 11-5 0H5.475a1.5 1.5 0 01-1.254-2.323C5.568 14.625 6.25 11.989 6.25 8.75A5.75 5.75 0 0112 3zm1.5 16h-3a1.5 1.5 0 003 0zM12 4a4.75 4.75 0 00-4.75 4.75c0 3.423-.731 6.248-2.193 8.476a.5.5 0 00.418.774h13.05a.5.5 0 00.418-.774c-1.462-2.227-2.193-5.053-2.193-8.476A4.75 4.75 0 0012 4z"});function A(e){return r.createElement("svg",I({width:24,height:24,viewBox:"0 0 24 24"},e),T)}n.p;var x=n("nZJc"),P=n("QILm"),R=n.n(P),N=n("17x9"),L=n.n(N);function M(e){var t=e.size,n=void 0===t?"medium":t,r=R()(e,["size"]);return"large"===n?a.a.createElement("svg",k()({width:"28",height:"28",viewBox:"0 0 28 28"},r),a.a.createElement("g",{fill:"currentColor",fillRule:"nonzero"},a.a.createElement("path",{d:"M6 3.5h16A2.5 2.5 0 0 1 24.5 6v2.5h-21V6A2.5 2.5 0 0 1 6 3.5z",opacity:".1"}),a.a.createElement("path",{d:"M22 3a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h16zm0 1H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm-3.109 12.188l.007.01-.004-.005-.003-.005zM21.5 8a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zM19 16.52a.504.504 0 0 1-.023.131l-.015.04a.494.494 0 0 1-.05.093l-.014.018a.503.503 0 0 1-.033.04l-3.511 3.512a.5.5 0 0 1-.765-.638l.057-.07L17.292 17H9.5a.5.5 0 0 1-.492-.41L9 16.5a.5.5 0 0 1 .41-.492L9.5 16h7.792l-2.646-2.646a.5.5 0 0 1 .638-.765l.07.057 3.511 3.513.017.019.009.01-.027-.03.03.035.029.04a.52.52 0 0 1 .066.162l.008.052v.007l-.002-.026.005.072v.02z"}))):a.a.createElement("svg",k()({width:"24",height:"24",viewBox:"0 0 24 24"},r),a.a.createElement("g",{fill:"currentColor",fillRule:"evenodd"},a.a.createElement("path",{fillRule:"nonzero",d:"M6 4.5h12A1.5 1.5 0 0 1 19.5 6v2.5h-15V6A1.5 1.5 0 0 1 6 4.5z",opacity:".1"}),a.a.createElement("path",{fillRule:"nonzero",d:"M18 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h12zm0 1H6a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1zm-2.109 8.188l.007.01-.004-.005-.003-.005zM17 8a.5.5 0 1 1 0 1H7a.5.5 0 0 1 0-1h10zm-1 5.52a.504.504 0 0 1-.023.131l-.015.04a.494.494 0 0 1-.05.093l-.014.018a.503.503 0 0 1-.033.04l-2.511 2.512a.5.5 0 0 1-.765-.638l.057-.07L14.292 14H8.5a.5.5 0 0 1-.492-.41L8 13.5a.5.5 0 0 1 .41-.492L8.5 13h5.792l-1.646-1.646a.5.5 0 0 1 .638-.765l.07.057 2.511 2.513.017.019.009.01-.027-.03.03.035.029.04a.52.52 0 0 1 .066.162l.008.052v.007l-.002-.026.005.072v.02z"})))}function F(){return a.a.createElement("svg",{width:"24",height:"24"},a.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18zm0 1a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm3.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"}))}function z(e){return a.a.createElement("svg",k()({width:"24",height:"24"},e),a.a.createElement("path",{fill:"none",stroke:"currentColor",d:"M16 10l-4 4-4-4"}))}M.propTypes={size:L.a.oneOf(["medium","large"])};var B=n("RPD4");function V(e){return a.a.createElement("svg",k()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",width:"12",height:"12"},e),a.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.902 6.975l4.182-4.244a.74.74 0 0 1 1.06 0 .775.775 0 0 1 0 1.081L5.432 8.597a.74.74 0 0 1-1.06 0L1.78 5.975a.775.775 0 0 1 0-1.081.74.74 0 0 1 1.061 0l2.06 2.081z"}))}var $=function(e){var t=e.className;return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",className:t},a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M16 10l-4 4-4-4"})))};function H(e){return a.a.createElement("svg",k()({width:"24",height:"24",viewBox:"0 0 24 24"},e),a.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18zm0 1a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm3.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"}))}function U(e){return a.a.createElement("svg",k()({width:"24",height:"24"},e),a.a.createElement("path",{fill:"currentColor",d:"M11 12.5v-5a.5.5 0 0 1 1 0V12h4.5a.5.5 0 1 1 0 1H11v-.5zm1 7.5a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-1a7 7 0 1 0 0-14 7 7 0 0 0 0 14z"}))}var q=n("t6YY");var G=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12.5 6a.5.5 0 0 1 .5.5V12h5.5a.5.5 0 1 1 0 1H13v5.5a.5.5 0 1 1-1 0V13H6.5a.5.5 0 1 1 0-1H12V6.5a.5.5 0 0 1 .5-.5z"}))};L.a.oneOf(["medium","large"]),L.a.oneOf(["medium","large"]),L.a.number;var W=n("wwFd");function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Y=r.createElement("path",{d:"M8.854 8.146L12 11.293l3.146-3.147a.502.502 0 01.708.708L12.707 12l3.147 3.146a.502.502 0 01-.708.708L12 12.707l-3.146 3.147a.502.502 0 01-.708-.708L11.293 12 8.146 8.854a.502.502 0 01.708-.708z",fill:"currentColor",fillRule:"nonzero"});function J(e){return r.createElement("svg",K({width:24,height:24,viewBox:"0 0 24 24"},e),Y)}n.p;var Q=a.a.memo((function(e){return a.a.createElement("svg",k()({width:"24",height:"24"},e),a.a.createElement("g",{fill:"currentColor",fillRule:"evenodd"},a.a.createElement("g",{transform:"translate(4 3)"},a.a.createElement("rect",{width:"17",height:"1",y:"14",rx:".5"}),a.a.createElement("path",{d:"M9 10.293l2.146-2.147a.5.5 0 0 1 .708.708L9.207 11.5a1 1 0 0 1-1.414 0L5.146 8.854a.5.5 0 0 1 .708-.708L8 10.293V1a.5.5 0 0 1 1 0v9.293z"}))))})),Z=a.a.memo((function(e){return a.a.createElement("svg",k()({width:24,height:24},e),a.a.createElement("path",{d:"M9.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm-5-5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z",fill:"currentColor",fillRule:"evenodd"}))}));function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ee=r.createElement("path",{fill:"currentColor",d:"M14.5 15.5a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 0114.5 15.5zm-5 0a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 019.5 15.5zm5-5a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 0114.5 10.5zm-5 0a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 019.5 10.5zm5-5a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 0114.5 5.5zm-5 0a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 019.5 5.5z"});function te(e){return r.createElement("svg",X({width:24,height:24},e),ee)}n.p;var ne=n("GFxf"),re=n("KIIX"),ae=n("fTZR"),oe=a.a.memo((function(e){return a.a.createElement("svg",k()({width:"24",height:"24"},e),a.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 4a8 8 0 1 1 0 16 8 8 0 0 1 0-16zm0 1a7 7 0 1 0 0 14 7 7 0 0 0 0-14zm2.45 8a.5.5 0 0 1 .49.6 3 3 0 0 1-5.88 0 .5.5 0 0 1 .49-.6h4.9zm.05-4a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}))})),ie=function(e){return a.a.createElement("svg",k()({width:"24",height:"24",viewBox:"0 0 24 24"},e),a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{fill:"currentColor",d:"M11 13h2.5c.3 0 .5.2.5.5s-.2.5-.5.5H11v2.5a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5V14H7.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5H10v-2.5c0-.3.2-.5.5-.5s.5.2.5.5V13z"}),a.a.createElement("rect",{width:"12",height:"12",x:"4.5",y:"7.5",stroke:"currentColor",rx:"2"}),a.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M19 16.7V6a1 1 0 0 0-1-1H7.3c.2-.3.4-.6.7-.7.3-.2.7-.3 1.6-.3h7.8c1 0 1.3 0 1.6.3.3.1.6.4.7.7.2.3.3.7.3 1.6v7.8c0 1 0 1.3-.3 1.6-.1.3-.4.5-.7.7zm-1.6.3H9.6h7.8z"})))};function ce(){return a.a.createElement("svg",{width:"24",height:"24"},a.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 3a9 9 0 0 1 0 18 9.002 9.002 0 0 1-8.86-7.411.5.5 0 0 1 .984-.176A8.002 8.002 0 0 0 12 20 8 8 0 1 0 4.614 8.922L4.582 9H7.5a.5.5 0 0 1 .492.41L8 9.5a.5.5 0 0 1-.41.492L7.5 10h-4a.5.5 0 0 1-.492-.41L3 9.5v-4a.5.5 0 0 1 .992-.09L4 5.5v2.373A9.002 9.002 0 0 1 12 3zm3.646 5.896a.5.5 0 0 1 .708.708l-5.5 5.5a.5.5 0 0 1-.708 0l-2.5-2.5a.5.5 0 0 1 .708-.708l2.146 2.147z"}))}var le=n("xKYe");function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ue=r.createElement("path",{fill:"currentColor",d:"M13.529 3a1 1 0 01.998.941l.075 1.283a7.206 7.206 0 011.921 1.156l1.193-.598a1 1 0 011.314.394l1.529 2.648a1 1 0 01-.317 1.335l-1.204.793a7.291 7.291 0 01-.026 2.078l1.23.811a1 1 0 01.317 1.335l-1.529 2.648a1 1 0 01-1.314.394l-1.345-.674a7.18 7.18 0 01-1.757 1.027l-.087 1.488a1 1 0 01-.998.941H10.47a1 1 0 01-.998-.941L9.39 18.65a7.203 7.203 0 01-1.883-1.045l-1.223.613a1 1 0 01-1.314-.394l-1.529-2.648a1 1 0 01.317-1.335l1.05-.692a7.213 7.213 0 01-.029-2.318l-1.021-.672a1 1 0 01-.317-1.335L4.97 6.176a1 1 0 011.314-.394l1.068.536a7.205 7.205 0 012.05-1.173l.071-1.204A1 1 0 0110.471 3h3.058zm0 1H10.47l-.09 1.539a.499.499 0 01-.349.447 6.188 6.188 0 00-2.273 1.3.5.5 0 01-.558.075l-1.365-.685-1.528 2.648 1.294.852c.17.112.255.316.216.515a6.242 6.242 0 00.034 2.58.5.5 0 01-.213.528l-1.331.877 1.528 2.648 1.51-.758a.5.5 0 01.548.066c.624.529 1.346.93 2.127 1.178a.5.5 0 01.348.448L10.471 20h3.058l.106-1.81a.5.5 0 01.333-.443 6.185 6.185 0 002.007-1.174.5.5 0 01.552-.07l1.637.82 1.528-2.647-1.506-.992a.499.499 0 01-.215-.52 6.284 6.284 0 00.032-2.364.498.498 0 01.217-.506l1.472-.97-1.528-2.648-1.494.75a.502.502 0 01-.563-.08 6.204 6.204 0 00-2.15-1.297.501.501 0 01-.334-.442L13.53 4zM12 8.5a3.5 3.5 0 110 7 3.5 3.5 0 010-7zm0 1a2.5 2.5 0 000 5 2.5 2.5 0 000-5z"});function de(e){return r.createElement("svg",se({width:24,height:24,viewBox:"0 0 24 24"},e),ue)}n.p;function fe(e){return a.a.createElement("svg",k()({className:"menu_icon",width:"24",height:"24",viewBox:"0 0 24 24"},e),a.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.5 5h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zm0 6h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 6h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1z"}))}var me=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},a.a.createElement("path",{fill:"none",stroke:"currentColor",d:"M12 18.345c5.642-4.767 6.354-5.448 7.099-6.988a3.79 3.79 0 0 0 .401-1.69c0-2.307-1.772-4.167-3.944-4.167-1.252 0-2.407.62-3.15 1.657L12 7.725l-.407-.568C10.851 6.12 9.696 5.5 8.444 5.5 6.272 5.5 4.5 7.36 4.5 9.667c0 .582.13 1.13.401 1.69.745 1.54 1.457 2.221 7.099 6.988z"}))},pe=n("phBz"),he=a.a.memo((function(e){return a.a.createElement("svg",k()({width:24,height:24},e),a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{fill:"currentColor",d:"M11.9 16.5c-.46 0-.8-.35-.8-.85s.34-.86.8-.86c.48 0 .8.36.8.86s-.32.85-.8.85zM9.5 9.87c.06-1.32.9-2.37 2.54-2.37 1.46 0 2.46.95 2.46 2.21 0 .96-.47 1.64-1.22 2.11-.73.46-.94.8-.94 1.45v.4h-1.02v-.57c0-.8.37-1.36 1.16-1.86.68-.43.94-.82.94-1.47 0-.76-.56-1.32-1.43-1.32-.87 0-1.43.55-1.5 1.42H9.5z"}),a.a.createElement("circle",{cx:12,cy:12,r:7.5,stroke:"currentColor"})))})),ve=n("ysgU");function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ge=r.createElement("path",{fill:"currentColor",d:"M12.527 3.075c.35.104.64.263 1.27.876L19.1 9.123c.374.364.49.505.601.678.11.174.185.351.232.552.042.178.062.34.066.742L20 17.718c0 .446-.046.607-.134.77a.906.906 0 01-.378.378c-.163.088-.324.134-.77.134H14v-4.718c0-.446-.046-.607-.134-.77a.906.906 0 00-.378-.378c-.142-.077-.284-.122-.616-.132L12.718 13h-1.436c-.446 0-.607.046-.77.134a.906.906 0 00-.378.378c-.077.142-.122.284-.132.616l-.002.154V19H5.282c-.446 0-.607-.046-.77-.134a.906.906 0 01-.378-.378c-.088-.163-.134-.324-.134-.77v-6.462c0-.522.02-.703.067-.903.047-.2.121-.378.232-.552l.077-.113c.098-.134.233-.282.524-.565l5.304-5.172c.629-.613.92-.772 1.269-.876a1.82 1.82 0 011.054 0zm-.286.958a.825.825 0 00-.482 0c-.18.054-.326.139-.63.418l-.227.216L5.598 9.84c-.3.293-.385.39-.456.5a.76.76 0 00-.102.242c-.026.112-.037.224-.04.531l.002 6.807.005.073.074.006L8.999 18 9 14.268l.003-.17c.013-.448.083-.749.249-1.058a1.9 1.9 0 01.788-.788c.306-.164.6-.234 1.043-.249l.199-.003h1.45l.17.003c.448.013.749.083 1.058.249.337.18.608.45.788.788.164.306.234.6.249 1.043l.003.199L14.999 18l3.92-.002.073-.006.006-.073.002-.2v-6.615l-.005-.218a1.494 1.494 0 00-.035-.305.747.747 0 00-.102-.242l-.059-.084a3.571 3.571 0 00-.294-.315l-5.407-5.273c-.425-.414-.604-.545-.798-.615l-.06-.019z"});function _e(e){return r.createElement("svg",be({width:24,height:24,viewBox:"0 0 24 24"},e),ge)}n.p;n.p;var ye=n("f4de"),Oe=(n("gieR"),n("NVV/"));function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var we=r.createElement("path",{fill:"currentColor",d:"M4.5 2A2.5 2.5 0 015 6.95V8.5a2.5 2.5 0 002.336 2.495L7.5 11h1.55a2.5 2.5 0 110 1H7.5a3.5 3.5 0 01-3.495-3.308L4 8.5V6.95A2.5 2.5 0 014.5 2zm7 8a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm-7-7a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"});function Ee(e){return r.createElement("svg",je({width:16,height:16,viewBox:"0 0 16 16"},e),we)}n.p;n.p,n("iAAn");var ke=n("5IEK"),De=n("5hR1");function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Se=r.createElement("path",{d:"M9.357 1C10.264 1 11 1.736 11 2.643V6.07c0 .436-.173.854-.481 1.162L7.232 10.52a1.643 1.643 0 01-2.323 0L1.48 7.09c-.64-.64-.64-1.68.001-2.322L4.768 1.48C5.076 1.173 5.494 1 5.93 1h3.427zm-.07.91H5.93a.805.805 0 00-.569.235L2.145 5.362a.805.805 0 000 1.138L5.5 9.855a.805.805 0 001.138 0l3.217-3.217a.805.805 0 00.236-.569V2.713a.804.804 0 00-.804-.804zM7.364 3.726a.91.91 0 110 1.818.91.91 0 010-1.818z",fill:"currentColor",fillRule:"evenodd"});function Ie(e){return r.createElement("svg",Ce({width:12,height:12,viewBox:"0 0 12 12"},e),Se)}n.p;function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ae=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{stroke:"currentColor",d:"M6.5 8.3V5.63c0-1.17.9-2.13 2-2.13h7c1.1 0 2 .95 2 2.13v11.74c0 1.17-.9 2.13-2 2.13h-7c-1.1 0-2-.95-2-2.13V14.7"}),r.createElement("path",{fill:"currentColor",d:"M12.8 11l-2.15-2.15a.5.5 0 11.7-.7L14 10.79a1 1 0 010 1.42l-2.65 2.64a.5.5 0 01-.7-.7L12.79 12H4.5a.5.5 0 010-1h8.3z"}));function xe(e){return r.createElement("svg",Te({width:24,height:24},e),Ae)}n.p,n("5alK");var Pe=n("0DO4");function Re(){return a.a.createElement("svg",{width:"24",height:"24"},a.a.createElement("path",{fill:"currentColor",d:"M10 11.5c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5s-.2.5-.5.5h-7a.5.5 0 0 1-.5-.5zm0 4c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5s-.2.5-.5.5h-7a.5.5 0 0 1-.5-.5zm0-8c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5s-.2.5-.5.5h-7a.5.5 0 0 1-.5-.5zm-4 9a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-4a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-4a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}))}function Ne(e){return a.a.createElement("svg",k()({width:"24",height:"24"},e),a.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 19c-3.3-4.2-5-7.2-5-9a5 5 0 1 1 10 0c0 1.8-1.7 4.8-5 9zm0-7a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}))}n.p;function Le(){return a.a.createElement("svg",{width:"24",height:"24"},a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 11.4l4.7-3.8a.5.5 0 1 1 .6.8L12 12.6 6.7 8.4a.5.5 0 0 1 .6-.8l4.7 3.8z"}),a.a.createElement("rect",{width:"15",height:"13",x:"4.5",y:"5.5",stroke:"currentColor",rx:"2"})))}var Me=a.a.memo((function(e){return a.a.createElement("svg",k()({width:"24",height:"24"},e),a.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M17.5 10a.5.5 0 0 1 .492.41l.008.09V12a6 6 0 0 1-5.5 5.98V20h3a.5.5 0 0 1 .492.41l.008.09a.5.5 0 0 1-.41.492L15.5 21h-7a.5.5 0 0 1-.09-.992L8.5 20h3v-2.02a6 6 0 0 1-5.495-5.745L6 12v-1.5a.5.5 0 0 1 .992-.09L7 10.5V12a5 5 0 0 0 9.995.217L17 12v-1.5a.5.5 0 0 1 .5-.5zM12 3a4 4 0 0 1 4 4v5a4 4 0 1 1-8 0V7a4 4 0 0 1 4-4zm0 1a3 3 0 0 0-3 3v5a3 3 0 0 0 6 0V7a3 3 0 0 0-3-3z"}))}));function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ze=r.createElement("path",{fill:"currentColor",d:"M21 11.5a2.5 2.5 0 110 5 2.5 2.5 0 010-5zm-7 0a2.5 2.5 0 110 5 2.5 2.5 0 010-5zm-7 0a2.5 2.5 0 110 5 2.5 2.5 0 010-5zm14 1a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm-7 0a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm-7 0a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"});function Be(e){return r.createElement("svg",Fe({width:28,height:28,viewBox:"0 0 28 28"},e),ze)}n.p;function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var $e=r.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",transform:"translate(3 10)"},r.createElement("circle",{cx:2,cy:2,r:2}),r.createElement("circle",{cx:9,cy:2,r:2}),r.createElement("circle",{cx:16,cy:2,r:2}));function He(e){return r.createElement("svg",Ve({width:24,height:24},e),$e)}n.p;var Ue=n("++xj");function qe(){return a.a.createElement("svg",{width:"24",height:"24"},a.a.createElement("g",{fill:"none",transform:"translate(4 4)"},a.a.createElement("circle",{cx:"8",cy:"8",r:"7.5",stroke:"currentColor"}),a.a.createElement("path",{fill:"currentColor",d:"M10.11 7.82L8.15 5.85a.5.5 0 1 1 .7-.7l2.83 2.82a.5.5 0 0 1 0 .71l-2.83 2.83a.5.5 0 1 1-.7-.7l1.98-1.99H4.5a.5.5 0 1 1 0-1h5.61z"})))}function Ge(e){return a.a.createElement("svg",k()({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},e),a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{d:"M0 24V0h24v24z"}),a.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M13.293 12L9.646 8.354a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 12z"})))}n("2JC7");var We=n("8qSS"),Ke=function(e){return a.a.createElement("svg",k()({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e),a.a.createElement("path",{d:"M7 8c3.778 0 7 1.837 7 4.25 0 1.132-.742 1.75-2 1.75H2c-1.258 0-2-.618-2-1.75C0 9.837 3.222 8 7 8zm8 0c3.778 0 7 1.837 7 4.25 0 1.132-.742 1.75-2 1.75h-5.575c.23-.281.396-.617.49-1H20c.742 0 1-.215 1-.75C21 10.54 18.299 9 15 9c-.529 0-1.042.04-1.531.113a6.786 6.786 0 0 0-1.114-.799A11.068 11.068 0 0 1 15 8zM7 9c-3.299 0-6 1.54-6 3.25 0 .535.258.75 1 .75h10c.742 0 1-.215 1-.75C13 10.54 10.299 9 7 9zm0-9a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7zm8 0a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7zM7 1a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zm8 0a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5z",transform:"translate(1 5)",fillRule:"nonzero",fill:"currentColor"}))},Ye=n("d7O2"),Je=n("nM1N");function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ze=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:12,height:12,x:4.5,y:7.5,stroke:"currentColor",rx:2}),r.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M19 16.72V6a1 1 0 00-1-1H7.28c.17-.32.43-.56.74-.73.33-.18.65-.27 1.54-.27h7.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54v7.88c0 .89-.1 1.21-.27 1.54-.17.31-.41.57-.73.74zm-1.56.28H9.56h7.88z"}),r.createElement("path",{fill:"currentColor",d:"M12.3 11H9.5a.5.5 0 110-1h4a.5.5 0 01.5.5v4a.5.5 0 11-1 0v-2.8l-4.15 4.15a.5.5 0 01-.7-.7L12.29 11z"}));function Xe(e){return r.createElement("svg",Qe({width:24,height:24},e),Ze)}n.p;var et=n("sR72");function tt(e){return a.a.createElement("svg",k()({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},e),a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{d:"M24 0v24H0V0z"}),a.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M10.707 12l3.647 3.646a.5.5 0 0 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 0 1 .708.708L10.707 12z"})))}function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var rt=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M15 18v-1h2.44c.66 0 .86-.04 1.07-.15a.82.82 0 00.34-.35c.11-.2.15-.4.15-1.06v-4.88c0-.66-.04-.86-.15-1.07a.82.82 0 00-.35-.34c-.2-.11-.4-.15-1.06-.15H6.56c-.66 0-.86.04-1.07.15a.82.82 0 00-.34.34C5.04 9.7 5 9.9 5 10.56v4.88c0 .66.04.86.15 1.07a.82.82 0 00.34.34c.21.11.41.15 1.07.15H9v1H6.56c-.89 0-1.21-.1-1.54-.27a1.82 1.82 0 01-.75-.75c-.18-.33-.27-.65-.27-1.54v-4.88c0-.89.1-1.21.27-1.54.17-.32.43-.58.75-.75.33-.18.65-.27 1.54-.27h10.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54v4.88c0 .89-.1 1.21-.27 1.54a1.8 1.8 0 01-.75.75c-.33.18-.65.27-1.54.27H15z"}),r.createElement("path",{stroke:"currentColor",d:"M15.5 13.5h-7v3.94c0 .73.05 1.01.2 1.3.14.24.32.42.56.55.29.16.57.21 1.3.21h2.88c.73 0 1.01-.05 1.3-.2.24-.14.42-.32.55-.56.16-.29.21-.57.21-1.3V13.5z"}),r.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M17 7h-1v-.44c0-.66-.04-.86-.15-1.07a.82.82 0 00-.34-.34C15.3 5.04 15.1 5 14.44 5H9.56c-.66 0-.86.04-1.07.15a.82.82 0 00-.34.34C8.04 5.7 8 5.9 8 6.57V7H7v-.44c0-.89.1-1.21.27-1.54.17-.32.43-.58.75-.75.33-.18.65-.27 1.54-.27h4.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54V7z"}),r.createElement("path",{fill:"currentColor",d:"M16 11h1v1h-1z"}));function at(e){return r.createElement("svg",nt({width:24,height:24},e),rt)}n.p;var ot=n("bjXC"),it=n("7Q2f"),ct=n("hMw4"),lt=n("kYI+"),st=a.a.memo((function(e){return a.a.createElement("svg",k()({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},e),a.a.createElement("g",{fill:"currentColor"},a.a.createElement("path",{d:"M9.375 11.75a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25zm5.25 0a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25zm.603 1.75a3.335 3.335 0 0 1-6.456 0h6.456z"}),a.a.createElement("path",{d:"M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 1a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"})))}));function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var dt=r.createElement("path",{fill:"currentColor",d:"M2.784 4.589l.07.057 1.5 1.5a.5.5 0 01-.638.765l-.07-.057L3 6.207V7a2 2 0 001.85 1.995L5 9h2.5a.5.5 0 01.09.992L7.5 10H5a3 3 0 01-2.995-2.824L2 7v-.793l-.646.647a.5.5 0 01-.638.057l-.07-.057a.5.5 0 01-.057-.638l.057-.07 1.5-1.5a.5.5 0 01.638-.057zM7 2a3 3 0 013 3v.792l.646-.646a.5.5 0 01.765.638l-.057.07-1.5 1.5a.5.5 0 01-.638.057l-.07-.057-1.5-1.5a.5.5 0 01.638-.765l.07.057.646.646V5a2 2 0 00-1.85-1.995L7 3H4.5a.5.5 0 010-1z"});function ft(e){return r.createElement("svg",ut({width:12,height:12,viewBox:"0 0 12 12"},e),dt)}n.p;function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pt=r.createElement("path",{fill:"currentColor",d:"M5.784 10.089l.07.057 3 3a.5.5 0 01-.638.765l-.07-.057L6 11.707V14a5 5 0 004.783 4.995L11 19h4.5a.5.5 0 01.09.992L15.5 20H11a6 6 0 01-5.996-5.775L5 14v-2.293l-2.146 2.147a.5.5 0 01-.638.057l-.07-.057a.5.5 0 01-.057-.638l.057-.07 3-3a.5.5 0 01.638-.057zM13 4a6 6 0 015.996 5.775L19 10v2.292l2.146-2.146a.5.5 0 01.638-.057l.07.057a.5.5 0 01.057.638l-.057.07-3 3a.5.5 0 01-.638.057l-.07-.057-3-3a.5.5 0 01.638-.765l.07.057L18 12.292V10a5 5 0 00-4.783-4.995L13 5H8.5a.5.5 0 01-.09-.992L8.5 4H13z"});function ht(e){return r.createElement("svg",mt({width:24,height:24,viewBox:"0 0 24 24"},e),pt)}n.p;var vt=Object(r.forwardRef)((function(e,t){var n=e.size,r=void 0===n?"small":n,o=R()(e,["size"]);return"medium"===r?a.a.createElement("svg",k()({width:"16",height:"16",viewBox:"0 0 16 16",ref:t},o),a.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M8 2.499a5.5 5.5 0 0 1 4.446 8.738l1.408 1.408a.5.5 0 0 1-.638.765l-.07-.058-1.362-1.362A5.481 5.481 0 0 1 8 13.5a5.481 5.481 0 0 1-3.784-1.509l-1.362 1.362a.5.5 0 0 1-.765-.638l.057-.069 1.408-1.408A5.5 5.5 0 0 1 8 2.498zm0 1a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zM7.5 4.5a.5.5 0 0 1 .492.41L8 5v3h2a.5.5 0 0 1 .09.992L10 9H7.5a.5.5 0 0 1-.492-.41L7 8.5V5a.5.5 0 0 1 .5-.5zm6.284-2.414l.13.12.379.378a2 2 0 0 1 .117 2.702l-.117.127-.094.094a.5.5 0 0 1-.765-.638l.058-.07.094-.093a1 1 0 0 0 .083-1.32l-.083-.094-.379-.38a1 1 0 0 0-1.381-.03.5.5 0 1 1-.676-.738 2 2 0 0 1 2.634-.058zm-11.698.12a2 2 0 0 1 2.764-.062.5.5 0 0 1-.676.738 1 1 0 0 0-1.381.03l-.379.38a1 1 0 0 0 0 1.414l.094.093a.5.5 0 0 1-.707.708l-.094-.094a2 2 0 0 1 0-2.829z"})):a.a.createElement("svg",k()({width:"12",height:"12",viewBox:"0 0 12 12",ref:t},o),a.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M6 1.502a4.5 4.5 0 0 1 3.728 7.021l1.126 1.126a.5.5 0 0 1-.638.765l-.07-.058-1.07-1.069A4.484 4.484 0 0 1 6 10.502a4.484 4.484 0 0 1-3.076-1.215l-1.07 1.07a.5.5 0 0 1-.765-.639l.057-.07 1.126-1.125A4.5 4.5 0 0 1 6 1.503zm0 1a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zm-.5 1a.5.5 0 0 1 .492.41l.008.09v2h1.5a.5.5 0 0 1 .09.992l-.09.008h-2a.5.5 0 0 1-.492-.41L5 6.502v-2.5a.5.5 0 0 1 .5-.5zm5.368-2.328l.12.109.232.232a1.75 1.75 0 0 1 .092 2.375.5.5 0 1 1-.76-.65.75.75 0 0 0 .036-.93l-.075-.088-.233-.232a.75.75 0 0 0-.922-.11.5.5 0 1 1-.526-.85 1.75 1.75 0 0 1 2.036.144zM3.17 1.03a.5.5 0 1 1-.526.85.75.75 0 0 0-.922.11l-.232.232a.75.75 0 0 0-.04 1.017.5.5 0 0 1-.76.65 1.75 1.75 0 0 1 .093-2.374l.232-.232A1.75 1.75 0 0 1 3.17 1.03z"}))}));vt.propTypes={size:L.a.oneOf(["small","medium"])};var bt=vt;n("4vAh");function gt(e){return a.a.createElement("svg",k()({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},e),a.a.createElement("path",{d:"M10.5 3a7.5 7.5 0 015.645 12.438l4.709 4.708a.502.502 0 01-.708.708l-4.708-4.709A7.5 7.5 0 1110.5 3zm0 1a6.5 6.5 0 100 13 6.5 6.5 0 000-13z",fill:"currentColor"}))}function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var yt=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M3 3h18v18H3z"}),r.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M8.82 6.62l-.33.2-.82-.83a.63.63 0 00-.9 0l-.77.8a.62.62 0 00-.01.89l.82.82-.2.34a6.21 6.21 0 00-.66 1.6l-.1.38H4.69a.63.63 0 00-.63.64v1.1c0 .36.28.64.63.64h1.16l.1.37a6.21 6.21 0 00.66 1.61l.2.34-.82.82a.63.63 0 000 .9l.79.77a.62.62 0 00.89.01l.82-.82.34.2a6.21 6.21 0 001.6.66l.38.1v1.16c0 .35.28.63.64.63h1.1a.62.62 0 00.64-.63v-1.16l.37-.1a6.21 6.21 0 001.61-.67l.34-.2.82.83c.25.25.64.24.9 0l.77-.79a.62.62 0 00.01-.89l-.82-.82.2-.33a6.21 6.21 0 00.66-1.62l.1-.37h1.16a.63.63 0 00.63-.64v-1.1a.62.62 0 00-.63-.64h-1.16l-.1-.37a6.21 6.21 0 00-.67-1.61l-.2-.34.83-.82a.63.63 0 000-.9l-.8-.78a.62.62 0 00-.89-.01l-.82.82-.33-.2a6.21 6.21 0 00-1.62-.66l-.37-.1V4.69a.63.63 0 00-.64-.63h-1.1a.62.62 0 00-.64.63v1.16l-.37.1a6.21 6.21 0 00-1.61.66zm1-1.53v-.4c0-.9.72-1.63 1.63-1.63h1.1c.9 0 1.64.72 1.64 1.63v.4c.4.12.78.28 1.15.48l.28-.29a1.62 1.62 0 012.3.01l.79.78c.64.64.65 1.67 0 2.3l-.28.29c.2.37.36.75.48 1.15h.4c.9 0 1.63.73 1.63 1.64v1.1c0 .9-.73 1.64-1.63 1.64h-.4a7.2 7.2 0 01-.48 1.15l.29.28a1.62 1.62 0 01-.01 2.3l-.78.79a1.63 1.63 0 01-2.3 0l-.29-.28c-.37.2-.75.36-1.15.48v.4c0 .9-.73 1.63-1.64 1.63h-1.1A1.63 1.63 0 019.8 19.3v-.4a7.2 7.2 0 01-1.15-.48l-.29.29a1.62 1.62 0 01-2.3-.01l-.78-.78a1.63 1.63 0 010-2.3l.27-.29a7.2 7.2 0 01-.47-1.15h-.4c-.9 0-1.63-.73-1.63-1.64v-1.1c0-.9.72-1.64 1.63-1.64h.4c.12-.4.28-.78.47-1.15l-.28-.29a1.62 1.62 0 01.01-2.3l.78-.78a1.63 1.63 0 012.3 0l.29.27c.37-.19.75-.35 1.15-.47z"}),r.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 14a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z"}));function Ot(e){return r.createElement("svg",_t({width:24,height:24},e),yt)}n.p;function jt(){return(jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var wt=r.createElement("path",{fill:"currentColor",d:"M16.854 5.146l3 3a.502.502 0 01-.708.708L17 6.707V18.5a.5.5 0 01-1 0V6.707l-2.146 2.147a.502.502 0 01-.708-.708l3-3a.502.502 0 01.708 0zM7.5 5a.5.5 0 01.5.5v11.791l2.146-2.145a.502.502 0 01.708.708l-3 3a.502.502 0 01-.708 0l-3-3a.502.502 0 01.708-.708L7 17.293V5.5a.5.5 0 01.5-.5z"});function Et(e){return r.createElement("svg",jt({width:24,height:24,viewBox:"0 0 24 24"},e),wt)}n.p;function kt(){return(kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Dt=r.createElement("path",{d:"M12.5 5a.5.5 0 01.5.5v11.791l2.146-2.145a.502.502 0 01.708.708l-3 3a.502.502 0 01-.708 0l-3-3a.502.502 0 01.708-.708L12 17.293V5.5a.5.5 0 01.5-.5z",fill:"currentColor",fillRule:"nonzero"});function Ct(e){return r.createElement("svg",kt({width:24,height:24,viewBox:"0 0 24 24"},e),Dt)}n.p;function St(){return(St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var It=r.createElement("path",{d:"M11.5 19a.5.5 0 00.5-.5V6.709l2.146 2.145a.502.502 0 00.708-.708l-3-3a.502.502 0 00-.708 0l-3 3a.502.502 0 00.708.708L11 6.707V18.5a.5.5 0 00.5.5z",fill:"currentColor",fillRule:"nonzero"});function Tt(e){return r.createElement("svg",St({width:24,height:24,viewBox:"0 0 24 24"},e),It)}n.p;function At(){return(At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var xt=r.createElement("path",{fill:"#FEBA07",fillOpacity:.1,stroke:"#ED9D04",strokeLinejoin:"square",d:"M8.2 18.6l3.8-2.3 3.8 2.3a.8.8 0 001-.9l-.9-4.2 3.3-2.8a.8.8 0 00-.4-1.3L14.4 9l-1.7-4a.8.8 0 00-1.4 0L9.6 9l-4.4.4a.8.8 0 00-.4 1.3l3.3 2.8-1 4.2a.8.8 0 001.1.9z",fillRule:"evenodd"});function Pt(e){return r.createElement("svg",At({width:24,height:24},e),xt)}n.p,n("vDIV");var Rt=n("AGwO");n("CX2L"),n("mtEF");function Nt(){return(Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Lt=r.createElement("g",{fill:"currentColor",fillRule:"evenodd"},r.createElement("path",{fillRule:"nonzero",d:"M14.505 19.09c.345.617.733.84 1.464.842.653.001 1.417-.43 2.015-1.104C19.418 17.173 20 15.383 20 12.23 20 7.679 16.413 4 12 4s-8 3.68-8 8.23c0 2.465.59 4.183 1.727 4.675.765.332 1.37.33 2.306.068.175-.049.217-.061.685-.207 1.168-.362 1.85-.503 2.761-.483 1.595.022 2.237.71 2.772 2.192l.028.078c.099.273.157.414.226.536zm-.873.488c-.528-.943-.44-2.271-2.166-2.295-2.407-.053-3.783 1.558-6.136.54C3.467 17.017 3 14.459 3 12.23 3 7.133 7.03 3 12 3s9 4.133 9 9.23c0 3.528-.734 5.492-2.26 7.253-.678.764-1.693 1.45-2.773 1.449-1.08-.003-1.807-.411-2.335-1.354z"}),r.createElement("path",{d:"M11.909 7.5a1 1 0 110-2 1 1 0 010 2zm3.214 1.17a1 1 0 111.286-1.532 1 1 0 01-1.286 1.532zm1.71 2.962a1 1 0 111.97-.348 1 1 0 01-1.97.348zM16.24 15a1 1 0 111.732 1 1 1 0 01-1.732-1zm-9.254-3.368a1 1 0 11-1.97-.348 1 1 0 011.97.348zm1.71-2.962A1 1 0 117.41 7.138 1 1 0 018.695 8.67z"}));function Mt(e){return r.createElement("svg",Nt({width:24,height:24},e),Lt)}n.p;var Ft=n("GS7h");function zt(e){var t=e.size,n=void 0===t?"medium":t,r=R()(e,["size"]);return"large"===n?a.a.createElement("svg",k()({width:"28",height:"28",viewBox:"0 0 28 28"},r),a.a.createElement("g",{fill:"currentColor",fillRule:"nonzero"},a.a.createElement("path",{d:"M14 19a5 5 0 1 1 0-10 5 5 0 0 1 0 10z",opacity:".1"}),a.a.createElement("path",{d:"M10.939 21.391a.5.5 0 0 1 .27.653L9.68 25.74a.5.5 0 1 1-.924-.383l1.53-3.695a.5.5 0 0 1 .654-.271zm6.776.27l1.53 3.696a.5.5 0 0 1-.923.383l-1.531-3.696a.5.5 0 0 1 .924-.382zM14 8a6 6 0 1 1 0 12 6 6 0 0 1 0-12zm-7.391 9.061a.5.5 0 0 1-.27.654l-3.696 1.53a.5.5 0 0 1-.383-.923l3.696-1.531a.5.5 0 0 1 .653.27zm15.435-.27l3.696 1.53a.5.5 0 0 1-.383.924l-3.695-1.53a.5.5 0 1 1 .382-.924zM14 9a5 5 0 1 0 0 10 5 5 0 0 0 0-10zM2.643 8.755l3.695 1.53a.5.5 0 1 1-.382.924L2.26 9.68a.5.5 0 1 1 .383-.924zm23.367.27a.5.5 0 0 1-.27.653l-3.696 1.531a.5.5 0 0 1-.382-.924l3.695-1.53a.5.5 0 0 1 .653.27zM9.678 2.26l1.531 3.696a.5.5 0 0 1-.924.382l-1.53-3.695a.5.5 0 1 1 .923-.383zm9.297-.27a.5.5 0 0 1 .27.653l-1.53 3.695a.5.5 0 1 1-.924-.382l1.53-3.696a.5.5 0 0 1 .654-.27z"}))):a.a.createElement("svg",k()({width:"24",height:"24",viewBox:"0 0 24 24"},r),a.a.createElement("g",{fill:"currentColor",fillRule:"nonzero"},a.a.createElement("path",{d:"M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z",opacity:".1"}),a.a.createElement("path",{d:"M9.704 17.543a.5.5 0 0 1 .27.654l-.956 2.31a.5.5 0 0 1-.924-.383l.957-2.31a.5.5 0 0 1 .653-.27zm5.245.27l.957 2.31a.5.5 0 0 1-.924.383l-.956-2.31a.5.5 0 0 1 .923-.382zM12 7.5a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9zm-5.543 6.796a.5.5 0 0 1-.27.653l-2.31.957a.5.5 0 0 1-.383-.924l2.31-.956a.5.5 0 0 1 .653.27zm11.74-.27l2.31.956a.5.5 0 0 1-.383.924l-2.31-.957a.5.5 0 0 1 .383-.923zM12 8.5a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zm-8.124-.406l2.31.957a.5.5 0 0 1-.383.923l-2.31-.956a.5.5 0 0 1 .383-.924zm16.9.27a.5.5 0 0 1-.27.654l-2.31.956a.5.5 0 0 1-.382-.923l2.31-.957a.5.5 0 0 1 .653.27zM9.019 3.495l.956 2.31a.5.5 0 0 1-.923.382l-.957-2.31a.5.5 0 1 1 .924-.382zm6.617-.27a.5.5 0 0 1 .271.652l-.957 2.31a.5.5 0 0 1-.923-.383l.956-2.31a.5.5 0 0 1 .653-.27z"})))}zt.propTypes={size:L.a.oneOf(["large","medium"])};var Bt=zt;function Vt(){return a.a.createElement("svg",{width:"24",height:"24"},a.a.createElement("g",{fill:"none"},a.a.createElement("path",{fill:"currentColor",d:"M12 5.5L9.85 7.65a.5.5 0 1 1-.7-.71l2.64-2.65a1 1 0 0 1 1.42 0l2.64 2.65a.5.5 0 0 1-.7.7L13 5.5v9.3a.5.5 0 0 1-1 0V5.5z"}),a.a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",d:"M20.5 11.5v4.44c0 .89-.1 1.21-.28 1.54a1.88 1.88 0 0 1-.81.75c-.35.18-.7.27-1.65.27H7.24c-.95 0-1.3-.1-1.64-.27a1.88 1.88 0 0 1-.8-.75c-.2-.33-.29-.65-.29-1.54V11.5"})))}function $t(){return($t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ht=r.createElement("path",{fill:"currentColor",d:"M18 3a3 3 0 013 3v12a3 3 0 01-3 3H6a3 3 0 01-3-3V6a3 3 0 013-3h12zm0 1H6a2.001 2.001 0 00-1.995 1.85L4 6v12c0 1.054.816 1.918 1.85 1.995L6 20h12a2.001 2.001 0 001.995-1.85L20 18V6a2.001 2.001 0 00-1.85-1.995L18 4zm-6 2.5a.5.5 0 01.492.41L12.5 7v10a.5.5 0 01-.992.09L11.5 17V7a.5.5 0 01.5-.5zm-4 0a.5.5 0 01.492.41L8.5 7v10a.5.5 0 01-.992.09L7.5 17V7a.5.5 0 01.5-.5zm8 0a.5.5 0 01.492.41L16.5 7v10a.5.5 0 01-.992.09L15.5 17V7a.5.5 0 01.5-.5z"});function Ut(e){return r.createElement("svg",$t({width:24,height:24,viewBox:"0 0 24 24"},e),Ht)}n.p;function qt(){return(qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Gt=r.createElement("path",{fill:"currentColor",d:"M18 3a3 3 0 013 3v12a3 3 0 01-3 3H6a3 3 0 01-3-3V6a3 3 0 013-3h12zm0 1H6a2.001 2.001 0 00-1.995 1.85L4 6v12c0 1.054.816 1.918 1.85 1.995L6 20h12a2.001 2.001 0 001.995-1.85L20 18V6a2.001 2.001 0 00-1.85-1.995L18 4zm-1 11.5a.5.5 0 01.09.992L17 16.5H7a.5.5 0 01-.09-.992L7 15.5h10zm0-4a.5.5 0 01.09.992L17 12.5H7a.5.5 0 01-.09-.992L7 11.5h10zm0-4a.5.5 0 01.09.992L17 8.5H7a.5.5 0 01-.09-.992L7 7.5h10z"});function Wt(e){return r.createElement("svg",qt({width:24,height:24,viewBox:"0 0 24 24"},e),Gt)}n.p;var Kt=a.a.memo((function(e){return a.a.createElement("svg",k()({width:"24",height:"24"},e),a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{fill:"#FF9801",d:"M13.77 4.8l7.3 12.17A2 2 0 0 1 19.36 20H4.75a2 2 0 0 1-1.72-3.03l7.3-12.17a2 2 0 0 1 3.44 0z"}),a.a.createElement("path",{fill:"#FFF",d:"M10.88 8.41h2.35l-.2 5.92h-1.95l-.2-5.92zm-.07 7.91c0-.7.45-1.11 1.24-1.11s1.26.4 1.26 1.11c0 .7-.47 1.11-1.26 1.11s-1.24-.4-1.24-1.1z"})))}));n("stxT");function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Jt=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.92 4.3a7.85 7.85 0 01-2.54 1A3.94 3.94 0 0015.47 4a4.04 4.04 0 00-3.89 5.02 11.23 11.23 0 01-8.23-4.27 4.17 4.17 0 00-.54 2.06c0 1.42.7 2.67 1.78 3.4a3.92 3.92 0 01-1.81-.5v.04a4.07 4.07 0 003.2 4.01 3.89 3.89 0 01-1.8.08 4 4 0 003.73 2.84A7.88 7.88 0 012 18.38a11.11 11.11 0 006.12 1.83c7.34 0 11.35-6.23 11.35-11.64v-.53a8.19 8.19 0 001.98-2.12 7.82 7.82 0 01-2.29.64 4.08 4.08 0 001.76-2.26"});function Qt(e){return r.createElement("svg",Yt({width:24,height:24},e),Jt)}n.p;function Zt(){return(Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Xt=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.12 20h-4.08v-6.2h2.08l.31-2.41h-2.39V9.85c0-.7.2-1.18 1.2-1.18h1.27V6.51c-.22-.03-.98-.1-1.86-.1-1.84 0-3.1 1.13-3.1 3.2v1.78h-2.09v2.41h2.09V20H4.88a.88.88 0 01-.88-.88V4.88c0-.49.4-.88.88-.88h14.24c.48 0 .88.4.88.88v14.24a.88.88 0 01-.88.88z"});function en(e){return r.createElement("svg",Zt({width:24,height:24},e),Xt)}n.p;function tn(){return(tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var nn=r.createElement("path",{fill:"currentColor",d:"M12 7.5a4.5 4.5 0 100 9 4.5 4.5 0 000-9zm0-1a5.5 5.5 0 110 11 5.5 5.5 0 010-11z"});function rn(e){return r.createElement("svg",tn({width:24,height:24},e),nn)}n.p;function an(){return(an=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var on=r.createElement("path",{fill:"currentColor",d:"M12 6.5a5.5 5.5 0 110 11 5.5 5.5 0 010-11zm0 1a4.5 4.5 0 100 9 4.5 4.5 0 000-9zm0 2.5a2 2 0 110 4 2 2 0 010-4z"});function cn(e){return r.createElement("svg",an({width:24,height:24},e),on)}n.p;function ln(){return(ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var sn=r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-4 -4)"},r.createElement("circle",{cx:12,cy:12,r:8,fill:"#FF9E13"}),r.createElement("path",{fill:"#FFF",d:"M11 11V8a1 1 0 012 0v3h3a1 1 0 010 2h-3v3a1 1 0 01-2 0v-3H8a1 1 0 010-2h3z"}));function un(e){return r.createElement("svg",ln({width:16,height:16},e),sn)}n.p;function dn(){return(dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var fn=r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-4 -4)"},r.createElement("circle",{cx:12,cy:12,r:8,fill:"#506578"}),r.createElement("path",{fill:"#FFF",d:"M14 15v1.43a.5.5 0 01-.82.39L11 15H9.92c-.67 0-.9-.07-1.15-.2a1.36 1.36 0 01-.57-.57c-.13-.24-.2-.48-.2-1.15v-2.16c0-.67.07-.9.2-1.15.13-.25.32-.44.57-.57.24-.13.48-.2 1.15-.2h4.16c.67 0 .9.07 1.15.2.25.13.44.32.57.57.13.24.2.48.2 1.15v2.16c0 .67-.07.9-.2 1.15-.13.25-.32.44-.57.57-.24.13-.48.2-1.15.2H14z"}));function mn(e){return r.createElement("svg",dn({width:16,height:16},e),fn)}n.p;function pn(){return(pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var hn=r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-4 -4)"},r.createElement("circle",{cx:12,cy:12,r:8,fill:"#3C9B0D"}),r.createElement("path",{fill:"#FFF",d:"M10.536 13.071l4.242-4.243a1 1 0 011.414 1.415l-4.95 4.95a1 1 0 01-1.414 0l-2.12-2.122a1 1 0 011.413-1.414l1.415 1.414z"}));function vn(e){return r.createElement("svg",pn({width:16,height:16},e),hn)}n.p;n.p;function bn(){return(bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var gn=r.createElement("g",{transform:"translate(0 -1)",fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M12 4c1.101 0 2.13.31 3.004.846L15 5c0 .41.05.81.143 1.192A4.719 4.719 0 0012 5a4.75 4.75 0 00-4.75 4.75c0 3.423-.731 6.248-2.193 8.476a.5.5 0 00.418.774h13.05a.5.5 0 00.418-.774c-1.462-2.227-2.193-5.053-2.193-8.476 0-.363-.04-.716-.118-1.056.332.304.705.563 1.11.768.006.095.008.191.008.288 0 3.24.682 5.875 2.03 7.927A1.5 1.5 0 0118.525 20H14.5a2.5 2.5 0 01-5 0H5.475a1.501 1.501 0 01-1.254-2.323C5.568 15.625 6.25 12.989 6.25 9.75A5.75 5.75 0 0112 4zm1.5 16h-3a1.5 1.5 0 003 0z"}),r.createElement("circle",{cx:20,cy:5,r:4,fill:"#FF9E13",className:"notification_indicator_outline_svg__dot"}));function _n(e){return r.createElement("svg",bn({width:24,height:24,viewBox:"0 0 24 24"},e),gn)}n.p;function yn(){return(yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var On=r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-4 -4)"},r.createElement("circle",{cx:12,cy:12,r:8,fill:"#4DC1E6"}),r.createElement("path",{fill:"#FFF",d:"M11.46 15.6v-3.06l-.31-.08c-1.65-.4-2.4-1.22-2.4-2.61 0-1.51 1.06-2.57 2.7-2.77V6h1.3v1.1c1.5.23 2.53 1.26 2.6 2.65h-1.37a1.6 1.6 0 00-1.24-1.32v2.9l.12.02c1.87.46 2.64 1.24 2.64 2.67 0 1.58-1.04 2.65-2.76 2.89V18h-1.28v-1.06c-1.73-.18-2.87-1.21-2.96-2.75h1.4c.1.73.68 1.24 1.56 1.4zm1.28-.02c.8-.18 1.33-.7 1.33-1.37 0-.64-.41-1.05-1.33-1.34v2.71zM11.46 8.4c-.79.17-1.28.66-1.28 1.36 0 .6.38.96 1.28 1.24V8.4z"}));function jn(e){return r.createElement("svg",yn({width:16,height:16},e),On)}n.p;function wn(){return(wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var En=r.createElement("path",{d:"M12 3a5.75 5.75 0 015.75 5.75c0 3.24.682 5.875 2.03 7.927A1.5 1.5 0 0118.525 19H14.5a2.5 2.5 0 01-5 0H5.475a1.501 1.501 0 01-1.254-2.323C5.568 14.625 6.25 11.989 6.25 8.75A5.75 5.75 0 0112 3zm1.5 16h-3a1.5 1.5 0 003 0zM12 4a4.75 4.75 0 00-4.75 4.75c0 3.423-.731 6.248-2.193 8.476a.5.5 0 00.418.774h13.05a.5.5 0 00.418-.774c-1.462-2.227-2.193-5.053-2.193-8.476A4.75 4.75 0 0012 4z",fill:"currentColor",fillRule:"nonzero"});function kn(e){return r.createElement("svg",wn({width:24,height:24,viewBox:"0 0 24 24"},e),En)}n.p;function Dn(){return(Dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Cn=r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-4 -4)"},r.createElement("circle",{cx:12,cy:12,r:8,fill:"#838383"}),r.createElement("path",{fill:"#FFF",d:"M7.25 12.17a.36.36 0 010-.5l.48-.49a.36.36 0 01.5 0l.25.26-.98.98-.25-.25zm.76.75l.98-.98L10 12.96l-.98.97-1.01-1zm1.51 1.52l.99-.98 1 1.01-.48.49a.69.69 0 01-.99 0l-.51-.52zM11 12.97l.98-.98 1 1.01-.98.98-1-1zm1.47-1.47l.98-.98 1.01 1.01-.98.98-1-1zm1.47-1.47l.98-.98 1.01 1.01-.98.98-1-1zm1.47-1.46l.24-.25a.34.34 0 01.5 0l.51.52a.35.35 0 010 .5l-.24.24-1.01-1.01z"}));function Sn(e){return r.createElement("svg",Dn({width:16,height:16},e),Cn)}n.p;n.p;function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Tn=r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-4 -4)"},r.createElement("circle",{cx:12,cy:12,r:8,fill:"#3A76EB"}),r.createElement("path",{fill:"#FFF",d:"M15 10V8h1v2h2v1h-2v2h-1v-2h-2v-1h2zm-5-2a2 2 0 110 4 2 2 0 010-4zm-3.5 6.6c0-1.4 1.6-2.6 3.5-2.6s3.5 1.2 3.5 2.6v.1c0 .5-.4.8-1 .8h-5c-.6 0-1-.3-1-.8z"}));function An(e){return r.createElement("svg",In({width:16,height:16},e),Tn)}n.p;function xn(){return(xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Pn=r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-4 -4)"},r.createElement("circle",{cx:12,cy:12,r:8,fill:"#3D3D3D"}),r.createElement("path",{fill:"#FFF",d:"M10 8a2 2 0 110 4 2 2 0 010-4zm-3.5 6.6c0-1.4 1.6-2.6 3.5-2.6s3.5 1.2 3.5 2.6v.1c0 .5-.4.8-1 .8h-5c-.6 0-1-.3-1-.8z"}),r.createElement("path",{fill:"#F4F4F4",d:"M14 11v-1h3v1z"}));function Rn(e){return r.createElement("svg",xn({width:16,height:16},e),Pn)}n.p;n.p;n.p;function Nn(){return(Nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ln=r.createElement("path",{fill:"currentColor",d:"M16 6a3 3 0 013 3v1h.1c1 0 1.9 1 1.9 2v4c0 1-.8 2-1.9 2H18v.5a.5.5 0 01-1 0V18H7v.5a.5.5 0 01-1 0V18H5a2 2 0 01-2-2v-4c0-1.1.9-2 2-2V9a3 3 0 013-3h8zm3 5a1 1 0 00-1 .9V15H6v-3a1 1 0 00-2-.1V16c0 .5.4 1 .9 1H19a1 1 0 001-.9V12c0-.6-.4-1-1-1zm-3-4H8c-1 0-2 .8-2 1.9v1.4c.6.3 1 1 1 1.7v2h10v-2a2 2 0 011-1.7V9c0-1-.8-2-1.9-2H16z"});function Mn(e){return r.createElement("svg",Nn({width:24,height:24,viewBox:"0 0 24 24"},e),Ln)}n.p;function Fn(){return(Fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var zn=r.createElement("path",{fill:"currentColor",d:"M19.3 6c2 0 3.7 1.6 3.7 3.7V11a2.5 2.5 0 013 2.4v5c0 1.4-1 2.5-2.4 2.5H21v.5a.5.5 0 01-1 0V21H8v.5a.5.5 0 01-1 0V21H4.5A2.5 2.5 0 012 18.5v-5a2.5 2.5 0 013-2.4V9.7C5 7.7 6.6 6 8.7 6h10.6zm4.2 6c-.8 0-1.4.6-1.5 1.4V17H6v-3.5a1.5 1.5 0 00-3-.1v5.1c0 .8.6 1.4 1.4 1.5h19.1c.8 0 1.4-.6 1.5-1.3v-5.2c0-.8-.7-1.5-1.5-1.5zm-4.2-5H8.7A2.7 2.7 0 006 9.5v2c.6.5 1 1.2 1 2V16h14v-2.5c0-.8.4-1.5 1-2V9.7C22 8.3 20.9 7 19.5 7h-.2z"});function Bn(e){return r.createElement("svg",Fn({width:28,height:28,viewBox:"0 0 28 28"},e),zn)}n.p;function Vn(){return(Vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var $n=r.createElement("path",{d:"M6 4.5h12c.8 0 1.5.7 1.5 1.5v2.5h-15V6c0-.8.7-1.5 1.5-1.5z",opacity:.1}),Hn=r.createElement("path",{fill:"currentColor",d:"M18 4a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 1H6a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1zm-2 10a1 1 0 110 2 1 1 0 010-2zm1-7a.5.5 0 010 1H7a.5.5 0 010-1h10z"});function Un(e){return r.createElement("svg",Vn({width:24,height:24},e),$n,Hn)}n.p;function qn(){return(qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Gn=r.createElement("path",{d:"M6 3.5h16c1.4 0 2.5 1.1 2.5 2.5v2.5h-21V6c0-1.4 1.1-2.5 2.5-2.5z",opacity:.1}),Wn=r.createElement("path",{fill:"currentColor",d:"M22 3a3 3 0 013 3v16a3 3 0 01-3 3H6a3 3 0 01-3-3V6a3 3 0 013-3h16zm0 1H6a2 2 0 00-2 2v16c0 1.1.9 2 2 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm-3 14a1 1 0 110 2 1 1 0 010-2zm2.5-10a.5.5 0 010 1h-15a.5.5 0 010-1z"});function Kn(e){return r.createElement("svg",qn({width:28,height:28},e),Gn,Wn)}n.p;function Yn(){return(Yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Jn=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.974 15.771l5.69-9.854a.499.499 0 11.863.498l-6 10.395a.499.499 0 01-.735.147.502.502 0 01-.061-.048l-3.366-3.14a.499.499 0 11.68-.729l2.929 2.731zM11.5 16h6a.5.5 0 110 1h-6a.5.5 0 110-1zm2-4h6a.5.5 0 110 1h-6a.5.5 0 110-1zm2-4h6a.5.5 0 110 1h-6a.5.5 0 110-1z"});function Qn(e){return r.createElement("svg",Yn({width:24,height:24,viewBox:"0 0 24 24"},e),Jn)}n.p;n.p;var Zn=n("PbLX");function Xn(){return(Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var er=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"currentColor",d:"M11 13h2.497c.278 0 .503.232.503.5 0 .276-.233.5-.503.5H11v2.497a.507.507 0 01-.5.503.507.507 0 01-.5-.503V14H7.503A.507.507 0 017 13.5c0-.276.233-.5.503-.5H10v-2.497c0-.278.232-.503.5-.503.276 0 .5.233.5.503V13z"}),r.createElement("path",{stroke:"currentColor",d:"M6.564 7.5c-.737 0-1.017.054-1.305.208a1.317 1.317 0 00-.551.551c-.154.288-.208.568-.208 1.305v7.872c0 .737.054 1.017.208 1.305.128.239.312.423.551.551.288.154.568.208 1.305.208h7.872c.737 0 1.017-.054 1.305-.208.239-.128.423-.312.551-.551.154-.288.208-.568.208-1.305V9.564c0-.737-.054-1.017-.208-1.305a1.317 1.317 0 00-.551-.551c-.288-.154-.568-.208-1.305-.208H6.564z"}),r.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M19 16.72V6a1 1 0 00-1-1H7.28c.174-.315.425-.563.743-.733.326-.174.65-.267 1.54-.267h7.873c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v7.873c0 .892-.093 1.215-.267 1.54-.17.319-.418.57-.733.744zm-1.564.28H9.564h7.872z"}));function tr(e){return r.createElement("svg",Xn({width:24,height:24,viewBox:"0 0 24 24"},e),er)}n.p;function nr(){return(nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var rr=r.createElement("path",{fill:"currentColor",d:"M10 13.5c3.323 0 5.803.697 7.427 2.119A2.5 2.5 0 0115.78 20H4.22a2.5 2.5 0 01-1.647-4.381C4.197 14.197 6.677 13.5 10 13.5zm0 1c-3.102 0-5.353.633-6.768 1.871A1.5 1.5 0 004.22 19h11.56a1.502 1.502 0 00.989-2.629C15.352 15.133 13.101 14.5 10 14.5zM19.5 6a.5.5 0 01.5.5V9h2.5a.5.5 0 010 1H20v2.5a.5.5 0 01-1 0V10h-2.5a.5.5 0 010-1H19V6.5a.5.5 0 01.5-.5zM10 4c2.21 0 4 1.79 4 4s-1.79 4-4 4-4-1.79-4-4 1.79-4 4-4zm0 1a3 3 0 100 6 3 3 0 000-6z",fillRule:"evenodd"});function ar(e){return r.createElement("svg",nr({width:24,height:24,viewBox:"0 0 24 24"},e),rr)}n.p;function or(){return(or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ir=r.createElement("path",{fill:"currentColor",d:"M12 13.5c3.323 0 5.803.697 7.427 2.119A2.5 2.5 0 0117.78 20H6.22a2.5 2.5 0 01-1.647-4.381C6.197 14.197 8.677 13.5 12 13.5zm0 1c-3.102 0-5.353.633-6.768 1.871A1.5 1.5 0 006.22 19h11.56a1.502 1.502 0 00.989-2.629C17.352 15.133 15.101 14.5 12 14.5zM12 4c2.21 0 4 1.79 4 4s-1.79 4-4 4-4-1.79-4-4 1.79-4 4-4zm0 1a3 3 0 100 6 3 3 0 000-6z",fillRule:"evenodd"});function cr(e){return r.createElement("svg",or({width:24,height:24,viewBox:"0 0 24 24"},e),ir)}n.p;function lr(){return(lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var sr=r.createElement("path",{d:"M8 4c2.21 0 4 1.79 4 4s-1.79 4-4 4-4-1.79-4-4 1.79-4 4-4zm0 1a3 3 0 100 6 3 3 0 000-6z",fill:"currentColor",fillRule:"nonzero"});function ur(e){return r.createElement("svg",lr({width:16,height:16,viewBox:"0 0 16 16"},e),sr)}n.p;function dr(){return(dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var fr=r.createElement("path",{d:"M6 2c2.21 0 4 1.79 4 4s-1.79 4-4 4-4-1.79-4-4 1.79-4 4-4zm0 1a3 3 0 100 6 3 3 0 000-6z",fill:"currentColor",fillRule:"nonzero"});function mr(e){return r.createElement("svg",dr({width:12,height:12,viewBox:"0 0 12 12"},e),fr)}n.p;function pr(){return(pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var hr=r.createElement("path",{d:"M8 8.5c2.93 0 4.87.838 5.819 2.515A2 2 0 0112.078 14H3.922a2.003 2.003 0 01-1.741-2.985C3.131 9.338 5.07 8.5 8 8.5zm0 1c-2.604 0-4.204.691-4.948 2.008A.999.999 0 003.922 13h8.156a1 1 0 00.87-1.492C12.204 10.19 10.604 9.5 8 9.5zm0-8a3 3 0 110 6 3 3 0 010-6zm0 1.037a1.964 1.964 0 10.002 3.928A1.964 1.964 0 008 2.537z",fill:"currentColor",fillRule:"nonzero"});function vr(e){return r.createElement("svg",pr({width:16,height:16,viewBox:"0 0 16 16"},e),hr)}n.p;function br(){return(br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var gr=r.createElement("path",{d:"M6 7c2.517 0 4.083.76 4.7 2.28a1.25 1.25 0 01-1.031 1.714L9.542 11H2.458A1.249 1.249 0 011.3 9.28c.593-1.461 2.064-2.22 4.414-2.277L6 7zm0 1c-2.15 0-3.335.575-3.773 1.656a.25.25 0 00.137.326l.047.013.047.005 7.033.001.077-.002a.25.25 0 00.205-.343C9.335 8.575 8.15 8 6 8zm0-7a2.5 2.5 0 01.164 4.995L6 6a2.5 2.5 0 01-.164-4.995L6 1zm0 1a1.5 1.5 0 10.001 3.001A1.5 1.5 0 006 2z",fill:"currentColor",fillRule:"nonzero"});function _r(e){return r.createElement("svg",br({width:12,height:12,viewBox:"0 0 12 12"},e),gr)}n.p;function yr(){return(yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Or=r.createElement("path",{d:"M15 14.5a2 2 0 011.936 1.498L19.5 16a.5.5 0 010 1l-2.563.001a2.001 2.001 0 01-3.874 0L4.5 17a.5.5 0 010-1l8.564-.002A2 2 0 0115 14.5zm-.982 1.81l.005-.025-.005.026-.003.014-.004.025-.007.061A.897.897 0 0014 16.5l.008.125.007.047-.001.002.003.014.006.024h-.001l.004.018.016.058.007.021.004.013.009.026.013.033.012.027-.011-.026.019.043-.008-.017.029.06-.018-.037.048.09a1 1 0 001.784-.155l.015-.039.006-.018-.015.039.022-.06-.001-.001.016-.057.004-.018.005-.024.001-.006v-.001l.005-.033.008-.06A.877.877 0 0016 16.5l-.008-.124-.007-.051-.001-.001-.003-.014-.01-.047-.004-.016-.007-.024-.01-.034-.004-.012-.01-.03-.006-.013-.007-.017-.01-.026a.998.998 0 00-1.843.043l-.014.034-.007.022-.014.047-.002.009v.001l-.005.016-.01.047zM9 9.5a2 2 0 011.936 1.498L19.5 11a.5.5 0 010 1l-8.563.001a2.001 2.001 0 01-3.874 0L4.5 12a.5.5 0 010-1l2.564-.002A2 2 0 019 9.5zm0 1a.998.998 0 00-.93.634l-.014.034-.007.022-.014.047-.002.009v.001l-.005.016-.01.047.005-.025-.005.026-.003.014-.004.025-.007.061C8 11.441 8 11.471 8 11.5l.008.125.007.047-.001.002.003.014.006.024h-.001l.004.018.016.058.007.021.004.013.009.026.013.033.012.027-.011-.026.019.043-.008-.017.029.06-.018-.037.048.09a1 1 0 001.784-.155l.015-.039.006-.018-.015.039.022-.06-.001-.001.016-.057.004-.018.005-.024.001-.006v-.001l.005-.033.008-.06A.877.877 0 0010 11.5l-.008-.124-.007-.051-.001-.001-.003-.014-.01-.047-.004-.016-.007-.024-.01-.034-.004-.012-.01-.03-.006-.013-.007-.017-.01-.026A1.002 1.002 0 009 10.5zm6-6a2 2 0 011.936 1.498L19.5 6a.5.5 0 010 1l-2.563.001a2.001 2.001 0 01-3.874 0L4.5 7a.5.5 0 010-1l8.564-.002A2 2 0 0115 4.5zm0 1a.998.998 0 00-.93.634l-.014.034-.007.022-.014.047-.002.009v.001l-.005.016-.01.047.005-.025-.005.026-.003.014-.004.025-.007.061C14 6.441 14 6.471 14 6.5l.008.125.007.047-.001.002.003.014.006.024h-.001l.004.018.016.058.007.021.004.013.009.026.013.033.012.027-.011-.026.019.043-.008-.017.029.06-.018-.037.048.09a1 1 0 001.784-.155l.015-.039.006-.018-.015.039.022-.06-.001-.001.016-.057.004-.018.005-.024.001-.006v-.001l.005-.033.008-.06C16 6.557 16 6.528 16 6.5l-.008-.124-.007-.051-.001-.001-.003-.014-.01-.047-.004-.016-.007-.024-.01-.034-.004-.012-.01-.03-.006-.013-.007-.017-.01-.026A1.002 1.002 0 0015 5.5z",fill:"currentColor",fillRule:"nonzero"});function jr(e){return r.createElement("svg",yr({width:24,height:24,viewBox:"0 0 24 24"},e),Or)}n.p,n("RU3q"),n("9qUF"),n("Ku9o"),n("faDx");function wr(){return(wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Er=r.createElement("path",{d:"M12 3a9 9 0 11-.001 18.001A9 9 0 0112 3zm0 1a8 8 0 100 16 8 8 0 000-16zm3.646 4.896a.502.502 0 01.708.708l-5.5 5.5a.502.502 0 01-.708 0l-2.5-2.5a.502.502 0 01.708-.708l2.146 2.147z",fill:"currentColor"});function kr(e){return r.createElement("svg",wr({width:24,height:24},e),Er)}n.p;function Dr(){return(Dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Cr=r.createElement("path",{d:"M12 5c2.861 0 6.026 2.122 9.493 6.367a1 1 0 010 1.266C18.026 16.878 14.861 19 12 19c-2.861 0-6.026-2.122-9.493-6.367a1 1 0 010-1.266C5.974 7.122 9.139 5 12 5zm0 1c-2.493 0-5.422 1.965-8.719 6 3.297 4.035 6.226 6 8.719 6 2.493 0 5.422-1.965 8.719-6C17.422 7.965 14.493 6 12 6zm0 2c2.21 0 4 1.79 4 4s-1.79 4-4 4-4-1.79-4-4 1.79-4 4-4zm0 1a3 3 0 100 6 3 3 0 000-6z",fill:"currentColor"});function Sr(e){return r.createElement("svg",Dr({width:24,height:24},e),Cr)}n.p;function Ir(){return(Ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Tr=r.createElement("path",{d:"M16.854 14.146l3 3 .011.013a.31.31 0 01.033.039l-.044-.052c.026.027.05.056.069.087l.02.035.02.041.014.04c.005.015.009.03.012.046l.006.033.005.052v.04l-.005.052L20 17.5a.52.52 0 01-.011.105l-.012.046-.015.04c-.005.014-.012.027-.019.04a.307.307 0 01-.02.036l-.025.035a.304.304 0 01-.033.04l-.011.012-3 3a.502.502 0 01-.708-.708L18.292 18H10.5a.5.5 0 010-1h7.792l-2.146-2.146a.502.502 0 01.708-.708zM5.75 16.25a1.25 1.25 0 110 2.5 1.25 1.25 0 010-2.5zm0-6a1.25 1.25 0 110 2.5 1.25 1.25 0 010-2.5zM19.5 11a.5.5 0 010 1h-9a.5.5 0 010-1h9zM5.75 4.25a1.25 1.25 0 110 2.5 1.25 1.25 0 010-2.5zM19.5 5a.5.5 0 010 1h-9a.5.5 0 010-1h9z",fill:"currentColor"});function Ar(e){return r.createElement("svg",Ir({width:24,height:24},e),Tr)}n.p,n("xlpU")},UbEc:function(e,t,n){e.exports=n.p+"assets/images/c53209c90fe5529645fce0fc3afe228b.png"},UrQx:function(e,t,n){e.exports={menuItem:"_3LrzV7IkpGFz4QZpgkxj3B"}},UtPQ:function(e,t,n){},Uwsd:function(e,t,n){},VBa0:function(e,t,n){},VDcK:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={RE_GMAIL:/\[\[gmail=(.+?),\s*(.+?)\]\]/gi,RE_OUTLOOK:/\[\[outlook=(.+?),(.+?)\]\]/gi,RE_THUNDERBIRD:/\[\[thunderbird\n(.+)\n(.+)\n\s*\]\]/gi,RE_TODOIST_LINK:/((?:(?:onenote:)?[\w-]+):\/\/[^\s]+)\s+[\[\(]([^\)]+)[\]\)]/gi,RE_MARKDOWN_LINK:/\[(.+?)\]\((.+?)\)/gi,RE_REGULAR_LINK:/(href=['"])*(^|\s+)((?:onenote:)?[\w-]+:\/\/[^\s<]+)/gi,RE_MARKDOWN_TODOIST_BOLD:/(^|[\s!?,;>:]+)(?:\*\*|__|!!)(.+?)(\*\*|__|!!)(?=$|[\s!?,;><:]+)/gi,RE_MARKDOWN_ITALIC_1:/(^|[\s!?,;>:]+)(?:_)(.+?)(_)(?=$|[\s!?,;><:]+)/gi,RE_MARKDOWN_ITALIC_2:/(^|[\s!?,;>:]+)(?:\*)(.+?)(\*)(?=$|[\s!?,;><:]+)/gi,RE_CODE_INLINE:/`([^`]+)`/gi,RE_CODE_BLOCK:/```([\s\S]*?)```/gi,RE_EMAIL:/(^|\s+)([a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,})(\b)/gi,LRU_CACHE:window.LRUCache&&new window.LRUCache(50)||null,formatSimple:function(e,t){var n=e+t.as_html+t.only_text;t.cache_prefix&&(n=t.cache_prefix+n);var r=null;if(this.LRU_CACHE&&(r=this.LRU_CACHE.get(n)),r&&!t.link_data)return r;null==t.with_email&&(t.with_email=!0),null==t.with_links&&(t.with_links=!0);var a=e;if((t=this.setOpts(a,t)).with_links&&(a=this.formatMarkdownLink(a,t),a=this.formatTodoistLink(a,t)),a=this.formatStyles(a,i(i({},t),{},{as_html:void 0!==t.styles_as_html?t.styles_as_html:t.as_html})),t.with_links&&(a=this.formatRegularLink(a,t)),t.with_email&&(a=this.formatEmails(a,t)),t.trim_limit&&(a=a.length>t.trim_limit?a.substring(0,t.trim_limit)+"\u2026":a),t.as_html){var o=this.hasOnlyEmojis(a);a=t.pure_emoji?a.replace(this.emojiRangesRegExp(),"$&"):a.replace(this.emojiRangesRegExp(),'<span class="emoji">$&</span>'),o&&(a='<span class="only_emojis">'+a+"</span>"),a=(a=(a=a.replace(this.emojiRangesRegExp(),(function(e,t,n){var r=n.charAt(t+1);return"<span>"+("\ufe0f"===r?e+r:e)+"</span>"}))).replace(/<\/span>\uFE0F/g,"</span>")).replace(/<span>([^<]+)<\/span>/g,"$1")}return!$isMac()&&t.as_html&&window.twemoji&&(a=window.twemoji.parse(a)),this.LRU_CACHE&&this.LRU_CACHE.put(n,a),a},_cache_emoji_all_regexp:null,_cache_emoji_range:null,hasOnlyEmojis:function(e){return""===(e=e.replace("<p>","").replace("</p>","").replace(/\s+/g,"").replace(this.emojiRangesRegExp(),"").replace(/\ufe0f/g,""))},emojiRangesRegExp:function(){if(this._cache_emoji_range)return this._cache_emoji_range;var e=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]/g;return this._cache_emoji_range=e,e},format:function(e,t){if(!e||0===e.length)return"";e=(e=e.replace(/</g,"&lt;")).replace(/>/g,"&gt;"),t=this.setOpts(e,t);var n={};for(var r in e=this.formatCode(this.RE_CODE_BLOCK,e,t,n),e=this.formatCode(this.RE_CODE_INLINE,e,t,n),e=this.formatGmail(e,t),e=this.formatOutlook(e,t),e=this.formatThunderbird(e,t),e=this.formatSimple(e,t),n){var a=n[r];e=e.replace(r,a)}return t.as_html&&(e=(e=e.replace(/\n/g,"<br>")).replace(/<br><code>/g,"<code>")),e},setOpts:function(e,t){return t||(t={}),void 0===t.as_html&&(t.as_html=!0),void 0===t.only_text&&(t.only_text=!1),t},formatGmail:function(e,t){if(-1==e.indexOf("[[gmail"))return e;return e.replace(this.RE_GMAIL,(function(e,n,r){if(t.fn_handle_gmail)return t.fn_handle_gmail(e,n,r);var a=r,o="https://mail.google.com/mail/#inbox/"+n;return t.only_text?"Gmail: "+a:t.as_html?"Gmail: "+c.generateLink(o,a,t):"Gmail: "+a+" ( "+o+" )"}))},formatOutlook:function(e,t){if(-1==e.indexOf("[[outlook"))return e;return e.replace(this.RE_OUTLOOK,(function(e,n,r){return t.fn_handle_outlook?t.fn_handle_outlook(e,n,r):"Outlook: "+r}))},formatThunderbird:function(e,t){if(-1==e.indexOf("[[thunderbird"))return e;return e.replace(this.RE_THUNDERBIRD,(function(e,n,r){return t.fn_handle_thunderbird?t.fn_handle_thunderbird(e,n,r):"Thunderbird: "+n}))},formatTodoistLink:function(e,t){if(-1!=e.indexOf("(")&&-1!=e.indexOf(")")){return e.replace(this.RE_TODOIST_LINK,(function(e,n,r){return t.only_text?r:t.as_html?c.generateLink(n,r,t):r+": "+n}))}return e},formatMarkdownLink:function(e,t){if(-1!=e.indexOf("[")&&-1!=e.indexOf("]")){return e.replace(this.RE_MARKDOWN_LINK,(function(e,n,r){return t.only_text?n:t.as_html?c.generateLink(r,n,t):n+": "+r}))}return e},formatRegularLink:function(e,t){if(-1==e.indexOf("://"))return e;return e.replace(this.RE_REGULAR_LINK,(function(e,n,r,a){if(!t.as_html)return e;if(n)return e;var o=a;return r+c.generateLink(a,o,t)}))},formatEmails:function(e,t){if(-1==e.indexOf("@")||-1!=e.indexOf("[[")&&-1!=e.indexOf("]]")||-1!=e.indexOf("thunder_id"))return e;return e.replace(this.RE_EMAIL,(function(e,n,r,a){return t.as_html?n+c.generateLink("mailto:"+r,r,t)+a:e}))},formatStyles:function(e,t){if(-1!=e.indexOf("!!")||-1!=e.indexOf("**")||-1!=e.indexOf("__")){var n=function(e,n,r,a){return" "==$first(r)||" "==$last(r)?e:t.only_text?n+r:t.as_html?n+"<strong>"+r+"</strong>":e};e=e.replace(this.RE_MARKDOWN_TODOIST_BOLD,n)}if(-1!=e.indexOf("*")||-1!=e.indexOf("_")){n=function(e,n,r,a){return" "==$first(r)||" "==$last(r)?e:t.only_text?n+r:t.as_html?n+"<em>"+r+"</em>":e};e=(e=e.replace(this.RE_MARKDOWN_ITALIC_1,n)).replace(this.RE_MARKDOWN_ITALIC_2,n)}return e},formatCode:function(e,t,n,r){if(-1==t.indexOf("`"))return t;return t.replace(e,(function(e,a){var o,i="\xb6P"+Object.keys(r).length;n.only_text?o=e:o=(-1!=t.indexOf("```")?'<code class="code_block">':'<code class="code_inline">')+$strip(a)+"</code>";return r[i]=o,i}))},generateLink:function(e,t,n){return e=(e=(e=e.trim()).replace(/^(java)?script[^\w.-]/gi,"")).replace(/"/g,""),n.fn_generate_link?n.fn_generate_link(e,t,n):'<a href="'+e+'">'+t+"</a>"}};t.a=c},VKB9:function(e,t,n){"use strict";n.d(t,"e",(function(){return r.a})),n.d(t,"h",(function(){return a.a})),n.d(t,"d",(function(){return o.a})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return m})),n.d(t,"i",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return k}));n("srBm");var r=n("vzVa"),a=n("lM7n"),o=n("bzl5"),i=n("71j2"),c=n("/MKj"),l=n("Jv0Z");function s(e){var t=Object(c.h)((function(e){return e}));try{return[i.b.filter(e,t),null]}catch(e){if(e instanceof l.c||e instanceof l.a)return[null,e];throw e}}var u=n("J4zp"),d=n.n(u),f=n("q1tI");n("peh1"),n("NZFV");function m(e){var t=Object(f.useRef)(e);return Object(f.useLayoutEffect)((function(){t.current=e})),Object(f.useCallback)((function(){return t.current.apply(t,arguments)}),[])}function p(){var e=window,t=e.innerHeight,n=e.innerWidth;return{height:"number"==typeof t?t:0,width:"number"==typeof n?n:0}}var h=function(){var e=Object(f.useState)((function(){return p()})),t=d()(e,2),n=t[0],r=t[1];return Object(f.useEffect)((function(){function e(){var e=p();e.height===n.height&&e.width===n.width||r(e)}return window.addEventListener("resize",e,!1),function(){return window.removeEventListener("resize",e,!1)}}),[n.height,n.width]),{height:n.height,width:n.width}};function v(e){var t=Object(r.a)(e);Object(f.useEffect)((function(){t&&!e&&(window.__REACH_DISABLE_TOOLTIPS=!0,window.requestAnimationFrame((function(){window.__REACH_DISABLE_TOOLTIPS=!1})))}),[e,t])}function b(){var e=f.useState(!1),t=d()(e,2),n=t[0],r=t[1];function a(){r(!0)}return{hasBeenFocusedOrHovered:n,onFocus:a,onMouseEnter:a}}var g=n("lSNA"),_=n.n(g),y=n("j7h4"),O=n("TRPC"),j=n("HR/i");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=e.namePrefix,n=e.rootCssSelector,r=Object(y.a)({useBorderBoxSize:!0,polyfill:j.a}),a=r.ref,o=r.height,i=Object(y.a)({useBorderBoxSize:!0,polyfill:j.a}),c=i.ref,l=i.height,s=document.documentElement;n&&(s=document.querySelector(n)||s);var u=Object(O.a)({ref:c,root:s,rootMargin:"-".concat(o,"px 0px ").concat(l,"px"),threshold:1}).entry;return{headerRef:a,contentRef:c,stickyProps:E(E({},u?u.isIntersecting?{}:{"data-overflow-top":""}:{}),{},{style:_()({},"--".concat(t,"-height"),"".concat(o,"px"))})}}},VKKv:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return C})),n.d(t,"a",(function(){return I}));var r=n("RIqP"),a=n.n(r),o=n("cDf5"),i=n.n(o),c=n("lSNA"),l=n.n(c),s=n("OgjY"),u=n("4qC0"),d=n.n(u),f=n("P/G1"),m=n.n(f),p=n("LYyr"),h=n("ANjH"),v=n("uS8r"),b=n.n(v),g=n("DwX5"),_=n.n(g),y=n("A72/"),O=n("Vdij");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){var t=w({},e),n=!1;return t.due&&"object"===i()(t.due)&&(t.due=new s.a(t.due),n=!0),d()(t.date_added)&&(t.date_added=new Date(t.date_added),n=!0),n?t:e},k=function(e,t){e=new Set(e);var n=function(e){return Object(h.d)((function(e){return new Set(e)}),b()((function(e){return e.id})),_()(e),m.a)},r=n((function(t){return e.has(t.item_id)}))(t.notes),o=n((function(t){return e.has(t.item_id)}))(t.reminders);return{notes:a()(r),reminders:a()(o)}};function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{due:null,note:null,labels:[],priority:1,responsible_uid:null,project_id:e.inbox_project,section_id:null}}function C(e){var t=w(w({},e),{},{due:e.due?e.due.toAPIFormat():null});return delete t.sync_id,t}var S=function(e){return Object(p.a)(_n("For performance reasons you can add at most one task per project. Please try re-organizing your tasks into multiple projects.","For performance reasons you can add at most {n} tasks per project. Please try re-organizing your tasks into multiple projects.",e),{n:e})};function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.delta,a=void 0===r?1:r,o=n.asError,i=void 0!==o&&o;if(!Object(y.i)(e,t,a)){var c=Object(y.s)(e);return i?{error:S(c.current.max_tasks)}:("pro"===c.current.plan_name||"teams"===c.current.plan_name?Object(O.a)({type:"TASKS",userPlanLimits:c}):Object(O.b)({type:"TASKS_FREE",userPlanLimits:c}),!0)}return!1}},VLRb:function(e,t,n){"use strict";t.a={mark:function(e){IstTooltip.hide(),IstComplete.hide()}}},"VNU/":function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("oHMr"),l=n("dGQG"),s=n("SgJ6"),u=n("KpGl"),d=n("giaj"),f=function(){function e(){var t=this;a()(this,e),this.theme="theme_todoist",this.theme_name="todoist",this.theme_number=15,this.loading_svg_bundles={},this.switchThemes=this.switchThemes.bind(this),this.loadSvgBundle=this.loadSvgBundle.bind(this),Object(l.a)(c.default,s.c,u.a,(function(e,n){var r;$html()&&void 0!==e&&n&&(t.theme_number!==e&&(null===(r=t.switchThemes(e))||void 0===r||r.catch((function(){}))))}))}return i()(e,[{key:"changeThemeClass",value:function(e){var t=d.e[e]||"todoist",n="theme_".concat(t),r=$html().className;r=r.replace(/theme_\S+/g,""),r+=" ".concat(n),$html().className=r}},{key:"switchThemes",value:function(e){var t=this;if($("top_bar"))return this.theme_number=e,this.theme_name=d.e[e]||"todoist",this.theme="theme_".concat(this.theme_name),this.loadSvgBundle().then((function(){return t.changeThemeClass(t.theme_number),document.querySelector('meta[name="theme-color"]').setAttribute("content",window.getComputedStyle(document.getElementById("top_bar")).getPropertyValue("background-color")),Signals.sendSignal("theme_changed")})).catch((function(){}))}},{key:"loadSvgBundle",value:function(){switch(this.theme_name||"todoist"){case"amethyst":return n.e(36).then(n.t.bind(null,"bDbN",7));case"blueberry":return n.e(37).then(n.t.bind(null,"aLfr",7));case"clover":return n.e(38).then(n.t.bind(null,"8R7V",7));case"dark":return n.e(39).then(n.t.bind(null,"B+my",7));case"graphite":return n.e(41).then(n.t.bind(null,"1Emv",7));case"gold":return n.e(40).then(n.t.bind(null,"r6RH",7));case"neutral":return n.e(42).then(n.t.bind(null,"aW5d",7));case"noir":return n.e(43).then(n.t.bind(null,"Zy+d",7));case"sky":return n.e(46).then(n.t.bind(null,"PPf7",7));case"sunflower":return n.e(47).then(n.t.bind(null,"8PWQ",7));case"tangerine":return n.e(48).then(n.t.bind(null,"wzJU",7));case"todoist":return n.e(49).then(n.t.bind(null,"E0Ow",7));case"pink":return n.e(44).then(n.t.bind(null,"s+4a",7));case"royal_blue":return n.e(45).then(n.t.bind(null,"eBoo",7));default:return Promise.reject(new Error("Unable to load unknown theme: ".concat(this.theme_name)))}}}]),e}();window.Themes=new f,t.a=window.Themes},Vbab:function(e,t,n){"use strict";var r=n("OeMC");n.d(t,"a",(function(){return r.b})),n.d(t,"b",(function(){return r.c})),n.d(t,"d",(function(){return r.e})),n.d(t,"c",(function(){return r.d}))},Vdij:function(e,t,n){"use strict";var r=n("X6fj");n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}));n("Rhkm"),n("M1jK")},W90o:function(e,t,n){e.exports=n.p+"assets/images/e4d8d70a9f01678dcc7a8282581d3ddb.png"},WMFH:function(e,t){Object.defineProperty(window,"MINI_VERSION",{get:function(){return window.innerWidth<750}})},WgXA:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n("MrOw"),a=n("AwnZ"),o=n("oHMr"),i=n("4PH6"),c=n("7ptE"),l=n("n7q7"),s=n("TQFH"),u=function(e){var t={id:e.id};return e.sync_id&&(t.sync_id=e.sync_id),"https://todoist.com/showTask?"+$encode(t)},d=function(e){e=Object(s.u)(o.default.getState(),e.id)||e;var t=function(){e=Object(s.u)(o.default.getState(),e.id)||e;var t=u(e);c.a.supported?Object(c.a)(t).then((function(){return o.default.dispatch(Object(i.g)(_("Link copied!")))})).catch((function(){return f(t)})):f(t)};return Object(l.a)(e.id)?r.default.getInstance().sync({onSuccess:function(){return t()}},!0):t(),!1};function f(e){var t=DIV(Indicator.cssSpinner());GB_showHTML(_("Link to task"),t,200,400);var n=a.a.genereate();n.input.value=e,$replace(t,n.form),n.input.select(),n.fn_copy_to_clipboard()}},Wo0o:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),l=n.n(c),s=n("17x9"),u=n.n(s),d=n("L8gx");function f(e){var t=e.text,n=e.withLinks,r=void 0!==n&&n,o=i()(e,["text","withLinks"]),c=d.a.formatSimple(t,{only_text:!0,as_html:!1,with_links:r,with_emojis:!0});return l.a.createElement("span",a()({},o,{dangerouslySetInnerHTML:{__html:c}}))}f.propTypes={text:u.a.string,withLinks:u.a.bool},t.a=f},WxMS:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7W2i"),l=n.n(c),s=n("a1gu"),u=n.n(s),d=n("Nsbk"),f=n.n(d),m=n("q1tI"),p=n.n(m),h=n("17x9"),v=n.n(h);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var g=function(e){l()(n,e);var t=b(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.onClick;return p.a.createElement("button",{className:"empty-state-button",onClick:n},t)}}]),n}(p.a.PureComponent);g.propTypes={onClick:v.a.func,children:v.a.node},g.defaultProps={onClick:function(){}},t.a=g},X657:function(e,t,n){e.exports={educationBanner:"_1P2C_nIb1N_1CgnHsRKZRg",body:"_1DpKppnLJKtTK2qYsZ3gVe",actions:"_2ZH3mU2iv8KZWqO5l7_LSm"}},X6fj:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n("q1tI"),a=n.n(r),o=n("i8i4"),i=n.n(o),c=n("Rhkm"),l=n("M1jK");function s(e){return function(t){var n=t.type,r=t.userPlanLimits,o=document.createElement("div");document.documentElement.appendChild(o),i.a.render(a.a.createElement(e,{userPlanLimits:r,isOpen:!0,onClose:function(){i.a.unmountComponentAtNode(o),document.documentElement.removeChild(o)},type:n}),o)}}var u=s(c.a),d=s(l.a)},XM3Z:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));var r,a=n("lwsE"),o=n.n(a),i=n("W8MJ"),c=n.n(i),l=n("lSNA"),s=n.n(l),u=n("duPW"),d=n.n(u);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p="pe",h="ce",v=(r={},s()(r,"re","Error HTTP response received"),s()(r,p,"Data pipeline error"),s()(r,"pd","Data pipeline process deferred due to unsync commands"),s()(r,h,"Commands error"),r),b=new(function(){function e(){var t=this;o()(this,e),this.logs=[],Signals.connect("load_cached_data",(function(){return t.loadCachedData()}))}return c()(e,[{key:"loadCachedData",value:function(){try{var e=$storage("synclogs/errors").get();if(!e)return;this.logs=e.map((function(e){var t={code:e.c,timestamp:e.t};return e.e&&(t.extra=e.e),t})),this.logs=this.logs.filter((function(e){return"pd"!==e.code})),this.logs=this.logs.filter((function(e){return"re"!==e.code})),this.logs=this.logs.map((function(e){return"re"===e.code&&d()("extra.error",e)&&delete(e=m({},e)).extra,e}))}catch(e){}}},{key:"syncCachedData",value:function(){var e=this.logs.map((function(e){var t={c:e.code,t:e.timestamp};return e.extra&&(t.e=e.extra),t}));$storage("synclogs/errors").set(e)}},{key:"log",value:function(e,t){var n={code:e,timestamp:Date.now(),extra:t};n.extra||delete n.extra,this.logs.push(n),this.logs=this.logs.slice(0,50),this.syncCachedData(),Signals.sendSignal("synclogs_updated",n)}},{key:"get",value:function(){return this.logs}},{key:"getReport",value:function(){var e=n("MrOw").default,t=e.getInstance().sync_queue.get(),r=e.getInstance().getReportableErrorQueue(),a=t.filter((function(e){return!e.last_error})).length,o=r.length,i=this.logs.map((function(e){return(e=m({},e)).msg=v[e.code],e.isoTime=new Date(e.timestamp).toISOString(),delete e.code,e})),c=e.getInstance().last_synced;return{reportCreatedAt:(new Date).toISOString(),logs:i,queueLength:t.length,firstRunCmdCount:a,failedCmdCount:o,lastSyncAt:c,failedCmds:r}}},{key:"errorLogTest",value:function(){try{throw new Error("SyncLogs error log test")}catch(e){this.log(p,{error:e})}}}]),e}());window.SyncLogs=b,t.c=b},XOeF:function(e,t,n){"use strict";var r=n("kcLj");n.d(t,"A",(function(){return r.c}));var a=n("sDGk");n.d(t,"f",(function(){return a.m})),n.d(t,"g",(function(){return a.n})),n.d(t,"h",(function(){return a.o})),n.d(t,"j",(function(){return a.q})),n.d(t,"v",(function(){return a.s})),n.d(t,"w",(function(){return a.t})),n.d(t,"x",(function(){return a.u})),n.d(t,"y",(function(){return a.v})),n.d(t,"z",(function(){return a.w})),n.d(t,"u",(function(){return a.r})),n.d(t,"i",(function(){return a.p})),n.d(t,"a",(function(){return a.e})),n.d(t,"b",(function(){return a.h})),n.d(t,"c",(function(){return a.i}));var o=n("kbOS");n.d(t,"k",(function(){return o.b})),n.d(t,"l",(function(){return o.c})),n.d(t,"m",(function(){return o.d})),n.d(t,"n",(function(){return o.e})),n.d(t,"o",(function(){return o.f})),n.d(t,"p",(function(){return o.h})),n.d(t,"q",(function(){return o.i})),n.d(t,"r",(function(){return o.j})),n.d(t,"s",(function(){return o.m})),n.d(t,"t",(function(){return o.n})),n.d(t,"d",(function(){return o.a})),t.e=r.a},Xczw:function(e,t,n){"use strict";var r=n("/MKj"),a=n("XOeF"),o=n("lSNA"),i=n.n(o),c=n("RIqP"),l=n.n(c),s=n("q1tI"),u=n("17x9"),d=n.n(u),f=n("S+H7"),m=n("gmEJ"),p=n("4eld"),h=n("ncwO"),v=n("UVeO"),b=n("Ba5u"),g=n("GpCm");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=e.children,n=e.collaborators,r=e.projects,o=e.sections,i=e.selectedProjectId,c=e.selectedSectionId,u=e.withAllProjectsOption,d=void 0!==u&&u,y=e.withSectionSelection,j=void 0!==y&&y,w=e.onProjectAdd,E=void 0===w?function(){}:w,k=e.onSelect,D=e.childlessRef,C=e.isShown,S=e.onClose,I=e.placement,T=e.withArrow;return d&&(r=[{id:0,name:_("All Projects")}].concat(l()(r))),j&&(r=r.reduce((function(e,t){var n=Object(m.i)(t.id)({sections:o});return e.concat(t).concat(n.map((function(e){return O(O({},e),{},{project:t,type:"section"})})))}),[])),s.createElement(h.a,{label:_("Select a project"),className:"project_picker",items:r,renderItem:function(e){return function(e,t){if("section"===e.type){var r,a=s.createElement("span",{className:"project_picker_item_icon",dangerouslySetInnerHTML:{__html:svgs.getString("sm1/section.svg")}}),o=e.flat||null==(null===(r=e.project)||void 0===r?void 0:r.indent)?1:e.project.indent+1;return s.createElement(s.Fragment,null,s.createElement("div",{className:"project_picker_item","data-indentation-level":o},a,s.createElement("span",{className:"project_picker_item_name"},s.createElement(b.a,{source:e.name})),e.id===c?s.createElement(v.t,{className:"dropdown_select_checkmark"}):null),e.flat&&e.project?s.createElement("div",{className:"project_picker_section_project"},s.createElement("span",{style:{visibility:"hidden"}},a),s.createElement("span",{className:"project_picker_section_project_name"},s.createElement(b.a,{source:e.project.name}))):null)}return s.createElement("div",{className:"project_picker_item","data-indentation-level":e.indent},s.createElement(v.Ob,{project:e,isShared:Object(f.m)({collaborators:n},e.id)}),s.createElement("span",{className:"project_picker_item_name"},s.createElement(b.a,{source:e.name})),t?s.createElement(v.t,{className:"dropdown_select_checkmark"}):null)}(e.item,e.isSelected)},filterItems:function(e){var t=e.items,n=e.value;return""===n?t:Object(a.o)(n,{projects:t}).map((function(e){return"section"===e.type?O(O({},e),{},{flat:!0}):e}))},renderEmptyResult:function(e){return function(e){return s.createElement("div",{className:"project_picker_empty"},s.createElement("span",null,_("Project not found")),s.createElement(p.a,{onClick:function(t){t.stopPropagation(),E(e)}},s.createElement(v.y,null),_('Create "{query}"').replace("{query}",e)))}(e.searchValue)},inputPlaceholder:_("Type a project"),selectedItemId:i,onSelect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.closeDropdown;"section"===e.type?k({project_id:e.project_id,section_id:e.id}):k({project_id:e.id,section_id:null}),"function"==typeof n&&n()},referenceElement:D,isShown:C,onClose:S,placement:I,modifiers:[g.b,g.a],nose:T},t)}j.propTypes={children:d.a.func,collaborators:d.a.object,projects:d.a.arrayOf(d.a.shape({id:d.a.oneOfType([d.a.string,d.a.number]).isRequired})),sections:d.a.object,selectedProjectId:d.a.oneOfType([d.a.string,d.a.number]),selectedSectionId:d.a.oneOfType([d.a.string,d.a.number]),withSectionSelection:d.a.bool,withAllProjectsOption:d.a.bool,onProjectAdd:d.a.func,onSelect:d.a.func.isRequired,childlessRef:d.a.object,isShown:d.a.bool,onClose:d.a.func,placement:d.a.string,withArrow:d.a.bool};var w=j;t.a=Object(r.c)((function(e){return{collaborators:e.collaborators,projects:Object(a.m)(e),sections:e.sections}}),(function(e){return{onProjectAdd:function(t){return e(Object(a.f)({name:t}))}}}))(w)},XtcL:function(e,t,n){"use strict";n.d(t,"e",(function(){return M})),n.d(t,"g",(function(){return F})),n.d(t,"f",(function(){return z})),n.d(t,"i",(function(){return B})),n.d(t,"h",(function(){return $})),n.d(t,"b",(function(){return W})),n.d(t,"a",(function(){return K})),n.d(t,"c",(function(){return Y})),n.d(t,"k",(function(){return J})),n.d(t,"j",(function(){return Q}));var r=n("J4zp"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("Y+p1"),l=n.n(c),s=n("7GkX"),u=n.n(s),d=n("noZS"),f=n.n(d),m=n("bKtp"),p=n("OljV"),h=n("y6Ls"),v=n.n(h),b=n("qOpA"),g=n.n(b),_=n("duPW"),y=n.n(_),O=n("DNwz"),j=n.n(O),w=n("uS8r"),E=n.n(w),k=n("oqHG"),D=n.n(k),C=n("ANjH"),S=n("qRd9"),I=n("nvqi"),T=n("TQFH"),A=n("RZq6"),x=function(e,t){return function(n,r){try{return e(n,r)}catch(e){return A.captureError(e,t),n}}};function P(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(){return function(e){return Object(m.a)("/completed/get_stats",{params:{as_karma_graph:0},withToken:!0}).then((function(t){return e({type:"STATS_FETCHED",payload:t}),t}))}},F=function(e){return{type:"STATS_RESET_TODAY_COUNT",payload:e}},z=function(e){return{type:"STATS_RESET_THIS_WEEK_COUNT",payload:e}},B=function(){return Object(p.a)(new Date,{dateOnly:!0})},V=function(e){var t=function(e){var t=new Date(e);return t.setDate(e.getDate()+(1-e.getDay()-7)%7),t}(e),n=new Date(e);return n.setDate(t.getDate()+6),t=Object(p.a)(t,{dateOnly:!0}),n=Object(p.a)(n,{dateOnly:!0}),"".concat(t,"/").concat(n)},$=function(){return V(new Date)},H=function(e,t,n){var r=e[t];return r||(r={total_completed:0,date:t}),r=L(L({},r),{},{total_completed:Math.max(r.total_completed+n,0)}),L(L({},e),{},i()({},t,r))},U=function(e,t,n){var r=e[t];if(!r){var o=t.split("/"),c=a()(o,2);r={total_completed:0,from:c[0],to:c[1]}}return r=L(L({},r),{},{total_completed:Math.max(r.total_completed+n,0)}),L(L({},e),{},i()({},t,r))},q=Object(C.d)(v()("date"),E()(g()(["total_completed","date"]))),G=Object(C.d)(v()((function(e){return"".concat(e.from,"/").concat(e.to)})),E()(g()(["total_completed","to","from"]))),W=(t.d=x((function(e,t){var n=e&&e.goals,r=e&&e.days_items,o=e&&e.week_items,c=e&&e.completed_count;return r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;switch(t.type){case S.a:var r=t.payload.stats;if(!r)return e;var o=f()(r.days_items,(function(e){return e.goal_first_reached_at?L(L({},e),{},{goal_first_reached_at:new Date(e.goal_first_reached_at)}):e}));return o;case"STATS_FETCHED":var c=q(t.payload.days_items);return c;case I.a:case I.b:var l=y()("stats.days_items")(t.payload);if(!l)return e;l=q(l);var s,u=L({},e),d=!1,m=P(D()(l));try{for(m.s();!(s=m.n()).done;){var p=a()(s.value,2),h=p[0],v=p[1],b=y()("".concat(h,".total_completed"));b(e)!==v.total_completed&&(u[h]=L(L({},u[h]),v),d=!0)}}catch(e){m.e(e)}finally{m.f()}return d?u:e;case T.a:case T.b:var g=H(e,B(),1),_=j()(0,"".concat(B(),".total_completed"),e)<n,O=j()(0,"".concat(B(),".total_completed"),g)>=n,w=y()("".concat(B(),".goal_first_reached_at"),g);return!w&&_&&O&&(g[B()].goal_first_reached_at=new Date),g;case T.h:case T.d:case T.c:return H(e,B(),-1);case"STATS_RESET_TODAY_COUNT":var E=t.payload,k=e[B()];return k?(delete(k=L(L({},k),{},{total_completed:E})).goal_first_reached_at,L(L({},e),{},i()({},B(),k))):e;default:return e}}(r,t,(n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{daily_goal:1,ignore_days:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.a:var n=t.payload.stats;return n?n.goals:e;case"STATS_FETCHED":var r=t.payload.goals.daily_goal,a=t.payload.goals.ignore_days,o=t.payload.goals.weekly_goal;return r===e.daily_goal&&o===e.weekly_goal&&l()(a,e.ignore_days)?e:{daily_goal:r,ignore_days:a,weekly_goal:o};case I.a:case I.b:var i=t.payload.user;if(!i)return e;var c=i.daily_goal,s=i.weekly_goal,u=i.ignore_days;return c===e.daily_goal&&s===e.weekly_goal&&l()(u,e.ignore_days)?e:{daily_goal:c,ignore_days:u,weekly_goal:s};default:return e}}(n,t)).daily_goal),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;switch(t.type){case S.a:var r=t.payload.stats;if(!r)return e;var o=f()(r.week_items,(function(e){return e.goal_first_reached_at?L(L({},e),{},{goal_first_reached_at:new Date(e.goal_first_reached_at)}):e}));return o;case"STATS_FETCHED":return G(t.payload.week_items);case I.a:case I.b:var c=y()("stats.week_items")(t.payload);if(!c)return e;c=G(c);var l,s=L({},e),u=!1,d=P(D()(c));try{for(d.s();!(l=d.n()).done;){var m=a()(l.value,2),p=m[0],h=m[1],v=y()("".concat(p,".total_completed"));v(e)!==h.total_completed&&(s[p]=L(L({},s[p]),h),u=!0)}}catch(e){d.e(e)}finally{d.f()}return u?s:e;case T.a:case T.b:var b=$(),g=U(e,b,1),_=j()(0,"".concat(b,".total_completed"),e)<n,O=j()(0,"".concat(b,".total_completed"),g)>=n,w=y()("".concat(b,".goal_first_reached_at"),g);return!w&&_&&O&&(g[b].goal_first_reached_at=new Date),g;case T.h:case T.d:case T.c:return U(e,$(),-1);case"STATS_RESET_THIS_WEEK_COUNT":var E=t.payload,k=e[$()];return k?(delete(k=L(L({},k),{},{total_completed:E})).goal_first_reached_at,L(L({},e),{},i()({},$(),k))):e;default:return e}}(o,t,n.weekly_goal),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.a:if(!t.payload.user&&!t.payload.stats)return e;var n=y()("user.completed_count")(t.payload);return n||j()(0,"stats.completed_count")(t.payload);case"STATS_FETCHED":return t.payload.completed_count;case I.a:case I.b:var r=y()("stats.completed_count")(t.payload);return r||e;case T.a:case T.b:return e+1;case T.h:case T.d:case T.c:return e-1;default:return e}}(c,t),e?e.goals===n&&e.days_items===r&&e.week_items===o&&e.completed_count===c?e:{days_items:r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=[0,1,2,3,4,5,6].map((function(e){var n=new Date(t);return n.setDate(t.getDate()-e),Object(p.a)(n,{dateOnly:!0})})),r=u()(e).find((function(e){return-1===n.indexOf(e)}));return r?g()(n,e):e}(r),week_items:o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=[0,1,2,3].map((function(e){var n=new Date(t);return n.setDate(n.getDate()-7*e),V(n)})),r=u()(e).find((function(e){return-1===n.indexOf(e)}));return r?g()(n,e):e}(o),goals:n,completed_count:c}:{days_items:r,week_items:o,goals:n,completed_count:c}}),{tags:{reducer:"stats"}}),function(e){return j()(0,"stats.days_items.".concat(B(),".total_completed"),e)});function K(e,t){return j()(0,"stats.days_items.".concat(t,".total_completed"),e)}var Y=function(e){return y()("stats.goals.daily_goal",e)},J=function(e){return y()("stats.goals.weekly_goal",e)},Q=function(e){return j()(0,"stats.completed_count",e)}},XuZw:function(e,t,n){e.exports={activityLogPage:"_3vITTmapodgsDlxrY8CCUT",activityLogHeader:"_3aRevNssg1iR0epifqWnSf",projectFilter:"_226qqI-xs5htwPeZhuWijh",chevronIcon:"_3JbbKXCgAbE0cDpLb2E5_T",filterRow:"_3N8XzDeT9cQ-DJJLwjXN8U",personFilter:"ue_lmDlctgqd7OEl54D4L",eventFilter:"_2FihkY_wf_Ptl-ykDK5noy",personFilterInactive:"U1e6tfKF3yICpVA9u9Jga",activities:"_6JSw8SN7kccAy1Lf9lZUp",activityLoader:"_937UmjrcrGN6ivJnWkZ8",loadMore:"_1ZRXziZRdYYhgCOm8Q9dPF",eventObjectContent:"_3N9H_VsD-lqrIQYqqii2JR",eventObjectContentThrough:"_31pFubc92R05jd8YqqX4Jw"}},"Y+fe":function(e,t,n){},Y9Bd:function(e,t,n){},YE98:function(e,t,n){},YEuO:function(e,t,n){e.exports={bodyText:"akdyuW7GQja-QxDfJ5a8w",image:"XAoJ5KMZv6Uo5fExI4af4"}},Ymoq:function(e,t,n){"use strict";n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return _}));var r=n("QILm"),a=n.n(r),o=n("pVnL"),i=n.n(o),c=n("q1tI"),l=n("KIK8"),s=n("eSTV"),u=n("+VHN"),d=n("zT6Q");n.d(t,"g",(function(){return d.a}));n("n987");var f={ComboboxInput:l.a,ComboboxOption:s.a,ComboboxPopover:u.a},m=c.createContext({});function p(){return c.useContext(m)}function h(e){var t=e.children,n=e.state;return c.createElement(m.Provider,{value:n},t)}var v=c.forwardRef((function(e,t){var n=c.useContext(m);return c.createElement(f.ComboboxInput,i()({ref:t},n,e))}));function b(e){var t=e.children,n=a()(e,["children"]),r=c.useContext(m);return c.createElement(f.ComboboxPopover,i()({},r,n),"function"==typeof t?t(r):t)}function g(e){var t=c.useContext(m);return c.createElement(f.ComboboxOption,i()({},t,e))}function _(e){var t,n=e.text,r=e.highlightText,a=e.className,o=c.useContext(m).inputValue;r=null!==(t=r)&&void 0!==t?t:o.trim();var i=n.toLowerCase().indexOf(r.toLowerCase());if(i<0)return c.createElement("div",{className:a},n);var l=n.substr(0,i),s=n.substr(i,r.length),u=n.substr(i+r.length);return c.createElement("div",{className:a},l,c.createElement("mark",null,s),u)}},YoG7:function(e,t){var n;n=function(){function e(){}return e.prototype.create=function(e){var t,n,r,a,o,i;if(r=DIV({c:"textarea_holder"},e.text_area),e.buttons){for(n=DIV({c:"textarea_buttons"}),a=0,o=(i=e.buttons).length;a<o;a++)t=i[a],$add(n,t);$add(r,n)}return $AEV(r,"click",(function(t){var n;return!(!(n=$eventElm(t))||!$isIn($nodeName(n),["input","textarea"]))||e.text_area.focus()})),r},e}(),window.TextAreaHolder=new n},Yq95:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("J4zp"),a=n.n(r),o=n("q1tI");function i(e){return[Math.cos(2*Math.PI*e),Math.sin(2*Math.PI*e)]}var c={transform:"rotate(-90deg)",width:"24px",height:"24px"};function l(e){var t=e.progress,n=i(0),r=a()(n,2),l=r[0],s=r[1],u=i(t),d=a()(u,2),f=d[0],m=d[1],p=t>.5?1:0,h=["M ".concat(l," ").concat(s),"A 1 1 0 ".concat(p," 1 ").concat(f," ").concat(m),"L 0 0"].join(" ");return o.createElement("svg",{viewBox:"-2 -2 4 4",style:c},o.createElement("circle",{cx:"0",cy:"0",r:"1.4",fill:"none",visibility:"visible",stroke:"currentColor",strokeWidth:"0.2"}),o.createElement("path",{fill:"currentColor",d:h}))}function s(){return o.createElement("svg",{width:24,height:24},o.createElement("path",{fill:"currentColor",d:"M12.707 12.707l-1.414-1.414-2.117-2.117c3.646-3.484 7.75-4.978 9.188-3.54 1.438 1.438-.056 5.542-3.54 9.188l-2.117-2.117zM10.586 12L12 13.414l-4.95 4.95a1 1 0 0 1-1.414-1.414l4.95-4.95zm5.763-7.882c-2.254.192-5.208 1.79-7.88 4.35L5.635 5.636a9.004 9.004 0 0 1 10.713-1.518zm3.533 3.533a9.004 9.004 0 0 1-1.518 10.713l-2.832-2.832c2.56-2.673 4.158-5.627 4.35-7.88z"}))}function u(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.createElement("defs",null),o.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(3 3)"},o.createElement("mask",{id:"4ZtaWA",fill:"#fff"},o.createElement("path",{id:"a",d:"M12.3 5L7 10.3 5.4 8.6a.5.5 0 0 0-.8 0l-3.9 4a9 9 0 1 1 .5.9L5 9.7l1.6 1.7a.5.5 0 0 0 .8 0L13 5.7v3.8a.5.5 0 1 0 1 0v-5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.8z"})),o.createElement("g",{mask:"url(#4ZtaWA)"},o.createElement("path",{fill:"currentColor",d:"M-3-3h24v24H-3z"}))))}function d(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("g",{fill:"currentColor",fillRule:"nonzero"},o.createElement("g",null,o.createElement("g",null,o.createElement("path",{d:"M12 3c4.97 0 9 4.03 9 9s-4.03 9-9 9-9-4.03-9-9 4.03-9 9-9zm0 1c-4.418 0-8 3.582-8 8 0 .702.09 1.383.26 2.031l2.886-2.885c.196-.195.512-.195.708 0l2.646 2.647 4.793-4.794L13 9c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h3.52l.052.005L16.5 8c.036 0 .071.004.105.011l.046.012.04.015c.014.005.027.012.04.019.013.006.025.013.036.02l.035.025c.014.01.027.02.04.033l.012.011.011.013c.012.012.023.025.033.039l-.044-.052c.026.027.05.056.069.087l.02.034.02.042.014.04c.005.015.009.03.012.046l.006.033.005.051V12c0 .276-.224.5-.5.5s-.5-.224-.5-.5V9.706l-5.146 5.148c-.196.195-.512.195-.708 0L7.5 12.207 4.618 15.09C5.827 17.974 8.677 20 12 20c4.418 0 8-3.582 8-8s-3.582-8-8-8z",transform:"translate(-564 -480) translate(528 444) translate(36 36)"}))))))}function f(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(3 3)"},o.createElement("mask",{id:"y8QpGa",fill:"#fff"},o.createElement("path",{id:"a",d:"M9 18A9 9 0 1 1 9 0a9 9 0 0 1 0 18zm4.9-12.9l-6.7 6.7-3.1-3.2a.5.5 0 1 0-.7.8l3.5 3.5a.5.5 0 0 0 .7 0l7-7a.5.5 0 0 0-.7-.8z"})),o.createElement("g",{mask:"url(#y8QpGa)"},o.createElement("path",{fill:"currentColor",d:"M-3-3h24v24H-3z"}))))}function m(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("g",{fill:"currentColor",fillRule:"nonzero"},o.createElement("g",null,o.createElement("g",null,o.createElement("path",{d:"M12 3c4.97 0 9 4.03 9 9s-4.03 9-9 9-9-4.03-9-9 4.03-9 9-9zm0 1c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zm3.646 4.896c.196-.195.512-.195.708 0 .195.196.195.512 0 .708l-5.5 5.5c-.196.195-.512.195-.708 0l-2.5-2.5c-.195-.196-.195-.512 0-.708.196-.195.512-.195.708 0l2.146 2.147z",transform:"translate(-684 -480) translate(648 444) translate(36 36)"}))))))}function p(e){var t=e.vacationMode,n=e.progress,r=e.outline;return t?o.createElement(s,null):0===n?r?o.createElement(d,null):o.createElement(u,null):n<1?o.createElement(l,{progress:n}):r?o.createElement(m,null):o.createElement(f,null)}},YrBN:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),l=n.n(c),s=n("17x9"),u=n.n(s),d=n("zZLx"),f=n("UVeO");function m(e){var t=e.priority,n=void 0===t?4:t,r=e.darkTheme,a=5-n,o=_("Priority %s").replace("%s",a);return l.a.createElement(d.b,{value:String(n),label:o,"data-action-hint":"task-actions-priority-".concat(n),className:"priority_picker_item"},(function(e){var t=e.isSelected;return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{"aria-hidden":"true",className:"priority_picker_item_priority_icon",dangerouslySetInnerHTML:{__html:svgs.getString("sm1/priority_".concat(a).concat(r?"_hc":"",".svg"))}}),l.a.createElement("span",{className:"priority_picker_item_name"},o),t?l.a.createElement(f.t,{"aria-hidden":"true",className:"dropdown_select_checkmark"}):null)}))}function p(e){var t=e.className,n=e.children,r=e.priority,o=void 0===r?1:r,c=e.darkTheme,s=void 0!==c&&c,u=e.onSelect,f=void 0===u?function(){}:u,p=e.onClose,h=e.disabled,v=void 0!==h&&h,b=e.isShown,g=e.childlessRef,y=e.placement,O=(e.withArrow,i()(e,["className","children","priority","darkTheme","onSelect","onClose","disabled","isShown","childlessRef","placement","withArrow"]));return(o>4||o<1)&&(o=1),l.a.createElement(d.g,{disabled:v,value:String(o),onChange:function(e){f(Number(e.target.value))},isShown:b},!g&&l.a.createElement(d.h,a()({className:t},O),n),l.a.createElement(d.e,{className:"priority_picker",childlessRef:g,onClose:p,placement:y},l.a.createElement(d.d,{"aria-label":_("Select a priority")},[4,3,2,1].map((function(e){return l.a.createElement(m,{key:e,priority:e,darkTheme:s})})))))}m.propTypes={priority:u.a.number,darkTheme:u.a.bool},p.propTypes={className:u.a.string,children:u.a.node,tooltip:u.a.node,priority:u.a.number,darkTheme:u.a.bool,disabled:u.a.bool,onClose:u.a.func,onSelect:u.a.func,isShown:u.a.bool,childlessRef:u.a.object,placement:u.a.string,withArrow:u.a.bool};var h=p;t.a=h},YtIi:function(e,t,n){},ZKgr:function(e,t,n){},"ZjQ/":function(e,t,n){},"ZnB/":function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return D})),n.d(t,"h",(function(){return C})),n.d(t,"g",(function(){return q})),n.d(t,"f",(function(){return G})),n.d(t,"d",(function(){return W})),n.d(t,"c",(function(){return K})),n.d(t,"e",(function(){return Y}));var r=n("J4zp"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("RIqP"),l=n.n(c),s=n("P/G1"),u=n.n(s),d=n("9UKM"),f=n.n(d),m=n("n7q7"),p=n("RHI1"),h=n.n(p),v=n("MrOw"),b=n("Qi13"),g=n("yUE8"),_=n("A72/"),y=n("Vdij");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=Object(g.b)("reducers/filters/actions",["StartPage"]),E=function(e){var t=e.name,n=e.query,r=e.color,a=e.item_order,o=e.is_favorite;return function(e,i){var c=i();if(Object(_.e)(c)){var s=b.a.generate("filter"),d=Math.max.apply(Math,l()(u()(c.filters).map((function(e){return e.item_order})))),f={id:s,name:t.trim(),item_order:"number"==typeof a?a:d+1,query:n,color:r,is_favorite:o};return v.default.getInstance().queueUpdate({type:"filter_add",temp_id:s,args:f}),e({type:"FILTER_ADD",payload:f}),f}var m=Object(_.s)(c);"pro"===m.current.plan_name||"teams"===m.current.plan_name?Object(y.a)({type:"FILTERS",userPlanLimits:m}):Object(y.b)({type:"FILTERS",userPlanLimits:m})}},k=function(e,t){return function(n,r){e=b.a.getRealId(e);var a=r().filters[e];if(a)return(a=j(j({},a),t)).name=a.name.trim(),v.default.getInstance().queueUpdate({type:"filter_update",args:a}),n({type:"FILTER_UPDATE",payload:a}),a}},D=function(e){return function(t){0!==Object.keys(e).length&&(e=h()(e,(function(e,t){return Object(m.a)(t)?b.a.getRealId(t):t})),v.default.getInstance().queueUpdate({type:"filter_update_orders",args:{id_order_mapping:JSON.stringify(e)}}),t({type:"FILTER_UPDATE",payload:f()(e).map((function(e){var t=a()(e,2),n=t[0],r=t[1];return{id:Object(m.a)(n)?n:parseInt(n),item_order:r}}))}))}},C=function(e){return function(t,n){e=b.a.getRealId(e);var r=n().filters[e];r&&(v.default.getInstance().queueUpdate({type:"filter_delete",args:{id:r.id}}),w.StartPage.show(),t({type:"FILTER_REMOVE",payload:r.id}))}},S=n("QVEU"),I=n.n(S),T=n("qRd9"),A=n("nvqi"),x=n("3/82");function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.a:return t.payload.filters?t.payload.filters:e;case A.b:var n=t.payload,r=n.filters,a=n.temp_id_mapping;return a&&(e=Object(x.f)(e,a)),r&&(e=Object(x.c)(e,r)),e;case A.a:return I()(t.payload.filters,"id");case"FILTER_ADD":var o=Object.assign({},e),i=t.payload;return o[i.id]=i,o;case"FILTER_UPDATE":var c=$isArray(t.payload)?t.payload:[t.payload];c=c.filter((function(t){return!!e[t.id]})).map((function(t){return R(R({},e[t.id]),t)}));var l=I()(c,"id");return R(R({},e),l);case"FILTER_REMOVE":var s=t.payload,u=Object.assign({},e);return delete u[s],u;default:return e}},L=n("Snkc"),M=n.n(L),F=n("DwX5"),z=n.n(F),B=n("uS8r"),V=n.n(B),$=n("peh1"),H=n("ANjH"),U=n("4rXO"),q=Object($.createSelector)((function(e){return e.filters}),(function(e){return e})),G=Object($.createSelector)(q,Object(H.d)(M()(["item_order"]),z()((function(e){return e.is_favorite})),u.a));function W(e,t){return t=b.a.getRealId(t),q(e)[t]}var K=Object($.createSelector)(q,Object(H.d)(M()("item_order"),u.a,(function(e){return e||{}})));function Y(e,t){return Object(H.d)(V()((function(e){return e.x})),M()(["i","x.item_order","x.id"]),z()((function(e){return-1!==e.i})),V()((function(e){return{i:Object(U.a)(t,e.name),x:e}})),u.a,q)(e)}t.a=N},aSPn:function(e,t,n){"use strict";function r(e,t){return e===t}function a(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null,i=function(){return a(t,n,arguments)||(o=e.apply(null,arguments)),n=arguments,o};return i.clearCache=function(){o=null,n=null},i}n.d(t,"a",(function(){return o}))},aSh9:function(e,t,n){"use strict";n.d(t,"h",(function(){return l})),n.d(t,"m",(function(){return s})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"l",(function(){return _})),n.d(t,"i",(function(){return y})),n.d(t,"k",(function(){return O})),n.d(t,"j",(function(){return j}));var r=n("peh1"),a=n("L8gx"),o=n("RZq6");function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var r,a=i(t);try{for(a.s();!(r=a.n()).done;){var o=(0,r.value)(e,n);if(0!==o)return o}}catch(e){a.e(e)}finally{a.f()}return 0}}function s(e){return function(t,n){return e(n,t)}}function u(e){var t=e.child_order+5e7;return"".concat(String(t).padStart(8,"0"),"_").concat(e.id)}function d(e,t){var n=u(e);if(!t)return n;for(var r=e;r=t[r.parent_id||-1];)n=u(r)+"-"+n;return n}function f(e,t){return"number"==typeof e.id&&"number"==typeof t.id?e.id-t.id:"number"==typeof e.id&&"string"==typeof t.id?-1:"string"==typeof e.id&&"number"==typeof t.id?1:"string"==typeof e.id&&"string"==typeof t.id?e.id.localeCompare(t.id):0}function m(e,t){return e.priority-t.priority}function p(e,t){var n=e.due,r=t.due;return n||r?n&&!r?-1:!n&&r?1:n&&r?n.isSameDate(r)?n.with_time||r.with_time?n.with_time&&!r.with_time?-1:!n.with_time&&r.with_time?1:n.getTime()-r.getTime():0:n.getTime()-r.getTime():0:0}function h(e,t){var n=e.day_order,r=t.day_order;return n===r?0:n&&!r?-1:!n&&r||-1===n&&-1!==r?1:-1!==n&&-1===r?-1:n-r}function v(e,t){return e.date_added.getTime()-t.date_added.getTime()}function b(e,t){return e.child_order-t.child_order}function g(e,t){if(e.content===t.content)return 0;var n={only_text:!0,as_html:!1},r=a.a.format(e.content,n),o=a.a.format(t.content,n);return r.localeCompare(o)}var _=Object(r.createSelector)((function(e){return e.items}),(function(e){return function(t,n){if(!e)return-1;if(t.parent_id&&!e[t.parent_id])return Object(o.captureInfoLog)("missing_task_project",{id:t.id}),1;if(n.parent_id&&!e[n.parent_id])return Object(o.captureInfoLog)("missing_task_project",{id:n.id}),-1;var r=d(t,e),a=d(n,e);return r===a?0:r<a?-1:1}})),y=Object(r.createSelector)((function(e){return e.projects}),(function(e){return function(t,n){if(!e)return-1;if(!e[t.project_id])return Object(o.captureInfoLog)("missing_task_project",{id:t.id}),1;if(!e[n.project_id])return Object(o.captureInfoLog)("missing_task_project",{id:n.id}),-1;var r=d(e[t.project_id],e),a=d(e[n.project_id],e);return r===a?0:r<a?-1:1}})),O=Object(r.createSelector)((function(e){return e.sections}),(function(e){return function(t,n){var r=e[t.section_id||-1],a=e[n.section_id||-1];return r||a?r&&!a?1:!r&&a?-1:r.section_order===a.section_order?0:r.section_order<a.section_order?-1:1:0}})),j=Object(r.createSelector)((function(e){return e.collaborators.all}),(function(e){return function(t,n){var r=e[t.responsible_uid||-1],a=e[n.responsible_uid||-1];return r===a?0:r&&!a?-1:!r&&a?1:r.full_name===a.full_name?0:r.full_name.localeCompare(a.full_name)}}))},aYLF:function(e,t,n){e.exports=n.p+"assets/images/1784d86e0f8f02ae43ebed0ec3af1f92.png"},adfy:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("181E"),l=function(){function e(){var t=this;a()(this,e),this.initState=this.initState.bind(this),this.syncLocalModel=this.syncLocalModel.bind(this),this.getLastLocations=this.getLastLocations.bind(this),this.syncCachedData=this.syncCachedData.bind(this),this.loadCachedData=this.loadCachedData.bind(this),this.initState(),Signals.connect("clear_local_data",this.initState),Signals.connect("load_cached_data",(function(){t.loadCachedData()}))}return i()(e,[{key:"initState",value:function(){this.model_data=[]}}]),i()(e,[{key:"syncLocalModel",value:function(e){this.model_data=e,this.syncCachedData()}},{key:"getLastLocations",value:function(){return this.model_data}},{key:"syncCachedData",value:function(){Object(c.a)("RemindersLocation").set(this.model_data)}},{key:"loadCachedData",value:function(){var e=Object(c.a)("RemindersLocation").get();this.model_data=e||[]}}]),e}();t.a=new l},aiib:function(e,t,n){},anZn:function(e,t,n){e.exports=n.p+"assets/images/4bc19afe17bd3a0275e12c00d60dba65.png"},apZ8:function(e,t,n){},aysv:function(e,t){svgs["sm2/magnifying_glass.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path fill="#000" fill-rule="nonzero" d="M11.43 10.83l3.34 3.34c.17.17.17.44 0 .6a.43.43 0 0 1-.6 0l-3.34-3.34a6 6 0 1 1 .6-.6zm-8.17-.3a5.14 5.14 0 1 0 7.27-7.27 5.14 5.14 0 0 0-7.27 7.27z"/></svg>',svgs["sm2/no_search_result.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="60" height="55"><path fill="currentColor" fill-rule="nonzero" d="M58.82 47.68l-10.2-10.21c2-3.22 2.86-6.96 2.58-10.62h5.1c.72 0 1.3-.59 1.3-1.3V1.3c0-.72-.58-1.3-1.3-1.3h-55C.58 0 0 .58 0 1.3v24.24c0 .72.58 1.3 1.3 1.3h14.83a17.56 17.56 0 0 0 17.54 18.94c3.22 0 6.44-.88 9.27-2.63l10.21 10.2a3.99 3.99 0 0 0 5.67 0 3.99 3.99 0 0 0 0-5.67zM2.61 24.24V2.61H55v21.63h-4.2a17.61 17.61 0 0 0-34.27 0H2.61zm20.46 14.55a15 15 0 0 1 10.6-25.58 15 15 0 0 1 10.6 25.58 15 15 0 0 1-21.2 0zm33.91 12.72a1.4 1.4 0 0 1-1.99 0l-9.92-9.92a17.75 17.75 0 0 0 2-1.99l9.91 9.92a1.4 1.4 0 0 1 0 1.99zm-14.1-32.53a12.95 12.95 0 0 0-9.21-3.82 13.05 13.05 0 0 0 0 26.07c3.48 0 6.75-1.36 9.21-3.82a12.95 12.95 0 0 0 3.82-9.22c0-3.48-1.35-6.75-3.82-9.21zM26.3 20.82a10.36 10.36 0 0 1 7.38-3.05c2.78 0 5.4 1.08 7.37 3.05a10.36 10.36 0 0 1 2.72 10.03H23.59c-.9-3.47 0-7.32 2.7-10.03zm7.38 17.8a10.36 10.36 0 0 1-9-5.17h18a10.48 10.48 0 0 1-9 5.17zm-3.23-11.16a1.3 1.3 0 0 1 0-1.84l1.38-1.38-1.38-1.38A1.3 1.3 0 0 1 32.28 21l1.38 1.39L35.04 21a1.3 1.3 0 0 1 1.85 1.85l-1.38 1.38 1.38 1.38a1.3 1.3 0 0 1-1.85 1.84l-1.38-1.38-1.38 1.38a1.3 1.3 0 0 1-1.84 0zM50.69 7.3c0 .72-.58 1.3-1.3 1.3H8.21a1.3 1.3 0 0 1 0-2.6h41.18c.72 0 1.3.58 1.3 1.3z"/></svg>'},bHC7:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return m}));var r=n("lSNA"),a=n.n(r),o=n("RIqP"),i=n.n(o),c=n("RZq6");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.items,r=e.sections,a=e.projects;return t.items?t.items.filter((function(o){if(o.is_deleted)return!1;var i;if(!(Boolean(a&&a[o.project_id])||t.projects&&t.projects.find((function(e){return e.id===o.project_id}))))return!0;if(o.parent_id&&(!Boolean(n&&n[o.parent_id])&&!(null===(i=t.items)||void 0===i?void 0:i.find((function(e){return e.id===o.parent_id})))))return!0;if(o.section_id){var c,l="number"==typeof o.section_id&&null!==(c=e.mapping.sections.byRemoteId[o.section_id])&&void 0!==c?c:o.section_id;if(!(Boolean(r&&r[l])||t.sections&&t.sections.find((function(e){return e.id===o.section_id}))))return!0}return!1})):[]}function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("black"===r[e.id])return!1;if("grey"===r[e.id])return!0;if(r[e.id]="grey",e.parent_id){var a=!1;if(n.forEach((function(o){a||e.parent_id!==o.id||(a=d(o,t,n,r))})),a)return!0;if(t&&t[e.parent_id]&&(a=d(t[e.parent_id],t,n,r)))return!0}return r[e.id]="black",!1}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.items,r=[];return t.items?(t.items.forEach((function(e){e.is_deleted||d(e,n,t.items||[])&&(r=[].concat(i()(r),[e.id]))})),r):r}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.items||!t.items.length)return t;var n=f(e,t),r=u(e,t);return n.length>0&&Object(c.captureInfoLog)("Detect circular item parent child relationship",{circularTasksIds:n}),r.length>0&&Object(c.captureInfoLog)("Detect items from inactive project",{orphans:r.map((function(e){return{id:e.id}}))}),s(s({},t),{},{items:t.items.filter((function(e){return!n.includes(e.id)&&!r.find((function(t){return e.id===t.id||e.parent_id===t.id}))}))})}},bKtp:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("lSNA"),a=n.n(r),o=n("yUE8");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=Object(o.b)("jsonAPI",["store","SyncEngine"]);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("/"!==e[0])throw new Error("jsonAPI error: resourcePath should begin with '/'");var n=t.params||{};if(t.withToken){var r,a=null===(r=l.store.getState().user)||void 0===r?void 0:r.token;n.token=a,t.headers=c(c({},t.headers),{},{Authorization:"Bearer ".concat(a)}),delete t.withToken}var o=t.nonApiPath?e:"/API/".concat(l.SyncEngine.getInstance().api_version).concat(e);if(Object.keys(n).length>0){var i=Object.keys(n).map((function(e){return e+"="+encodeURIComponent(n[e])})).join("&");o=o+"?"+i}return fetch(o,t).then((function(e){if(200===e.status)return e.json();var t=new Error("HTTP Error");throw t.response=e,t.url=o,t}))}},bT2Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return D})),n.d(t,"g",(function(){return C})),n.d(t,"h",(function(){return S})),n.d(t,"j",(function(){return I})),n.d(t,"i",(function(){return T})),n.d(t,"c",(function(){return A})),n.d(t,"k",(function(){return x})),n.d(t,"p",(function(){return P})),n.d(t,"l",(function(){return R})),n.d(t,"t",(function(){return N})),n.d(t,"n",(function(){return L})),n.d(t,"o",(function(){return M})),n.d(t,"q",(function(){return F})),n.d(t,"r",(function(){return z})),n.d(t,"s",(function(){return B})),n.d(t,"m",(function(){return V}));var r=n("lSNA"),a=n.n(r),o=n("Qi13"),i=n("MrOw"),c=n("OljV"),l=n("DoMW"),s=n("P/G1"),u=n.n(s),d=n("BkRI"),f=n.n(d),m=n("wkB0"),p=n("PRk6"),h=n("TQFH"),v=n("A72/"),b=n("Vdij"),g=n("3/82"),_=n("RZq6");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j="SECTION_ADD",w="SECTION_ARCHIVE",E="SECTION_MOVE",k="SECTION_MOVE_UNDO",D="SECTION_REMOVE",C="SECTION_REORDER",S="SECTION_REORDER_UNDO",I="SECTION_UPDATE",T="SECTION_UNARCHIVE",A="SECTION_DUPLICATE";function x(e){return function(t,n){var r=n(),a=Object(p.b)(e.project_id)(r);if($(r,e.project_id))return null;var c=O(O({id:o.a.generate("section"),date_added:new Date},e),{},{name:Object(m.c)(e.name)});c.section_order===Number.NEGATIVE_INFINITY&&(c.section_order=1),i.default.getInstance().queueUpdate({type:"section_add",temp_id:c.id,args:c});var l=a.filter((function(e){return e.section_order>=c.section_order})).map((function(e,t){return{id:e.id,section_order:c.section_order+t+1}}));return l.length>0&&i.default.getInstance().queueUpdate({type:"section_reorder",args:{sections:l}}),t({type:j,payload:{section:c,reorder:l}}),c}}function P(e){return function(t,n){var r,a=n().sections,o=a[e];if(o){var c=o.date_added instanceof Date?o.date_added.getTime():new Date(o.date_added).getTime();for(var l in a){var s=a[l];if(s.id!==o.id&&(!s.remote_id&&o.remote_id||s.remote_id&&!o.remote_id))if(c===(s.date_added instanceof Date?s.date_added.getTime():new Date(s.date_added).getTime()))return void Object(_.captureInfoLog)("Duplicated section removal attempt detected",{sectionAId:o.id,sectionBId:s.id,sectionAIdRemoteId:o.remote_id,sectionBIdRemoteId:s.remote_id})}i.default.getInstance().queueUpdate({type:"section_delete",args:{id:null!==(r=o.remote_id)&&void 0!==r?r:o.id}}),t({type:D,payload:{id:e}}),Signals.sendSignal("instant_refresh_interface")}}}function R(e){return function(t,n){var r,a=n().sections[e];if(a){var o=Object(c.a)(new Date,{toUTC:!0});i.default.getInstance().queueUpdate({type:"section_archive",args:{id:null!==(r=a.remote_id)&&void 0!==r?r:a.id,date_archived:o}}),t({type:w,payload:{id:e,archivedDate:o}}),Signals.sendSignal("instant_refresh_interface")}}}function N(e){return function(t,n){var r,a=n().sections[e.id];a&&(e.name&&(e.name=Object(m.c)(e.name)),i.default.getInstance().queueUpdate({type:"section_update",args:O(O({},e),{},{id:null!==(r=a.remote_id)&&void 0!==r?r:a.id})}),t({type:I,payload:e}))}}function L(e){return function(t,n){var r,a,o=n(),c=n().sections[e.id];if(c){if($(o,(e=Object(g.g)(["project_id"],e)).project_id))return null;i.default.getInstance().queueUpdate({type:"section_move",args:O(O({},e),{},{id:null!==(r=c.remote_id)&&void 0!==r?r:c.id})}),e.section_order=Object(p.c)(e.project_id,o)+1,i.default.getInstance().queueUpdate({type:"section_reorder",args:{sections:[{id:null!==(a=c.remote_id)&&void 0!==a?a:c.id,section_order:e.section_order}]}}),t({type:E,payload:e}),Signals.sendSignal("instant_refresh_interface")}}}function M(){return function(e,t){var n=t();if(n.undo&&n.undo.type===k){var r=n.undo.section,a=r.id,o=r.section_order,c=r.project_id;i.default.getInstance().queueUpdate({type:"section_move",args:{id:a,project_id:c}}),i.default.getInstance().queueUpdate({type:"section_reorder",args:{sections:[{id:a,section_order:o}]}}),e({type:k}),Signals.sendSignal("instant_refresh_interface")}}}function F(e,t){return function(n,r){var a=r();if(0!==(e=e.filter((function(e){var t=e.id,n=e.section_order;return a.sections[t].section_order!==n}))).length){var o=e.map((function(e){var t,n=a.sections[e.id];return n?O(O({},e),{},{id:null!==(t=n.remote_id)&&void 0!==t?t:n.id}):e}));return i.default.getInstance().queueUpdate({type:"section_reorder",args:{sections:o}}),n({type:C,payload:{orders:e,withUndo:t}})}}}function z(){return function(e,t){var n=t(),r=n.undo,a=n.sections;if(r&&r.type===S){var o=r.orders;if(0!==(o=o.filter((function(e){var t=e.id,n=e.section_order;return a[t].section_order!==n}))).length){var c=o.map((function(e){var t,n=a[e.id];return n?O(O({},e),{},{id:null!==(t=n.remote_id)&&void 0!==t?t:n.id}):e}));i.default.getInstance().queueUpdate({type:"section_reorder",args:{sections:c}}),e({type:S,payload:o}),Signals.sendSignal("instant_refresh_interface")}}}}function B(e){return function(t){var n;i.default.getInstance().queueUpdate({type:"section_unarchive",args:{id:null!==(n=e.remote_id)&&void 0!==n?n:e.id}}),t({type:T,payload:e})}}function V(e){return function(t,n){var r=n(),s=r.sections[e];if(s&&!$(r,s.project_id)){var d=o.a.generate("section"),m=O(O({},f()(s)),{},{section_order:s.section_order+1,date_added:Object(c.a)(new Date,{toUTC:!0}),id:d});delete m.remote_id;var p=function(e){var t=e.state,n=e.section,r=u()(t.sections).filter((function(e){return e.project_id===n.project_id})).filter((function(e){return e.section_order>n.section_order})).map((function(e){return O(O({},e),{},{section_order:e.section_order+1})})),a=r.map((function(e){return{id:e.remote_id,section_order:e.section_order}}));return{nextSections:r,nextSectionsReorder:a}}({state:r,section:s}),v=p.nextSections,b=p.nextSectionsReorder,g=function(e){var t=e.sectionId,n=e.projectId,r=e.state,a=e.duplicatedSectionId,i=r.items,c=u()(i).filter((function(e){return e.section_id===t&&e.project_id===n})).map((function(e){var t=f()(e);return t.assigned_by_uid=null,t.responsible_uid=null,t})),l=c.reduce((function(e,t){var n=o.a.generate("item");return e[t.id]=n,e}),{});return{duplicates:c.map((function(e){return O(O({},e),{},{id:l[e.id],parent_id:l[e.parent_id||-1]||e.parent_id,section_id:a,checked:0,date_added:new Date})})),idMapping:l}}({sectionId:e,projectId:s.project_id,state:r,duplicatedSectionId:d}).duplicates,_=O(O({},r.items),Object(l.a)(g)),y=O(O(O({},r.sections),Object(l.a)(v)),{},a()({},d,m)),j=O(O({},r),{},{items:_,sections:y});Object(h.k)(j,s.project_id,{delta:0})||(i.default.getInstance().queueUpdate({type:"section_add",temp_id:d,args:m}),v.length>0&&i.default.getInstance().queueUpdate({type:"section_reorder",args:{sections:b}}),g.forEach((function(e){i.default.getInstance().queueUpdate({type:"item_add",temp_id:e.id,args:Object(h.S)(e)})})),t({type:A,payload:{state:j}}))}}}function $(e,t){return!Object(v.h)(e,t)&&(Object(b.a)({type:"SECTIONS",userPlanLimits:Object(v.s)(e)}),!0)}},bZPV:function(e,t,n){},bh02:function(e,t){var n,r=function(e,t){return function(){return e.apply(t,arguments)}};n=function(){function e(){this.removeListener=r(this.removeListener,this),this.attachListener=r(this.attachListener,this)}return-1,e.prototype.attachListener=function(e,t,n){var r,a;return null==n&&(n={}),a=this,r=function(t){return a.removeListener(),a.force_scroll_y=$scrollTop(),window.disableScroll=function(t){return e.scrollHeight<e.offsetHeight||(window.scroll(0,a.force_scroll_y),$preventDefault(t),!1)},$AEV(window,"scroll",window.disableScroll)},MouseHover.attach(e,t,r,this.removeListener,n)},e.prototype.removeListener=function(){if(window.disableScroll)return $REV(window,"scroll",window.disableScroll),window.disableScroll=null},e}(),window.ForcedScroll=new n},bjXC:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("Pxnj");function l(e){var t=e.priority;if(1===t)return a.a.createElement("svg",{width:"24",height:"24"},a.a.createElement("g",{fill:"#808080"},a.a.createElement("path",{d:"M5 5.5L6 5v14.5a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5v-14z"}),a.a.createElement("path",{d:"M5 13.51V5.29l.26-.15c.17-.09.46-.21.88-.33 1.62-.47 3.65-.46 6.02.31a11.9 11.9 0 0 0 6.91.15l.21-.06.09-.02.1-.01c.18-.05.18-.05.51.5l.01 8.29-.32.12c-.2.08-.58.2-1.09.31a12.7 12.7 0 0 1-6.74-.33 9.2 9.2 0 0 0-5.43-.3 3.66 3.66 0 0 0-.67.25.5.5 0 0 1-.74-.47.5.5 0 0 1 0-.04zm1.14-.7a10.2 10.2 0 0 1 6.02.31 11.72 11.72 0 0 0 6.83.15V6.32a12.63 12.63 0 0 1-.47.11c-2.08.43-4.34.4-6.68-.36A9.2 9.2 0 0 0 6 5.91v6.94l.14-.04z"})));var n=c.b[t];return a.a.createElement("svg",{width:"24",height:"24"},a.a.createElement("g",{fill:n},a.a.createElement("path",{d:"M5 5.5L6 5v14.5a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5v-14z"}),a.a.createElement("path",{stroke:n,d:"M5.5 13.58s2.42-1.32 6.5.02 7.5.03 7.5.03l-.02-7.95c.01-.05-3.4 1.26-7.48-.08s-6.5-.02-6.5-.02v7.93"})))}l.propTypes={priority:i.a.oneOf([1,2,3,4])}},bmyq:function(e,t,n){},bzl5:function(e,t,n){"use strict";var r=n("J4zp"),a=n.n(r),o=n("q1tI");t.a=function(e,t){var n=t,r=o.useRef(!1);if(!r.current){var i=function(e){var t=localStorage.getItem(e);try{return"string"==typeof t?JSON.parse(t):void 0}catch(e){return}}(e);void 0!==i&&(n=i),r.current=!0}var c=o.useState(n),l=a()(c,2),s=l[0],u=l[1],d=o.useCallback((function(t){u((function(n){var r="function"==typeof t?t(n):t;return void 0===r?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(r)),r}))}),[e]);return[s,d]}},c9wj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=0;function a(e){var t=r++;return"".concat(e,"-").concat(t)}},cAKr:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("pVnL"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c),s=n("/MKj"),u=n("Vbab"),d=n("oHMr"),f=n("jlRT"),m=n("h8yO"),p=n("ssSt"),h=n("T5Rr");function v(e){var t=e.showQuickNoteShortcut,n=void 0===t||t;return{quickAddItems:[{label:Object(u.d)("shortcuts","Add a label"),shortcut:i.a.createElement("pre",null,"@")},{label:Object(u.d)("shortcuts","Pick a project"),shortcut:i.a.createElement("pre",null,"#")},{label:Object(u.d)("shortcuts","Add an assignee"),shortcut:i.a.createElement("pre",null,"+")},{label:Object(u.d)("shortcuts","Set a priority level"),shortcut:i.a.createElement("div",null,i.a.createElement("pre",null,"p1")," , ",i.a.createElement("pre",null,"p2")," , ",i.a.createElement("pre",null,"p3")," , ",i.a.createElement("pre",null,"p4"))},n?{label:Object(u.d)("shortcuts","Add a quick comment"),shortcut:i.a.createElement("div",null,i.a.createElement("pre",null,Object(p.a)("control"))," + ",i.a.createElement("pre",null,"m"))}:void 0].filter(b),anywhereItems:[{label:Object(u.d)("shortcuts","Select and change multiple tasks at once"),shortcut:i.a.createElement(m.a,{text:Object(u.d)("shortcuts","{shortcut1} or {shortcut2}"),keyval:{shortcut1:i.a.createElement("span",{key:"ctrl"},i.a.createElement("pre",null,Object(p.a)("command"))," + ",i.a.createElement("pre",null,Object(u.a)("click"))),shortcut2:i.a.createElement("span",{key:"\u21e7"},i.a.createElement("pre",null,"\u21e7")," + ",i.a.createElement("pre",null,Object(u.a)("click")))}})},{label:Object(u.d)("shortcuts","Add task"),shortcut:i.a.createElement("pre",null,"q")},{label:Object(u.d)("shortcuts","Add new task at the bottom of the list"),shortcut:i.a.createElement("pre",null,"a")},{label:Object(u.d)("shortcuts","Add new task at the top of the list"),shortcut:i.a.createElement("pre",null,"A")},{label:Object(u.d)("shortcuts","Edit task"),shortcut:i.a.createElement(i.a.Fragment,null,i.a.createElement("pre",null,Object(u.a)("alt"))," + ",i.a.createElement("pre",null,Object(u.a)("click")))},{label:Object(u.d)("shortcuts","Open search"),shortcut:i.a.createElement(m.a,{text:Object(u.d)("shortcuts","{shortcut1} or {shortcut2}"),keyval:{shortcut1:i.a.createElement("pre",{key:"/"},"/"),shortcut2:i.a.createElement("pre",{key:"f"},"f")}})},{label:Object(u.d)("shortcuts","Show or hide the navigation menu"),shortcut:i.a.createElement("pre",null,"m")},{label:Object(u.d)("shortcuts","Go to Home view"),shortcut:i.a.createElement("pre",null,h.d[0])}],addingEditingItems:[{label:Object(u.d)("shortcuts","Cancel current changes"),shortcut:i.a.createElement("pre",null,"esc")},{label:Object(u.d)("shortcuts","Save a newly created task and create a new one below it"),shortcut:i.a.createElement("pre",null,Object(p.a)("enter"))},{label:Object(u.d)("shortcuts","Save changes to an existing task and create a new task below it"),shortcut:i.a.createElement("div",null,i.a.createElement("pre",null,"\u21e7")," + ",i.a.createElement("pre",null,Object(p.a)("enter")))},{label:Object(u.d)("shortcuts","Save a new task or save changes to an existing one and create a new task above it"),shortcut:i.a.createElement("div",null,i.a.createElement("pre",null,Object(p.a)("control"))," + ",i.a.createElement("pre",null,Object(p.a)("enter")))},{label:Object(u.d)("shortcuts","Move to the task above the task currently being edited"),shortcut:i.a.createElement("div",null,i.a.createElement("pre",null,Object(p.a)("command"))," + ",i.a.createElement("pre",null,"\u2191"))},{label:Object(u.d)("shortcuts","Move to the task below the task currently being edited"),shortcut:i.a.createElement("div",null,i.a.createElement("pre",null,Object(p.a)("command"))," + ",i.a.createElement("pre",null,"\u2193"))}],subtasksItems:[{label:Object(u.d)("shortcuts","Increase task indent (Works only inside projects)"),shortcut:i.a.createElement("div",null,i.a.createElement("pre",null,Object(p.a)("command"))," + ",i.a.createElement("pre",null,"\u2192"))},{label:Object(u.d)("shortcuts","Decrease task indent (Works only inside projects)"),shortcut:i.a.createElement("div",null,i.a.createElement("pre",null,Object(p.a)("command"))," + ",i.a.createElement("pre",null,"\u2190"))},{label:Object(u.d)("shortcuts","Complete a sub-task or recurring task and archive it"),shortcut:i.a.createElement("div",null,i.a.createElement("pre",null,"\u21e7")," + ",i.a.createElement("pre",null,Object(u.a)("click"))," ",Object(u.d)("shortcuts","(hold down \u21e7)"))}],sortingItems:[{label:Object(u.d)("shortcuts","Sort by due date"),shortcut:i.a.createElement("pre",null,"d")},{label:Object(u.d)("shortcuts","Sort by priority"),shortcut:i.a.createElement("pre",null,"p")},{label:Object(u.d)("shortcuts","Sort alphabetically"),shortcut:i.a.createElement("pre",null,"n")},{label:Object(u.d)("shortcuts","Sort by assignee"),shortcut:i.a.createElement("pre",null,"r")}],projectViewItems:[{label:Object(u.d)("shortcuts","Toggle between list and board view"),shortcut:i.a.createElement("div",null,i.a.createElement("pre",null,"\u21e7")," + ",i.a.createElement("pre",null,"v"))}]}}function b(e){return Boolean(e)}var g=n("xvbm"),_=n("jVEK"),y=n("1zEf");function O(){Object(f.b)((function(e){return i.a.createElement(s.a,{store:d.default},i.a.createElement(j,{onClose:e}))}))}function j(e){var t=e.onClose,n=Object(s.h)((function(e){return Object(_.i)(e)})),r=!Object(g.e)(n),a=Object(o.useMemo)((function(){return v({showQuickNoteShortcut:r})}),[r]),c=a.quickAddItems,l=a.anywhereItems,d=a.addingEditingItems,m=a.subtasksItems,p=a.sortingItems,h=a.projectViewItems;return i.a.createElement(f.a.Box,{isOpen:!0,onDismiss:t,closeOnOverlayClick:!0,height:"expand"},i.a.createElement(f.a.Header,{title:Object(u.d)("shortcuts","Keyboard Shortcuts"),button:!1}),i.a.createElement(f.a.Body,null,i.a.createElement("div",{className:""},i.a.createElement("p",{className:"kbsc__desc"},Object(u.d)("shortcuts","Shortcuts can save you time! Some can be used anywhere in the app, while others only work when adding or editing tasks.")," ",i.a.createElement("a",{className:"kbsc__link",href:y.j,target:"_blank",rel:"noopener noreferrer"},Object(u.d)("shortcuts","Learn more")))),i.a.createElement(w,{header:Object(u.d)("shortcuts","Task Quick Add shortcuts"),items:c}),i.a.createElement(w,{header:Object(u.d)("shortcuts","Used anywhere"),items:l}),i.a.createElement(w,{header:Object(u.d)("shortcuts","Adding or editing tasks"),items:d}),i.a.createElement(w,{header:Object(u.d)("shortcuts","Creating and completing sub-tasks"),items:m}),i.a.createElement(w,{header:Object(u.d)("shortcuts","Sorting tasks inside a project"),items:p}),i.a.createElement(w,{header:Object(u.d)("shortcuts","Changing project view options"),items:h})))}function w(e){var t=e.header,n=e.items;return i.a.createElement("div",null,i.a.createElement("h3",{className:"kbsc__section"},t),n.map((function(e){return i.a.createElement(E,a()({},e,{key:e.label}))})))}function E(e){var t=e.label,n=e.shortcut;return i.a.createElement("div",{className:"kbsc__row"},i.a.createElement("div",{className:"kbsc__label"},t),i.a.createElement("div",{className:"kbsc__shortcut"},n))}j.propTypes={onClose:l.a.func.isRequired},w.propTypes={header:l.a.node.isRequired,items:l.a.arrayOf(l.a.shape({label:l.a.node.isRequired,shortcut:l.a.node.isRequired}).isRequired).isRequired},E.propTypes={label:l.a.node.isRequired,shortcut:l.a.node.isRequired}},cK3b:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("q1tI"),a=n.n(r),o=n("i8i4"),i=n.n(o),c=n("UVeO"),l=n("Vbab");function s(e){var t=e.lang,n=e.karmaLevel,r=function(e){var t=e.karmaLevel,n=e.totalCompletedCount,r=e.lastMonthCompletedCount,a=e.topPercent;switch(t){case 1:return{title:Object(l.a)("Novice Level"),subtitle:Object(l.a)("You keep progressing- great work!"),content:Object(l.a)("With 500 points, you've reached the Novice Todoist Karma level."),twitterText:Object(l.a)("My @Todoist Karma gets better everyday :) With 500 points, I'm now a Novice!"),facebookText:Object(l.a)("My Todoist Karma gets better everyday :) With 500 points, I'm now a Novice. What about you?")};case 2:if(null==n)return;return{title:Object(l.a)("Intermediate Level"),subtitle:Object(l.a)("Congratulations, you completed a total of %s tasks!").replace("%s",n.toString()),content:Object(l.a)("Be proud, your productivity is increasing every day! Keep it up and achieve anything."),twitterText:Object(l.a)("I've completed %s tasks to reach Intermediate @Todoist Karma!").replace("%s",n.toString()),facebookText:Object(l.a)("I've completed %s tasks to reach Todoist Karma's Intermediate level! Try Todoist and become more productive.").replace("%s",n.toString())};case 3:if(null==r)return;return{title:Object(l.a)("Professional Level"),subtitle:Object(l.a)("You completed %s tasks last month").replace("%s",r.toString()),content:Object(l.a)("Feeling more productive than ever? Don't quit now, you're nearly half way to Enlightened!"),twitterText:Object(l.a)("In the last month, I completed %s tasks to reach @Todoist Karma's Professional level!").replace("%s",r.toString()),facebookText:Object(l.a)("Last month, I completed %s tasks and reached Todoist Karma's Professional level. Don't stop me now!").replace("%s",r.toString())};case 4:if(null==n)return;return{title:Object(l.a)("Expert Level"),subtitle:Object(l.a)("Your productivity truly has no bounds"),content:Object(l.a)("Stay focused, be productive and keep progressing. You'll be Enlightened in no time!"),twitterText:Object(l.a)("I've completed %s tasks, and now I'm a productivity @Todoist Expert!").replace("%s",n.toString()),facebookText:Object(l.a)("Last month, I completed %s tasks and reached Todoist Karma's Professional level. Don't stop me now!")};case 5:return{title:Object(l.a)("Master Level"),subtitle:Object(l.a)("We salute you, Master Todoist user!"),content:Object(l.a)("You've reached an important threshold\u2013 over 10,000 impressive karma points."),twitterText:Object(l.a)("With more than 10,000 points, I'm now a @Todoist Karma Master! #ProductivityMaster"),facebookText:Object(l.a)("With more than 10,000 points, I'm now a Todoist Karma Master! #ProductivityMaster")};case 6:if(null==n)return;return{title:Object(l.a)("Grand Master Level"),subtitle:Object(l.a)("You're just one level from Enlightenment"),content:Object(l.a)("Be proud- your Karma has skyrocketed to over 20,000 points after completing %s tasks.").replace("%s",n.toString()),twitterText:Object(l.a)("I'm the #productivity Grand Master \u2013 with over 20k @Todoist Karma points!"),facebookText:Object(l.a)("I'm the #productivity Grand Master \u2013 with over 20k Todoist Karma points and %s completed tasks!").replace("%s",n.toString())};case 7:if(null==n||null==a)return;return{title:Object(l.a)("Enlightened Level"),subtitle:Object(l.a)("You did it. You're now in the exclusive %s%% of Todoist users!").replace("%s",a.toString()).replace("%%","%"),content:Object(l.a)("You've completed an impressive total of %s tasks!").replace("%s",n.toString()),twitterText:Object(l.a)("I have joined the exclusive {number}% of Todoist users! Reaching @Todoist Karma Enlightenment!").replace("{number}",a.toString()),facebookText:Object(l.a)("I have joined the exclusive {number}% of Todoist users! Reaching Todoist Karma Enlightenment!").replace("{number}",a.toString())};default:return{}}}(e)||{},o=r.title,i=r.subtitle,c=r.content,s=r.facebookText,d=r.twitterText;return a.a.createElement("div",{className:"karma_promo karma_cls_1 GB_iframe_html"},a.a.createElement("h1",null,o),a.a.createElement("h2",null,i),a.a.createElement("h3",null,c),a.a.createElement("div",{className:"bottom_holder"},a.a.createElement("div",{className:"share_icons"},s?u({facebook:!0,text:s,lang:t,karmaLevel:n}):null,d?u({twitter:!0,lang:t,text:d,karmaLevel:n}):null)),a.a.createElement("a",{href:"/karma",className:"karma_help",target:"_blank"},Object(l.a)("Todoist Karma Help")))}function u(e){var t=e.facebook,n=e.twitter,r=e.text,o=e.lang,i=e.karmaLevel,s=o.replace("_","-"),u="https://".concat(location.host,"/").concat(s,"/karma/").concat(i);if(t)return a.a.createElement("a",{href:"https://www.facebook.com/sharer.php?u=".concat(u),"aria-label":Object(l.a)("Share to Facebook"),className:"facebook",target:"_blank",rel:"noopener noreferrer"},a.a.createElement(c.J,null));if(n){var d=encodeURIComponent(r+" "+u);return a.a.createElement("a",{href:"https://twitter.com/intent/tweet?text=".concat(d),"aria-label":Object(l.a)("Share to Twitter"),className:"twitter",target:"_blank",rel:"noopener noreferrer"},a.a.createElement(c.hc,null))}return null}var d=n("hleb");function f(e,t){if("karma_level"===t.notification_type){var n=d.a.getTotalCompletedCount(),r=DIV(),o={karmaLevel:e,totalCompletedCount:n,lang:window.LANG,lastMonthCompletedCount:t.completed_last_month,topPercent:t.top_procent};GB_showHTML("",r,300,450,{close_validator_fn:function(){return i.a.unmountComponentAtNode(r),!0}}),i.a.render(a.a.createElement(s,o),r)}}},cQ0S:function(e,t){ICE.BASE_URL="/",window.getOfflineMessage=function(e){return 0===e.status?_("You appear to be offline and this action requires that you are online."):_("You appear to be offline or Todoist is down. This action requires that you are online. Please try again later.")},ICE.generalErrorback=function(e,t){var n=window.oldAlert||window.alert,r=e.responseText;if($isString(r)&&-1!=r.toLowerCase().indexOf("user not logged in")){n(_("You are not logged in. You will be taken to the login page."));var a="/";return window.HAS_MINI_ARGUMENT&&(a+="?mini=1"),window.location=a,!0}!t.offline_message||0!==e.status&&502!=e.status||alert(window.getOfflineMessage(e))}},cdNT:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("vZZI"),a=n("q1tI"),o=n.n(a);n("gZO9");function i(e){var t=e.content;return o.a.createElement(r.a,{mode:"full",className:"note_content",source:t})}},chs4:function(e,t,n){e.exports={container:"_14lVAv3iyhjCylIgALjFyA",isUnread:"_2zjhAi1G4U_zwmjyVm4etA",avatarContainer:"_341HgQriCckq2_P9q3SFeD",typeIcon:"_2WpAsuSGFHFnctWJNmaoFI",content:"_2z48FcNiXlsf8h99o0Cxs8",title:"_1TH48TAUevSh5V9hsMlf_V",body:"_1QE9ykPeBjaBPw3vKCe0iI",time:"_2Z_X1RZPB8332J9-g9mF78",actions:"_2Ws94kkivHC9q5697qTNKW",unreadButton:"s4j0gDdMbIjgu0LNYgYrL",expandButton:"-T89SW3LzMpF5hnYoPZdT",expandButton_isExpanded:"_2Wt5GXqI74N64K96CzwzxI"}},ck76:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e){return e?function(t){13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),e(t))}:void 0}},cppk:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("RIqP"),i=n.n(o),c=n("J4zp"),l=n.n(c),s=n("QILm"),u=n.n(s),d=n("q1tI"),f=n.n(d),m=n("i8i4"),p=n.n(m),h=n("KFoM"),v=n("rJga"),b=n("9P9J"),g=n("DUc8"),_=n("/gRr");function y(e){return e&&e.ownerDocument||document}var O=n("VKB9");function j(e){"blur"===e.type&&e.target instanceof HTMLInputElement&&e.target.closest(".pac-target-input")||e.stopPropagation()}t.a=function(e){var t=e.children,n=e.modifiers,r=void 0===n?[]:n,o=e.placement,c=void 0===o?"bottom":o,s=e.referenceElement,m=e.offset,w=e.withArrow,E=void 0===w||w,k=e.withFocusLock,D=void 0===k||k,C=e.isShown,S=void 0!==C&&C,I=e.onClose,T=e.onShown,A=e.className,x=void 0===A?"":A,P=e.zIndex,R=void 0===P?"ref":P,N=u()(e,["children","modifiers","placement","referenceElement","offset","withArrow","withFocusLock","isShown","onClose","onShown","className","zIndex"]),L=f.a.useState(!1),M=l()(L,2),F=M[0],z=M[1],B=Object(d.useRef)(null),V=Object(d.useRef)("function"!=typeof s&&s?s:null);Object(d.useEffect)((function(){s instanceof HTMLElement&&(V.current=s)}),[s]);var $=f.a.useRef(!1);Object(O.h)((function(){var e,t,n=$.current,r=null!=document.activeElement&&document.activeElement!==document.body,a="function"==typeof(null===(e=V.current)||void 0===e?void 0:e.focus);S||n||r||!a||(null===(t=V.current)||void 0===t||t.focus());$.current=!1}),[S]),Object(O.a)(S);var H=Object(O.f)(I||function(){});function U(e){"Escape"===Object(_.a)(e)&&"function"==typeof I&&(e.stopPropagation(),I())}Object(d.useEffect)((function(){if(S)return"ontouchend"in window?document.addEventListener("touchend",e):document.addEventListener("click",e),document.addEventListener("contextmenu",e),function(){document.removeEventListener("touchend",e),document.removeEventListener("click",e),document.removeEventListener("contextmenu",e)};function e(e){e.target===B.current&&($.current=!0,H())}}),[S,H]),Object(d.useEffect)((function(){S||z(!1)}),[S]);var q=E?m?[m[0],m[1]+12]:[0,12]:m;return q&&(r=[].concat(i()(r),[{name:"offset",enabled:!0,options:{offset:q}},{name:"computeStyle",options:{gpuAcceleration:!1}}])),f.a.createElement(h.a,null,"function"==typeof s?f.a.createElement(v.a,null,(function(e){var t=e.ref;return s({ref:function(e){V.current=e,t(e)},isExpanded:S})})):null,S?p.a.createPortal(f.a.createElement(b.a,{referenceElement:"function"==typeof s?void 0:s,modifiers:r,placement:c,onFirstUpdate:function(){z(!0),T&&T()}},(function(e){var n=e.ref,r=e.style,o=e.placement,i=e.arrowProps,c="ref"===R?function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!(t&&t instanceof HTMLElement))return n;var r=y(t);if(!r||!r.defaultView)return n;var a=parseInt(r.defaultView.getComputedStyle(t).getPropertyValue("z-index"));return isNaN(a)?e(t.parentElement,n):e(t.parentElement,a>n?a:n)}(V.current):R||void 0;return f.a.createElement("div",{ref:B,className:"popper__overlay","data-testid":"popper__overlay",onClick:j,onContextMenu:j,style:{zIndex:c}},f.a.createElement(g.a,{disabled:!D||!F,returnFocus:!0},f.a.createElement("div",a()({className:x+" popper",ref:n,style:r,"data-placement":o,onKeyDown:U,onClick:j,onContextMenu:j,onMouseDown:j,onMouseEnter:j,onMouseLeave:j,onMouseMove:j,onMouseOver:j,onMouseOut:j,onMouseUp:j,onKeyPress:j,onKeyUp:j,onFocus:j,onBlur:j,onChange:j,onInput:j,onInvalid:j,onSubmit:j},N),E?f.a.createElement("div",{className:"popper__arrow",ref:i.ref,style:i.style}):null,"function"==typeof t?t():t)))})),document.body):null)}},d2JY:function(e,t,n){e.exports={container:"VqWc5IWgSQO_cHILBXx-g",item:"_2kbsMt5Vzq2Oh9bA9pHccz",item_isUnread:"_263bNHPxgdpJXg3bA2eFp3"}},d7O2:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("q1tI"),i=n.n(o);t.a=function(e){return i.a.createElement("svg",a()({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},e),i.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M8 8.5c2.93 0 4.87.838 5.819 2.515a2 2 0 0 1-1.592 2.98l-.149.005H3.922a2 2 0 0 1-1.74-2.985C3.13 9.338 5.07 8.5 8 8.5zm0 1c-2.604 0-4.204.691-4.948 2.008a1 1 0 0 0 .741 1.484l.129.008h8.156a1 1 0 0 0 .87-1.492C12.204 10.19 10.604 9.5 8 9.5zm0-8a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1.037a1.963 1.963 0 1 0 0 3.926 1.963 1.963 0 0 0 0-3.926z"}))}},dDER:function(e,t,n){e.exports=n.p+"assets/images/2994040dfbf812b8aa516b876f365647.png"},dFwx:function(e,t,n){},dGQG:function(e,t,n){"use strict";var r=n("RIqP"),a=n.n(r),o=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length<2)throw new Error("subscribeSelected error: missing required argument");var o=n.slice(0,-1),i=n[n.length-1],c=o.map((function(t){return t(e.getState())}));return e.subscribe((function(){var t=e.getState(),n=!1,r=o.map((function(e,r){var a=e(t);return c[r]!==a&&(n=!0),a}));n&&(c=r,i.apply(void 0,a()(r)))}))};t.a=o},dLxo:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return u}));var r="project_note",a="item_note",o="NOTE_ADD",i="NOTE_UPDATE",c="NOTE_REMOVE",l="NOTE_FETCH",s="NOTE_ADD_REACTION",u="NOTE_REMOVE_REACTION"},dgfd:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7W2i"),l=n.n(c),s=n("a1gu"),u=n.n(s),d=n("Nsbk"),f=n.n(d),m=n("lSNA"),p=n.n(m),h=n("q1tI"),v=n.n(h),b=n("17x9"),g=n.n(b);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var y=function(e){l()(n,e);var t=_(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){return v.a.createElement("div",{className:"empty-state-header"},this.props.children)}}]),n}(v.a.PureComponent);p()(y,"propTypes",{children:g.a.node}),t.a=y},dwEu:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("lSNA"),a=n.n(r),o=n("pVnL"),i=n.n(o),c=n("QILm"),l=n.n(c),s=n("q1tI"),u=n.n(s),d=n("17x9"),f=n.n(d),m=n("TSYQ"),p=n.n(m),h=n("lrs5"),v=n("t4uw"),b=n("qFoM"),g=n("UVeO"),y=n("zZLx"),O=n("4eld");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"full_name";return e[n].localeCompare(t[n])}function k(e){switch(e){case"UNASSIGNED":case null:case void 0:return u.a.createElement(g.j,null);case"EVERYONE":return u.a.createElement(g.Ab,null);default:return u.a.createElement(h.b,{user:e,size:"small"})}}var D=u.a.forwardRef((function(e,t){var n=e.user,r=l()(e,["user"]);return u.a.createElement(O.a,i()({ref:t},r,{"aria-label":null!=n?n.full_name:_("Anonymous user")}),k(n))}));function C(e){var t=e.user,n=e.text,r=e.selectAll,a=u.a.useContext(y.a).searchText.trim();if(!(0===a.length||n.toLowerCase().includes(a.toLowerCase())))return null;var o="string"==typeof t?t:String(t&&t.id),i=function(e){var t=e.text,n=e.searchText;if(0===n.trim().length)return t;var r=new RegExp("(".concat(n,")"),"gi");return t.replace(r,"<b>$1</b>")}({text:n,searchText:a});return u.a.createElement(y.b,{value:o,label:n,selectAll:r},(function(e){var n=e.isSelected;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"person_picker__option_avatar","aria-hidden":"true"},k(t)),u.a.createElement("div",{className:"person_picker__option_text",dangerouslySetInnerHTML:{__html:i}}),n?u.a.createElement(g.t,{className:"dropdown_select_checkmark","aria-hidden":"true"}):null)}))}function S(e){var t=e.value,n=e.onChange,r=e.onClose,a=e.isShown,o=e.children,c=void 0===o?function(e){var t=e.selectedUser,n=e.multiple,r=e.buttonProps;return u.a.createElement(D,i()({user:n?t[0]:t},r))}:o,d=e.childlessRef,f=e.users,m=e.currentUser,h=e.showUnassignedOption,g=void 0===h||h,j=e.showEveryoneOption,k=void 0!==j&&j,S=e.tooltip,I=e.className,T=e.disabled,A=void 0!==T&&T,x=e.multiple,P=void 0!==x&&x,R=e.position,N=void 0===R?"bottom":R,L=e.hasCurrentUserByDefault,M=void 0===L||L,F=e.searchPlaceholder,z=e.unassignedOptionLabel,B=e.width,V=l()(e,["value","onChange","onClose","isShown","children","childlessRef","users","currentUser","showUnassignedOption","showEveryoneOption","tooltip","className","disabled","multiple","position","hasCurrentUserByDefault","searchPlaceholder","unassignedOptionLabel","width"]),$=Object(s.useMemo)((function(){return Boolean(m&&f.some((function(e){return e.id===m.id})))}),[m,f]);if(0===f.length)return null;var H=f.filter((function(e){return e.id!==(m||{}).id})),U=function(e){var t=e.multiple,n=e.value,r=e.users;if(t&&Array.isArray(n)){var a=r.filter((function(e){return n.some((function(t){return e.id===t}))})),o=a.map((function(e){return String(e.id)}));return{selectedUser:a,selectedValue:o}}var i=r.find((function(e){return e.id===n}));return{selectedUser:i,selectedValue:i?String(i.id):"UNASSIGNED"}}({users:f,value:t,multiple:P}),q=U.selectedUser,G=U.selectedValue;var W="function"==typeof S?S({selectedUser:q,currentUser:m}):S;return u.a.createElement(y.g,i()({},V,{value:G,onChange:function(e){var t=function(e){var t=e.event,n=e.users;if(e.multiple){var r=t.target.value.filter((function(e){return"EVERYONE"!==e})).map(b.a);return{newValue:r,newSelectedUser:n.filter((function(e){return r.some((function(t){return t===e.id}))}))}}var a="UNASSIGNED"===t.target.value?null:Object(b.a)(t.target.value);return{newValue:a,newSelectedUser:n.find((function(e){return e.id===a}))}}({event:e,users:f,multiple:P}),r=t.newValue,a=t.newSelectedUser;n(w(w({},e),{},{target:w(w({},e.target),{},{value:r,selectedUser:a})}))},disabled:A,multiple:P,availableOptions:H.map((function(e){return String(e.id)})),isShown:a}),!d&&u.a.createElement(y.h,{className:p()(I,"person_picker__toggle"),tooltip:W,"data-testid":"person_picker__toggle"},(function(e){var t=e.isDropdownOpen,n=e.toggleDropdown,r=e.buttonProps;return"function"==typeof c?c({selectedUser:q,currentUser:m,multiple:P,isDropdownOpen:t,toggleDropdown:n,buttonProps:r}):u.a.createElement(O.a,r,c)})),u.a.createElement(y.e,{childlessRef:d,className:"person_picker__popup",onClose:r,onToggle:V.onToggle,position:N,width:B},(function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(y.f,{placeholder:F||_("Type an assignee")}),u.a.createElement(y.d,{"aria-label":_("Assign to someone")},g?u.a.createElement(C,{text:z||_("Unassigned"),user:"UNASSIGNED"}):null,P&&k&&u.a.createElement(C,{text:"".concat(_("Everyone")," (").concat(H.length,")"),user:"EVERYONE",selectAll:!0}),m&&(M||$)&&u.a.createElement(C,{user:m,text:"".concat(_x("task_assignment","Me")," (").concat(Object(v.a)(m.full_name),")")}),H.sort(E).map((function(e){return u.a.createElement(C,{key:e.id,user:e,text:e.full_name})}))))})))}D.propTypes={user:f.a.oneOfType([f.a.string,f.a.shape({email:f.a.string.isRequired,full_name:f.a.string,image_id:f.a.string})])},C.propTypes={user:f.a.oneOfType([f.a.object,f.a.oneOf(["UNASSIGNED","EVERYONE"])]).isRequired,text:f.a.string.isRequired,selectAll:f.a.bool},S.propTypes={value:f.a.oneOfType([f.a.number,f.a.string,f.a.arrayOf(f.a.oneOfType([f.a.number,f.a.string]))]),onChange:f.a.func.isRequired,onClose:f.a.func,isShown:f.a.bool,children:f.a.oneOfType([f.a.node,f.a.func]),childlessRef:f.a.object,tooltip:f.a.oneOfType([f.a.string,f.a.func]),showUnassignedOption:f.a.bool,showEveryoneOption:f.a.bool,className:f.a.string,disabled:f.a.bool,multiple:f.a.bool,nose:f.a.bool,anchorGap:f.a.number,searchPlaceholder:f.a.string,unassignedOptionLabel:f.a.string,position:f.a.string,align:f.a.string,onToggle:f.a.func,width:f.a.oneOfType([f.a.number,f.a.oneOf(["toggle"])]),hasCurrentUserByDefault:f.a.bool,projectId:f.a.oneOfType([f.a.number,f.a.string]),users:f.a.arrayOf(f.a.object.isRequired).isRequired,currentUser:f.a.object}},eNkg:function(e,t,n){},eVCd:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h}));var r=n("lSNA"),a=n.n(r),o=n("J4zp"),i=n.n(o),c=(n("Ek05"),n("Bcse")),l=n.n(c),s=n("3WX/"),u=n.n(s);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=null,n="",r=e;if(!e)return{type:t,linkId:n,title:r};var a,o,i=e.match(/mail.google.com\/mail/g);(i&&1===i.length&&((i=/(https?:\/\/mail.google.com\/mail\/[^\s]+) \(([^)]+)\)/.exec(e))&&i[0]===e?(n=i[1],r=e.replace(i[0],i[2]),t="gmail_new"):(i=/\[([^\]]+)\]\((https?:\/\/mail.google.com\/mail(?:\/|\?)[^\s]+)\)/.exec(e))&&i[0]===e&&(n=i[2],r=i[1],t="gmail_new")),(i=e.match(/twist(?:app)?.com\/a/g))&&1===i.length&&((i=/(https?:\/\/[^\s]*twist(?:app)?.com\/a\/[^\s]+) \(([^)]+)\)/.exec(e))&&i[0]===e?(n=i[1],r=e.replace(i[0],i[2]),t="twist"):(i=/\[([^\]]+)\]\((https?:\/\/[^\s]*twist(?:app)?.com\/a\/[^\s]+)\)/.exec(e))&&i[0]===e&&(n=i[2],r=i[1],t="twist")),e.includes("[[gmail=")&&(i=/\[\[gmail=(.+?),\s*(.+?)\]\]/.exec(e))&&i[0]===e&&(n=i[1],r=i[2],t="gmail"),e.includes("[[thunderbird")&&(i=/\[\[thunderbird\n?([^\n]+)\n([^\n]+)\n\s*\]\]/.exec(e))&&i[0]===e&&(n=i[2],r=i[1],t="thunderbird"),e.includes("[[outlook=")&&(i=/\[\[outlook=(.+?),\s*(.+?)\]\]/.exec(e))&&i[0]===e&&(n=i[1],r=i[2],t="outlook"),e.includes("https://outlook.live.com/owa/?ItemID"))&&((null===(a=i=/\[(.+)\]\((.+)\)/.exec(e))||void 0===a||null===(o=a[2])||void 0===o?void 0:o.startsWith("https://outlook.live.com/owa/?ItemID"))&&(n=i[2],r=i[1],t="new_outlook"));return e.includes("https://mail.superhuman.com/")&&(i=/\[([^\]]+)\]\((https?:\/\/mail.superhuman.com.+?thread\/[^\s]+)\)/.exec(e))&&i[0]===e&&(n=i[2],r=i[1].replace(" \u2022 Superhuman",""),t="superhuman"),(i=e.match(/readdle-?spark:\/\//g))&&1===i.length&&(i=/(.+)\s(\[\(.+\)\]\(readdle-?spark:[^\s]+\))/.exec(e))&&(n=i[2],r=i[1],t="spark"),{type:t,linkId:n,title:r}}function p(e,t){var n=t.type,r=t.linkId;return(e=(e||"").trim()).includes("@")&&(e=" ".concat(e," ")),"gmail"===n?"[[gmail=".concat(r,", ").concat(e," ]]"):"thunderbird"===n?"[[thunderbird\n ".concat(e.replace(/\n/g,""),"\n").concat(r.replace(/\n/g,"")," \n ]]"):"outlook"===n?"[[outlook=".concat(r,", ").concat(e," ]]"):"spark"===n?"".concat(e," ").concat(r):n?(e=(e=e.replace(/\[/g,"(")).replace(/\]/g,")"),r=(r=r.replace(/\(/g,"[")).replace(/\)/g,"]"),"[".concat(e,"](").concat(r,")")):e}function h(e,t,n,r,a,o,c,s,d,m){if(!t)throw new Error("EditorState is not valid");var p=function(e,t,n,r,a,o){if(!e)throw new Error("EditorState is not valid");var i=e.mode,c=e.id,l=new Error("No valid task ID found"),s=void 0,u=void 0;switch(i){case"edit":var d;if(null==c)throw l;s=n.findIndex((function(e){return e.id===c})),u=e.indent||(null===(d=r[c])||void 0===d?void 0:d.indent);break;case"add_below":if(null==c)throw l;var f=r[c];if(s=n.findIndex((function(e){return e.id===c}))+1,e.indent)u=e.indent;else if(f){var m=t[c],p=f.indent||1;u=Boolean(a[m.id])?Math.min(p+1,o):p}else u=1,s=n.length;break;case"add_above":if(null==c)throw l;s=n.findIndex((function(e){return e.id===c})),u=e.indent||r[c]&&r[c].indent||1;break;case"add_bottom":s=n.length,u=e.indent||1;break;case"add_bottom_website":case"add_bottom_email":s=n.length,u=e.indent||1;break;case"add_top":s=0,u=1}return[s,u]}(t,r,c,o,n,a),h=i()(p,2),v=h[0],b=h[1];if("number"!=typeof v||isNaN(v))throw new Error("Task editor: Could not find the correct position to save task");var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,a=arguments.length>6?arguments[6]:void 0,o=null,i=0;if(0===e)0===r.length?(o=n,i=1):(o=r[0].parent_id,i=r[0].child_order);else{var c=r[e-1],l=a[c.id].indent||1;if(t>l)o=c.id,i=1;else if(t===l)o=c.parent_id,i=c.child_order+1;else if(t<l){var s=r.slice(0,e).reverse().find((function(e){return a[e.id].indent===t}));o=s&&s.parent_id||null,i=(s&&s.child_order||0)+1}}return{parent_id:o,child_order:i}}(v,b,t&&t.mode,m,c,n,o),_=g.parent_id,y=g.child_order,O=u()(e,(function(e){return void 0===e}));O=f(f({},e),{},{child_order:y,parent_id:_});var j=e.note,w=e.reminders;return delete O.note,delete O.reminders,s===O.project_id&&d===O.section_id||(O=f(f({},O),{},{parent_id:null}),O=l()("child_order",O)),{fields:O,note:j,reminders:w}}},"eY+4":function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var r=n("J4zp"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),l=n.n(c),s=n("lSNA"),u=n.n(s),d=n("Q+Wq"),f=n("cK3b"),m=n("VNU/"),p={top_bar:{top_offset_full:44,top_offset_mini:38},note_buffer_t_prefix:"note_t_",note_buffer_p_prefix:"note_p_"},h=n("IYoK"),v=n("hwkv"),b=n("it2E"),g=n("L8gx"),y=n("VDcK"),O=n("LYyr"),j=n("Ek05"),w=n("cDf5"),E=n.n(w),k=/%?%(?:\(([^)]+)\))?([disr])/g;function D(){var e,t=0,n=arguments[0];if(1==arguments.length)return n;if(2==arguments.length&&"object"==E()(arguments[1]))e=arguments[1];else{e=[];for(var r=1,a=arguments.length;r!=a;++r)e[r-1]=arguments[r]}return n.replace(k,(function(n,r,a){if(n[0]==n[1])return n.substring(1);var o=e[r||t++];return"i"==a||"d"==a?+o:o}))}var C=n("q1tI"),S=n.n(C),I=n("i8i4"),T=n.n(I),x=n("p8KB"),P=n("oHMr"),R=n("/6o7"),N=n("A72/");function L(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.onClose;i()(this,e),u()(this,"_ns",(function(e,t,r){var a=1===n.allUsers().length?e:t;return Object(O.a)(a,r)})),this.showIndicator=this.showIndicator.bind(this),this.hideIndicator=this.hideIndicator.bind(this),this.createCollapseTaskItem=this.createCollapseTaskItem.bind(this),this.createCollapseNoteItem=this.createCollapseNoteItem.bind(this),this.onlyText=this.onlyText.bind(this),this.markBoxRead=this.markBoxRead.bind(this),this.markItemRead=this.markItemRead.bind(this),this.markBoxUnread=this.markBoxUnread.bind(this),this.isBoxUnread=this.isBoxUnread.bind(this),this.render=this.render.bind(this),this.notification_type=t.notification_type,this.close=this.close.bind(this),Array.isArray(t)?(this.notifications=t,this.notifications.sort((function(e,t){return t.id-e.id}))):this.notifications=[t],this.onClose=a}return l()(e,[{key:"close",value:function(){GB_hide(),this.onClose&&this.onClose()}},{key:"push",value:function(e){if(e.notification_type!==this.notification_type)throw new Error("Programming error: Cannot push notification of different type");return this.notifications.push(e),this.notifications.sort((function(e,t){return t.id-e.id}))}},{key:"sortKey",value:function(){return this.notifications[0].id}},{key:"isAggregated",value:function(){return this.notifications.length>1}},{key:"count",value:function(){return this.notifications.length}},{key:"timeString",value:function(){return j.a.prettyDate(this.notifications[0].created)}},{key:"allUsers",value:function(){var e,t=[],n=[],r=L(this.notifications);try{for(r.s();!(e=r.n()).done;){var a=e.value,o=v.a.getUserById(a.from_uid);o||(o=a.from_user),o&&!n.includes(o.id)&&(t.push(o),n.push(o.id))}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"hasMultipleUsers",value:function(){return this.allUsers().length>1}},{key:"subject",value:function(){var e=this.allUsers();return 1===e.length?"<b>".concat($xssStrip(e[0].full_name),"</b>"):2===e.length?D(_("<b>%s</b> and <b>%s</b>"),$xssStrip(e[0].full_name),$xssStrip(e[1].full_name)):3===e.length?D(_("<b>%s</b>, <b>%s</b> and <b>%d</b> other"),$xssStrip(e[0].full_name),$xssStrip(e[1].full_name),e.length-2):e.length>=4?D(_("<b>%s</b>, <b>%s</b> and <b>%d</b> others"),$xssStrip(e[0].full_name),$xssStrip(e[1].full_name),e.length-2):"X"}},{key:"genericAccept",value:function(e,t,n,r,a){var o,i,c=this,l=$setHTML(SPAN(),t),s=DIV({c:"actions"},o=A({href:"#",c:"accept"},_("Accept")),i=A({href:"#",c:"reject"},svgs.get("sm1/close_tiny.svg")));return $AEV(o,"click",(function(){return c.showIndicator(s),n(e,(function(){return a()}),(function(e){return alert(e),c.hideIndicator(s)})),!1})),$AEV(i,"click",(function(){return IstTooltip.hide(),c.showIndicator(s),r(e,(function(){return $remove($parent(s,"li"))}),(function(e){return alert(e),c.hideIndicator(s)})),!1})),IstTooltip.showSimpleText(i,_("Reject"),null,0,10),[l,s]}},{key:"showIndicator",value:function(e){return $hide($all("a",null,e)),Indicator.addToElm(e)}},{key:"hideIndicator",value:function(e){return Indicator.removeFromElm(e),$show($all("a",null,e))}},{key:"createCollapseTaskItem",value:function(t){var n=this,r=DIV({c:"collapsed_list_item"},this.onlyText(t.item_content));return t.is_unread&&$addClass(r,"unread"),$AEV(r,"click",(function(a){return n.markItemRead(t,r),n.close(),e.navigateTo({task:{id:t.item_id}}),a.stopPropagation(),!1})),r}},{key:"createCollapseNoteItem",value:function(t){var n,r=this,a=v.a.getUserById(t.from_uid),o=g.a.format(t.note_content);if(o=o.replace(/^\*\s+/g,""),this.hasMultipleUsers()&&a&&a.full_name){var i=$strip(a.full_name).split(" ");n=$setHTML(DIV({c:"collapsed_list_item"}),"<b>".concat(i[0],":</b> ").concat(this.onlyText(o)))}else n=$setHTML(DIV({c:"collapsed_list_item"}),"".concat(this.onlyText(o)));t.is_unread&&$addClass(n,"unread");var c=null===t.item_id;return $AEV(n,"click",(function(n){return r.markBoxRead(),c?(r.close(),e.navigateTo({view:{type:"project",projectId:t.project_id},subPath:"/comments",hash:"#comment-".concat(t.note_id)})):(r.close(),e.navigateTo({task:{id:t.item_id,tab:"comments"},hash:"#comment-".concat(t.note_id)})),n.stopPropagation(),!1})),n}},{key:"onlyText",value:function(e){return y.a.formatSimple(e,{only_text:!0,as_html:!1,cache_prefix:"noti:"})}},{key:"markBoxRead",value:function(){var e,t=this.notifications.map((function(e){return e.id})),n=L(this.notifications);try{for(n.s();!(e=n.n()).done;){e.value.is_unread=0}}catch(e){n.e(e)}finally{n.f()}var r=$("noti_".concat(this.notifications[0].notification_key));return r&&($removeClass(r,"unread"),$removeClass($$(".collapsed_list_item",r),"unread"),$replace($$(".unread_icon_wrap",r)[0],svgs.get("sm1/notification_read.svg"))),h.a.markRead(t)}},{key:"markItemRead",value:function(e,t){e.is_unread=0,$removeClass(t,"unread");var n,r=!0,a=L(this.notifications);try{for(a.s();!(n=a.n()).done;){if(1===n.value.is_unread){r=!1;break}}}catch(e){a.e(e)}finally{a.f()}if(r){var o=$("noti_".concat(this.notifications[0].notification_key));o&&($removeClass(o,"unread"),$replace($$(".unread_icon_wrap",o)[0],svgs.get("sm1/notification_read.svg")))}return h.a.markRead([e.id])}},{key:"markBoxUnread",value:function(){var e,t=this.notifications.map((function(e){return e.id})),n=L(this.notifications);try{for(n.s();!(e=n.n()).done;){e.value.is_unread=1}}catch(e){n.e(e)}finally{n.f()}var r=$("noti_".concat(this.notifications[0].notification_key));return r&&($hasClass(r,"unread")||($addClass(r,"unread"),$addClass($$(".collapsed_list_item",r),"unread")),$replace($$(".unread_icon_wrap",r)[0],svgs.get("sm1/notification_unread.svg"))),h.a.markUnread(t)}},{key:"isBoxUnread",value:function(){return 1,this.notifications.map((function(e){return e.is_unread})).includes(1)}},{key:"render",value:function(){var t,n,r,o,i,c,l,s,u,p=this,g=arguments.length>0&&void 0!==arguments[0]&&arguments[0],y=this.notifications[0],j=v.a.getUserById(y.from_uid),w=y.notification_type;if(j||(j=y.from_user),!j){if(-1===w.indexOf("biz_")&&-1===w.indexOf("karma_")&&"wunderlist_import"!==w)return;j={}}t=j.full_name?d.a.renderAvatar(j,"medium",m.a.theme):null;var E=null,k=null,C=null,S=null,I=!1,T=!1,A=!1,x=!1,M=!1;!1===g&&((i=LI()).id="noti_".concat(y.notification_key),this.isAggregated()&&$addClass(i,"collapsible_box"));var F=y.project_name,z=j.full_name;z="<b>".concat($xssStrip(z),"</b>"),F="<b>".concat($xssStrip(F),"</b>");var V=null,$="",H=null,U=null,q=null;if("note_added"===w){if(q=svgs.get("sm1/notification_commented.svg"),y.item_id)V=this._ns(_n("{user} added a comment to {task}","{user} added {n} comments to {task}",this.count()),_n("{multiple} added a comment to {task}","{multiple} added {n} comments to {task}",this.count()),{user:this.subject(),multiple:this.subject(),n:this.count(),task:"<b>"+this.onlyText(y.item_content)+"</b>"});else{var G=b.a.get(y.project_id);V=this._ns(_n("{user} added a project comment to {project}","{user} added {n} project comments to {project}",this.count()),_n("{multiple} added a project comment to {project}","{multiple} added {n} project comments to {project}",this.count()),{user:this.subject(),multiple:this.subject(),n:this.count(),project:G?"<b>"+this.onlyText(G.name)+"</b>":_("a shared project")})}if(y.note_content&&(H=this.onlyText(y.note_content)),null!==this.notifications[0].item_id?C=!0:S=!0,!1===g)if(this.isAggregated()){M=!0,$=$setHTML(DIV(),V),n=DIV({c:"collapsed_list"});var W,K=L(this.notifications);try{for(K.s();!(W=K.n()).done;)l=W.value,c=this.createCollapseNoteItem(l),$add(n,c)}catch(e){K.e(e)}finally{K.f()}$add($,n)}else $=$setHTML(SPAN(),V+"<br>"),y.note_content&&$add($,DIV({c:"desc"},"\u201c".concat(this.onlyText(y.note_content),"\u201d")))}else if(-1!==w.indexOf("item_")){var Y=null,J=b.a.get(y.project_id);if("item_assigned"===w?(q=svgs.get("sm1/notification_assigned.svg"),V=this._ns(_n("{user} assigned a task in {project}","{user} assigned {n} tasks in {project}",this.count()),_n("{multiple} assigned a task in {project}","{multiple} assigned {n} tasks in {project}",this.count()),{user:this.subject(),multiple:this.subject(),n:this.count(),project:J?"<b>"+this.onlyText(J.name)+"</b>":_("a shared project")}),this.isAggregated()?k=y.project_id:C=!0):"item_completed"===w?(q=svgs.get("sm1/notification_completed.svg"),V=this._ns(_n("{user} completed a task in {project}","{user} completed {n} tasks in {project}",this.count()),_n("{multiple} completed a task in {project}","{multiple} completed {n} tasks in {project}",this.count()),{user:this.subject(),multiple:this.subject(),n:this.count(),project:J?"<b>"+this.onlyText(J.name)+"</b>":_("a shared project")}),this.isAggregated()?k=y.project_id:C=!0,Y="completed"):"item_uncompleted"===w&&(q=svgs.get("sm1/notification_uncompleted.svg"),V=this._ns(_n("{user} uncompleted a task in {project}","{user} uncompleted {n} tasks in {project}",this.count()),_n("{multiple} uncompleted a task in {project}","{multiple} uncompleted {n} tasks in {project}",this.count()),{user:this.subject(),multiple:this.subject(),n:this.count(),project:J?"<b>"+this.onlyText(J.name)+"</b>":_("a shared project")}),this.isAggregated()?k=y.project_id:C=!0),y.item_content&&(H=this.onlyText(y.item_content)),!1===g)if(this.isAggregated()){M=!0,$=$setHTML(DIV(),V),n=DIV({c:"collapsed_list"});var Q,Z=L(this.notifications);try{for(Z.s();!(Q=Z.n()).done;)l=Q.value,c=this.createCollapseTaskItem(l),Y&&$addClass(c,Y),$add(n,c)}catch(e){Z.e(e)}finally{Z.f()}$add($,n)}else{var X;if($=$setHTML(SPAN(),V),y.item_content)$add($,BR(),X=DIV({c:"desc"},this.onlyText(y.item_content))),Y&&$addClass(X,Y)}}else if("share_invitation_sent"===w){if("accepted"===y.state)t=d.a.renderAvatar(window.User,"medium",m.a.theme),V=Object(O.a)(_("You joined {project}"),{project:F}),k=y.project_id,!1===g&&($=$setHTML(SPAN(),V));else if("rejected"===y.state)t=d.a.renderAvatar(window.User,"medium",m.a.theme),V=Object(O.a)(_("You declined invitation from {user} to {project}"),{user:j,project:F}),k=null,!1===g&&($=$setHTML(SPAN(),V));else if(V=Object(O.a)(_("{user} invited you to {project}"),{user:z,project:F}),!1===g){s=function(){var t=Object(O.a)(_("Start collaborating on {project}"),{project:F}),n=$$(".text_holder",i)[0];return $replace(n,DIV({c:"accepted"},_("Invitation accepted!"),BR(),$setHTML(SPAN(),t),u)),$AEV(i,"click",(function(){p.close();var t,n=null,r=L(b.a.getAll());try{for(r.s();!(t=r.n()).done;)if((F=t.value).name===y.name){n=F.id;break}}catch(e){r.e(e)}finally{r.f()}return n&&e.navigateTo({view:{type:"project",projectId:n}}),!1}))};var ee=Array.from(this.genericAccept(y,V,h.a.acceptInvitation,h.a.rejectInvitation,s)),te=a()(ee,2);$=te[0],E=te[1]}}else if("share_invitation_blocked_by_project_limit"===w){var ne=Object(N.s)(P.default.getState());V="pro"===ne.current.plan_name?_n("Unable to accept {user}\u2019s invite to {project}. You\u2019ve reached the Pro plan\u2019s limit of {limit} project. Archive or delete projects first.","Unable to accept {user}\u2019s invite to {project}. You\u2019ve reached the Pro plan\u2019s limit of {limit} projects. Archive or delete projects first.",ne.current.max_projects):"teams"===ne.current.plan_name?_n("Unable to accept {user}\u2019s invite to {project}. You\u2019ve reached the Business plan\u2019s limit of {limit} project. Archive or delete projects first.","Unable to accept {user}\u2019s invite to {project}. You\u2019ve reached the Business plan\u2019s limit of {limit} projects. Archive or delete projects first.",ne.current.max_projects):_n("Unable to accept {user}\u2019s invite to {project}. You\u2019ve reached the Free plan\u2019s limit of {limit} project. Archive or delete projects first.","Unable to accept {user}\u2019s invite to {project}. You\u2019ve reached the Free plan\u2019s limit of {limit} projects. Archive or delete projects first.",ne.current.max_projects),V=Object(O.a)(V,{user:z,project:F,limit:ne.current.max_projects}),!1===g&&($=$setHTML(SPAN(),V))}else if("share_invitation_accepted"===w)V=this._ns(_("{user} joined {project}"),_("{multiple} joined {project}"),{user:this.subject(),multiple:this.subject(),project:F}),q=svgs.get("sm1/notification_user_added.svg"),k=y.project_id,!1===g&&($=$setHTML(SPAN(),V));else if("share_invitation_rejected"===w)V=Object(O.a)(_("{user} rejected your invitation to {project}"),{user:z,project:F}),q=svgs.get("sm1/notification_user_removed.svg"),k=y.project_id,!1===g&&($=$setHTML(SPAN(),V));else if("user_left_project"===w)V=this._ns(_("{user} left {project}"),_("{multiple} left {project}"),{user:this.subject(),multiple:this.subject(),project:F}),q=svgs.get("sm1/notification_user_removed.svg"),k=y.project_id,!1===g&&($=$setHTML(SPAN(),V));else if("user_removed_from_project"===w){if(q=svgs.get("sm1/notification_user_removed.svg"),y.removed_uid===window.User.id)V=Object(O.a)(_("{user} removed you from {project}"),{user:z,project:F});else{var re=v.a.getUserById(y.removed_uid)||{},ae=re.full_name||"";ae=ae.split(" ")[0],V=Object(O.a)(_("{user} removed {user_2} from {project}"),{user:z,user_2:ae,project:F})}k=y.project_id,!1===g&&($=$setHTML(SPAN(),V))}else if("owner_left_project"===w)q=svgs.get("sm1/notification_user_removed.svg"),V=Object(O.a)(_("{user} (owner) left {project}"),{user:z,project:F}),k=y.project_id,!1===g&&($=$setHTML(SPAN(),V));else if("karma_level"===w)o=y.karma_level,V=$=function(){switch(o){case 1:return _("Your journey towards higher productivity begins today! You're now a Todoist Karma Novice.");case 2:return _("Congrats! Reaching 2,500 points makes you a Todoist Karma Intermediate.");case 3:return _("You're getting seriously productive! High five on reaching the Professional level of Todoist Karma!");case 4:return _("Pat yourself on the back\u2013 you're now an impressive Todoist Karma Expert!");case 5:return _("Outstanding work! Achieving 10,000 points makes you a Todoist Karma Master.");case 6:return _("One more level to go! You're now a revered Todoist Karma Grand Master!");case 7:return _("You did it! With over 50,000 points you've reached the top\u2013 Todoist Karma Enlightenment!")}}(),x=!0,!1===g&&(r=B(o),t=SPAN({c:"karma-icon"},r));else if("biz_invitation_created"===w)if("invited"===y.state){if(s=function(){return $swap(i,i=LI({c:"accepted"},_("Invitation accepted!")))},V=Object(O.a)(_("{user} invited you to the {team_name} account"),{user:z,team_name:y.account_name}),V=_("Todoist Business")+": "+V,!1===g){var oe=Array.from(this.genericAccept(y,V,h.a.acceptInvitationBiz,h.a.rejectInvitationBiz,s)),ie=a()(oe,2);$=ie[0],E=ie[1]}}else"accepted"===y.state?(t=null,V=Object(O.a)(_("You joined the {team_name} account"),{team_name:y.account_name}),V=_("Todoist Business")+": "+V,!1===g&&($=$setHTML(SPAN(),V))):(t=null,V=Object(O.a)(_("You rejected invitation from {user} to the {team_name} account"),{user:z,team_name:y.account_name}),V=_("Todoist Business")+": "+V,!1===g&&($=$setHTML(SPAN(),V)));else"biz_invitation_accepted"===w?(q=svgs.get("sm1/notification_user_added.svg"),V=Object(O.a)(_("{user} joined the {team_name} account"),{user:z,team_name:y.account_name}),V=_("Todoist Business")+": "+V,I=!0,!1===g&&($=$setHTML(SPAN(),V))):"biz_invitation_rejected"===w?(q=svgs.get("sm1/notification_user_removed.svg"),V=Object(O.a)(_("{user} rejected your invitation to the {team_name} account"),{user:z,team_name:y.account_name}),V=_("Todoist Business")+": "+V,I=!0,!1===g&&($=$setHTML(SPAN(),V))):"biz_policy_disallowed_invitation"===w?(V=D(_("Team's permission settings don't allow you to share projects outside of your team. Add %s to your team or change the permission settings"),z),V=_("Todoist Business")+": "+V,k=y.project_id,!1===g&&($=$setHTML(SPAN(),V))):"biz_policy_rejected_invitation"===w?(V=D(_("Team's permission don't allow user to join projects outside of their team. Ask %s to add yourself to their team or to change the permission settings"),z),V=_("Todoist Business")+": "+V,k=y.project_id,!1===g&&($=$setHTML(SPAN(),V))):"biz_trial_will_end"===w?(V=_("This is a reminder that your trial will end in a few days. At that time, we will process your first payment to ensure uninterrupted service."),V=_("Todoist Business")+": "+V,T=!0,!1===g&&($=$setHTML(SPAN(),V))):"biz_trial_enter_cc"===w?(q=svgs.get("sm1/notification_payment.svg"),V=_("This is a reminder that your trial will end in a few days. Update your credit card information to keep using our service."),V=_("Todoist Business")+": "+V,T=!0,!1===g&&($=$setHTML(SPAN(),V))):"biz_payment_failed"===w?(q=svgs.get("sm1/notification_payment.svg"),V=_("We failed to charge you. Please review and update your credit card information to avoid any disruption in service."),V=_("Todoist Business")+": "+V,T=!0,!1===g&&($=$setHTML(SPAN(),V))):"biz_account_disabled"===w?(V=_("Your business account was disabled. Upgrade now to continue using account."),V=_("Todoist Business")+": "+V,T=!0,!1===g&&($=$setHTML(SPAN(),V))):"wunderlist_import"===w&&(t=svgs.get("sm1/notification_wunderlist_import.svg"),V=y.message,$=$setHTML(SPAN(),V),k=y.project_id,A=!y.project_id);var ce=null,le=null;if(k)ce=function(){return p.close(),M?p.markBoxRead():p.markItemRead(y,c),e.navigateTo({view:{type:"project",projectId:k}}),!1},le={text:_("View"),action:"view_project",project_id:k,put_in_focus:!0};else if(S){var se=this.notifications[0].note_id;ce=function(){return p.close(),M?p.markBoxRead():p.markItemRead(y,c),e.navigateTo({view:{type:"project",projectId:y.project_id},subPath:"/comments",hash:"#comment-".concat(se)}),!1},le={text:_("View"),action:"view_project_note",project_id:y.project_id,note_id:se,put_in_focus:!0}}else C?(ce=function(){return p.close(),M?p.markBoxRead():p.markItemRead(y,c),p.close(),e.navigateTo({task:{id:y.item_id,tab:"comments"},hash:"#comment-".concat(y.note_id)}),!1},le={text:_("View"),action:"view_task",item_id:y.item_id,note_id:y.note_id,put_in_focus:!0}):I?(ce=function(){return window.open("/business/users"),!1},le={text:_("View"),action:"view_business_users"}):T?(ce=function(){return window.open("/business/accountAndBilling"),!1},le={text:_("View"),action:"view_business_billing"}):x?(ce=function(){return p.close(),Object(f.a)(o,y),!1},le={text:_("View"),action:"view_karma"}):A&&(ce=function(){return p.close(),P.default.dispatch(Object(R.d)({type:R.a.WUNDERLIST_IMPORTER,props:{showStatus:!0}})),!1});if(g)return{user:j,title:V,body:H,callback:ce,action:le};$addClass(q,"type_icon"),$add(i,DIV({c:"left_container","data-track":"navigation|nofications_single_notification"},DIV({c:"avatar_holder"},t,q),DIV({c:"text_holder"},$,E,u=DIV({c:"time_holder"},this.timeString()))));var ue=DIV({c:"right_container"});if(M){var de=DIV({c:"collapse_icon_wrap"},svgs.get("sm1/caret.svg"));$AEV(de,"click",(function(e){return $hasClass(i,"is_uncollapsed")?(track("navigation","click","notifications_expand_collapsed"),$removeClass(i,"is_uncollapsed")):$addClass(i,"is_uncollapsed"),e.stopPropagation(),!1})),$add(ue,de)}r=this.isBoxUnread()?svgs.get("sm1/notification_unread.svg"):svgs.get("sm1/notification_read.svg");var fe=DIV({c:"unread_icon_wrap fixed_pos"},r);return IstTooltip.showTooltip(fe,(function(){return p.isBoxUnread()?_("Mark as Read"):_("Mark as Unread")}),(function(){return-($gp(fe,"div","GB_iframe_html").scrollTop-50)}),5,null,!0),$AEV(fe,"click",(function(e){return IstTooltip.hide(),p.isBoxUnread()?(track("navigation","click","notifications_mark_as_read"),p.markBoxRead()):(track("navigation","click","notifications_mark_as_unread"),p.markBoxUnread()),e.stopPropagation(),!1})),$add(ue,fe),$add(i,ue),ce&&$AEV(i,"click",ce),E&&$addClass(i,"has_actions"),U&&$addClass(i,U),this.isBoxUnread()&&$addClass(i,"unread"),i}},{key:"isMultiUser",get:function(){return this.allUsers().legnth>1}}]),e}();F.navigateTo=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("Notifications navigateTo placeholder",t)};var z=function(){function e(){i()(this,e),this.showDropdown=this.showDropdown.bind(this),this.markRead=this.markRead.bind(this),this.markUnread=this.markUnread.bind(this),this.markReadAll=this.markReadAll.bind(this),this.fetchData=this.fetchData.bind(this),this.aggregated=this.aggregated.bind(this),this.renderNotifications=this.renderNotifications.bind(this),this.renderNotification=this.renderNotification.bind(this),Signals.connect("noti_updated",(function(e){if(0===e.is_unread){var t=$("noti_".concat(e.notification_key));if(t&&$hasClass(t,"unread"))return $removeClass(t,"unread")}}))}return l()(e,[{key:"showDropdown",value:function(e){var t=this,n=e.icon,r=e.onClose,a=h.a.getNotifications(),o={no_side_padding:!0,fn_left_offset:function(){return $position(n).x-340},fn_top_offset:function(){return p.top_bar.top_offset_full},fn_arrow_left:function(){return $position(n).x+9},fn_on_hide:function(){t.empty_state_holder&&(T.a.unmountComponentAtNode(t.empty_state_holder),t.empty_state_holder=null),t.cur_window=null,ForcedScroll.removeListener(),r()},fixed_pos:!0,show_close_img:!1,show_custom_text:a.length>0?A({c:"mark_all_as_read","data-track":"navigation|notifications_mark_all_as_read"},_("Mark all as Read")):"",show_custom_fn:$p(this.markReadAll)},i=DIV({id:"notifications_holder"},DIV({c:"indicator"},Indicator.cssSpinner()));$AEV(i,"scroll",(function(){return IstTooltip.hide()})),ForcedScroll.attachListener(i,"notifications"),this.cur_window=TooptipWin.show(_("Notifications"),i,200,430,o),$addClass(this.cur_window.g_window,"notifications"),this.cur_window.g_window.id+=" notification_popup",this.fetchData(i,a)}},{key:"close",value:function(){this.cur_window&&this.cur_window.hide()}},{key:"markRead",value:function(e){var t=$("noti_".concat(e.notification_key));if(t&&$hasClass(t,"unread"))return $removeClass(t,"unread")}},{key:"markUnread",value:function(e){var t=$("noti_".concat(e.notification_key));if(t&&!$hasClass(t,"unread"))return $addClass(t,"unread")}},{key:"markReadAll",value:function(){$removeClass($$(".collapsed_list_item"),"unread");var e,t=L($$(".unread_icon_wrap"));try{for(t.s();!(e=t.n()).done;){var n=e.value;$replace(n,svgs.get("sm1/notification_read.svg"))}}catch(e){t.e(e)}finally{t.f()}return $removeClass($$("li"),"unread"),h.a.markReadAll()}},{key:"fetchData",value:function(e,t){var r,a=!1,o=L(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(Date.now()/1e3-i.created<=7776e3){a=!0;break}}}catch(e){o.e(e)}finally{o.f()}if(0!==t.length&&a)this.renderNotifications(e,t);else{var c=n("npY/"),l=IMG({src:c,width:150,height:250,c:"illustration"});if(0!==v.a.getCount())return $removeClass(e,"no_scrollbar"),$replace(e,CENTER(DIV({c:"empty"},l,H3(_("No recent notifications")),DIV({c:"final"},_("There hasn\u2019t been any activity in your shared projects recently.")))));$addClass(e,"no_scrollbar"),T.a.render(S.a.createElement(x.f,null),e),this.empty_state_holder=e}}},{key:"aggregated",value:function(e){var t,n={},r=L(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,o=void 0,i=Math.floor(a.created/144e5);if(["item_completed","item_uncompleted","item_assigned"].includes(a.notification_type))o="".concat(a.notification_type,":").concat(a.project_id,":").concat(a.from_uid,":").concat(i);else if(["share_invitation_accepted","user_left_project"].includes(a.notification_type))o="".concat(a.notification_type,":").concat(a.project_id,":").concat(i);else if("note_added"===a.notification_type){o=null===a.item_id?"project_note_added:".concat(a.project_id,":").concat(i):"item_note_added:".concat(a.item_id,":").concat(i)}else o=a.id;void 0===n[o]?n[o]=new F(a):n[o].push(a)}}catch(e){r.e(e)}finally{r.f()}var c=[];for(var l in n){var s=n[l];c.push(s)}return c.sort((function(e,t){return t.sortKey()-e.sortKey()})),c}},{key:"renderNotifications",value:function(e,t){$remove($all("div","indicator",e)),$("more_button_noti")&&$remove($("more_button_noti"));var n,r=this.aggregated(t),a=UL(),o=L(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;$add(a,i.render(!1))}}catch(e){o.e(e)}finally{o.f()}return $add(e,a)}},{key:"renderNotification",value:function(e){return new F(e).render(!0)}},{key:"getCallbackForNotification",value:function(e){var t=new F(e).render(!0);return null==t?void 0:t.callback}}]),e}();function B(e){switch(e){case 1:return svgs.get("sm1/karma_1.svg");case 2:return svgs.get("sm1/karma_2.svg");case 3:return svgs.get("sm1/karma_3.svg");case 4:return svgs.get("sm1/karma_4.svg");case 5:return svgs.get("sm1/karma_5.svg");case 6:return svgs.get("sm1/karma_6.svg");case 7:return svgs.get("sm1/karma_7.svg")}}t.b=new z},eryZ:function(e,t,n){},f4de:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M10 14.5a2 2 0 104 0h5.5V18a1.5 1.5 0 01-1.5 1.5H6A1.5 1.5 0 014.5 18v-3.5H10z",opacity:.1}),r.createElement("path",{d:"M8.062 4h7.876a2 2 0 011.94 1.515l2.062 8.246a2 2 0 01.06.485V18a2 2 0 01-2 2H6a2 2 0 01-2-2v-3.754a2 2 0 01.06-.485l2.06-8.246A2 2 0 018.061 4zm0 1a1 1 0 00-.97.757L5.03 14.004a1 1 0 00-.03.242V18a1 1 0 001 1h12a1 1 0 001-1v-3.754a1 1 0 00-.03-.242l-2.06-8.247A1 1 0 0015.94 5H8.061zM12 17.25A2.75 2.75 0 019.295 15H7a.5.5 0 110-1h2.75a.5.5 0 01.5.5 1.75 1.75 0 003.5 0 .5.5 0 01.5-.5H17a.5.5 0 110 1h-2.295A2.75 2.75 0 0112 17.25z"}));function i(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24"},e),o)}n.p},f7NS:function(e,t,n){"use strict";n.r(t),n.d(t,"modalBoxClass",(function(){return j})),n.d(t,"Box",(function(){return k})),n.d(t,"Header",(function(){return D})),n.d(t,"Body",(function(){return C})),n.d(t,"Actions",(function(){return S})),n.d(t,"Context",(function(){return E}));var r=n("pVnL"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("QILm"),l=n.n(c),s=n("q1tI"),u=n.n(s),d=n("TSYQ"),f=n.n(d),m=n("zdUj"),p=n("DUc8"),h=n("Vbab"),v=n("c9wj"),b=n("t6YY"),g=n("4eld");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j="reactist_modal_box";function w(e){e.preventDefault()}var E=u.a.createContext((function(){}));function k(e){var t=e.isOpen,n=e.onDismiss,r=void 0===n?function(){}:n,o=e.className,i=e.size,c=e.closeOnOverlayClick,d=void 0!==c&&c,b=e.children,g=e.width,_=e.height,y=void 0===_?"fit-content":_,k=e.focusLockAutoFocus,D=void 0===k||k,C=e.focusLockWhiteList,S=void 0===C?null:C,I=e.overlayProps,T=void 0===I?{}:I,A=l()(e,["isOpen","onDismiss","className","size","closeOnOverlayClick","children","width","height","focusLockAutoFocus","focusLockWhiteList","overlayProps"]),x=u.a.useMemo((function(){return A.id||Object(v.a)("reactist-modal-box")}),[A.id]),P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.filter(Boolean).forEach((function(t){return t(e)}))}}(d?void 0:w,T.onClick),R=Object(s.useCallback)((function(e){return!(S&&S(e))}),[S]);return u.a.createElement(m.b,a()({isOpen:t,onDismiss:r},T,{dangerouslyBypassFocusLock:!0,onClick:P}),u.a.createElement(p.a,{autoFocus:D,whiteList:R},u.a.createElement(m.a,a()({"aria-label":A["aria-label"]||A["aria-labelledby"]?void 0:Object(h.d)("a11y","modal box")},A,{id:x,className:f()(j,i,o,"".concat(j,"--height-").concat(y)),style:null!=g?O({width:g},A.style):A.style}),u.a.createElement(E.Provider,{value:r},b))))}function D(e){var t=e.title,n=e.subtitle,r=e.children,o=e.button,i=e.className,c=l()(e,["title","subtitle","children","button","className"]),s=u.a.useContext(E);return u.a.createElement("header",a()({},c,{className:f()("reactist_modal_box__header",i)}),u.a.createElement("hgroup",null,u.a.createElement("h1",null,t),n&&u.a.createElement("h2",null,n),r),!1!==o&&u.a.createElement("div",{className:"reactist_modal_box__header_button"},null!=o&&!0!==o?o:u.a.createElement(g.a,{onClick:s,"aria-label":_("Close")},u.a.createElement(b.a,null))))}function C(e){var t=e.className,n=e.icon,r=e.plain,o=e.children,i=l()(e,["className","icon","plain","children"]);return u.a.createElement("section",a()({},i,{className:f()("reactist_modal_box__body",{plain:r},t)}),n?u.a.createElement("div",{className:"dialog"},u.a.createElement("div",{className:"icon"},n),u.a.createElement("div",{className:"content"},o)):o)}function S(e){var t=e.children,n=e.className,r=l()(e,["children","className"]);return u.a.createElement("footer",a()({},r,{className:f()("reactist_modal_box__actions",n)}),t)}k.displayName="Modal.Box",D.displayName="Modal.Header",C.displayName="Modal.Body",S.displayName="Modal.Actions"},f9lI:function(e,t,n){e.exports=n.p+"assets/images/382f11b5bc5095eda99be13a103ed655.png"},fAMu:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("oyQV");function a(e){var t=(e=Object(r.a)(e)).toLowerCase().split(" ").filter((function(e){return!!e})),n=function(e){return e=(e=Object(r.a)(e)).toLowerCase(),-1===t.map((function(t){return e.indexOf(t)})).indexOf(-1)};return 1===arguments.length?n:arguments.length>1?n(arguments[1]):void 0}},fCkL:function(e,t,n){"use strict";var r=n("J4zp"),a=n.n(r),o=n("q1tI"),i=n("17x9"),c=n.n(i),l=n("TSYQ"),s=n.n(l),u=n("GpCm"),d=n("FUwg");function f(e){var t=e.placement,n=void 0===t?"bottom":t,r=e.referenceElement,i=e.selectedDate,c=e.selectedItems,l=e.onClose,f=void 0===l?function(){}:l,m=e.onDateSelect,p=e.onToggle,h=e.className,v="function"==typeof r,b=o.useState(r&&!v),g=a()(b,2),_=g[0],y=g[1];function O(){y(!1),p&&p(!1),f()}function j(){y(!0),p&&p(!0)}return o.createElement(u.c,{className:s()("scheduler_popper",h),zIndex:!1,modifiers:[u.b,u.a],placement:n,referenceElement:v?function(e){var t=e.ref,n=e.isExpanded;return r({ref:t,isExpanded:n,onClick:j})}:r,isShown:_,withArrow:!1,onClose:O},_?o.createElement(d.a,{selectedDate:i,selectedItems:c,onClose:O,onDateSelect:function(e){O(),m(e)}}):null)}f.propTypes={placement:c.a.string,referenceElement:c.a.oneOfType([c.a.instanceOf(HTMLElement),c.a.func]),className:c.a.string,selectedDate:c.a.object,selectedItems:c.a.array,onDateSelect:c.a.func,onClose:c.a.func,onToggle:c.a.func},f.defaultProps={onDateSelect:function(){},onHide:function(){}},t.a=f},fDSz:function(e,t,n){"use strict";var r=n("RIqP"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("lwsE"),l=n.n(c),s=n("W8MJ"),u=n.n(s),d=n("iXqn"),f=n("noZS"),m=n.n(f),p=n("7GkX"),h=n.n(p),v=n("duPW"),b=n.n(v),g=n("qRd9"),_=n("oHMr"),y=n("181E"),O=function(){function e(){var t;l()(this,e),this.storages=(t={},i()(t,"settings",Object(y.a)("LocalSettings")),i()(t,"settings.theme",Object(y.a)("LocalSettings.theme")),i()(t,"tooltip.scheduled",Object(y.a)("TooltipStore.scheduledTipList")),i()(t,"tooltip.seen",Object(y.a)("TooltipStore.seenList")),i()(t,"filters",Object(y.a)("Filters")),i()(t,"labels",Object(y.a)("Labels")),i()(t,"projects",Object(y.a)("Projects")),i()(t,"reminders",Object(y.a)("Reminders")),i()(t,"sections",Object(y.a)("sections")),i()(t,"stats",Object(y.a)("stats")),i()(t,"user",Object(y.a)("User")),i()(t,"moreNotes",Object(y.a)("moreNotes")),i()(t,"collaborators",Object(y.a)("collaborators")),i()(t,"completed",Object(y.a)("completed")),i()(t,"userPlanLimits",Object(y.a)("userPlanLimits")),i()(t,"viewOptions",Object(y.a)("viewOptions")),t),this.cellStorages={notes:new d.a("notes"),items:new d.a("items"),drafts:new d.a("drafts"),mapping:new d.a("mapping")}}return u()(e,[{key:"inIDB",value:function(e){return this.cellStorages[e]&&this.cellStorages[e].usingIndexedDB}},{key:"load",value:function(){var e=m()(this.storages,(function(e){return e.get()}));return this.attachStorePersister(),_.default.dispatch(Object(g.b)(e)),this.loadStatus=m()(this.cellStorages,(function(e,t){return e.get().then((function(e){return _.default.dispatch(Object(g.b)(i()({},t,e)))}))})),this.loadStatus}},{key:"attachStorePersister",value:function(){var e=this;[].concat(a()(h()(this.storages)),a()(h()(this.cellStorages))).forEach((function(t){var n=e.storages[t]||e.cellStorages[t];!function(e,t,n){var r=t(e.getState());e.subscribe((function(){var a=t(e.getState());r!==a&&(null==a?n.clear():n.set(a),r=a)}))}(_.default,b()(t),n)}))}}]),e}();t.a=new O},fF8A:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),l=n.n(c),s=n("7W2i"),u=n.n(s),d=n("a1gu"),f=n.n(d),m=n("Nsbk"),p=n.n(m),h=n("lSNA"),v=n.n(h),b=n("q1tI"),g=n.n(b),_=n("17x9"),y=n.n(_),O=n("TSYQ"),j=n.n(O),w=n("4eld"),E=n("7dGA"),k=n("RIqP"),D=n.n(k),C=n("DzJC"),S=n.n(C),I=n("+E59"),T=n("+ZEg");function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var x=function(e){u()(n,e);var t=A(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"handleNextMonthFocus",value:function(){var e=document.activeElement.closest(".date-picker-month").nextSibling;if(e){var t=e.getElementsByClassName("calendar__day");t[0]&&t[0].focus()}}},{key:"handlePreviousMonthFocus",value:function(){var e=document.activeElement.closest(".date-picker-month").previousSibling;if(e){var t=e.getElementsByClassName("calendar__day");t[t.length-1]&&t[t.length-1].focus()}}},{key:"render",value:function(){var e=this.props,t=e.date,n=e.forwardRef,r=e.ignoredDays,a=e.itemsByDate,o=e.focusedDate,i=e.limitDate,c=e.renderDay,l=e.scrollToWeekRef,s=e.selectedDate,u=e.weekStartDay,d=e.shouldScrollToFocusedDate,f=e.isFirstRowFilled,m=e.onDayClick,p=e.onDayMouseEnter,h=e.onDayMouseLeave,v=j()("date-picker-month",{"date-picker-month--first":f});return g.a.createElement("div",{ref:n,className:v},!f&&g.a.createElement("div",{className:"date-picker-month-header"},E.e()[t.getMonth()]),g.a.createElement(T.a,{date:t,ignoredDays:r,itemsByDate:a,focusedDate:o,limitDate:i,renderDay:c,scrollToWeekRef:l,selectedDate:s,weekStartDay:u,isHeaderShown:!1,isFirstRowFilled:f,shouldScrollToFocusedDate:d,onDayClick:m,onDayMouseEnter:p,onDayMouseLeave:h,onNextMonthFocus:this.handleNextMonthFocus,onPreviousMonthFocus:this.handlePreviousMonthFocus}))}}]),n}(g.a.PureComponent);x.propTypes={date:y.a.instanceOf(Date).isRequired,forwardRef:y.a.func.isRequired,ignoredDays:y.a.array.isRequired,itemsByDate:y.a.object,focusedDate:y.a.instanceOf(Date).isRequired,scrollToWeekRef:y.a.object,limitDate:y.a.instanceOf(Date),renderDay:y.a.func,selectedDate:y.a.object,weekStartDay:y.a.number.isRequired,shouldScrollToFocusedDate:y.a.bool,isFirstRowFilled:y.a.bool,onDayClick:y.a.func,onDayMouseEnter:y.a.func,onDayMouseLeave:y.a.func},x.defaultProps={isFirstRowFilled:!1,onDayClick:function(){},onDayMouseEnter:function(){},onDayMouseLeave:function(){}};var P=x;function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var N=function(e){u()(n,e);var t=R(n);function n(e){var r;a()(this,n),r=t.call(this,e),v()(l()(r),"handleScrollImpl",(function(){var e=r.monthList.current.parentElement.scrollTop;if(clearTimeout(r.scrollEndTimeout),r.scrollEndTimeout=setTimeout((function(){r.scrollEndTimeout=null}),150),r.props.onScroll(e),!r.shifted){var t=r.state,n=t.monthsInView,a=t.topMonthIndex,o=r.props,i=o.currentDate,c=o.limitDate,l=o.weekStartDay;if(c){var s=n[n.length-1];if(s.getFullYear()===c.getFullYear()&&s.getMonth()===c.getMonth()){var u=r.monthList.current.lastChild,d=u.offsetTop+u.offsetHeight,f=r.monthList.current.parentElement.offsetHeight;if(d-e<f)return void(r.monthList.current.parentElement.scrollTop=d-f)}}var m=r.topMonthEl.offsetTop,p=r.topMonthEl.scrollHeight;if(e<=0)return r.props.onTopMonthChange("".concat(E.e()[i.getMonth()]," ").concat(i.getFullYear())),r.lastTop=0,r.shifted=!0,r.setState({monthsInView:[i].concat(D()(I.b(i,c,6))),topMonthIndex:0});var h=0;if(e>m+p){var v,b=new Date(n[a].getTime());b.setDate(1);for(var g=!0;g;){var _=b.getTime(),y=b.getFullYear(),O=b.getMonth();r.monthsHeights[_]?v=r.monthsHeights[_]:y<=i.getFullYear()&&O<=i.getMonth()?(v=r.monthList.current.childNodes[0].clientHeight,r.monthsHeights[i.getTime()]=v):(v=28*I.f(y,O,1,l)+36,r.monthsHeights[_]=v);var j=r.lastTop+v;j>e?g=!1:(h++,r.lastTop=j,b.setMonth(O+1))}}else if(e<m){var w,k=new Date(n[a].getTime());k.setMonth(k.getMonth()-1);for(var C=!0;C;){var S=k.getTime(),T=k.getFullYear(),A=k.getMonth();r.monthsHeights[S]?w=r.monthsHeights[S]:T<=i.getFullYear()&&A<=i.getMonth()?(w=28*I.f(T,A,i.getDate(),l),r.monthsHeights[i.getTime()]=w):(w=28*I.f(T,A,1,l)+36,r.monthsHeights[S]=w);var x=r.lastTop-w;x<e&&(C=!1),h--,r.lastTop=x,k.setMonth(A-1)}}if(h){var P,R=a+h,N=new Date(n[a].getTime());if(N.setDate(1),N.setMonth(N.getMonth()+h),h>0&&R>3){var L=I.d(i,N,3);P=[].concat(D()(L),[N],D()(I.b(N,c,3-L.length+3))),r.shifted=!0,R=3,r.setState({topMonthIndex:R,monthsInView:P,isScrolling:!0})}else if(h<0&&R<3){var M;N.getMonth()<=i.getMonth()&&N.getFullYear()<=i.getFullYear()?(N=i,M=[]):M=I.d(i,N,3),P=[].concat(D()(M),[N],D()(I.b(N,c,3-M.length+3))),r.shifted=!0,R=3-(3-M.length),r.setState({topMonthIndex:R,monthsInView:P,isScrolling:!0})}else r.setState({topMonthIndex:R,isScrolling:!0});var F=P&&P[R]||n[R];r.props.onTopMonthChange("".concat(E.e()[F.getMonth()]," ").concat(F.getFullYear()))}}})),v()(l()(r),"handleScroll",S()(r.handleScrollImpl,1,{trailing:!0})),v()(l()(r),"handleScrollAction",(function(){var e=r.monthList.current.parentElement;switch(r.props.scrollAction){case E.b:var t=r.topMonthEl.previousSibling;if(!t)return;e.scrollTop=0===t.offsetTop?0:t.offsetTop+36;break;case E.c:e.scrollTop=0;break;case E.a:var n=r.topMonthEl.nextSibling;if(!n)return;e.scrollTop=n.offsetTop+36}})),v()(l()(r),"handleDayMouseEnter",(function(e){r.scrollEndTimeout||r.props.onDayMouseEnter(e)})),v()(l()(r),"handleDayMouseLeave",(function(){r.scrollEndTimeout||r.props.onDayMouseLeave()}));var o=I.a(e.currentDate,e.shouldScrollToFocusedDate?e.focusedDate:e.selectedDate,e.limitDate),i=o.previousMonths,c=o.currentMonth,s=o.nextMonths;r.state={monthsInView:[].concat(D()(i),[c],D()(s)),topMonthIndex:i.length},r.lastTop=0;for(var u=new Date(c);u.getTime()>e.currentDate.getTime();){u=I.c(u,e.currentDate);var d=I.f(u.getFullYear(),u.getMonth(),u.getDate(),e.weekStartDay);r.lastTop=r.lastTop+28*d+(u!==e.currentDate?36:0)}return r.shifted=!1,r.monthList=g.a.createRef(),r.scrollToWeekRef=g.a.createRef(),r.monthsHeights={},r}return i()(n,[{key:"componentDidMount",value:function(){var e=this.state.topMonthIndex,t=this.monthList.current.childNodes,n=this.lastTop;this.topMonthEl.style.top="".concat(n,"px");for(var r=e+1;r<t.length;r++)n+=t[r-1].clientHeight,t[r].style.top="".concat(n,"px");n=this.lastTop;for(var a=e-1;a>=0;a--)n-=t[a].clientHeight,t[a].style.top="".concat(n,"px");var o=this.monthList.current.parentElement,i=o.offsetWidth-o.clientWidth;if(o.style.marginRight="-".concat(i||20,"px"),o.style.paddingRight="".concat(i?0:20,"px"),this.scrollToWeekRef.current){this.props.onTopMonthChange("".concat(E.e()[this.state.monthsInView[e].getMonth()]," ").concat(this.state.monthsInView[e].getFullYear()));var c=this.scrollToWeekRef.current.closest(".date-picker-month");c&&(this.monthList.current.parentElement.scrollTop=c.offsetTop+(c.offsetTop?36:0))}}},{key:"componentDidUpdate",value:function(e){if(this.shifted){var t=this.monthList.current.childNodes,n=this.lastTop;this.topMonthEl.style.top="".concat(n,"px");for(var r=this.state.topMonthIndex+1;r<t.length;r++)n+=t[r-1].clientHeight,t[r].style.top="".concat(n,"px");n=this.lastTop;for(var a=this.state.topMonthIndex-1;a>=0;a--)n-=t[a].clientHeight,t[a].style.top="".concat(n,"px");this.shifted=!1}this.props.scrollAction&&this.props.scrollAction!==e.scrollAction&&(this.handleScrollAction(),this.props.onScrollActionCompleted())}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentDate,r=t.ignoredDays,a=t.itemsByDate,o=t.limitDate,i=t.renderDay,c=t.selectedDate,l=t.weekStartDay,s=t.shouldScrollToFocusedDate,u=t.onDayClick,d=this.props.focusedDate||new Date(Math.max(c&&c._date,n,this.state.monthsInView[0])),f=this.state.monthsInView.map((function(t,f){return g.a.createElement(P,{key:t.getTime(),date:t,forwardRef:function(t){f===e.state.topMonthIndex&&(e.topMonthEl=t)},ignoredDays:r,itemsByDate:a,focusedDate:d,limitDate:o,renderDay:i,scrollToWeekRef:e.scrollToWeekRef,selectedDate:c,weekStartDay:l,shouldScrollToFocusedDate:s,isFirstRowFilled:0===f&&n.getTime()===t.getTime(),onDayClick:u,onDayMouseEnter:e.handleDayMouseEnter,onDayMouseLeave:e.handleDayMouseLeave})}));return g.a.createElement("div",{className:"date-picker-monthlist-wrapper",onScroll:this.handleScroll},g.a.createElement("div",{className:"date-picker-monthlist",ref:this.monthList},f))}}]),n}(g.a.PureComponent);N.propTypes={currentDate:y.a.instanceOf(Date).isRequired,focusedDate:y.a.instanceOf(Date),limitDate:y.a.instanceOf(Date),ignoredDays:y.a.array.isRequired,itemsByDate:y.a.object,renderDay:y.a.func,selectedDate:y.a.object,scrollAction:y.a.string,weekStartDay:y.a.number.isRequired,isFocusDateHighlighted:y.a.bool,shouldScrollToFocusedDate:y.a.bool,onDayClick:y.a.func,onDayMouseEnter:y.a.func,onDayMouseLeave:y.a.func,onTopMonthChange:y.a.func,onScrollActionCompleted:y.a.func,onScroll:y.a.func},N.defaultProps={onDayClick:function(){},onDayMouseEnter:function(){},onDayMouseLeave:function(){},onTopMonthChange:function(){}};var L=N,M=n("LYyr"),F=n("it2E"),z=n("Pxnj");function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var V=function(e){u()(n,e);var t=B(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"componentDidMount",value:function(){if(this.props.withTooltip){var e=Object(M.a)(_n("{count} task due","{count} tasks due",this.props.items.length),{count:this.props.items.length});IstTooltip.showSimpleText(this.ref,e)}}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.blockHeight,a=n.blockWidth,o=n.className,i=n.items;try{e=i.map((function(e){var t=F.a.get(e.project_id);return z.g("project",t.color)})).sort().map((function(e,t){var n={backgroundColor:e,display:"inline-block",width:a,height:r};return g.a.createElement("span",{key:t,className:"tasks-due-bar-unit",style:n})}))}catch(t){e=[]}var c=j()("tasks-due-bar",o);return g.a.createElement("div",{ref:function(e){return t.ref=e},className:c},e)}}]),n}(g.a.Component);V.propTypes={blockHeight:y.a.number,blockWidth:y.a.number,items:y.a.array.isRequired,height:y.a.number,withTooltip:y.a.bool,className:y.a.string},V.defaultProps={blockHeight:8,blockWidth:8,withTooltip:!1};var $=V,H=n("Ek05"),U=n("Vbab");function q(e){var t=e.tasks,n=e.date,r=H.a.format(n,!1,{with_time:!1,with_weekday:!0}),a=Object(M.a)(Object(U.b)("{count} task due","{count} tasks due",t.length),{count:t.length}),o=t.length>0&&8*t.length>200?200/t.length:8;return g.a.createElement("div",{className:"date-picker-tasksdue"},g.a.createElement("div",{className:"date-picker-tasksdue-info"},g.a.createElement("span",{className:"date-picker-tasksdue-info-date"},"".concat(r," \u2022 ")),g.a.createElement("span",{className:"date-picker-tasksdue-info-tasks","data-testid":"date-picker-tasksdue-info-tasks"},a)),g.a.createElement($,{className:"date-picker-tasksdue-colors",blockWidth:o,blockHeight:3,items:t}))}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}q.propTypes={date:y.a.object.isRequired,tasks:y.a.array.isRequired};var W=function(e){u()(n,e);var t=G(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),v()(l()(e),"state",{days:e.getDays(e.props.weekStartDay)}),e}return i()(n,[{key:"componentDidUpdate",value:function(e){e.weekStartDay!==this.props.weekStartDay&&this.setState({days:this.getDays(this.props.weekStartDay)})}},{key:"getDays",value:function(e){for(var t=[],n=E.d(),r=0;r<n.length;r++)t.push(n[(e+r)%7]);return t}},{key:"render",value:function(){var e,t=this.props,n=t.dueDate,r=t.items,a=t.hasBorder,o=t.collaboratorsByPID,i=t.user;e=n?g.a.createElement(q,{date:n,tasks:Object(I.e)(r,n,{user:i,collaboratorsByPID:o})}):g.a.createElement("div",{className:"date-picker-monthlistheader-labels"},this.state.days.map((function(e,t){return g.a.createElement("div",{key:t},e)})));var c=j()("date-picker-monthlistheader",{"date-picker-monthlistheader--bordered":a});return g.a.createElement("div",{className:c},e)}}]),n}(g.a.PureComponent);W.propTypes={collaboratorsByPID:y.a.object,user:y.a.object,dueDate:y.a.instanceOf(Date),items:y.a.array,weekStartDay:y.a.number.isRequired,hasBorder:y.a.bool},W.defaultProps={items:[]};var K=W,Y=n("UVeO");function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var Q=function(e){u()(n,e);var t=J(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),v()(l()(e),"initialLabel","".concat(E.e()[e.props.currentDate.getMonth()]," ").concat(e.props.currentDate.getFullYear())),v()(l()(e),"state",{hoverDate:null,scrollAction:null,topMonthLabel:e.initialLabel,isScrollAtTop:!0}),v()(l()(e),"handleDayMouseEnter",(function(t){e.setState({hoverDate:t})})),v()(l()(e),"handleDayMouseLeave",(function(){e.setState({hoverDate:null})})),v()(l()(e),"handleMonthListScroll",(function(t){var n={};e.state.hoverDate&&(n.hoverDate=null),n.isScrollAtTop=0===t,e.setState(n)})),v()(l()(e),"handleScrollActionCompleted",(function(){e.setState({scrollAction:null})})),v()(l()(e),"handleScrollNextMonth",(function(){e.setState({scrollAction:E.a})})),v()(l()(e),"handleScrollPreviousMonth",(function(){e.setState({scrollAction:E.b})})),v()(l()(e),"handleScrollTop",(function(){e.setState({scrollAction:E.c})})),v()(l()(e),"handleTopMonthChange",(function(t){e.setState({topMonthLabel:t})})),e}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.currentDate,r=e.focusedDate,a=e.limitDate,o=e.ignoredDays,i=e.items,c=e.itemsByDate,l=e.renderDay,s=e.selectedDate,u=e.weekStartDay,d=e.onDateSelect,f=e.collaboratorsByPID,m=e.user,p=e.shouldScrollToFocusedDate,h=this.state,v=h.hoverDate,b=h.scrollAction,_=h.topMonthLabel,y=h.isScrollAtTop,O=this.initialLabel===_,E=j()("date-picker-header-action",{"date-picker-header-action--disabled":O});return g.a.createElement("div",{ref:this.picker,className:j()("date-picker",t)},g.a.createElement("div",{className:"date-picker-header"},g.a.createElement("span",{className:"date-picker-header-month"},_),g.a.createElement("div",{className:"date-picker-header-actions"},g.a.createElement(w.a,{className:E,onClick:this.handleScrollPreviousMonth,disabled:O},g.a.createElement(Y.Kb,null)),g.a.createElement(w.a,{className:"date-picker-header-action",onClick:this.handleScrollTop,disabled:y},g.a.createElement("div",null,g.a.createElement("div",{className:"outline-circle"}))),g.a.createElement(w.a,{className:"date-picker-header-action",onClick:this.handleScrollNextMonth},g.a.createElement(Y.nb,null)))),g.a.createElement(K,{collaboratorsByPID:f,user:m,dueDate:v,items:i,weekStartDay:u,hasBorder:!y}),g.a.createElement(L,{renderDay:l,currentDate:n,focusedDate:r,limitDate:a,ignoredDays:o,itemsByDate:c,scrollAction:b,selectedDate:s,weekStartDay:u,shouldScrollToFocusedDate:p,onDayClick:d,onDayMouseEnter:this.handleDayMouseEnter,onDayMouseLeave:this.handleDayMouseLeave,onScroll:this.handleMonthListScroll,onScrollActionCompleted:this.handleScrollActionCompleted,onTopMonthChange:this.handleTopMonthChange}))}}]),n}(g.a.PureComponent);Q.propTypes={className:y.a.string,currentDate:y.a.instanceOf(Date).isRequired,focusedDate:y.a.instanceOf(Date),limitDate:y.a.instanceOf(Date),ignoredDays:y.a.array.isRequired,initialHeight:y.a.number,items:y.a.array,itemsByDate:y.a.object,collaboratorsByPID:y.a.object,user:y.a.object,renderDay:y.a.func,selectedDate:y.a.object,weekStartDay:y.a.number,shouldScrollToFocusedDate:y.a.bool,onDateSelect:y.a.func,onFixedToggle:y.a.func,onScrollTopSet:y.a.func},Q.defaultProps={initialHeight:0,items:[],weekStartDay:7,onDateSelect:function(){},onFixedToggle:function(){},onScrollTopSet:function(){}};var Z=Q;t.a=Z},fPZF:function(e,t){IstButton={createButton:function(e,t,n,r){t||(t=null),e&&(e=SPAN(e));var a=A({href:"#",c:"ist_button"},t,e);if(r)for(var o in r)a.setAttribute(o,r[o]);return n&&$addClass(a,"ist_button_"+n),$AEV(a,"mousedown",(function(e){return a.disabled||$addClass(a,"ist_button_mousedown"),!1})),$AEV(a,["mouseup","mouseout","click"],(function(e){if(a.disabled)return!1;$removeClass(a,"ist_button_mousedown")})),a},createMiniButton:function(e,t,n){var r=IstButton.createButton(null,e,t,n);return $addClass(r,"ist_button_mini"),r},createBigButton:function(e,t,n){var r=IstButton.createButton(e,t,n);return $addClass(r,"ist_button_big"),r},disable:function(e){e&&(e.disabled=!0,$addClass(e,"ist_button_disabled"))},enable:function(e){e&&(e.disabled=!1,$removeClass(e,"ist_button_disabled"))}}},fTZR:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("q1tI"),i=n.n(o);t.a=function(e){return i.a.createElement("svg",a()({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:"currentColor",d:"M6 6h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H6zm10.7 1.6a.5.5 0 0 1 .6.8L12 13.1 6.7 9.4a.5.5 0 1 1 .6-.8l4.7 3.3 4.7-3.3z"}))}},faDx:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{d:"M11.855 5.148a.5.5 0 00-.71.704L16.262 11H5.5a.5.5 0 000 1h10.762l-5.117 5.148a.5.5 0 00.71.704l5.964-6 .025-.027c.097-.088.156-.201.156-.325s-.059-.238-.156-.325l-.025-.027-5.964-6z",fill:"currentColor"});function i(e){return r.createElement("svg",a({width:24,height:24},e),o)}n.p},fgjq:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),l=n.n(c),s=n("17x9"),u=n.n(s),d=n("4eld"),f=n("nM1N");n("888E");function m(e){var t=e.children,n=i()(e,["children"]);return l.a.createElement(d.a,a()({className:"plus_add_button"},n),l.a.createElement("span",{className:"icon_add","aria-hidden":!0},l.a.createElement(f.a,null)),t)}m.propTypes={children:u.a.node}},fpgb:function(e,t,n){e.exports={icon:"gskFvyX5N0eYr-TBGfHqy"}},fvtS:function(e,t,n){},g2hZ:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s}));var r=n("lSNA"),a=n.n(r);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={newVersion:null};function l(e){return{type:"NEW_VERSION_UPDATE",payload:e}}function s(e){var t;return null===(t=e.version)||void 0===t?void 0:t.newVersion}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_VERSION_UPDATE":return i(i({},e),{},{newVersion:t.payload});default:return e}}},gAlp:function(e,t,n){"use strict";n.r(t);n("pNMO"),n("4Brf"),n("tjZM"),n("3I1R"),n("7+kd"),n("0oug"),n("KhsS"),n("gOCb"),n("a57n"),n("GXvd"),n("I1Gw"),n("gXIK"),n("lEou"),n("gbiT"),n("ma9I"),n("qHT+"),n("piMb"),n("yyme"),n("TeQF"),n("fbCW"),n("x0AG"),n("BIHw"),n("XbcX"),n("QWBl"),n("pjDv"),n("yq1k"),n("yXV3"),n("4mDm"),n("oVuX"),n("uqXc"),n("2B1R"),n("Xe3L"),n("E9XD"),n("9N29"),n("+2oP"),n("Rfxz"),n("ToJy"),n("94Xl"),n("pDQq"),n("QGkA"),n("c9m3"),n("wZ/5"),n("7+zs"),n("tW5y"),n("sMBO"),n("DEfu"),n("Tskq"),n("Uydy"),n("eajv"),n("n/mU"),n("PqOI"),n("QNnp"),n("/5zm"),n("CsgD"),n("9mRW"),n("QFcT"),n("vAFs"),n("a5NK"),n("yiG3"),n("kNcU"),n("KvGi"),n("AmFO"),n("eJiR"),n("I9xj"),n("tl/u"),n("qePV"),n("NbN+"),n("8AyJ"),n("i6QF"),n("kSko"),n("WDsR"),n("r/Vq"),n("5uH8"),n("w1rZ"),n("JevA"),n("toAj"),n("zKZe"),n("Eqjn"),n("5xtp"),n("T63A"),n("3KgV"),n("wfmh"),n("5DmW"),n("27RR"),n("cDke"),n("NBAS"),n("Kxld"),n("yQYn"),n("4h0Y"),n("5D5o"),n("tkto"),n("v5b1"),n("W/eh"),n("zuhW"),n("r5Og"),n("ExoC"),n("07d7"),n("B6y2"),n("rNhl"),n("4l63"),n("5s+n"),n("p532"),n("pv2x"),n("SuFq"),n("PzqY"),n("rBZX"),n("XUE8"),n("nkod"),n("f3jH"),n("x2An"),n("25bX"),n("G/JM"),n("1t3B"),n("ftMj"),n("i5pp"),n("TWNs"),n("rB9j"),n("U3f4"),n("JfAA"),n("YGK4"),n("9bJ7"),n("inlA"),n("9tb/"),n("JTJg"),n("PKPk"),n("Rm1S"),n("hDyC"),n("TZCg"),n("2A+d"),n("OM9Z"),n("UxlC"),n("hByQ"),n("EnZy"),n("LKBx"),n("SYor"),n("HiXI"),n("7ueG"),n("GKVU"),n("E5NM"),n("BNMt"),n("zHFu"),n("x83w"),n("l2dK"),n("GRPF"),n("xdBZ"),n("mRH6"),n("yWo2"),n("IxXR"),n("TFPT"),n("Zk8X"),n("z8NH"),n("SpvK"),n("/Yfv"),n("iwkZ"),n("FDzp"),n("XMab"),n("ilnZ"),n("hMMk"),n("+ywr"),n("moxL"),n("qXVe"),n("c162"),n("waxf"),n("0TkE"),n("Onu3"),n("1dYe"),n("IL/d"),n("gvgV"),n("6R/c"),n("YL0P"),n("X5Zq"),n("MoCz"),n("P8wP"),n("7JcK"),n("ypFw"),n("JaFt"),n("zSZm"),n("PF2M"),n("KVSy"),n("ZJ55"),n("IZzc"),n("Fwt+"),n("s5qe"),n("cvf0"),n("ENF9"),n("H+LF"),n("66V8"),n("iIM6"),n("2tOg"),n("gYJb"),n("EDT/"),n("j+VE"),n("wgYD"),n("R3/m"),n("l/vG"),n("0q/z"),n("n5pg"),n("zu+z"),n("ihrJ"),n("Q7Pz"),n("unQa"),n("Vnov"),n("nIe3"),n("CUyW"),n("qc1c"),n("5921"),n("VOz1"),n("Thag"),n("9D6x"),n("cOPa"),n("vdRX"),n("KrxN"),n("SL6q"),n("lehK"),n("eO0o"),n("NqR8"),n("w7s6"),n("uWhJ"),n("WPzJ"),n("NV22"),n("ny8l"),n("a5/B"),n("vzwy"),n("pevA"),n("8go2"),n("DrvE"),n("kCkZ"),n("++zV"),n("Y4C7"),n("ZsH6"),n("vZi8"),n("5r1n"),n("sQ9d"),n("bdeN"),n("AwgR"),n("qgGA"),n("49+q"),n("AVoK"),n("hcok"),n("dNT4"),n("3uUd"),n("tijO"),n("1kQv"),n("ZY7T"),n("C1JJ"),n("lmH4"),n("Co1j"),n("5JV0"),n("ctDJ"),n("8r4s"),n("JwUS"),n("qaHo"),n("Si40"),n("BGb9"),n("fN96"),n("UzNg"),n("DhMN"),n("rZ3M"),n("apDx"),n("4XaG"),n("6V7H"),n("cfiF"),n("702D"),n("TJ79"),n("Z4nd"),n("8STE"),n("spTT"),n("rb3L"),n("FZtP"),n("3bBZ"),n("Ew+T"),n("n5b4"),n("Kz25"),n("vxnP"),n("mGGf");var r=n("o0o1"),a=n.n(r),o=n("yXPU"),i=n.n(o),c=n("lSNA"),l=n.n(c),s=(n("ls82"),n("OeMC")),u=n("Q5di"),d=(n("DKBB"),n("n9FD"),n("bZMm"),n("yUxx"),n("jjtq"),n("J7+s"),n("049c"),n("aysv"),n("tIFn"),n("cQ0S"),n("q1tI")),f=n.n(d),m=n("i8i4"),p=n.n(m),h=n("P/G1"),v=n.n(h),b=n("vNHF"),g=n("181E"),y=n("PaV8"),O=n("/MKj"),j=n("dE+u"),w=n("+HCy"),E=n("FmY/"),k=n("oHMr"),D=n("I4sn"),C=n("J4zp"),S=n.n(C),I=n("/6o7"),T=n("lwsE"),x=n.n(T),R=n("W8MJ"),N=n.n(R),L=n("x1yf"),M=n("it2E"),F=n("hwkv"),z=n("OgjY"),V=n("Ek05");function H(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=function(){function e(){x()(this,e),this.annotateFormData=this.annotateFormData.bind(this),this.attach=this.attach.bind(this),this.setCurrentProject=this.setCurrentProject.bind(this),this.setCurrentPerson=this.setCurrentPerson.bind(this),this.deselectPriority=this.deselectPriority.bind(this),this.generateUserMatcher=this.generateUserMatcher.bind(this),this.generateProjectMatcher=this.generateProjectMatcher.bind(this)}return N()(e,null,[{key:"initClass",value:function(){this.prototype.truncate_links=!1,this.prototype.highlight_labels=!0,this.prototype.highlight_project=null,this.prototype.highlight_person=null,this.prototype.highlight_priority=null,this.prototype.re_labels=/(?:^|\s+)@([^\s,]+)/g,this.prototype.re_links=/[\w-]+:\/\/[^\s]+/g,this.prototype.re_special_chars=/([+.?*+^$[\]\\(){}|_&-])/g}}]),N()(e,[{key:"annotateFormData",value:function(e,t){var n,r={};for(var a in e.matches){var o=e.matches[a];switch(o[0]){case"priority":this.highlight_priority&&(t.content=t.content.replace(o[1],""),t.priority=5-o[2]);break;case"date":t.content=t.content.replace(o[1],""),(n=o[2])&&n.has_only_time&&t.due?t.due=t.due.inheritDate({year:t.due.getFullYear(),month:t.due.getMonth(),day:t.due.getDate(),hours:n.due_date.getHours(),minutes:n.due_date.getMinutes(),seconds:0},{withTime:!0,timezone:t.due.timezone}):t.due=z.a.fromDateist(n);break;case"project":this.highlight_project&&(t.content=t.content.replace(o[1],""),t.project_id=this.highlight_project[0],t.item_order=null,t.indent=1);break;case"person":this.highlight_person&&(t.content=t.content.replace(o[1],""),t.responsible_uid=this.highlight_person[0],t.inherit_asignee=!1);break;case"label":this.highlight_labels&&(r[o[3]]=o)}}var i,c=[],l=H($$("b.t_label",e));try{for(l.s();!(i=l.n()).done;){var s=i.value.json[3];if(s&&-1!==s.indexOf("@")){var u=r[s],d=s.replace("@","");u&&(t.content=t.content.replace(u[1],""),c.push(d))}}}catch(e){l.e(e)}finally{l.f()}return t.labels=c,t.content=$strip(t.content.replace(/\s\s+/," ")),t}},{key:"attach",value:function(e,t){var n,r,a=this;Dateist.clear_free_text_cache(),e.ignored={},e.matches={},e.initial_has_content=t,e.dateist_disabled=!1,this.highlight_project=null,this.highlight_person=null,this.highlight_priority=null,this.re_project_matchers=null,this.user_matcher_cache={},this.generateProjectMatcher();var o=function(t,o){t=t.replace(/``/g,"'"),"t_link"===o&&(a.truncate_links=!1),n=LibEdit.getCaretOffsetWithin(e),LibEdit.setCaretPositionWithin(e,n.start);var i=function(t){e.matches[t]&&delete e.matches[t],e.ignored[t]=!0};if("t_date"===o){var c=V.a.getDateistLang();r=DateistUtils.is_spaceless_lang(c);var s,u=Dateist.split_text(t,c),d=0,f=H(u);try{for(f.s();!(s=f.n()).done;){s.value;var m,p="",h=H(u.slice(d));try{for(h.s();!(m=h.n()).done;){var v=m.value;r?p+=v:p=p+" "+v,i(p=DateistUtils.trim(p))}}catch(e){h.e(e)}finally{h.f()}d+=1}}catch(e){f.e(e)}finally{f.f()}}else"t_project"===o?a.setCurrentProject(null):"t_person"===o&&a.setCurrentPerson(null);return i(t),IstComplete.hide(),l(),!1};e.ignore_match=o;var i=function(t){e.matches[t]&&delete e.matches[t],e.ignored[t]=!0},c=function(e){var t=e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&");return t=(r=DateistUtils.is_spaceless_lang(V.a.getDateistLang()))?"(^|\\s*)".concat(t):"(^|\\s+)".concat(t,"(?:$|(?=[\\s\\)\\]]+))"),new RegExp(t,"gi")},l=function(){var n,r,l,s,u,d,f,m={},p=e.proxyGetValue(),h=(p=p.replace(/\n/g," ")).match(new RegExp("(?:(?:^|\\s)!!|\\bp|".concat(_("priority"),")\\s*(1|2|3|4)(?=\\s|$)"),"g"));if(h){h=p.match($last(h)),d=$strip(h[0]);var v=parseInt(d.match(/\d+/)[0]);e.ignored[d]||(a.highlight_priority=m[d]=["priority",c(d),parseInt(v),d])}if(a.highlight_labels){var b=p.match(a.re_labels);if(b){var g=null;IstComplete.current_input&&(g=IstComplete.current_input.istcomplete_word||null);var y,O=H(b);try{for(O.s();!(y=O.n()).done;){var j=y.value;if(g!==(j=$strip(j)))L.a.getByName(j.replace("@","").toLowerCase()).length>0&&(e.ignored[j]||(m[j]=["label",c(j),j,j.replace("$","$$$$")]))}}catch(e){O.e(e)}finally{O.f()}}}var w=window.User;if(!(void 0!==w.features.dateist_inline_disabled?w.features.dateist_inline_disabled:w.dateist_inline_disabled)&&!e.dateist_disabled){var E=V.a.parse(p,null,!0,e.ignored);if(E&&E.due_date){var k=E.date_string_matched,D=E.pos[0];"@"===(0===D?null:p[D-1])||0===k.indexOf("@")||e.ignored[k]||(m[k]=["date",c(k),E,k])}}if(a.truncate_links){var C=p.match(a.re_links);if(C){var I,T=H(C);try{for(T.s();!(I=T.n()).done;){var A=I.value;e.ignored[A]||(m[A]=["link",c(A),A,A])}}catch(e){T.e(e)}finally{T.f()}}}if(a.re_project_matchers&&(a.highlight_project&&a.highlight_project[2]||p.match(/#[^\s]+/)&&(n=a.genericPersonProjectMatcher(e,p,a.re_project_matchers))&&(a.highlight_project=n)),a.highlight_project){var x=Array.from(a.highlight_project),P=S()(x,3);s=P[0],l=P[1],P[2],m[l]=["project",c(l),s,l]}if(p.match(/\+[^\s]+/)&&(s=null,a.highlight_project&&(s=a.highlight_project[0]),s)){var R=M.a.get(s);if(R&&R.shared){var N=a.generateUserMatcher(s);(n=a.genericPersonProjectMatcher(e,p,N))&&(a.highlight_person=n)}}if(a.highlight_person){var F,z=Array.from(a.highlight_person),B=S()(z,3);F=B[0],l=B[1],B[2],m[l]=["person",c(l),F,l]}if(t=e.initial_has_content){for(d in m)"date"===(u=m[d])[0]&&(f=u[4]||u[3],e.ignored[f]=!0,delete m[d]);e.initial_has_content=!1}var $=p;for(d in m){var U;if(f=(u=m[d])[4]||u[3],"link"===u[0])U="";else if(U=a.getIcon(u[0]),"priority"===u[0]){var q=f.indexOf(u[2]);f="\u27e6i\u27e7".concat(f.substring(0,q),"\u27e6/i\u27e7").concat(f.substring(q))}else"date"!==u[0]&&(f="\u27e6i\u27e7".concat(f.substring(0,1),"\u27e6/i\u27e7").concat(f.substring(1)));(r=u[3].replace(/'/g,"``").replace("$","$$$$"))!==u[3]&&(m[r]=u,delete m[u[3]]),$=$.replace(u[1],"$1\u27e6b id='".concat(r,"' class='t_").concat(u[0],"'\u27e7").concat(U,"\u27e6span\u27e7").concat(f,"\u27e6/span\u27e7\u27e6/b\u27e7"))}t&&("\u27e7"===$.charAt($.length-1)&&($+=" "));e.proxySetValue($,!1);var G,W=H($all("b",null,e));try{for(W.s();!(G=W.n()).done;){var K=G.value;K.onclick=K.ignore_match=$p(o,K.id,K.className),K.match_deleted=$p(i,K.id),K.json=m[K.id]}}catch(e){W.e(e)}finally{W.f()}return e.matches=m};return e.onchanged=l,e.cancelInput=function(e){var t;if(!window.getSelection)return!1;window.getSelection();var n=LibEdit.getSelectedNodes();if(8===e.keyAscii&&n.length>0){n=LibEdit.getSelectedNodes();var r,a=function(){var e,r=[],a=H(n);try{for(a.s();!(e=a.n()).done;)t=e.value,"b"===$nodeName(t)&&t.match_deleted&&r.push(t)}catch(e){a.e(e)}finally{a.f()}return r}(),o=H(a);try{for(o.s();!(r=o.n()).done;)(t=r.value).match_deleted()}catch(e){o.e(e)}finally{o.f()}var i=$first(n);if(i){var c=i.parentNode;c&&c.match_deleted&&c.match_deleted()}return!1}if(8===e.keyAscii){var l=window.getSelection().focusNode;if(l&&"#text"===$nodeName(l)){var s=l.parentElement;if(s){var u=s.parentElement;if(u&&"b"===$nodeName(u))return u.ignore_match&&u.ignore_match(),!0}}if(l&&27===e.keyAscii){var d=$gp(l,"div"),f=$all("b",null,d),m=$last(f);if(m&&m.ignore_match&&$hasClass(m,"t_date"))return m.ignore_match(),!0}}return!1},$AEV(e,"keydown",(function(e){return!e.ctrl||66!==e.key&&73!==e.key&&85!==e.key||(e.preventDefault(),!1)}))}},{key:"getIcon",value:function(e){var t;switch(e){case"project":t="sm1/quick_add_project.svg";break;case"label":t="sm1/quick_add_label.svg";break;case"person":t="sm1/quick_add_assignee.svg";break;case"priority":t="sm1/quick_add_priority.svg";break;case"date":t="sm1/quick_add_calendar.svg"}return svgs.getString(t).replace(/</g,"\u27e6").replace(/>/g,"\u27e7")}},{key:"setCurrentProject",value:function(e,t){}},{key:"setCurrentPerson",value:function(e,t){}},{key:"deselectPriority",value:function(e){e&&(this.highlight_priority=null,$remove($all("b","t_priority",e)))}},{key:"generateUserMatcher",value:function(e){var t=window.User.id;if(!this.user_matcher_cache[e]){var n,r=[],a=H(F.a.getAll(e));try{for(a.s();!(n=a.n()).done;){var o=n.value,i=o.full_name||o.email;if(0!==(i=$strip(i.replace(this.re_special_chars,"\\$1"))).length){var c=[];c.push(i);var l=i.split(" ")[0],s=i.split(" "),u="";if(s.length>1)u=l+"\\s"+s[1][0]+"\\.?";u!==i&&u.length>0&&c.push(u),l!==i&&l.length>0&&c.push(l),o.id===t&&c.push(_x("task_assignment","me")),c.length>0&&r.push([o.id,new RegExp("(?:^|\\s)\\+(?:".concat(c.join("|"),")"),"i"),i])}}}catch(e){a.e(e)}finally{a.f()}this.user_matcher_cache[e]=r}return this.user_matcher_cache[e]}},{key:"generateProjectMatcher",value:function(){this.re_project_matchers=[];var e,t=H(M.a.getAll());try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n.name;r=$strip(r.replace(this.re_special_chars,"\\$1")),this.re_project_matchers.push([n.id,new RegExp("(?:^|\\s)#".concat(r),"i"),r])}}catch(e){t.e(e)}finally{t.f()}}},{key:"genericPersonProjectMatcher",value:function(e,t,n){var r,a=[],o={},i={},c=H(n);try{for(c.s();!(r=c.n()).done;){var l=r.value,s=Array.from(l),u=S()(s,3),d=u[0],f=u[1],m=(u[2],t.match(f));if(m){var p=$strip(m[0]);e.ignored[p]||(a.push([m.index+p.length,d,p]),o[m.index]&&o[m.index]!==d?i[m.index]=!0:o[m.index]=d)}}}catch(e){c.e(e)}finally{c.f()}for(var h=[],v=0,b=a;v<b.length;v++){var g=b[v];i[g[0]]||h.push(g)}if(a.length>1)return null;var _=$first(h);return _?[_[1],_[2],!1]:null}}]),e}();q.initClass(),window.NatrualLanguageParsing=new q;var G=window.NatrualLanguageParsing,W=n("81N4"),K=n("Gvtx"),Y={current_email_obj:null,addToTextArea:function(e){var t=Y.current_email_obj;return!!t&&(K.a.type="outlook",K.a.link_id=t.id,K.a.title=t.subject,e?e.insertText?e.insertText(K.a.onContentSave(t.subject)):(K.a.annotateWithIcon(e),LibEdit.insertAtCursor(e,t.subject,!0)):k.default.dispatch(Object(I.d)({type:I.a.QUICK_ADD,props:{item:{content:K.a.onContentSave(t.subject)}}})),!1)},setCurrentEmail:function(e){if(e){var t=Y.current_email_obj={};$update(t,e),k.default.dispatch(Object(W.e)(t.id,t.subject))}else Y.current_email_obj=null,k.default.dispatch(Object(W.d)());Signals.sendSignal("PluginVersion.notifyExternalServices")},tracked:!1,trackIfNeeded:function(){Y.tracked||(Y.tracked=!0)}};window.OutlookIntegration=Y,window.setOutlookEmail=function(e){$isString(e)&&(e=$eval(e)),Y.setCurrentEmail(e),Y.trackIfNeeded()},window.addOutlookEmail=function(e){$isString(e)&&(e=$eval(e)),Y.setCurrentEmail(e),Signals.sendSignal("PluginVersion.addToGenericController")};var J=Y,Q=n("Ghd0"),Z=n("RZq6"),X=n("AnGN"),ee=n("xvbm");function te(){return window.CUR_HREF?window.CUR_HREF.href:null}window.CURRENT_EXERNAL_SERVICE=null,window.CUR_HREF=null;var ne={init:function(){try{window.addEventListener("message",(function(e){if(e){X.q&&Object(ee.d)("frontend.outlook_postmessage_log")&&Object(Z.captureInfoLog)("postMessage listener - Outlook - PluginVersion",{eventOrigin:e.origin,data:n});var t,n=e.data;if(n&&$isString(n))if("GB_hide"!=n)-1==n.indexOf("SET_CURRENT_ADD")&&-1==n.indexOf("THUNDERBIRD_MESSAGE")&&-1==n.indexOf("T_FIREFOX_MESSAGE")||(t=JSON.parse(n),window.CUR_HREF=t,ne.notifyExternalServices()),-1==n.indexOf("SHOW_QUICK_ADD")&&-1==n.indexOf("GMAIL_MESSAGE_ADD")||(window.CUR_HREF=JSON.parse(n),setTimeout((function(){ne.addToGenericController(!0)}),100));else GB_hide()}}),!1)}catch(e){}Signals.connect("PluginVersion.notifyExternalServices",this.notifyExternalServices),Signals.connect("PluginVersion.addToGenericController",$p(this.addToGenericController,!0))},addToGenericController:function(e){return void 0===e&&(e=!1),k.default.getState().modals.type||(J.current_email_obj?J.addToTextArea():ne.addToTextArea()),!1},addToTextArea:function(e){if(G.truncate_links=!0,window.CUR_HREF&&window.CUR_HREF.unique_id){var t=window.CUR_HREF;return-1!=t.unique_id.indexOf("TODOIST_WARN_USER_MESSAGE_NOT_SELECTED")?(alert(_("Please select an email first before adding it as a task.")),!1):(K.a.type="thunderbird",K.a.link_id=t.unique_id,K.a.title=ne.normalizeTitle(t.subject),e?e.insertText?e.insertText(K.a.onContentSave(t.subject.replace(/\r?\n/g,""))):(K.a.annotateWithIcon(e),LibEdit.insertAtCursor(e,t.subject.replace(/\r?\n/g,""),!0),e.onchanged&&e.onchanged()):k.default.dispatch(Object(I.d)({type:I.a.QUICK_ADD,props:{item:{content:K.a.onContentSave(t.subject.replace(/\r?\n/g,""))}}})),!1)}if(!te())return!1;if(Q.a.getGmailRealId(te())){var n=window.CUR_HREF.title;n=n.replace(/[-\s]+[^\s]+@[^\s]+ - [^-]+$/,"");try{n=ne._stripTitle(n)}catch(e){}K.a.type="gmail_new",K.a.link_id=window.CUR_HREF.href,K.a.title=ne.normalizeTitle(n),e?e.insertText?e.insertText(K.a.onContentSave(n)):(K.a.annotateWithIcon(e),LibEdit.insertAtCursor(e,n,!0)):k.default.dispatch(Object(I.d)({type:I.a.QUICK_ADD,props:{item:{content:K.a.onContentSave(n)}}}))}else{var r=ne.getTitleAndUrl(),a=r[0],o=r[1];o.match(/twist(?:app)?.com\/a/g)?K.a.type="twist":K.a.type="generic",K.a.link_id=o,K.a.title=a,e?e.insertText?e.insertText(K.a.onContentSave(a)):(K.a.annotateWithIcon(e),LibEdit.insertAtCursor(e,a,!0)):k.default.dispatch(Object(I.d)({type:I.a.QUICK_ADD,props:{item:{content:K.a.onContentSave(a)}}}))}return!1},getTitleAndUrl:function(){var e=ne._stripTitle(window.CUR_HREF.title);-1!=e.indexOf("(")&&(e=(e=e.replace(/\(/g,"[")).replace(/\)/g,"]"));var t=te();return-1!=t.indexOf("teamcom.io")&&(e=(e=e.replace(/^\[\d+\]\s+/,"")).replace(" | TeamCom","")),[ne.normalizeTitle(e),t]},normalizeTitle:function(e){return e.length>140&&(e=e.substring(0,140)+"..."),e.replace(/\r?\n/g," ")},notifyExternalServices:function(){var e,t=!1,n=!0,r=_("Add email as task"),a=null;if(J.current_email_obj?(t=!0,e=J.addToTextArea):window.CUR_HREF&&window.CUR_HREF.unique_id?(t=!0,e=ne.addToTextArea):te()&&(t=!0,Q.a.isCurHrefGmail(te())||(r=window.CUR_HREF.action_text||_("Add website as task"),n=!1),e=ne.addToTextArea,a=window.CUR_HREF.attach_text),setTimeout(ne.notifyExternalServices,500),t){var o=window.CURRENT_EXERNAL_SERVICE;if(o&&o.annotate_fn==e&&o.annotate_add_text==r)return;window.CURRENT_EXERNAL_SERVICE={annotate_fn:e,annotate_add_text:r,is_email:n},a&&(window.CURRENT_EXERNAL_SERVICE.annotate_attach_text=a)}else window.CURRENT_EXERNAL_SERVICE=null;Signals.sendSignal("external_service_annotation",window.CURRENT_EXERNAL_SERVICE)},_stripTitle:function(e){return e=(e=e.replace(/\s\s+/g," ").replace(/"/g,"")).replace(/\[/g,"(").replace(/\]/g,")"),$strip(e)}};window.PluginVersion=ne;var re=ne,ae=new(function(){function e(){x()(this,e),this.show=this.show.bind(this),this.tooltip_shown=!1}return N()(e,[{key:"show",value:function(e){var t,n,r,a,o=this;if(!this.tooltip_shown&&!$queryArgument("print_mode")){var i=e.message||"rate_chrome_plugin";"rate_chrome_plugin"===i?n=_("If you enjoy using Todoist for Chrome, would you mind taking a moment and rate us?")+"<br /><br />"+_("It won't take more than a minute. Thanks for your support!"):"rate_firefox_plugin"===i&&(n=_("If you enjoy using Todoist for Firefox, would you mind taking a moment and rate us?")+"<br /><br />"+_("It won't take more than a minute. Thanks for your support!"));var c=Alerts.renderHolder(n);$add(c.icon,svgs.get("sm1/todoist_logo.svg")),$add(c.buttons,BR(),t=IstButton.createButton(_("Rate it now"),null,"red")),$AEV(t,"click",(function(){return window.open(e.action_url),o.disableTooltip(i)})),$add(c.buttons,BR(),BR()),$add(c.buttons,a=A({href:"#",c:"cancel",s:"margin-right: 10px;"},_("Remind me later")),r=A({href:"#",c:"cancel"},_("No, Thanks"))),$AEV(a,"click",$p(this.reset,i)),$AEV(r,"click",$p(this.disableTooltip,i)),$AEV([t,a,r],"click",GB_hide),GB_showHTML("",c.frame,180,330,{callback_fn:function(){return null}}),this.tooltip_shown=!0}}},{key:"disableTooltip",value:function(e){e&&-1!==e.indexOf("firefox")?Object(b.c)(top,"DISABLE_TOOLTIP:firefox_rating"):Object(b.c)(top,"DISABLE_TOOLTIP:chrome_rating")}},{key:"reset",value:function(e){e&&-1!==e.indexOf("firefox")?Object(b.c)(top,"DISABLE_TOOLTIP:firefox_rating"):Object(b.c)(top,"RESET_TOOLTIP:chrome_rating")}}]),e}());window.CUR_HREF={};var oe,ie=function(e){if(e&&e.data&&e.data.indexOf){var t;if(X.q&&Object(ee.d)("frontend.outlook_postmessage_log")&&Object(Z.captureInfoLog)("postMessage listener - Outlook - MessageHandler",{eventOrigin:e.origin,data:t}),-1!==e.data.indexOf("--/--")){var n=e.data.split("--/--"),r=S()(n,2),a=r[0],o=r[1];if(window.CUR_HREF.href===a)return;window.CUR_HREF={href:a,title:o},re.notifyExternalServices(),k.default.dispatch(Object(W.f)(a,o))}if(-1!==e.data.indexOf("GCHROME_MESSAGE")){if(t=JSON.parse(e.data),window.CUR_HREF.href===t.href)return;window.CUR_HREF=t,re.notifyExternalServices(),k.default.dispatch(Object(W.f)(t.href,t.title))}-1!==e.data.indexOf("USER_TOOLTIP")&&(t=JSON.parse(e.data),ae.show(t))}},ce=function(){window.attachEvent?window.attachEvent("onmessage",ie):window.addEventListener("message",ie,!1)},le=n("BBWQ"),se=n("+grC"),ue=n("PI/q"),de=new(function(){function e(){x()(this,e),this.getValidTimezone=this.getValidTimezone.bind(this),this.setValidTimezone=this.setValidTimezone.bind(this),this.checkTimezone=this.checkTimezone.bind(this),this.guessTimezone=this.guessTimezone.bind(this),this.showTimezoneHint=this.showTimezoneHint.bind(this),this.showTimezoneHintNormal=this.showTimezoneHintNormal.bind(this),this.createHintLink=this.createHintLink.bind(this),this.changeTimezoneToCurrent=this.changeTimezoneToCurrent.bind(this),this.hideTimezoneHint=this.hideTimezoneHint.bind(this),this.showSettings=this.showSettings.bind(this)}return N()(e,[{key:"getValidTimezone",value:function(){return Object(g.a)("valid_timezone").get()}},{key:"setValidTimezone",value:function(e){Object(g.a)("valid_timezone").set(e)}},{key:"checkTimezone",value:function(){var e,t,n,r=window.User;if(r&&(r.tz_offset||r.tz_info)&&!window.PRINT_MODE){if(r.tz_info)e=r.tz_info.timezone,t=r.tz_info.hours,n=r.tz_info.minutes;else{e=r.timezone;var a=r.tz_offset;t=a[1],n=a[2]}if(this.getValidTimezone()!==e){var o=60*t+n,i=-(new Date).getTimezoneOffset();if(o!==i){var c;try{c=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){c=null}this.guessTimezone(i,c)}}}}},{key:"guessTimezone",value:function(e,t){fetch("/sync/v8/guess_timezone",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"mm_offset=".concat(e,"&timezone_name=").concat(t)}).then((function(e){return e.json()})).then(this.showTimezoneHint).catch((function(){}))}},{key:"showTimezoneHint",value:function(e){this.showTimezoneHintNormal(e)}},{key:"showTimezoneHintNormal",value:function(e){if(e!==(window.User.timezone||window.User.tz_info.timezone)){_("Change time zone to {timezone}?");var t=DIV({c:"timezone_alert"});"UNKNOWN_TIMEZONE"!==e?(this.current_timezone=e,$add(t,_("Change time zone to %s?").replace("%s",e),BR(),this.createHintLink(_("Yes, update my settings"),this.changeTimezoneToCurrent,"ist_button ist_button_red ist_button_big timezone_button"),BR(),this.createHintLink(_("Don't update settings"),this.hideTimezoneHint,"timezone_link timezone_link_block"),this.createHintLink(_("View my settings"),this.showSettings,"timezone_link timezone_link_block"))):$add(t,DIV({c:"timezone_alert_message"},_("Your system time zone doesn't match your Todoist settings. Fix it now?")),this.createHintLink(_("Yes, show my settings"),this.showSettings,"ist_button ist_button_red ist_button_big timezone_button"),BR(),this.createHintLink(_("Don't update settings"),this.hideTimezoneHint,"timezone_link timezone_link_block")),GB_showHTML(_("Time zone settings"),DIV(t),200,400)}}},{key:"createHintLink",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"timezone_link",r=A({c:n,href:"#"},e);return $AEV(r,"click",t),r}},{key:"changeTimezoneToCurrent",value:function(){var e=this;this.hideTimezoneHint();var t=$request("/prefs/general/update_timezone");return t.addCallback((function(){return window.tz_info?window.User.tz_info.timezone=e.current_timezone:window.User.timezone=e.current_timezone,Object(g.a)("User").set(window.User),window.location.reload()})),t.sendReq({value:this.current_timezone,token:window.User.token}),!1}},{key:"hideTimezoneHint",value:function(){return GB_hideIfNeeded(),!1}},{key:"showSettings",value:function(){return this.hideTimezoneHint(),ue.a.showPrefs("general"),!1}}]),e}()),fe=n("AuZ+"),me=n("LQPw"),pe=n("QF5v"),he=n("s+Lk"),ve=n("NZFV"),be=n("/uq8"),ge=n("9L8O"),_e=function e(){!function(){try{fetch("/sync/v8/tooltips/get_scheduled",{headers:{Authorization:"Bearer ".concat(window.User.token)}}).then((function(e){if(200!=e.status){var t=new Error(e.statusText);throw t.jsonRes=e,t}return e.json()})).then((function(e){e.result&&e.result instanceof Array&&k.default.dispatch(Object(ve.r)(Array.from(e.result)))})).catch((function(){}))}catch(e){throw Z.captureError(e),e}}(),function(){try{fetch("/sync/v8/tooltips/get_seen_list",{headers:{Authorization:"Bearer ".concat(window.User.token)}}).then((function(e){if(200!=e.status){var t=new Error(e.statusText);throw t.jsonRes=e,t}return e.json()})).then((function(e){e.result&&e.result instanceof Array&&k.default.dispatch(Object(ve.s)(e.result))})).catch((function(){}))}catch(e){throw Z.captureError(e),e}}(),setTimeout(e,864e5)},ye=Object(ge.a)(),Oe=function(){var e=Object(ge.a)();ye!==e&&(ye=e,k.default.dispatch(Object(be.c)(Object(ge.a)())))},je=function(){oe&&clearInterval(oe),Oe(),oe=setInterval(Oe,3e3)};var we=function(){_e(),je(),window.addEventListener("focus",je),window.addEventListener("blur",(function(){oe&&clearInterval(oe)}))},Ee=n("Gtu7");var ke=n("fDSz"),De=n("pVnL"),Ce=n.n(De),Se=n("17x9"),Ie=n.n(Se),Te=n("TSYQ"),Ae=n.n(Te),xe=n("QILm"),Pe=n.n(xe),Re=n("vV6a"),Ne=n("UVeO"),Le=n("Akve");function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Fe=d.createElement("path",{opacity:.1,fillRule:"evenodd",clipRule:"evenodd",d:"M13 6.5A1.5 1.5 0 0114.5 5h3A1.5 1.5 0 0119 6.5v3a1.5 1.5 0 01-1.5 1.5h-3A1.5 1.5 0 0113 9.5v-3zM6.5 13A1.5 1.5 0 005 14.5v3A1.5 1.5 0 006.5 19h3a1.5 1.5 0 001.5-1.5v-3A1.5 1.5 0 009.5 13h-3zm8 0a1.5 1.5 0 00-1.5 1.5v3a1.5 1.5 0 001.5 1.5h3a1.5 1.5 0 001.5-1.5v-3a1.5 1.5 0 00-1.5-1.5h-3zm-8-8A1.5 1.5 0 005 6.5v3A1.5 1.5 0 006.5 11h3A1.5 1.5 0 0011 9.5v-3A1.5 1.5 0 009.5 5h-3z",fill:"currentColor"}),ze=d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 6h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zm-3-1A1.5 1.5 0 0013 6.5v3a1.5 1.5 0 001.5 1.5h3A1.5 1.5 0 0019 9.5v-3A1.5 1.5 0 0017.5 5h-3zm-8 9h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zm-1.5.5A1.5 1.5 0 016.5 13h3a1.5 1.5 0 011.5 1.5v3A1.5 1.5 0 019.5 19h-3A1.5 1.5 0 015 17.5v-3zm9.5-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zm-1.5.5a1.5 1.5 0 011.5-1.5h3a1.5 1.5 0 011.5 1.5v3a1.5 1.5 0 01-1.5 1.5h-3a1.5 1.5 0 01-1.5-1.5v-3zM6.5 6h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM5 6.5A1.5 1.5 0 016.5 5h3A1.5 1.5 0 0111 6.5v3A1.5 1.5 0 019.5 11h-3A1.5 1.5 0 015 9.5v-3z",fill:"currentColor"});function Be(e){return d.createElement("svg",Me({width:24,height:24,fill:"none"},e),Fe,ze)}n.p;var Ve=n("GS7h"),$e=n("NPjY"),He=n("y0MZ"),Ue=n("Pxnj"),qe=n("hMw4"),Ge=n("Ba5u"),We=n("GpCm"),Ke=n("Tc49"),Ye=n("Vbab"),Je=n("1Sse");function Qe(e){var t=e.project,n=e.isSelected,r=e.isShared,a=e.count,o=e.onUnfavorite,i=e.onProjectEdit,c=Object(We.d)();return f.a.createElement(f.a.Fragment,null,f.a.createElement("li",{className:Ae()("favorite_item",n?"current":null),"data-id":t.id,"data-type":"project_list_item",onContextMenu:c.openOnContextMenu},f.a.createElement(Je.a,{linkTo:{type:"project",projectId:t.id},color:Object(Ue.g)("project",t.color),leftIcon:f.a.createElement(qe.a,{isShared:r,project:t}),onMenuClick:c.openOnClick,onContextMenu:c.openOnContextMenu,menuButtonLabel:Object(Ye.a)("More project actions")},f.a.createElement(Ge.a,{source:t.name}),a>0?f.a.createElement("div",{"aria-label":"".concat(a," ").concat(1===a?Object(Ye.a)("task"):Object(Ye.a)("tasks")),className:"counter_count"},a):null)),c.isOpen?f.a.createElement(We.c,Ce()({},c.props,{withArrow:!1}),f.a.createElement(Ke.b,null,f.a.createElement(Ke.a,{icon:f.a.createElement(Ne.F,null),text:Object(Ye.a)("Edit project"),onClick:c.close((function(){i(t)}))}),f.a.createElement(Ke.a,{icon:f.a.createElement(Ne.P,null),text:Object(Ye.a)("Remove from favorites"),onClick:c.close((function(){o({menu:"project",item:t})}))}))):null)}Qe.propTypes={project:Ie.a.shape({id:Ie.a.any,name:Ie.a.string,color:Ie.a.number}).isRequired,count:Ie.a.number.isRequired,isSelected:Ie.a.bool.isRequired,isShared:Ie.a.bool.isRequired,onClick:Ie.a.func.isRequired,onUnfavorite:Ie.a.func.isRequired,onProjectEdit:Ie.a.func};var Ze=n("IZBg"),Xe=n("gd9Y"),et=n("4eld");function tt(){return f.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},f.a.createElement("g",{transform:"translate(-266, -17)",fill:"#777777"},f.a.createElement("path",{d:"M280,22.7581818 L279.1564,22 L273.9922,26.506 L273.4414,26.0254545 L273.4444,26.0281818 L268.8562,22.0245455 L268,22.7712727 C269.2678,23.878 272.8084,26.9674545 273.9922,28 C274.8718,27.2330909 274.0144,27.9809091 280,22.7581818"})))}var nt=n("PJYZ"),rt=n.n(nt),at=n("7W2i"),ot=n.n(at),it=n("a1gu"),ct=n.n(it),lt=n("Nsbk"),st=n.n(lt),ut=n("dRu9");function dt(e,t){var n=e.timeout,r=e.style,a=void 0===r?{}:r;return{duration:a.transitionDuration||"number"==typeof n?n:n[t.mode],delay:a.transitionDelay}}function ft(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var vt=function(e){ot()(n,e);var t=ht(n);function n(){var e;x()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),l()(rt()(e),"wrapper",null),l()(rt()(e),"autoTransitionDuration",void 0),l()(rt()(e),"timer",null),l()(rt()(e),"handleEnter",(function(t){t.style.height=e.props.collapsedHeight,e.props.onEnter&&e.props.onEnter(t)})),l()(rt()(e),"handleEntering",(function(t){var n=e.props.timeout,r=e.wrapper?e.wrapper.clientHeight:0,a=dt(e.props,{mode:"enter"}).duration;if("auto"===n){var o=ft(r);t.style.transitionDuration="".concat(o,"ms"),e.autoTransitionDuration=o}else t.style.transitionDuration="string"==typeof a?a:"".concat(a,"ms");t.style.height="".concat(r,"px"),e.props.onEntering&&e.props.onEntering(t)})),l()(rt()(e),"handleEntered",(function(t){t.style.height="auto",e.props.onEntered&&e.props.onEntered(t)})),l()(rt()(e),"handleExit",(function(t){var n=e.wrapper?e.wrapper.clientHeight:0;t.style.height="".concat(n,"px"),e.props.onExit&&e.props.onExit(t)})),l()(rt()(e),"handleExiting",(function(t){var n=e.props.timeout,r=e.wrapper?e.wrapper.clientHeight:0,a=dt(e.props,{mode:"exit"}).duration;if("auto"===n){var o=ft(r);t.style.transitionDuration="".concat(o,"ms"),e.autoTransitionDuration=o}else t.style.transitionDuration="string"==typeof a?a:"".concat(a,"ms");t.style.height=e.props.collapsedHeight,e.props.onExiting&&e.props.onExiting(t)})),l()(rt()(e),"addEndListener",(function(t,n){"auto"===e.props.timeout&&(e.timer=setTimeout(n,e.autoTransitionDuration||0))})),e}return N()(n,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,a=t.collapsedHeight,o=t.component,i=(t.onEnter,t.onEntered,t.onEntering,t.onExit,t.onExiting,t.style),c=void 0===i?{}:i,s=t.timeout,u=Pe()(t,["children","className","collapsedHeight","component","onEnter","onEntered","onEntering","onExit","onExiting","style","timeout"]);return f.a.createElement(ut.a,Ce()({onEntering:this.handleEntering,onEnter:this.handleEnter,onEntered:this.handleEntered,onExiting:this.handleExiting,onExit:this.handleExit,addEndListener:this.addEndListener,timeout:"auto"===s?null:s},u),(function(t,i){return f.a.createElement(o,Ce()({className:Ae()("reactist","collapse",l()({},"collapse--entered","entered"===t),r),style:pt(pt({},c),{},{display:"exited"===t?"none":c.display,minHeight:a})},i),f.a.createElement("div",{className:"collapse__wrapper",ref:function(t){e.wrapper=t}},f.a.createElement("div",{className:"collapse__wrapper_inner"},n)))}))}}]),n}(f.a.Component);vt.propTypes={children:Ie.a.node,className:Ie.a.string,collapsedHeight:Ie.a.string,component:Ie.a.oneOfType([Ie.a.string,Ie.a.func]),in:Ie.a.bool,onEnter:Ie.a.func,onEntered:Ie.a.func,onEntering:Ie.a.func,onExit:Ie.a.func,onExiting:Ie.a.func,style:Ie.a.object,timeout:Ie.a.oneOfType([Ie.a.number,Ie.a.shape({enter:Ie.a.number,exit:Ie.a.number}),Ie.a.oneOf(["auto"])])},vt.defaultProps={collapsedHeight:"0px",component:"div",timeout:300};var bt=vt;function gt(e){var t=e.title,n=e.titleTooltip,r=e.className,a=e.children,o=e.headerSideButton,i=e.track,c=e.initiallyExpanded,l=Pe()(e,["title","titleTooltip","className","children","headerSideButton","track","initiallyExpanded"]);void 0===c||void 0===l.isExpanded&&void 0===l.onToggleExpand||(console.warn("[ExpansionPanel]: cannot use initiallyExpanded in controlled mode"),c=void 0);var s=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=f.a.useState(e),r=S()(n,2),a=r[0],o=r[1];return void 0===t?[a,function(){return o(!a)}]:[e,t]}(l.isExpanded||c,l.onToggleExpand),u=S()(s,2),d=u[0],m=u[1],p=Ae()(r,"expansion_panel",{"expansion_panel--expanded":d});return f.a.createElement("div",{className:p},f.a.createElement("div",{className:"expansion_panel__header"},f.a.createElement(et.a,{title:n,"data-track":i,onClick:m,"aria-expanded":d,"aria-label":"Toggle list of ".concat(t),className:"expansion_panel__toggle"},f.a.createElement("div",{"aria-hidden":"true",className:"expansion_panel__toggle_icon"},f.a.createElement(tt,null)),t),null!=o?f.a.createElement("div",{className:"expansion_panel__actions"},o):null),f.a.createElement(bt,{timeout:"auto",in:d},a))}gt.propTypes={title:Ie.a.node.isRequired,titleTooltip:Ie.a.node,children:Ie.a.node.isRequired,className:Ie.a.string,initiallyExpanded:Ie.a.bool,isExpanded:Ie.a.bool,onToggleExpand:Ie.a.func,headerSideButton:Ie.a.node,track:Ie.a.string};var _t=gt,yt=n("VKB9");function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt={project:!0,filter:!1,label:!1,favorite:!0};function Et(){var e,t=Object(yt.d)("left_menu_panels",wt),n=S()(t,2),r=n[0],a=n[1],o=(e=r,Object.keys(wt).forEach((function(t){var n=t;"boolean"!=typeof e[n]&&(e[n]=wt[n])})),e),i=d.useCallback((function(e){a(jt(jt({},o),{},l()({},e,!o[e])))}),[o,a]);return[o,i]}var kt=n("rcvD"),Dt=n("1ztj"),Ct=n.n(Dt),St=n("in4X"),It=d.forwardRef((function(e,t){var n=e.children,r=e.className,a=Pe()(e,["children","className"]);return d.createElement("ul",Ce()({},a,{ref:t,className:Ae()(Ct.a.container,"focus-marker-enabled-within",r)}),n)})),Tt=d.forwardRef((function(e,t){var n,r=e.label,a=e.icon,o=e.color,i=e.count,c=e.isExpanded,s=void 0!==c&&c,u=e.onToggleExpand,f=e.expandedElementId,m=e.linkTo,p=e.menuLabel,h=e.renderMenu,v=e.children,b=Pe()(e,["label","icon","color","count","isExpanded","onToggleExpand","expandedElementId","linkTo","menuLabel","renderMenu","children"]),g=Object(We.d)(),_=Object(Xe.f)(m),y=d.useMemo((function(){return Object(kt.a)(r)}),[r]),O=Object(ee.d)("frontend.sidebar_new_design"),j=i?d.createElement("span",{"aria-label":O?void 0:"".concat(i," ").concat(1===i?Object(Ye.a)("task"):Object(Ye.a)("tasks")),className:Ct.a.listItemCount,"aria-hidden":O},i):null,w=d.createElement(et.a,{className:Ct.a.menuButton,onClick:g.openOnClick,"aria-label":p,title:p,"aria-expanded":g.isOpen},d.createElement("span",null,d.createElement(Ne.lb,null))),E=d.createElement(Xe.a,{view:m,"aria-label":O?"".concat(r,", ").concat(i||0," ").concat(1===i?Object(Ye.a)("task"):Object(Ye.a)("tasks")):void 0},d.createElement("span",{"aria-hidden":!0,className:Ct.a.listItemIcon,style:o?{color:o}:void 0},a),d.createElement("span",{className:Ct.a.listItemLabel},y,i&&!O?d.createElement(d.Fragment,null," ",j):null));return d.createElement("li",Ce()({},b,{ref:t}),d.createElement("div",{onContextMenu:g.openOnContextMenu,className:Ae()(Ct.a.listItem,(n={},l()(n,Ct.a.listItemSelected,_),l()(n,Ct.a.listItemHighlighted,g.isOpen),l()(n,Ct.a.listItemNewSidebarDesign,O),n))},null!=v?d.createElement("button",{type:"button",onClick:u,className:Ct.a.toggleExpandButton,"aria-label":"Show/hide sub-projects","aria-expanded":s,"aria-controls":f},d.createElement(Ne.q,null)):null,d.createElement("div",{className:Ct.a.listItemContent},O?d.createElement(St.b,{label:y},E):E,O?d.createElement("div",{className:Ct.a.toggleCountOrMenuButtonVisibilityBasedOnFocus},j,w):w,g.isOpen?d.createElement(We.c,Ce()({},g.props,{withArrow:!1}),h(g.close)):null)),v)})),At=n("XOeF"),xt=n("t8vb"),Pt=n("/7zm");function Rt(){return(Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Nt=d.createElement("g",{fill:"none",fillRule:"evenodd"},d.createElement("path",{stroke:"currentColor",d:"M18.5 9.5h-13V18A1.5 1.5 0 007 19.5h10a1.5 1.5 0 001.5-1.5V9.5zm-14 0h15V7A1.5 1.5 0 0018 5.5H6A1.5 1.5 0 004.5 7v2.5z"}),d.createElement("path",{fill:"currentColor",d:"M11.98 13.7l2.47 2.48a.5.5 0 10.71-.7l-2.83-2.83a.5.5 0 00-.7 0L8.8 15.48a.5.5 0 00.7.7l2.48-2.47z"}));function Lt(e){return d.createElement("svg",Rt({width:24,height:24},e),Nt)}n.p;var Mt=n("wOFH"),Ft=n("UCf1");var zt=Object(O.c)(null,(function(e,t){var n=t.project,r=t.onAfterDelete;return{onMarkAsFavorite:function(){e(Object(At.z)(n.id,{is_favorite:!0}))},onArchiveProject:function(){e(Object(At.g)(n.id))},onUnarchiveProject:function(){e(Object(At.y)(n))},onDeleteProject:function(){e(Object(At.x)(n.id)),r&&r(n)}}}))((function(e){var t=e.project,n=e.close,r=e.onMarkAsFavorite,a=e.onArchiveProject,o=e.onUnarchiveProject,i=e.onDeleteProject,c=Object(Xe.f)({type:"project",projectId:t.id}),l=Object(Xe.h)(),s=Object(Pt.c)({confirmLabel:Object(Ye.a)("Delete"),onConfirm:function(){i(),c&&l({view:{type:"inbox"},replace:!0})},htmlMessage:Object(Ye.a)("Are you sure you want to delete {item_name}?").replace("{item_name}",t.name)});return t.is_archived?f.a.createElement(Ke.b,{className:"item_menu_list",onClick:function(){return n()}},f.a.createElement(Ke.a,{text:Object(Ye.a)("Unarchive project"),icon:f.a.createElement(Lt,null),onClick:o}),f.a.createElement(Ke.a,{text:Object(Ye.a)("Delete project"),icon:f.a.createElement(Ne.z,null),onClick:s})):f.a.createElement(Ke.b,{className:"item_menu_list",onClick:function(){return n()}},f.a.createElement(Ke.a,{text:Object(Ye.a)("Add project above"),icon:f.a.createElement(Ne.b,null),onClick:function(){return Object(xt.a)({anchorProjectId:t.id,addAbove:!0,navigateTo:l})}}),f.a.createElement(Ke.a,{text:Object(Ye.a)("Add project below"),icon:f.a.createElement(Ne.c,null),onClick:function(){return Object(xt.a)({anchorProjectId:t.id,addAbove:!1,navigateTo:l})}}),f.a.createElement(Ke.c,null),f.a.createElement(Ke.a,{text:Object(Ye.a)("Edit project"),icon:f.a.createElement(Ne.F,null),onClick:function(){return Object(xt.b)({projectId:t.id})}}),f.a.createElement(Ke.a,{text:Object(Ye.a)("Share project"),icon:f.a.createElement(Ne.j,null),onClick:function(){return Ft.a.show(t.id)}}),t.is_favorite?null:f.a.createElement(Ke.a,{text:Object(Ye.a)("Add to favorites"),icon:f.a.createElement(Ne.O,null),onClick:r}),f.a.createElement(Ke.c,null),f.a.createElement(Ke.a,{text:Object(Ye.a)("Email tasks to this project"),icon:f.a.createElement(Ne.G,null),onClick:function(){return Mt.a.showProjectEmail(t.id)}}),f.a.createElement(Ke.a,{text:Object(Ye.a)("Project calendar feed"),icon:f.a.createElement(Ne.eb,null),onClick:function(){return Mt.a.showCalFeed(t.id)}}),f.a.createElement(Ke.c,null),f.a.createElement(Ke.a,{text:Object(Ye.a)("Archive project"),icon:f.a.createElement(Ne.g,null),onClick:function(){a(),c&&l({view:{type:"inbox"},replace:!0})}}),f.a.createElement(Ke.a,{text:t.isShared?Object(Ye.a)("Leave project"):Object(Ye.a)("Delete project"),icon:t.isShared?f.a.createElement(Ne.cb,null):f.a.createElement(Ne.z,null),onClick:s}))}));function Bt(e){var t,n=e.project,r=e.renderMenu,a=e.count,o=e.isShared,i=Pe()(e,["project","renderMenu","count","isShared"]),c=i.getSubProjects,l=void 0===c?function(){return[]}:c,s=i.onToggleExpand,u=void 0===s?function(){}:s,f=i.onAfterDelete,m=l(n.id),p={type:"project",projectId:n.id},h=!n.collapsed,v="sub-projects-list-".concat(n.id);return d.createElement(Tt,{label:n.name,linkTo:p,isExpanded:!n.collapsed,onToggleExpand:function(){return u(n)},menuLabel:Object(Ye.a)("More project actions"),renderMenu:r||function(e){return d.createElement(zt,{project:n,onAfterDelete:f,close:e})},icon:d.createElement(Ne.Ob,{project:n,isShared:null!==(t=null!=o?o:n.isShared)&&void 0!==t&&t,size:"medium"}),count:null!=a?a:n.tasksCount,"data-type":"project_list_item","data-id":n.id},m.length>0?d.createElement("ul",{id:v,hidden:!h},h?m.map((function(e){return d.createElement(Bt,Ce()({key:e.id},i,{project:e}))})):null):null)}function Vt(e){return"sync_id"in e||"parent_id"in e?"project":"query"in e?"filter":"label"}function $t(e){var t,n=e.menuTarget,r=e.renderMenu,a=e.count,o=Vt(n),i="label"===o?Object(Ye.a)("More label actions"):Object(Ye.a)("More filter actions"),c="label"===o?{type:"label",labelName:n.name}:{type:"filter",filterId:n.id},l="label"===o?d.createElement(Ne.X,null):d.createElement(Ne.L,null),s=null!==(t=n.color)&&void 0!==t?t:Ue.a;return d.createElement(Tt,{label:n.name,linkTo:c,menuLabel:i,renderMenu:r,icon:l,color:Object(Ue.g)(o,s),count:a})}var Ht=d.useCallback;function Ut(e){var t=e.menuTarget,n=e.onProjectEdit,r=e.onUnfavorite,a=e.close,o=Vt(t),i=Ht((function(){n&&t&&"sync_id"in t&&n(t)}),[n,t]),c=Ht((function(){r&&t&&r({menu:Vt(t),item:{id:t.id}})}),[r,t]);return d.createElement(Ke.b,{className:"item_menu_list",onClick:function(){return a()}},n&&"project"===o?d.createElement(Ke.a,{text:Object(Ye.a)("Edit project"),icon:d.createElement(Ne.F,null),onClick:i}):null,r?d.createElement(Ke.a,{text:Object(Ye.a)("Remove from favorites"),icon:d.createElement(Ne.O,null),onClick:c}):null)}var qt=d.useCallback;function Gt(e){var t=e.favouriteProjects,n=e.favouriteLabels,r=e.favouriteFilters,a=e.projectCount,o=e.labelCount,i=e.filterCount,c=e.collaboratorsByPID,l=e.onProjectEdit,s=e.onUnfavorite,u=Et(),f=S()(u,2),m=f[0],p=f[1],h=qt((function(){p("favorite")}),[p]);return d.createElement(_t,{title:Object(Ye.a)("Favorites"),isExpanded:m.favorite,onToggleExpand:h,track:"navigation|favorites_panel",className:Object(ee.d)("frontend.sidebar_new_design")?"sidebar_expansion_panel":void 0},d.createElement(It,{"aria-label":Object(Ye.a)("Favorites")},null==t?void 0:t.map((function(e){var t;return d.createElement(Bt,{key:e.id,project:e,count:null!==(t=a[e.id])&&void 0!==t?t:0,isShared:Boolean(c[e.id]),renderMenu:function(t){return d.createElement(Ut,{menuTarget:e,close:t,onProjectEdit:l,onUnfavorite:s})}})})),null==n?void 0:n.map((function(e){var t;return d.createElement($t,{key:e.id,menuTarget:e,count:null!==(t=o[e.name])&&void 0!==t?t:0,renderMenu:function(t){return d.createElement(Ut,{menuTarget:e,close:t,onUnfavorite:s})}})})),null==r?void 0:r.map((function(e){var t;return d.createElement($t,{key:e.id,menuTarget:e,count:null!==(t=i[e.id])&&void 0!==t?t:0,renderMenu:function(t){return d.createElement(Ut,{menuTarget:e,close:t,onUnfavorite:s})}})}))))}var Wt=d.useState;function Kt(e){var t=e.onSelectProject,n=e.inboxPID,r=e.teamInboxPID,a=e.collaboratorsByPID,o=e.selected,i=e.projects,c=e.labels,l=e.filters,s=e.labelCount,u=e.projectCount,f=e.filterCount,m=e.overdueCount,p=e.todayCount,h=e.onUnfavorite,v=e.onProjectUpdate,b=Wt(!1),g=S()(b,2),_=g[0],y=g[1],O=Wt(void 0),j=S()(O,2),w=j[0],E=j[1],k=Object(ee.d)("global.sidebar_favourites_grouping")&&Boolean((null==i?void 0:i.length)||(null==c?void 0:c.length)||(null==l?void 0:l.length)),D=Object(ee.d)("frontend.sidebar_new_design");function C(e){E(e),y(!0)}var I=p+m;function T(e,t){return Ae()("filter",!o||o.menu!==e||t&&o.id!==t?null:"current")}return d.createElement(d.Fragment,null,d.createElement("ul",{id:"top_filters","aria-label":Object(Ye.a)("Main filters"),className:D?"new_sidebar_design":void 0},d.createElement("li",{className:T("project",n),id:"filter_inbox",onClick:function(){t(n)},onKeyDown:function(e){"Enter"!==e.key&&"Space"!==e.key||t(n)},"data-id":n,"data-track":"navigation|inbox",role:"link",tabIndex:0},d.createElement("span",{"aria-hidden":!0,className:"item_icon"},d.createElement(Ne.T,null)),d.createElement("span",{className:"item_content"},Object(Ye.a)("Inbox"),d.createElement("small",{"aria-label":"".concat(u[n]," ").concat(1===u[n]?Object(Ye.a)("task"):Object(Ye.a)("tasks")),className:"item_counter"},u[n]||null))),r?d.createElement("li",{className:T("project",r),id:"filter_team_inbox",onClick:function(){"number"==typeof r&&t(r)},"data-id":r,"data-track":"navigation|team_inbox",role:"link",tabIndex:0},d.createElement("span",{"aria-hidden":!0,className:"item_icon"},d.createElement(Ne.dc,null)),d.createElement("span",{className:"item_content"},Object(Ye.a)("Team Inbox"),d.createElement("small",{"aria-label":"".concat(u[r]," ").concat(1===u[n]?Object(Ye.a)("task"):Object(Ye.a)("tasks")),className:"item_counter"},u[r]||null))):null,d.createElement("li",{className:T("today"),id:"filter_today","data-track":"navigation|today"},d.createElement(Xe.b,{view:{type:"today"}},d.createElement("span",{"aria-hidden":!0,className:"item_icon"},d.createElement(Ve.a,null)),d.createElement("span",{className:"item_content"},Object(Ye.a)("Today"),d.createElement("small",{"aria-label":"".concat(I," ").concat(1===I?Object(Ye.a)("task"):Object(Ye.a)("tasks")),className:Ae()("item_counter",m>0?"overdue_color":null)},I||null)))),d.createElement("li",{className:T("upcoming_view"),id:"filter_upcoming","data-track":"navigation|upcoming"},d.createElement(Xe.b,{view:{type:"upcoming"}},d.createElement("span",{"aria-hidden":!0,className:"item_icon"},d.createElement(Le.a,null)),d.createElement("span",{className:"item_content"},Object(Ye.a)("Upcoming")))),Object(ee.d)("global.consolidated_filters_labels")?d.createElement("li",{className:T("filters_labels_view"),id:"filters_labels","data-track":"navigation|filters-labels"},d.createElement(Xe.b,{view:{type:"filters-labels"}},d.createElement("span",{className:"item_icon"},d.createElement(Be,null)),d.createElement("span",{className:"item_content"},Object(Ye.a)("Filters & Labels")))):null),k?d.createElement(Gt,{favouriteProjects:i,favouriteLabels:c,favouriteFilters:l,projectCount:u,labelCount:s,filterCount:f,collaboratorsByPID:a,onProjectEdit:C,onUnfavorite:h}):d.createElement(d.Fragment,null,i?i.map((function(e){var n;return d.createElement(Qe,{key:e.id,project:e,count:null!==(n=u[e.id])&&void 0!==n?n:0,isSelected:"project"===o.menu&&o.id===e.id,isShared:Boolean(null==a?void 0:a[e.id]),onUnfavorite:h,onClick:t,onProjectEdit:C})})):null,c?c.map((function(e){var t;return d.createElement("li",{key:e.id,className:"favorite_item"},d.createElement(He.a,{label:e,count:null!==(t=s[e.name])&&void 0!==t?t:0,onLabelUnfavorite:function(e){return h({menu:"label",item:e})}}))})):null,l?l.map((function(e){var t;return d.createElement("li",{key:e.id,className:"favorite_item"},d.createElement(Ze.a,{filter:e,count:null!==(t=f[e.id])&&void 0!==t?t:0,onFilterUnfavorite:function(e){return h({menu:"filter",item:e})}}))})):null),_&&d.createElement($e.a,{project:w,onProjectUpdate:v,onModalClose:function(){y(!1)}}))}Kt.propTypes={onSelectProject:Ie.a.func.isRequired,inboxPID:Ie.a.number,teamInboxPID:Ie.a.number,selected:Ie.a.shape({menu:Ie.a.oneOf(["today","upcoming_view","project","label","filter"]),id:Ie.a.oneOfType([Ie.a.number,Ie.a.string])}),collaboratorsByPID:Ie.a.object,projects:Ie.a.array,labels:Ie.a.array,filters:Ie.a.array,todayCount:Ie.a.number.isRequired,overdueCount:Ie.a.number.isRequired,projectCount:Ie.a.object.isRequired,labelCount:Ie.a.object.isRequired,filterCount:Ie.a.object,onUnfavorite:Ie.a.func,onProjectUpdate:Ie.a.func.isRequired},Kt.defaultProps={selected:{}};var Yt=n("gVGk"),Jt=n("ZnB/"),Qt=n("A72/"),Zt=n("maC2"),Xt=n("FfTA"),en=n("qOpA"),tn=n.n(en),nn=n("duPW"),rn=n.n(nn),an=n("peh1"),on=Object(an.createSelector)((function(e){return e.mainView}),(function(e){return e.projects}),(function(e,t){var n=e.id,r=e.ids;switch(e.type){case Re.i:return{menu:"filter",id:n};case Re.k:if(1!==r.length)return;var a=r[0],o=t[a];if(!o)return;return o.inbox_project||o.team_inbox?{menu:"project",id:a}:void 0;default:return}})),cn=[],ln=Object(an.createSelector)(Zt.c,At.q,(function(e){return e.user}),Object(Xt.a)((function(e,t,n){var r=t.map((function(e){return e.id}));return r.push(n.inbox_project),r.push(n.team_inbox),tn()(r)(e)}))),sn=Object(an.createSelector)(on,Yt.n,Jt.f,At.q,Zt.g,Zt.d,ln,Zt.b,Zt.a,rn()("collaborators.byPID"),(function(e){return e.user}),(function(e){return Object(Qt.n)(e)}),(function(e){return Object(Qt.o)(e)}),(function(e,t,n,r,a,o,i,c,l,s,u,d,f){return{selected:e,inboxPID:u.inbox_project,teamInboxPID:u.team_inbox,projects:r,labels:f?t:cn,filters:d?n:cn,todayCount:a,overdueCount:o,projectCount:i,labelCount:c,filterCount:l,collaboratorsByPID:s}}));var un=Object(O.c)(sn,(function(e){return{onUnfavorite:function(t){var n=t.menu,r=t.item;switch(n){case"project":e(Object(At.z)(r.id,{is_favorite:0}));break;case"label":e(Object(Yt.t)(r.id,{is_favorite:0}));break;case"filter":e(Object(Jt.i)(r.id,{is_favorite:0}))}},onProjectUpdate:function(t){var n=t.id,r=Pe()(t,["id"]);e(Object(At.z)(n,r)),Signals.sendSignal("refresh_interface")}}}))((function(e){var t=Object(Xe.h)();return d.createElement(Kt,Ce()({},e,{onSelectProject:function(e){t({view:{type:"project",projectId:e}})}}))})),dn=n("nqxI"),fn=n("kbOS"),mn=n("S+H7");function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vn(e){return!e.inbox_project&&!e.team_inbox&&!e.is_archived}var bn=Object(O.c)((function(e){var t=Object(fn.g)(null)(e),n=Object(mn.n)(e),r=Object(Zt.c)(e);function a(e){return e.filter(vn).map((function(e){return hn(hn({},e),{},{isShared:n(e.id),tasksCount:r[e.id]||0})}))}return{projects:a(t),getSubProjects:function(t){return a(Object(fn.g)(t)(e))}}}),(function(e){return{onToggleExpand:function(t){e(Object(At.z)(t.id,{collapsed:t.collapsed?0:1}))}}}))((function(e){var t=e.projects,n=Pe()(e,["projects"]);return d.createElement(It,{id:"projects_list","aria-label":Object(Ye.a)("Projects")},t.map((function(e){return d.createElement(Bt,Ce()({key:e.id,project:e},n))})))})),gn=n("qiGY"),yn=(n("9VMT"),{container:"archived_projects_list",error:"archived_projects_list--error",toggleButton:"archived_projects_list__button",emptyHidden:"archived_projects_empty--hidden",emptyVisible:"archived_projects_empty--visible"});function On(){return d.createElement("div",{className:"spinner spinner--small"},d.createElement("div",{className:"bounce1"}),d.createElement("div",{className:"bounce2"}),d.createElement("div",{className:"bounce3"}))}function jn(e){var t=e.onReset,n=d.useState(!1),r=S()(n,2),a=r[0],o=r[1];return d.useEffect((function(){var e=setTimeout((function(){o(!0),e=setTimeout(t,3e3)}),100);return function(){return clearTimeout(e)}}),[t]),d.createElement("div",{className:yn[a?"emptyHidden":"emptyVisible"]},Object(Ye.a)("No archived projects"))}var wn=Object(O.c)((function(e){return{activeProjectIDs:Object(At.k)(e).map((function(e){return e.id}))}}))((function(e){var t=e.activeProjectIDs,n=Object(gn.b)("/projects/get_archived"),r=n.state,a=n.fetch,o=n.reset,i=n.setValue,c=Ae()(yn.container,l()({},yn.error,"rejected"===r.status));function s(e){var t=e.id;"resolved"===r.status&&i(r.value.filter((function(e){return e.id!==t})))}if("resolved"!==r.status)return d.createElement("div",{className:c},"idle"===r.status?d.createElement("button",{className:yn.toggleButton,onClick:a},Object(Ye.a)("Archived projects")):"pending"===r.status?d.createElement(On,null):d.createElement("button",{className:yn.toggleButton,onClick:a},Object(Ye.a)("Something went wrong! Please try again.")));var u=r.value.filter((function(e){return!t.includes(e.id)}));return 0===u.length?d.createElement("div",{className:c},d.createElement(jn,{onReset:o})):d.createElement("div",{className:c},d.createElement("button",{className:yn.toggleButton,onClick:o},Object(Ye.a)("Hide Archived")),d.createElement(It,null,u.map((function(e){return d.createElement(Bt,{key:e.id,project:e,onAfterDelete:s})}))))}));n("Uwsd");function En(e){var t=e.isExpanded,n=e.onToggleExpand,r=Object(Xe.h)();d.useEffect((function(){Object(ee.d)("frontend.projects_list")||(me.a.navigateTo=r)}),[r]),d.useEffect((function(){Object(ee.d)("frontend.projects_list")||(me.a.initWithData(),me.a.render())}),[]);var a=Object(Xe.g)(),o="project"===(null==a?void 0:a.type)?a.projectId:null;return d.useEffect((function(){Object(ee.d)("frontend.projects_list")||(me.a.deselectCurrent(),o&&me.a.setCurrentVisually(o))}),[o]),d.createElement(_t,{title:Object(Ye.a)("Projects"),isExpanded:t,onToggleExpand:n,track:"navigation|projects_panel",headerSideButton:d.createElement(et.a,{className:"adder_icon",onClick:function(){return Object(xt.a)({navigateTo:r,anchorProjectId:void 0})},"data-track":"navigation|projects_quick_add","aria-label":Object(Ye.a)("Add Project")},d.createElement(Ne.Hb,null)),className:Object(ee.d)("frontend.sidebar_new_design")?"sidebar_expansion_panel":void 0},Object(ee.d)("frontend.projects_list")?d.createElement(d.Fragment,null,d.createElement(bn,null),d.createElement("div",{className:"add_project_button focus-marker-enabled-within"},d.createElement(dn.c,{onClick:function(){return Object(xt.a)({navigateTo:r,anchorProjectId:void 0})}},Object(Ye.a)("Add Project"))),d.createElement(wn,null)):d.createElement(d.Fragment,null,d.createElement("ul",{id:"projects_list","aria-label":Object(Ye.a)("Projects"),className:"items generic_left_list"}),d.createElement("div",{id:"projects_list_manager",className:"left_list_manager_holder"})))}var kn=n("nM1N"),Dn=n("rbFA"),Cn=n("R1EP"),Sn=n("56YH"),In=n.n(Sn);function Tn(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty,o=0;o<n.length;o+=1){if(!a.call(t,n[o])||e[n[o]]!==t[n[o]])return!1;if(e[n[o]]!==t[n[o]])return!1}return!0}var An=n("RIqP"),xn=n.n(An);var Pn=n("uS8r"),Rn=n.n(Pn),Nn=n("y6Ls"),Ln=n.n(Nn),Mn=n("b3vA"),Fn=n.n(Mn),zn=n("ANjH"),Bn=n("jA2l"),Vn=n("noZS"),$n=n.n(Vn),Hn=n("jkD3");function Un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var qn,Gn=(qn={beginDrag:function(e,t,n){var r=Object(m.findDOMNode)(n).getBoundingClientRect();return e.dragBegin(e.item),{id:e.id,item:e.item,rect:r,componentWidth:r.width}},isDragging:function(e,t){return e.id==t.getItem().id&&!t.didDrop()},endDrag:function(e,t){e.dragEnd(t.getDropResult())}},$n()(qn,(function(e){return function(){try{return e.apply(void 0,arguments)}catch(e){console.log(e)}}})));var Wn=n("QSzV");function Kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var Yn={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function Jn(e){var t=e.initialOffset,n=e.currentOffset;if(!t||!n)return{};var r={x:n.x,y:n.y},a=r.y,o="translate(".concat(r.x,"px, ").concat(a,"px)");return{transform:o,WebkitTransform:o,width:e.dragItem.componentWidth}}var Qn=function(e){return{dragItem:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}};function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}function tr(e){var t=e.getBoundingClientRect();return{height:t.height,width:t.width,left:t.left,top:t.top}}var nr={hover:function(e,t,n){var r=t.getItem();n.itemHover(t.getClientOffset(),r.item,r.rect)},drop:function(e,t,n){return n.itemDrop()}},rr={};function ar(e){var t=function(e){var t=function(e){ot()(n,e);var t=Un(n);function n(){return x()(this,n),t.apply(this,arguments)}return N()(n,[{key:"render",value:function(){var e=this.props,t=e.render;return t(Pe()(e,["render"]))}}]),n}(f.a.PureComponent);return l()(t,"propTypes",{forwardedRef:Ie.a.object,render:Ie.a.func.isRequired,item:Ie.a.object.isRequired,style:Ie.a.object,dragBegin:Ie.a.func,dragEng:Ie.a.func,connectDragSource:Ie.a.func.isRequired,isDragging:Ie.a.bool.isRequired}),Object(Hn.a)(e,Gn,(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}),{arePropsEqual:function(e,t){return Tn(e,t)}})(t)}(e),n=function(e){var t=function(t){ot()(r,t);var n=Kn(r);function r(){var e;x()(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a)),l()(rt()(e),"frameRequest",null),e}return N()(r,[{key:"shouldComponentUpdate",value:function(){var e=this;return this.frameRequest||(this.frameRequest=requestAnimationFrame((function(){e.forceUpdate(),e.frameRequest=null}))),!1}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.frameRequest)}},{key:"render",value:function(){if(!this.props.isDragging||this.props.itemType!==e)return null;var t=Ae()(["list_item_draglayer"]);return f.a.createElement("div",{style:Yn},f.a.createElement("div",{className:t,style:Jn(this.props)},this.props.render(this.props.dragItem.item)))}}]),r}(f.a.Component);return l()(t,"propTypes",{render:Ie.a.func,initialOffset:Ie.a.shape({x:Ie.a.number.isRequired,y:Ie.a.number.isRequired}),currentOffset:Ie.a.shape({x:Ie.a.number.isRequired,y:Ie.a.number.isRequired}),isDragging:Ie.a.bool.isRequired,itemType:Ie.a.string,dragItem:Ie.a.object}),Object(Wn.a)(Qn)(t)}(e),r=function(e){ot()(a,e);var r=er(a);function a(){var e;x()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),l()(rt()(e),"state",{isDragging:!1}),l()(rt()(e),"deriveRectTo",(function(){var t=e.state,n=t.itemsFrom,r=t.itemsTo,a=e.rectFrom[n[0].id].top;return Ln()("id",r.map((function(t){var n=e.rectFrom[t.id],r={id:t.id,height:n.height,width:n.width,top:a,left:n.left};return a+=n.height,r})))})),l()(rt()(e),"dragBegin",(function(t){var n=e.props.onDragStart;e.rectFrom=Fn()((function(e){return tr(e.current)}),e.itemRefs),e.setState({isDragging:!0}),n&&n(t)})),l()(rt()(e),"dragEnd",(function(){var t=e.props,n=t.onChange,r=t.onDragEnd,a=e.state.itemsTo;r&&r(),n&&n(a),e.setState({isDragging:!1})})),l()(rt()(e),"itemDrop",(function(){return{dropInSortable:!0}})),l()(rt()(e),"itemHover",(function(t,n,r){var a=e.state,o=a.itemsFrom,i=a.itemsTo,c=e.deriveRectTo(),l=t.y,s=i.findIndex((function(e){return e.id===n.id})),u=o.findIndex((function(e){return e.id===n.id})),d=o[u],f=c[d.id],m=i.findIndex((function(e,t){var n=c[e.id];if(s===t)return!1;if(n.height>f.height){if(t<s){var r=n.height-f.height;return l>n.top&&l<n.top+n.height-r}if(t>s){var a=n.height-f.height;return l>n.top+a&&l<n.top+n.height}}return l>n.top&&l<n.top+n.height}));-1!==s||-1===m?s!=m&&-1!=s&&-1!=m&&e.moveItem(s,m):e.addItem(n,m,r)})),l()(rt()(e),"styleCache",{}),l()(rt()(e),"createTransformStyle",(function(t,n){if(!t)return rr;var r=t[n],a=r.x,o=r.y,i="translate(".concat(a,"px, ").concat(o,"px)");if(e.styleCache[i])return e.styleCache[i];var c={transform:i};return e.styleCache[i]=c,c})),l()(rt()(e),"scheduleStateUpdate",(function(t){e.pendingUpdateFn=t,e.frameRequest||(e.frameRequest=requestAnimationFrame(e.drawFrame))})),l()(rt()(e),"drawFrame",(function(){e.setState(Xn({},e.pendingUpdateFn)),e.pendingUpdateFn=null,e.frameRequest=null})),e}return N()(a,[{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.frameRequest)}},{key:"moveItem",value:function(e,t){var n=function(e,t){var n=function(n){if(e<0||t<0||e>=n.length||t>=n.length)throw new Error("Invalid array index");var r=xn()(n);return r.splice(e,1),r.splice(t,0,n[e]),r};return 3===arguments.length?n(arguments[2]):n}(e,t,this.state.itemsTo);this.scheduleStateUpdate({itemsTo:n})}},{key:"deriveTransforms",value:function(){var e=this,t=this.state,n=t.itemsFrom,r=t.itemsTo;if(!this.rectFrom)return null;var a=this.rectFrom[n[0].id].top,o=Object(zn.d)(Ln()("id"),Rn()((function(t){var n=a;return a+=e.rectFrom[t.id].height,{id:t.id,top:n}})))(r);return n.map((function(t){var n=e.rectFrom[t.id].top;return{x:0,y:o[t.id].top-n}}))}},{key:"render",value:function(){var e=this,r=this.props,a=r.children,o=r.renderListItem,i=r.renderDragLayer,c=r.connectDropTarget,l=this.state.itemsFrom,s=this.deriveTransforms();return this.itemRefs&&this.itemRefsFingerprint===l||(this.itemRefs=l.reduce((function(e,t){return e[t.id]=f.a.createRef(),e}),{}),this.itemRefsFingerprint=l,this.rectFrom=null),c(a(f.a.createElement(f.a.Fragment,null,l.map((function(n,r){return f.a.createElement(t,{key:n.id,id:n.id,item:n,render:o,style:e.createTransformStyle(s,r),forwardedRef:e.itemRefs[n.id],dragBegin:e.dragBegin,dragEnd:e.dragEnd})})),f.a.createElement(n,{render:i}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.itemsFrom===e.items||t.isDragging?null:{itemsFrom:e.items,itemsTo:e.items}}}]),a}(f.a.Component);return l()(r,"propTypes",{items:Ie.a.arrayOf(Ie.a.shape({id:Ie.a.any})),renderListItem:Ie.a.func.isRequired,renderDragLayer:Ie.a.func.isRequired,children:Ie.a.func,onDragStart:Ie.a.func,onDragEnd:Ie.a.func,onChange:Ie.a.func,connectDropTarget:Ie.a.func,isOver:Ie.a.bool,dropResult:Ie.a.object}),l()(r,"defaultProps",{children:function(e){return f.a.createElement("ul",null,e)}}),In()(Object(Bn.a)(e,nr,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),dropResult:t.getDropResult()}}),{arePropsEqual:function(e,t){return Tn(e,t)}}))(r)}var or=ar("BottomFiltersList");function ir(e){var t=e.canUseFilters,n=e.filters,r=e.filterCount,a=void 0===r?{}:r,o=e.onReorderFilters,i=e.onFilterEdit,c=e.onFilterDelete,l=e.onFilterFavorite,s=e.onFilterCreate;return 0===n.length?f.a.createElement("ul",{id:"filters_list",className:"items generic_left_list"},f.a.createElement("li",{className:"empty"},_("Your list of filters will show up here."))):f.a.createElement(or,{onChange:function(e){var t=e.reduce((function(e,t,n){return n+1!==t.item_order&&(e[t.id]=n+1),e}),{});o(t)},renderListItem:function(e){var n=e.item,r=e.connectDragSource,o=e.isDragging,u=e.style,d=e.forwardedRef;return f.a.createElement("li",{style:u,ref:d,className:Ae()("FilterListItemSortable",{is_dragging:o}),key:n.id},t?r(f.a.createElement("div",{className:"dnd_handle","data-testid":"filters_list__drag_handle"},f.a.createElement(Ne.C,null))):null,f.a.createElement(Ze.a,{filter:n,count:a[n.name]||0,onFilterEdit:i,onFilterDelete:t?c:null,onFilterFavorite:t?l:null,onFilterCreate:t?s:null}))},renderDragLayer:function(e){return f.a.createElement("li",{className:"FilterListItemSortable dragLabel",key:e.id},f.a.createElement(Ze.a,{filter:e,count:a[e.name]||0}))},items:n},(function(e){return f.a.createElement("ul",{id:"filters_list",className:"items generic_left_list","aria-label":Object(Ye.a)("Filters")},e)}))}ir.propTypes={canUseFilters:Ie.a.bool.isRequired,filters:Ie.a.array.isRequired,filterCount:Ie.a.object,onReorderFilters:Ie.a.func,onFilterEdit:Ie.a.func.isRequired,onFilterDelete:Ie.a.func.isRequired,onFilterFavorite:Ie.a.func.isRequired,onFilterCreate:Ie.a.func.isRequired};var cr=ir,lr=n("jlRT");function sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dr={name:"",query:"",color:null};function fr(e){var t=e.isExpanded,n=e.onToggleExpand,r=e.canUseFilters,a=e.filters,o=e.filterCount,i=e.onReorderFilters,c=e.onFilterCreate,l=e.onFilterUpdate,s=e.onFilterDelete,u=e.onFilterFavorite,d=Object(Xe.h)();function m(e){var t=e.item_order,n=Pe()(e,["item_order"]);if("number"==typeof t){var r=a.reduce((function(e,n){return e[n.id]=n.item_order>=t?n.item_order+1:n.item_order,e}),{});i(r)}var o=c("number"==typeof t?ur(ur({},n),{},{item_order:t}):n);d({view:{type:"filter",filterId:o.id}})}function p(e){l(e),d({view:{type:"filter",filterId:e.id}})}function h(e){r?Object(lr.b)((function(t){return f.a.createElement(Cn.a,{filter:e,onCreate:m,onUpdate:p,onClose:t})})):Dn.d()}return f.a.createElement(_t,{title:_("Filters"),isExpanded:t,onToggleExpand:n,track:"navigation|filters_panel",headerSideButton:f.a.createElement(et.a,{className:"adder_icon",onClick:function(){return h(dr)},"aria-label":_("Add new filter"),"data-track":"navigation|filters_quick_add"},f.a.createElement(kn.a,null)),className:Object(ee.d)("frontend.sidebar_new_design")?"sidebar_expansion_panel":void 0},f.a.createElement(cr,{canUseFilters:r,filters:a,filterCount:o,onReorderFilters:i,onFilterEdit:function(e){return h(e)},onFilterDelete:s,onFilterFavorite:u,onFilterCreate:function(e){return h(ur(ur({},dr),{},{item_order:e}))}}))}fr.propTypes={isExpanded:Ie.a.bool.isRequired,onToggleExpand:Ie.a.func.isRequired,canUseFilters:Ie.a.bool.isRequired,filters:Ie.a.array.isRequired,filterCount:Ie.a.object.isRequired,onReorderFilters:Ie.a.func.isRequired,onFilterCreate:Ie.a.func.isRequired,onFilterUpdate:Ie.a.func.isRequired,onFilterDelete:Ie.a.func.isRequired,onFilterFavorite:Ie.a.func.isRequired};var mr=fr,pr=Object(an.createSelector)(Qt.n,Jt.c,(function(e,t){return{canUseFilters:e,filters:t,filterCount:{}}})),hr=Object(O.c)(pr,(function(e){return{onReorderFilters:function(t){e(Object(Jt.j)(t))},onFilterCreate:function(t){return e(Object(Jt.b)(t))},onFilterUpdate:function(t){var n=t.id,r=Pe()(t,["id"]);e(Object(Jt.i)(n,r))},onFilterDelete:function(t){e(Object(Jt.h)(t.id))},onFilterFavorite:function(t){return e(Object(Jt.i)(t.id,{is_favorite:!0}))}}}))(mr),vr=n("P/y/"),br=ar("BottomLabelsList");function gr(e){var t=e.canUseLabels,n=e.labels,r=e.labelCount,a=e.onReorderLabels,o=e.onLabelEdit,i=e.onLabelDelete,c=e.onLabelFavorite,l=e.onLabelRemoveFromPersonal,s=e.onLabelCreate;return 0===n.length?f.a.createElement("ul",{id:"labels_list",className:"items generic_left_list"},f.a.createElement("li",{className:"empty"},_("Your list of labels will show up here."))):f.a.createElement(br,{onChange:function(e){var t=e.reduce((function(e,t,n){return n+1!==t.item_order&&(e[t.id]=n+1),e}),{});a(t)},renderListItem:function(e){var n=e.item,a=e.connectDragSource,u=e.isDragging,d=e.style,m=e.forwardedRef;return f.a.createElement("li",{style:d,ref:m,className:Ae()("LabelListItem",{is_dragging:u}),key:n.id},a(f.a.createElement("div",{className:"dnd_handle"},f.a.createElement(Ne.C,null))),f.a.createElement(He.a,{label:n,count:r[n.name]||0,onLabelEdit:o,onLabelDelete:t?i:null,onLabelFavorite:t?c:null,onLabelRemoveFromPersonal:t?l:null,onLabelCreate:t?s:null}))},renderDragLayer:function(e){return f.a.createElement("li",{className:"LabelListItem dragLabel",key:e.id},f.a.createElement(He.a,{label:e,count:r[e.name]||0}))},items:n},(function(e){return f.a.createElement("ul",{id:"labels_list",className:"items generic_left_list","aria-label":Object(Ye.a)("Labels")},e)}))}gr.propTypes={canUseLabels:Ie.a.bool.isRequired,labels:Ie.a.array.isRequired,labelCount:Ie.a.object.isRequired,onReorderLabels:Ie.a.func,onLabelEdit:Ie.a.func.isRequired,onLabelDelete:Ie.a.func,onLabelFavorite:Ie.a.func,onLabelRemoveFromPersonal:Ie.a.func,onLabelCreate:Ie.a.func.isRequired};var _r=gr;function yr(e){var t=e.isExpanded,n=e.onToggleExpand,r=e.sharedLabels,a=e.labelCount,o=e.onLabelRename,i=e.onLabelDelete,c=e.onLabelMoveToPersonal;return f.a.createElement(_t,{title:_("Shared"),titleTooltip:_("Labels added by others in shared projects will show up here."),isExpanded:t,onToggleExpand:n,className:"shared_labels_list_panel"},f.a.createElement("ul",{className:"items generic_left_list","aria-label":Object(Ye.a)("Shared Labels")},r.map((function(e){return f.a.createElement("li",{key:e.name,className:"LabelListItem"},f.a.createElement(He.a,{label:e,color:Ue.c,count:a[e.name]||0,onLabelRename:o,onLabelDelete:i,onLabelMoveToPersonal:c}))}))))}yr.propTypes={isExpanded:Ie.a.bool.isRequired,onToggleExpand:Ie.a.func.isRequired,sharedLabels:Ie.a.array.isRequired,labelCount:Ie.a.object.isRequired,onLabelRename:Ie.a.func.isRequired,onLabelDelete:Ie.a.func.isRequired,onLabelMoveToPersonal:Ie.a.func.isRequired};var Or=yr;function jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Er={name:"",color:null};function kr(e){var t=e.isExpanded,n=e.onToggleExpand,r=e.canUseLabels,a=e.personalLabels,o=e.sharedLabels,i=e.labelCount,c=e.onReorderLabels,l=e.onLabelRename,s=e.onLabelCreate,u=e.onLabelUpdate,d=e.onLabelDelete,m=e.onLabelFavorite,p=e.onLabelMoveToPersonal,h=e.onLabelRemoveFromPersonal,v=Object(yt.d)("sharedLabelsExpanded",!1),b=S()(v,2),g=b[0],y=b[1],O=Object(Xe.h)(),j=Object(Xe.g)();function w(e){d(e),"label"===(null==j?void 0:j.type)&&j.labelName===e.name&&O({view:{type:"today"},replace:!0})}function E(e){var t=e.item_order,n=Pe()(e,["item_order"]);if("number"!=typeof t)s(n);else{var r=a.reduce((function(e,n){return e[n.id]=n.item_order>=t?n.item_order+1:n.item_order,e}),{});c(r),s(wr(wr({},n),{},{item_order:t}))}O({view:{type:"label",labelName:n.name}})}function k(e,t){u(e),e.name!==t.name&&"label"===(null==j?void 0:j.type)&&j.labelName===t.name&&O({view:{type:"label",labelName:e.name},replace:!0})}function D(e){var t=e.oldName,n=e.newName;l({oldName:t,newName:n}),"label"===(null==j?void 0:j.type)&&j.labelName===t&&O({view:{type:"label",labelName:n},replace:!0})}function C(e){r?Object(lr.b)((function(t){return f.a.createElement(vr.a,{label:e,labels:a.map((function(e){return e.name})),onLabelCreate:E,onLabelUpdate:k,onLabelRename:D,onModalClose:t})})):Dn.e()}return f.a.createElement(_t,{title:_("Labels"),isExpanded:t&&r,onToggleExpand:function(){r?n.apply(void 0,arguments):Dn.e()},track:"navigation|labels_panel",headerSideButton:f.a.createElement(et.a,{className:"adder_icon",onClick:function(){return C(Er)},"aria-label":_("Add new label"),"data-track":"navigation|labels_quick_add"},f.a.createElement(kn.a,null)),className:Object(ee.d)("frontend.sidebar_new_design")?"sidebar_expansion_panel":void 0},r?f.a.createElement(_r,{canUseLabels:r,labels:a,labelCount:i,onReorderLabels:c,onLabelEdit:function(e){return C(e)},onLabelDelete:w,onLabelFavorite:m,onLabelRemoveFromPersonal:h,onLabelCreate:function(e){return C(wr(wr({},Er),{},{item_order:e}))}}):null,r&&o.length>0?f.a.createElement(Or,{isExpanded:g,onToggleExpand:function(){return y(!g)},sharedLabels:o,labelCount:i,onLabelRename:C,onLabelDelete:w,onLabelMoveToPersonal:p}):null)}kr.propTypes={isExpanded:Ie.a.bool.isRequired,onToggleExpand:Ie.a.func.isRequired,canUseLabels:Ie.a.bool.isRequired,personalLabels:Ie.a.array.isRequired,sharedLabels:Ie.a.array.isRequired,labelCount:Ie.a.object.isRequired,onReorderLabels:Ie.a.func.isRequired,onLabelRename:Ie.a.func.isRequired,onLabelCreate:Ie.a.func.isRequired,onLabelUpdate:Ie.a.func.isRequired,onLabelDelete:Ie.a.func.isRequired,onLabelFavorite:Ie.a.func.isRequired,onLabelMoveToPersonal:Ie.a.func.isRequired,onLabelRemoveFromPersonal:Ie.a.func.isRequired};var Dr=kr,Cr=Object(an.createSelector)(Qt.o,Yt.g,Yt.h,Zt.b,(function(e,t,n,r){return{canUseLabels:e,personalLabels:t,sharedLabels:n,labelCount:r}})),Sr=Object(O.c)(Cr,(function(e){return{onReorderLabels:function(t){e(Object(Yt.u)(t))},onLabelRename:function(t){var n=t.oldName,r=t.newName;e(Object(Yt.s)({oldName:n,newName:r}))},onLabelCreate:function(t){e(Object(Yt.d)(t))},onLabelUpdate:function(t){var n=t.id,r=t.name,a=t.color,o=t.is_favorite;e(Object(Yt.t)(n,{name:r,color:a,is_favorite:o}))},onLabelDelete:function(t){e(Object(Yt.q)(t.name))},onLabelFavorite:function(t){e(Object(Yt.t)(t.id,{is_favorite:!0}))},onLabelMoveToPersonal:function(t){e(Object(Yt.p)(t.name))},onLabelRemoveFromPersonal:function(t){e(Object(Yt.r)(t.id))}}}))(Dr),Ir=n("sEfC"),Tr=n.n(Ir),Ar=n("T5Rr"),xr=n("6O1D"),Pr=f.a.createContext({menuOn:!1,setMenuOn:function(e){},toggleMenu:function(){},handleMenuItemSelect:function(){}}),Rr=Pr,Nr=function(){return document.documentElement.clientWidth<=Re.a},Lr=function(e){return!e},Mr=function(e){var t=e.isDetailViewShowing,n=void 0!==t&&t,r=e.children,a=function(){var e=Object(d.useState)((function(){return Nr()})),t=S()(e,2),n=t[0],r=t[1];return Object(d.useEffect)((function(){var e=Tr()((function(){var e=Nr();n!==e&&r(e)}),100);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[n]),n}(),o=Object(j.i)(),i=Object(yt.e)(o),c=Object(yt.d)("left_menu_on",Lr(a)),l=S()(c,2),s=l[0],u=l[1],m=Object(d.useCallback)((function(){n||u(!s)}),[n,s,u]);Object(Ar.g)(Ar.f,f.a.useCallback((function(){Object(ee.d)("frontend.new_keyboard_shortcuts")||m()}),[m]));var p=Object(xr.c)();Object(d.useEffect)((function(){var e;if(Object(ee.d)("frontend.new_keyboard_shortcuts")&&(null==p||null===(e=p.globalContext)||void 0===e?void 0:e.setToggleLeftMenu))return p.globalContext.setToggleLeftMenu((function(){return m})),function(){var e,t;null===(e=(t=p.globalContext).setToggleLeftMenu)||void 0===e||e.call(t,null)}}),[p,m]),Object(yt.h)((function(){u(Lr(a))}),[a,u]),Object(d.useEffect)((function(){a&&i!==o&&u(!1)}),[a,o,i,u]),Object(d.useEffect)((function(){s?(document.documentElement.classList.remove("left_menu_hide"),document.documentElement.classList.add("left_menu_show")):(document.documentElement.classList.remove("left_menu_show"),document.documentElement.classList.add("left_menu_hide"))}),[s]);var h=Object(d.useMemo)((function(){return{menuOn:s,setMenuOn:u,toggleMenu:function(){return u(!s)}}}),[s,u]);return f.a.createElement(Pr.Provider,{value:h},r)};Mr.propTypes={children:Ie.a.node.isRequired,isDetailViewShowing:Ie.a.bool};var Fr=n("pQ8y");function zr(){var e=Object(d.useContext)(Rr),t=e.menuOn,n=e.setMenuOn;return f.a.createElement(Fr.a,{in:t,timeout:200,classNames:"left_menu_overlay"},f.a.createElement("div",{onClick:function(){return n(!1)},className:"left_menu_overlay"}))}n("SpJK");var Br={beyondMin:"resize_beyond_min",resizing:"resize_col",beyondMax:"resize_beyond_max"};function Vr(e){Object.entries(Br).filter((function(t){return S()(t,1)[0]!==e})).forEach((function(e){var t=S()(e,2)[1];document.body.classList.remove(t)}))}function $r(e){document.body.classList.add(Br[e])}var Hr=function(e){var t=e.targets,n=e.onResize,r=e.id,a=Object(d.useState)([]),o=S()(a,2),i=o[0],c=o[1],l=Object(yt.d)("resize_widths",{}),s=S()(l,2),u=s[0],m=s[1],p=Object(d.useRef)(null),h=Object(d.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n?t.default:u[e.id]||t.default;"leftMarginOffset"===t.role?e.style.marginLeft="".concat(r,"px"):e.style.width="".concat(r,"px"),p.current&&"primary"===t.role&&(p.current.style.left="".concat(r-2,"px"))}),[u]);function v(e){i.forEach((function(r,a){r.classList.add("transition_none");var o=e.clientX,i=t[a].widthOffsetFromPrimary||0;if("primary"===t[a].role&&o>t[a].max)Vr("beyondMax"),$r("beyondMax");else if("primary"===t[a].role&&o<t[a].min)Vr("beyondMin"),$r("beyondMin");else if(o+i<t[a].max&&o+i>t[a].min&&p.current){Vr("resizing"),$r("resizing"),"primary"===t[a].role&&(p.current.style.left="".concat(e.clientX,"px"));var c=o+i;"leftMarginOffset"===t[a].role?r.style.marginLeft="".concat(c,"px"):r.style.width="".concat(c,"px"),n&&n(t[a].id,c)}}))}function b(){document.body.classList.remove("no_user_selection"),Vr(),i.forEach((function(e,n){e.classList.remove("transition_none");var r="leftMarginOffset"===t[n].role?e.style.marginLeft:e.style.width;u[t[n].id]=parseInt(r.slice(0,-2)),m(u)})),p.current&&p.current.classList.remove("resize_active"),document.removeEventListener("mouseup",b),document.removeEventListener("mousemove",v)}return Object(d.useEffect)((function(){t&&c(t.map((function(e){var t=document.getElementById(e.id);return t&&h(t,e),t})).reduce((function(e,t){return t&&e.push(t),e}),[]))}),[h,u,t]),f.a.createElement("div",{ref:p,className:"resize_handle",id:r,onMouseDown:function(){document.body.classList.add("no_user_selection"),p.current&&p.current.classList.add("resize_active"),document.addEventListener("mouseup",b),document.addEventListener("mousemove",v)},onDoubleClick:function(){i.forEach((function(e,n){h(e,t[n],!0)})),b()}})},Ur=n("/RQT");function qr(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wr(){var e=Et(),t=S()(e,2),n=t[0],r=t[1];f.a.useEffect((function(){var e=document.getElementById("left_menu"),t=document.getElementById("top_filters"),n=e.getElementsByClassName("expansion_panel__header"),r=e.getElementsByClassName("expansion_panel__toggle"),a=function(){var r=t.offsetTop+t.offsetHeight,a=e.scrollTop;if(a<r){var o,i=qr(n);try{for(i.s();!(o=i.n()).done;)o.value.style.top="auto"}catch(e){i.e(e)}finally{i.f()}}else{var c,l=qr(n);try{for(l.s();!(c=l.n()).done;){var s=c.value,u=s.nextSibling.offsetTop-s.offsetHeight,d=u+s.nextSibling.offsetHeight;s.style.top=a>=u&&a<=d?a-u+"px":a>=d?d-u+"px":"auto"}}catch(e){l.e(e)}finally{l.f()}}},o=function(){for(var e=0,t=[0,100,200,300,400];e<t.length;e++)setTimeout(a,t[e])};e.addEventListener("scroll",a);var i,c=qr(r);try{for(c.s();!(i=c.n()).done;)i.value.addEventListener("click",o)}catch(e){c.e(e)}finally{c.f()}return function(){e.removeEventListener("scroll",a);var t,n=qr(r);try{for(n.s();!(t=n.n()).done;)t.value.removeEventListener("click",o)}catch(e){n.e(e)}finally{n.f()}}}),[]);var a=Object(d.useMemo)((function(){var e=Object(X.h)()?Object(Ur.convertToUnit)(Ur.LessVariables["top-bar-side-padding-offset"]):0,t=Object(Ur.convertToUnit)(Ur.LessVariables["left-menu-min-width"]),n=Object(Ur.convertToUnit)(Ur.LessVariables["left-menu-max-width"]),r=Object(Ur.convertToUnit)(Ur.LessVariables["left-menu-total-width"])+e,a=n-t,o=Object(Ur.convertToUnit)(Ur.LessVariables["quick-find-min-width"]),i=Object(Ur.convertToUnit)(Ur.LessVariables["quick-find-width"]),c=Object(Ur.convertToUnit)(Ur.LessVariables["left-menu-holder-min-width"]);return[{id:"content",min:t,max:n,default:r,role:"leftMarginOffset"},{id:"quick_find",min:o,max:o+a,widthOffsetFromPrimary:o-t,default:i},{id:"list_holder",min:c,max:c+a,widthOffsetFromPrimary:c-t,default:Object(Ur.convertToUnit)(Ur.LessVariables["left-menu-holder-width"])+e},{id:"left_menu",min:t,max:n,default:r,role:"primary"}]}),[]);return f.a.createElement(f.a.Fragment,null,f.a.createElement(zr,null),f.a.createElement("div",{id:"left_menu",className:Ae()("left_menu",{left_menu_project_iconongraphy:Object(ee.d)("global.project_iconography"),new_side_bar_design:Object(ee.d)("frontend.sidebar_new_design")})},f.a.createElement("div",{id:"list_holder",role:"navigation","aria-label":Object(Ye.a)("Main Navigation: contains Projects, Labels, and Filters")},f.a.createElement(un,null),f.a.createElement(En,{isExpanded:n.project,onToggleExpand:function(){return r("project")}}),Object(ee.d)("global.consolidated_filters_labels")?null:f.a.createElement(f.a.Fragment,null,f.a.createElement(Sr,{isExpanded:n.label,onToggleExpand:function(){return r("label")}}),f.a.createElement(hr,{isExpanded:n.filter,onToggleExpand:function(){return r("filter")}})))),f.a.createElement(Hr,{targets:a,id:"left_menu_resize"}))}var Kr=f.a.memo(Wr);var Yr=n("XtcL"),Jr=n("DNwz"),Qr=n.n(Jr),Zr=n("FFjV"),Xr=n("LYyr"),ea=n("PZ6b"),ta=n.n(ea),na=n("JXqz"),ra=n.n(na),aa=/\s*(\d\d\d\d)-(\d\d)-(\d\d)\s*/i;function oa(e){var t=aa.exec(e);if(!t)return new Date;try{var n=[parseInt(t[1]),parseInt(t[2])-1,parseInt(t[3])];return new Date(n[0],n[1],n[2])}catch(e){return new Date}}function ia(e,t){var n=window.devicePixelRatio;if(n){var r=e.width,a=e.height;e.width=r*n,e.height=a*n,e.style.width="".concat(r,"px"),e.style.height="".concat(a,"px"),t.scale(n,n)}}function ca(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return la(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return la(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function la(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var ua=function(e){ot()(n,e);var t=sa(n);function n(e){var r;x()(this,n),(r=t.call(this,e)).canvas=null,r.chartHolder=null;var a=r.props,o=a.stat,i=a.goal,c=a.width,l=Object(zn.d)(ra.a,Rn()((function(e){return e.completed}))),s=Object(zn.d)(ta.a,Rn()(l),Rn()((function(e){return e.items})))(o);return r.pxPerCount=(c-55)/ta()([s,i]),r.goalLineHeight=20*r.props.stat.length+10,r}return N()(n,[{key:"componentDidUpdate",value:function(){this.drawCanvas()}},{key:"componentDidMount",value:function(){this.drawCanvas();var e=this.props,t=e.goal,n=e.stat,r=t*this.pxPerCount-7,a=4==n.length?SPAN(_("Weekly Goal"),": ",B(t)):SPAN(_("Daily Goal"),": ",B(t));IstTooltip.showSimpleText(this.chartHolder,a,null,-1,r)}},{key:"drawCanvas",value:function(){var e=this.props,t=e.goal,n=20*e.stat.length+10,r=this.canvas.getContext("2d");ia(this.canvas,r);var a=this.pxPerCount*t,o=n-4;r.strokeStyle="#a5a5a5",r.fillStyle="#a5a5a5",r.lineWidth=1.5,r.beginPath(),r.moveTo(a,4),r.lineTo(a,o),r.stroke(),r.closePath(),r.beginPath(),r.arc(a,4,2,0,2*Math.PI,!1),r.fill(),r.closePath(),r.beginPath(),r.arc(a,o,2,0,2*Math.PI,!1),r.fill(),r.closePath()}},{key:"renderSingleBar",value:function(e){var t=e.colors,n=e.count,r=e.weekday,a=e.baseKey;if(0===t.length)return f.a.createElement("li",{key:a},f.a.createElement("div",{className:"project_colors"},f.a.createElement("div",{key:"".concat(a,"-0"),className:"project_viz",style:{width:"1px"}})),r?f.a.createElement("span",{className:"short_date"},r):null,f.a.createElement("b",null,"0"));var o=t.map((function(e,t){var n=e.colorHex,r=e.width;return f.a.createElement("div",{key:"".concat(a,"-").concat(t),className:"project_viz",style:{backgroundColor:n,width:r}})}));return f.a.createElement("li",{key:a},f.a.createElement("div",{className:"project_colors"},o),r?f.a.createElement("span",{className:"short_date"},r):null,f.a.createElement("b",null,n))}},{key:"render",value:function(){var e,t,n=this,r=this.props,a=r.stat,o=r.idToColor,i=r.width,c=Object(zn.d)(ra.a,Rn()((function(e){return e.completed}))),l=[],s=ca(a);try{for(s.s();!(e=s.n()).done;){var u=e.value,d=u.items,m=u.date,p=m&&10===m.length?(t=void 0,t=oa(m),V.a.getWeekdayShort(t)):null,h=c(d),v=d.map((function(e){return{color:o[e.id],colorHex:Ue.g("project",o[e.id]),width:n.pxPerCount*e.completed}}));v.sort((function(e,t){return e.color-t.color})),l.push(this.renderSingleBar({colors:v,count:h,weekday:p,baseKey:l.length}))}}catch(e){s.e(e)}finally{s.f()}var b={width:i,height:this.goalLineHeight,overflow:"hidden"};return f.a.createElement("div",{className:"completed_bar_chart",ref:function(e){return n.chartHolder=e}},f.a.createElement("ul",null,l),f.a.createElement("div",{className:"goalline",style:b},f.a.createElement("canvas",{ref:function(e){return n.canvas=e},width:i,height:this.goalLineHeight.height})))}}]),n}(f.a.PureComponent);l()(ua,"propTypes",{stat:Ie.a.arrayOf(Ie.a.shape({date:Ie.a.string,items:Ie.a.array})).isRequired,goal:Ie.a.number,idToColor:Ie.a.object.isRequired,width:Ie.a.number}),l()(ua,"defaultProps",{width:225});var da=ua;function fa(e){return Math.pow(e-1,5)+1}var ma=function(e,t,n,r,a){return n+(r-n)*(a-e)/(t-e)};var pa=function(e){var t=e.from,n=e.to,r=e.duration,a=e.easing,o=e.step,i=e.startAfter,c=void 0===i?0:i,l=Date.now()+c,s=l+r;requestAnimationFrame((function e(){var r=Date.now();if(r<l)requestAnimationFrame(e);else if(!(r>=s)){var i=ma(l,s,0,1,r);i=a(i);var c=ma(0,1,t,n,i);o(c),requestAnimationFrame(e)}}))},ha=n("c9wj");function va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var ba=function(e){ot()(n,e);var t=va(n);function n(e){var r;return x()(this,n),(r=t.call(this,e)).progressbarRef=null,r.elementId=Object(ha.a)("progress-ring"),r}return N()(n,[{key:"componentDidMount",value:function(){var e=this;if(!this.props.disableAnimation){var t=this.props,n=t.animationDuration,r=t.animationStart;pa({from:0,to:this.props.progress,duration:n,easing:fa,step:function(t){e.progressbarRef&&(e.progressbarRef.style.strokeDashoffset=e.deriveStrokeDashoffset(t))},startAfter:r})}}},{key:"deriveStrokeDashoffset",value:function(e){return 301.635*(1-e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.color,r=t.width,a=t.strokeWidth,o=t.progress,i=t.disableAnimation,c={display:"block",width:r},l={strokeDasharray:"".concat(301.635,", ").concat(301.635),strokeDashoffset:i?this.deriveStrokeDashoffset(o):301.635},s={position:"relative",height:r,width:r},u=50-a/2,d=Object(Xr.a)("M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{radius2} a {radius},{radius} 0 1 1 0,-{radius2}",{radius:u,radius2:2*u});return f.a.createElement("div",{style:s},f.a.createElement("svg",{viewBox:"0 0 100 100",style:c},f.a.createElement("defs",null,f.a.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:this.elementId},f.a.createElement("stop",{stopColor:n,stopOpacity:"0.7",offset:"0%"}),f.a.createElement("stop",{stopColor:n,offset:"100%"}))),f.a.createElement("path",{d:d,stroke:this.props.strokeColor,strokeWidth:a,fillOpacity:"0"}),f.a.createElement("path",{ref:function(t){return e.progressbarRef=t},d:d,stroke:"url(#".concat(this.elementId,")"),strokeWidth:a,fillOpacity:"0",style:l})),f.a.createElement("div",{style:{position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",top:0,left:0,width:"100%",height:"100%"}},this.props.children))}}]),n}(f.a.PureComponent);l()(ba,"propTypes",{progress:Ie.a.number,width:Ie.a.number,strokeWidth:Ie.a.number,color:Ie.a.string,strokeColor:Ie.a.string,children:Ie.a.node,disableAnimation:Ie.a.bool,animationDuration:Ie.a.number,animationStart:Ie.a.number}),l()(ba,"defaultProps",{progress:.7,width:72,strokeWidth:6,disableAnimation:!1,animationDuration:1200,animationStart:500,color:"#316fea"});var ga=n("zO8/"),_a=n("Puqe"),ya=n.n(_a),Oa=n("7GkX"),ja=n.n(Oa);function wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ea(e,t){var n=ja()(e);return ya()(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wa(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),n)}var ka=n("C6Tt");Da.propTypes={color:Ie.a.string,width:Ie.a.number.isRequired};function Da(e){var t=Ea(Da.propTypes,e),n=e.width,r=e.color,a=n/1;r&&(r=Object(ka.a)(r,.85));var o={tick:r||"#B3B3B3",ring:r||"#E6E6E6",topLeft:r||"#CCC",topRight:r||"#E6E6E6"};return f.a.createElement("svg",Ce()({width:n,height:a,viewBox:"0 0 48 48"},t),f.a.createElement("defs",null,f.a.createElement("linearGradient",{x1:"100%",y1:"0%",x2:"0%",y2:"100%",id:"b"},f.a.createElement("stop",{stopOpacity:"0",offset:"0%"}),f.a.createElement("stop",{offset:"100%"})),f.a.createElement("path",{d:"M34.6 14.7L40 4H28l-3.5 7a17 17 0 0 1 10.1 3.7z",id:"me_a"}),f.a.createElement("linearGradient",{x1:"0%",y1:"0%",y2:"100%",id:"d"},f.a.createElement("stop",{stopOpacity:"0",offset:"0%"}),f.a.createElement("stop",{offset:"100%"})),f.a.createElement("path",{d:"M23.5 11L20 4H8l5.4 10.7A17 17 0 0 1 23.5 11z",id:"c"})),f.a.createElement("g",{fill:"none",fillRule:"evenodd"},f.a.createElement("path",{d:"M0 0h48v48H0z"}),f.a.createElement("g",null,f.a.createElement("use",{fill:o.topRight,xlinkHref:"#me_a"}),f.a.createElement("use",{fillOpacity:".1",fill:"url(#b)",xlinkHref:"#me_a"})),f.a.createElement("g",null,f.a.createElement("use",{fill:o.topLeft,xlinkHref:"#c"}),f.a.createElement("use",{fillOpacity:".1",fill:"url(#d)",xlinkHref:"#c"})),f.a.createElement("path",{d:"M24 44a16 16 0 1 1 0-32 16 16 0 0 1 0 32zm0-4a12 12 0 1 0 0-24 12 12 0 0 0 0 24z",fill:o.ring}),f.a.createElement("path",{fill:o.tick,d:"M22 33l-5-5 1.8-1.7 3.2 3.2 7.3-7.2L31 24z"})))}var Ca=function(){function e(t){var n=t.p0,r=t.p25,a=t.p75,o=t.p100,i=t.p100plus,c=t.p100plusFri;x()(this,e),this.p0=n,this.p25=r,this.p75=a,this.p100=o,this.p100plus=i,this.p100plusFri=c}return N()(e,[{key:"get",value:function(e){var t;switch(!0){case e>=1:t=5===(new Date).getDay()&&this.p100plusFri?this.p100plusFri:this.p100plus;break;case e>.75:t=this.p100;break;case e>.25:t=this.p75;break;case e>0:t=this.p25;break;case 0==e:default:t=this.p0}return t[(new Date).getDate()%t.length]}}]),e}();var Sa=function(e){return e.split(" ")[0]},Ia=n("giaj");function Ta(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var Aa=function(e){ot()(n,e);var t=Ta(n);function n(e){var r;return x()(this,n),(r=t.call(this,e)).motivatorCatelog=new Ca({p0:[Object(Ye.a)("What will you focus on first?"),Object(Ye.a)("Just take it one task at a time."),Object(Ye.a)("What\u2019s first on your list?")],p25:[Object(Ye.a)("You\u2019re off to a great start. Keep it up!"),Object(Ye.a)("Nice first steps. Keep moving forward!"),Object(Ye.a)("Getting started is the hardest part. Keep going!")],p75:[Object(Ye.a)("You\u2019re making great progress. Stay focused!"),Object(Ye.a)("You\u2019ve got some great momentum!"),Object(Ye.a)("You\u2019re on your way!"),Object(Ye.a)("Nothing can stop you!")],p100:[Object(Ye.a)("You\u2019re almost there. Keep going!"),Object(Ye.a)("It\u2019s the last stretch of the day!"),Object(Ye.a)("It\u2019s the final leg. You\u2019ve got this!")],p100plus:[Object(Ye.a)("Well done, {user_name}!"),Object(Ye.a)("You conquered the day, {user_name}!"),Object(Ye.a)("Nice work, {user_name}!")]}),r}return N()(n,[{key:"renderStatus",value:function(){var e=this.props,t=e.goal,n=e.completed,r=e.userName,a=n<t?Object(Ye.b)("Daily goal: <b>{num_completed}/{num_goal} task</b>","Daily goal: <b>{num_completed}/{num_goal} tasks</b>",t):Object(Ye.b)("Daily goal completed: <b>{num_completed}/{num_goal} task</b>","Daily goal completed: <b>{num_completed}/{num_goal} tasks</b>",t),o=Object(Xr.a)(a,{num_completed:n,num_goal:t}),i=n/t,c=Object(Xr.a)(this.motivatorCatelog.get(i),{user_name:Sa(r)});return f.a.createElement("div",null,f.a.createElement("h4",{dangerouslySetInnerHTML:{__html:o}}),f.a.createElement("p",null,c),f.a.createElement("a",{className:"edit_link","data-track":"karma|tab_daily_edit_goal",onClick:this.props.onEditGoalClick},Object(Ye.a)("Edit goal")))}},{key:"renderStreaks",value:function(){if(Object(ga.c)(this.props.currentStreak))return null;var e,t=this.props.currentStreak.count,n=0===t?Object(Ye.a)("You are not on a streak."):Object(Xr.a)(Object(Ye.b)("You've completed your goal {n} day in a row.","You've completed your goal {n} days in a row.",t),{n:t});if(!Object(ga.c)(this.props.maxStreak)){var r=this.props.maxStreak.count,a=Object(Ye.b)("Your longest streak: {n} day","Your longest streak: {n} days",r);a=Object(Xr.a)(a,{n:r});var o=this.props.maxStreak,i=o.start,c=o.end,l=Object(ga.b)(i,c);e=f.a.createElement("p",{className:"sm"},a,f.a.createElement("br",null),"(",l,")")}return f.a.createElement("div",{className:"section_streak"},f.a.createElement("p",null,n),e)}},{key:"render",value:function(){var e=this.props,t=e.daysItems,n=e.projectColors,r=e.goal,a=e.completed,o=e.theme,i=e.disableAnimation,c=e.width,l=a/r,s=Object(Ia.i)(o);o!==Ia.h&&o!==Ia.f||(s=Object(Ia.i)(Ia.g)),o===Ia.d&&(s=Ia.b);var u=o===Ia.d?Ia.c:"#B3B3B3",d=l<1?u:s,m=o===Ia.d?Ia.c:"#E6E6E6";return f.a.createElement("div",null,f.a.createElement("div",{className:"goal_status section_progress"},f.a.createElement(ba,{className:"pie_chart",width:72,color:s,strokeColor:m,disableAnimation:i,progress:Math.min(l,1),animationStart:500,animationDuration:1200},f.a.createElement(Da,{width:45,color:d})),this.renderStatus()),this.renderStreaks(),f.a.createElement("div",{className:"section_completebar"},f.a.createElement("h6",{className:"section_title"},Object(Ye.a)("Completed in the last 7 days")),f.a.createElement(da,{width:c,stat:t,idToColor:n,goal:r})))}}]),n}(f.a.PureComponent);function xa(e){var t=Ea(xa.propTypes,e),n=e.width,r=e.color,a={ribbon:r?"#FFF":"#B3B3B3",body:r||"#E6E6E6"};return r!==Ia.c&&r!==Ia.b||(a.ribbon=Ia.a),f.a.createElement("svg",Ce()({width:"".concat(n,"px"),viewBox:"0 0 48 48"},t),f.a.createElement("defs",null,f.a.createElement("linearGradient",{x1:"0%",y1:"0%",y2:"100%",id:"a"},f.a.createElement("stop",{offset:"0%"}),f.a.createElement("stop",{stopOpacity:"0",offset:"100%"})),f.a.createElement("linearGradient",{x1:"100%",y1:"100%",x2:"0%",y2:"0%",id:"b"},f.a.createElement("stop",{stopOpacity:"0",offset:"0%"}),f.a.createElement("stop",{stopOpacity:"0",offset:"40%"}),f.a.createElement("stop",{offset:"100%"}))),f.a.createElement("g",{fill:"none",fillRule:"evenodd"},f.a.createElement("path",{d:"M12.09368 22.50672C8.71832 19.0911 7 16.29787 7 14c0-2.76142 2.23858-5 5-5v2c-1.65685 0-3 1.34315-3 3 0 1.32495.98894 3.173 3 5.47536V7h24v12.47536c2.01106-2.30237 3-4.1504 3-5.47536 0-1.65685-1.34315-3-3-3V9c2.76142 0 5 2.23858 5 5 0 2.29787-1.71832 5.0911-5.09368 8.50672C35.20599 28.09724 30.65986 32.492 25 32.95892V35h-2v-2.04107c-5.65986-.46693-10.206-4.8617-10.90632-10.45221zM16 39h16v5H16v-5zm3-2h10v2H19v-2zm2-2h6v2h-6v-2zM10 4h28v3H10V4zm16 3v12l3-3 3 3V7h-6z",fillOpacity:".8",fill:a.body}),f.a.createElement("path",{fillOpacity:".08",fill:"url(#a)",d:"M21 37h8v2h-6zM23 35h4v2h-2zM23 32.9h2v2z"}),f.a.createElement("path",{d:"M15 21c0 5.52285 4.47715 10 10 10s10-4.47715 10-10V7H15v14z",fillOpacity:".08",fill:"url(#b)"}),f.a.createElement("path",{fill:a.ribbon,d:"M26 7h6v12l-3-3-3 3z"})))}function Pa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}l()(Aa,"propTypes",{width:Ie.a.number,daysItems:Ie.a.arrayOf(Ie.a.shape({date:Ie.a.string,items:Ie.a.array})),maxStreak:Ie.a.shape({count:Ie.a.number,start:Ie.a.string,end:Ie.a.string}),currentStreak:Ie.a.object,projectColors:Ie.a.object,goal:Ie.a.number,completed:Ie.a.number,userName:Ie.a.string,color:Ie.a.string,theme:Ie.a.number,disableAnimation:Ie.a.bool,onEditGoalClick:Ie.a.func}),l()(Aa,"defaultProps",{disableAnimation:!1}),xa.propTypes={color:Ie.a.string,width:Ie.a.number.isRequired};var Ra=function(e){ot()(n,e);var t=Pa(n);function n(e){var r;return x()(this,n),(r=t.call(this,e)).motivatorCatelog=new Ca({p0:[_("Big things happen one task at a time."),_("Starting is the hardest part. You\u2019ve got this!"),_("Build momentum with one small task.")],p25:[_("You\u2019re on the right track!"),_("Nice start! Keep it up."),_("Keep up the momentum!")],p75:[_("Keep up the pace!"),_("Nothing can stop you!"),_("Your focus is unbreakable!")],p100:[_("It\u2019s the final stretch. You\u2019ve got this!"),_("The end is in sight. Go for it!"),_("Just a bit more to go!"),_("Your goal is within reach!")],p100plus:[_("You did it, {user_name}!"),_("Nice work, {user_name}!"),_("Nicely done, {user_name}!"),_("You conquered the week!"),_("Treat yourself. You deserve it, {user_name}!")]}),r}return N()(n,[{key:"renderStatus",value:function(){var e=this.props,t=e.goal,n=e.completed,r=_n("Weekly goal: <b>{num_completed}/{num_goal} task</b>","Weekly goal: <b>{num_completed}/{num_goal} tasks</b>",t),a=_n("Weekly goal completed: <b>{num_completed}/{num_goal} task</b>","Weekly goal completed: <b>{num_completed}/{num_goal} tasks</b>",t),o=_("Edit goal"),i=n<t?r:a;i=Object(Xr.a)(i,{num_completed:n,num_goal:t});var c=n/t,l=Object(Xr.a)(this.motivatorCatelog.get(c),{user_name:Sa(this.props.userName)});return f.a.createElement("div",null,f.a.createElement("h4",{dangerouslySetInnerHTML:{__html:i}}),f.a.createElement("p",null,l),f.a.createElement("a",{className:"edit_link","data-track":"karma|tab_weekly_edit_goal",onClick:this.props.onEditGoalClick},o))}},{key:"renderStreaks",value:function(){if(Object(ga.c)(this.props.currentStreak))return null;var e,t=this.props.currentStreak.count,n=_n("You've completed your goal {n} week in a row.","You've completed your goal {n} weeks in a row.",t);if(n=Object(Xr.a)(n,{n:t}),!Object(ga.c)(this.props.maxStreak)){var r=this.props.maxStreak.count,a=_n("Your longest streak: {n} week","Your longest streak: {n} weeks",r);a=Object(Xr.a)(a,{n:r});var o=this.props.maxStreak,i=o.start,c=o.end,l=Object(ga.b)(i,c);e=f.a.createElement("p",{className:"sm"},a,f.a.createElement("br",null),"(",l,")")}return f.a.createElement("div",{className:"section_streak"},f.a.createElement("p",null,n),e)}},{key:"render",value:function(){var e=this.props,t=e.weekItems,n=e.projectColors,r=e.completed,a=e.goal,o=e.theme,i=e.disableAnimation,c=e.width,l=r/a,s=Object(Ia.i)(o);o!==Ia.h&&o!==Ia.f||(s=Object(Ia.i)(Ia.g)),o===Ia.d&&(s=Ia.b);var u=o===Ia.d?Ia.c:"#B3B3B3",d=l<1?u:s,m=o===Ia.d?Ia.c:"#E6E6E6";return f.a.createElement("div",null,f.a.createElement("div",{className:"goal_status section_progress"},f.a.createElement(ba,{className:"pie_chart",width:72,iconType:"trophy",color:s,strokeColor:m,disableAnimation:i,progress:Math.min(r/a,1),animationStart:500,animationDuration:1200},f.a.createElement(xa,{width:45,color:d})),this.renderStatus()),this.renderStreaks(),f.a.createElement("div",{className:"section_completebar"},f.a.createElement("h6",{className:"section_title"},_("Completed in the last 4 weeks")),f.a.createElement(da,{width:c,color:s,stat:t,idToColor:n,goal:a})))}}]),n}(f.a.PureComponent);l()(Ra,"propTypes",{stat:Ie.a.object,completed:Ie.a.number,goal:Ie.a.number,weekItems:Ie.a.arrayOf(Ie.a.shape({items:Ie.a.array})),maxStreak:Ie.a.shape({count:Ie.a.number,start:Ie.a.string,end:Ie.a.string}),currentStreak:Ie.a.object,projectColors:Ie.a.object,color:Ie.a.string,userName:Ie.a.string,disableAnimation:Ie.a.bool,onEditGoalClick:Ie.a.func,theme:Ie.a.number,width:Ie.a.number}),l()(Ra,"defaultProps",{disableAnimation:!1});var Na=n("qiVK"),La=n.n(Na),Ma=n("6acW"),Fa=n.n(Ma);function za(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ba(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ba(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var $a=function(e){ot()(n,e);var t=Va(n);function n(e){var r;x()(this,n);var a=(r=t.call(this,e)).deriveGraphData(r.props);return Object.assign(rt()(r),a),r.canvas=null,r}return N()(n,[{key:"deriveGraphData",value:function(){var e=this.props,t=e.trendData,n=e.width,r=e.height,a=e.paddingTop,o=e.paddingBottom,i=e.paddingLeft,c=e.paddingRight,l=i,s=n-c,u=a,d=r-o,f=La()(t.map((function(e){return e.karma_avg}))),m=ta()(t.map((function(e){return e.karma_avg})));f==m&&(m=f+1);var p=Math.ceil((s-l)/(t.length-1));return{points:t.map((function(e,t){return{x:l+p*t,y:ma(f,m,u,d,e.karma_avg),yI:ma(f,m,d,u,e.karma_avg),karma:e.karma_avg,date:oa(e.date)}})),startX:l,endX:s,startY:u,endY:d}}},{key:"UNSAFE_componentWillUpdate",value:function(e){var t=this.deriveGraphData(e);Object.assign(this,t),this.canvas=null}},{key:"componentDidUpdate",value:function(){this.updateCanvas()}},{key:"componentDidMount",value:function(){this.updateCanvas()}},{key:"updateCanvas",value:function(){var e=this.canvas.getContext("2d");ia(this.canvas,e),this.drawCanvas(e,this.points,this.endY,this.props.colorHex,this.props.paddingBottom)}},{key:"drawCanvas",value:function(e,t,n,r,a){e.fillStyle="#eeeeee",e.translate(-2,0);var o,i=za(t);try{for(i.s();!(o=i.n()).done;){var c=o.value,l=c.x,s=c.yI;e.beginPath(),e.fillStyle=r,e.arc(l,s,2,0,2*Math.PI,!1),e.fill(),e.closePath()}}catch(e){i.e(e)}finally{i.f()}e.lineWidth=2,e.strokeStyle=r;for(var u=1;u<t.length;u++){var d=t[u-1],f=t[u];e.beginPath(),e.moveTo(d.x,d.yI),e.lineTo(f.x,f.yI),e.stroke(),e.closePath()}e.strokeStyle="#999999",e.lineWidth=.2;var m,p=za(t);try{for(p.s();!(m=p.n()).done;){var h=m.value,v=h.x,b=h.yI;e.beginPath(),e.moveTo(v,b),e.lineTo(v,n),e.stroke(),e.closePath()}}catch(e){p.e(e)}finally{p.f()}e.beginPath();var g=t[0],_=t[t.length-1];e.moveTo(g.x,g.yI);var y,O=za(t.slice(1));try{for(O.s();!(y=O.n()).done;){var j=y.value,w=j.x,E=j.yI;e.lineTo(w,E)}}catch(e){O.e(e)}finally{O.f()}e.lineTo(_.x,n),e.lineTo(g.x,n),e.moveTo(g.x,g.yI),e.fillStyle=Object(ka.a)(r,.1),e.fill(),e.closePath(),e.fillStyle="#999999";var k,D=za(t);try{for(D.s();!(k=D.n()).done;){var C=k.value,S=V.a.getWeekdayShort(C.date);e.fillText(Fa()(S),C.x-5,n+a-4)}}catch(e){D.e(e)}finally{D.f()}}},{key:"renderDataPointTooltip",value:function(){return this.points.map((function(e,t){var n=e.x,r=e.yI,a=e.karma,o={position:"absolute",width:"".concat(20,"px"),height:"".concat(20,"px"),marginLeft:"".concat(n-10,"px"),marginTop:"".concat(r-10,"px")};return f.a.createElement("div",{key:t,className:"fixed_pos",style:o,ref:function(e){IstTooltip.showSimpleText(e,a||"0",null,-5,2)}})}))}},{key:"render",value:function(){var e=this;return f.a.createElement("div",null,this.renderDataPointTooltip(),f.a.createElement("canvas",{ref:function(t){return e.canvas=t},width:this.props.width,height:this.props.height}))}}]),n}(f.a.PureComponent);l()($a,"propTypes",{trendData:Ie.a.arrayOf(Ie.a.shape({date:Ie.a.string,karma_avg:Ie.a.number})),colorHex:Ie.a.string,width:Ie.a.number,height:Ie.a.number,paddingTop:Ie.a.number,paddingBottom:Ie.a.number,paddingLeft:Ie.a.number,paddingRight:Ie.a.number}),l()($a,"defaultProps",{width:300,height:70,paddingTop:10,paddingBottom:15,paddingLeft:10,paddingRight:10});var Ha=$a,Ua=function(e){var t=e.level,n=e.color,r=e.width,a=Pe()(e,["level","color","width"]),o=r;return f.a.createElement("svg",Ce()({width:r,height:o,viewBox:"0 0 48 48"},a),f.a.createElement("defs",null,f.a.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"karma_gradient"},f.a.createElement("stop",{stopColor:n,stopOpacity:"0.7",offset:"0%"}),f.a.createElement("stop",{stopColor:n,offset:"100%"}))),f.a.createElement("g",{fill:"url(#karma_gradient)"},f.a.createElement("path",{d:qa(t)})))};function qa(e){switch(e){case 0:return"M24,35.5 C23.4922575,34.6160564 17.4279735,29.0769802 15.5491755,24.6276455 C15.2124383,23.6024532 15,22.6896523 15,21.9834087 C15,13.6034107 20.4495689,12.5 24,12.5 C27.5504311,12.5 33,13.6034107 33,21.9834087 C33,22.7071186 32.7747552,23.6510549 32.4199381,24.7142173 C30.5057337,29.1627926 24.5069892,34.622891 24,35.5 L24,35.5 Z";case 1:return"M24,8.5 C27.5504311,8.5 33,9.22138793 33,17.5745 C33,20.8006862 28.6608354,26.3696799 27.0133088,30.4156594 C24.3939901,36.8483505 24,39.5 24,39.5 C24,39.5 23.6029966,36.8286695 20.9866912,30.4156594 C19.3293714,26.3552975 15,20.8135546 15,17.5745 C15,9.22138793 20.4495689,8.5 24,8.5 L24,8.5 Z";case 2:return"M34.3341908,22.1449031 C34.3341908,30.6167582 25.25,37.5 25.25,37.5 L25.25,34.1295334 L25.25,18.0254439 C25.25,9.55283987 30.9014098,10.5347691 33.577238,10.5347691 C36.2523093,10.5347691 34.3341908,13.6730481 34.3341908,22.1449031 Z M14.6658092,22.1449031 C14.6658092,13.6730481 12.7476907,10.5347691 15.422762,10.5347691 C18.0985902,10.5347691 23.75,9.55283987 23.75,18.0254439 L23.75,34.1295334 L23.75,37.5 C23.75,37.5 14.6658092,30.6167582 14.6658092,22.1449031 Z";case 3:return"M11.2039067,9 C14.9126968,9 21.4,9.51672416 21.4,18.0003 L21.4,33.0003 L21.4,39 C21.4,39 12.2039067,29.4829759 12.2039067,21.00015 C12.2039067,12.5173241 9.49511662,9 12.2039067,9 Z M35.7960933,9 C38.5048834,9 35.7960933,12.5173241 35.7960933,21.00015 C35.7960933,29.4829759 26.6,39 26.6,39 L26.6,33.0003 L26.6,18.0003 C26.6,9.51672416 33.0873032,9 35.7960933,9 Z";case 4:return"M8.73765498,11.0652174 C11.3560232,11.0652174 20.952381,17.6768433 20.952381,26.2826087 L20.952381,41.5 C20.952381,41.5 12.8049045,40.0483335 11.7911456,23.2392826 C11.2728156,14.6494947 6.11928675,11.0652174 8.73765498,11.0652174 Z M39.2364976,11.0652174 C41.9171215,11.0652174 36.7196515,14.6494947 36.1894684,23.2392826 C35.1511932,40.0483335 27.047619,41.5 27.047619,41.5 L27.047619,26.2826087 C27.047619,17.6768433 36.5558736,11.0652174 39.2364976,11.0652174 Z M24,6.5 C25.1835937,6.5 27,6.9975096 27,10.7796525 C27,14.5617954 24,20.1956522 24,20.1956522 C24,20.1956522 21,14.5617954 21,10.7796525 C21,6.9975096 22.8164062,6.5 24,6.5 Z";case 5:return"M6,19.6363636 C12.5502577,19.6363636 18.4900102,25.0448977 20.694,31.2730389 C22.5754726,36.5892127 23.6326531,37.091013 23.6326531,37.091013 C23.6326531,37.091013 23.6326531,35.8183312 23.6326531,40 C18.7655089,40 13.9747698,37.0488327 11.8773061,31.2730389 C8.2759868,21.3533932 6,22.4900799 6,19.6363636 Z M24.0003646,8 C24.0003646,8 27.2843944,9.21376761 29.8334549,10.9089697 C31.4258885,11.9678347 32.75,13.8179394 32.75,13.8179394 C32.75,13.8179394 29.1940023,16.6076413 26.9169097,19.6366061 C24.8272051,22.4153994 24.0003646,25.4545455 24.0003646,25.4545455 C24.0003646,25.4545455 23.2464376,22.5128498 21.0838194,19.6366061 C18.8723491,16.6956377 15.25,13.8179394 15.25,13.8179394 C15.25,13.8179394 16.6156723,11.9401995 18.1672743,10.9089697 C20.7272718,9.20649518 24.0003646,8 24.0003646,8 Z M42,19.6363636 C42,22.8173409 39.7240132,21.3533932 36.1226939,31.2730389 C34.0252302,37.0488327 29.2344911,40 24.3673469,40 C24.3673469,35.8183312 24.3673469,37.091013 24.3673469,37.091013 C24.3673469,37.091013 25.4245274,36.5892127 27.306,31.2730389 C29.5099898,25.0448977 35.4497423,19.6363636 42,19.6363636 Z";case 6:return"M30.9866785,26.31856 C32.837713,23.4054756 34.6740291,20.8399049 35.9673256,19.4937112 C44.7374194,10.3631561 40.9311693,24.5778132 38.9839734,28.3050478 C35.4253273,35.1146488 25.6142613,39.9058175 24.0979394,40.6151368 C24.0993101,40.6463881 24.1000004,40.6767717 24.1000004,40.706272 C24.1000004,40.706272 24.0637515,40.6918003 23.9946652,40.6631075 C23.9325212,40.6917468 23.8999996,40.706272 23.8999996,40.706272 C23.8999996,40.6796963 23.9005913,40.6523374 23.9017671,40.6242081 C22.3844859,39.9841274 12.5746114,35.6300737 9.01629119,28.6310582 C7.06832754,24.8011907 3.26289798,10.1910951 12.0328822,19.5752138 C13.3493838,20.9837268 15.2285682,23.6081896 17.1131724,26.5614364 L13,16.556599 L21.0668622,24.8577897 C21.0668622,24.8577897 22.5334311,26.3670971 24,26.3670971 C25.4665689,26.3670971 26.9331378,24.8577897 26.9331378,24.8577897 L35,16.556599 L30.9866785,26.31856 Z M24,7.5 L31.5,11.9997188 L24,19.5 L16.5,11.9997188 L24,7.5 Z";case 7:return"M21.0001875,18.8888348 C21.0001875,18.8888348 22.5000937,20.3702066 24,20.3702066 C25.4999063,20.3702066 26.9998125,18.8888348 26.9998125,18.8888348 L36,9.99986364 L26.9998125,27.7770653 C26.9998125,27.7770653 25.4249109,29.9998636 24,29.9998636 C22.431848,29.9998636 21.0001875,27.7770653 21.0001875,27.7770653 L12,9.99986364 L21.0001875,18.8888348 Z M23.75,40 C23.75,40 12.4318815,35.5474524 8.5377368,27.9997955 C6.57317123,24.1937185 2.73530912,9.67437844 11.5800373,19.0002045 C15.3623775,22.9877733 23.75,36.7818963 23.75,40 Z M23.75,40.072485 C23.75,36.8543812 32.1376225,23.0602582 35.9199627,19.0726895 C44.7646909,9.7468634 40.9268288,24.2662034 38.9622632,28.0722804 C35.0681185,35.6199373 23.75,40.072485 23.75,40.072485 Z M30,9.99986364 L24,16.0003409 L18,9.99986364 L24,7 L30,9.99986364 Z"}}Ua.propTypes={level:Ie.a.number,color:Ie.a.string,width:Ie.a.oneOfType([Ie.a.number,Ie.a.string])};var Ga=Ua;function Wa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var Ka=function(e){ot()(n,e);var t=Wa(n);function n(e){var r;return x()(this,n),(r=t.call(this,e)).karmaTitles=[_x("karma","You are a <b>Beginner</b>"),_x("karma","You are a <b>Novice</b>"),_x("karma","You are an <b>Intermediate</b>"),_x("karma","You are a <b>Professional</b>"),_x("karma","You are an <b>Expert</b>"),_x("karma","You are a <b>Master</b>"),_x("karma","You are a <b>Grand Master</b>"),_x("karma","You are <b>Enlightened</b>")],r}return N()(n,[{key:"render",value:function(){var e=this.props,t=e.karma,n=e.theme,r=e.trendData,a=e.disableAnimation,o=Object(Ia.i)(n);n!==Ia.h&&n!==Ia.f||(o=Object(Ia.i)(Ia.g)),n===Ia.d&&(o=Ia.b);var i=n===Ia.d?"#3e3e3e":"#E6E6E6",c=Object(ga.e)(t),l=this.karmaTitles[c],s=null,u=1;if(!(c==ga.d.length-1)){var d=ga.d[c],m=ga.d[c+1];u=(t-d)/(m-d);var p=m-t;_("{karma_num} left to get to {karma_level}");var h=_n("{karma_num} point required for next level","{karma_num} points required for next level",p);s=f.a.createElement("p",null,Object(Xr.a)(h,{karma_num:p}))}return f.a.createElement("div",null,f.a.createElement("div",{className:"section_progress"},f.a.createElement(ba,{className:"pie_chart",width:72,color:o,strokeColor:i,progress:u,disableAnimation:a,animationStart:500,animationDuration:1200},f.a.createElement(Ga,{level:c,color:o,width:45})),f.a.createElement("h4",null,f.a.createElement("span",{dangerouslySetInnerHTML:{__html:l}})," (".concat(t,")")),s,f.a.createElement("a",{className:"edit_link","data-track":"karma|tab_karma_about_levels",onClick:this.props.onKarmaInfoClick},_("About Karma Levels"))),f.a.createElement("div",{className:"section_completebar"},f.a.createElement("h6",{className:"section_title"},_("Karma trend")),f.a.createElement(Ha,{trendData:r,colorHex:o,width:280})))}}]),n}(f.a.PureComponent);l()(Ka,"propTypes",{color:Ie.a.string,karma:Ie.a.number,trendData:Ie.a.arrayOf(Ie.a.shape({date:Ie.a.string,karma_avg:Ie.a.number})),onKarmaInfoClick:Ie.a.func,disableAnimation:Ie.a.bool,theme:Ie.a.number}),l()(Ka,"defaultProps",{disableAnimation:!1});var Ya=n("1zEf");function Ja(e){var t=e.color,n=_("Weekly goals and streaks are Premium features. <a>Learn more</a>").replace("<a>",'<a href="'.concat(Ya.i,'" target="_blank" rel="noopener noreferrer">'));return f.a.createElement("div",null,f.a.createElement("div",{className:"goal_status section_progress",style:{border:0}},f.a.createElement(ba,{className:"pie_chart",width:72,iconType:"trophy",color:t,disableAnimation:!0,progress:0},f.a.createElement(xa,{width:45})),f.a.createElement("h4",{style:{marginTop:"1em"},dangerouslySetInnerHTML:{__html:n}})))}Ja.propTypes={color:Ie.a.string};n("R7S2");function Qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var eo=function(e){ot()(n,e);var t=Xa(n);function n(e){var r;return x()(this,n),(r=t.call(this,e)).state={current:"daily",shown:{}},r.onTabChange=r.onTabChange.bind(rt()(r)),r}return N()(n,[{key:"onTabChange",value:function(e){var t=this.state,n=t.shown,r=t.current;this.setState({shown:Za(l()({},r,!0),n),current:e})}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.hideKarma,r=e.theme,a=e.canAccessWeeklyTrends,o=e.onClose,i=e.canViewCompletedTasks,c=e.onPreventCompletedTasksView,l=this.props.stat.goals,s=l.daily_goal,u=l.current_daily_streak,d=l.max_daily_streak,m=l.weekly_goal,p=l.current_weekly_streak,h=l.max_weekly_streak,v=this.props.stat,b=v.karma,g=v.days_items,y=v.week_items,O=v.project_colors,j=v.karma_graph_data,w=v.completed_count,E=Object(Xr.a)(_n("{count_num} completed task","{count_num} completed tasks",w),{count_num:w}),k=this.state.shown;return f.a.createElement("div",{className:"completed_quick_viz",style:{width:"".concat(this.props.width,"px")}},f.a.createElement("div",{className:"total_stat"},f.a.createElement("span",null,E),i?f.a.createElement(Xe.a,{view:{type:"activity"},search:"?eventType=".concat(encodeURIComponent("item:completed"),"&userId=").concat(t.id),"data-track":"karma|view_completed_tasks",onClick:o},_("View all completed tasks")):f.a.createElement("button",{className:"productivity_stat__completed_tasks_button","data-track":"karma|view_completed_tasks",onClick:c},_("View all completed tasks"))),f.a.createElement(Zr.b,{onChange:this.onTabChange},f.a.createElement(Zr.a,{value:"daily",title:_x("stat","Daily"),track:"karma|tab_daily"},f.a.createElement(Aa,{width:this.props.width,userName:t.full_name,daysItems:g,maxStreak:d,projectColors:O,completed:this.props.completedToday,goal:s,currentStreak:u,theme:r,disableAnimation:k.daily,onEditGoalClick:this.props.onSettingEditClick})),f.a.createElement(Zr.a,{value:"weekly",title:_x("stat","Weekly"),track:"karma|tab_weekly"},a?f.a.createElement(Ra,{width:this.props.width,userName:t.full_name,weekItems:y,maxStreak:h,projectColors:O,completed:this.props.completedThisWeek,goal:m,currentStreak:p,theme:r,disableAnimation:k.weekly,onEditGoalClick:this.props.onSettingEditClick}):f.a.createElement(Ja,null)),n?null:f.a.createElement(Zr.a,{value:"karma",title:_x("stat","Karma"),track:"karma|tab_karma"},f.a.createElement(Ka,{karma:b,theme:r,trendData:j,disableAnimation:k.karma,onKarmaInfoClick:this.props.onKarmaInfoClick}))),f.a.createElement("div",{className:"section_setting_link"},f.a.createElement("a",{"data-track":"karma|karma_goals_and_settings",onClick:this.props.onSettingEditClick},_("Karma Goals and Settings"))))}}]),n}(f.a.PureComponent);l()(eo,"propTypes",{stat:Ie.a.object.isRequired,completedToday:Ie.a.number.isRequired,completedThisWeek:Ie.a.number.isRequired,onClose:Ie.a.func.isRequired,user:Ie.a.object.isRequired,onKarmaInfoClick:Ie.a.func,onSettingEditClick:Ie.a.func,canViewCompletedTasks:Ie.a.bool,onPreventCompletedTasksView:Ie.a.func,canAccessWeeklyTrends:Ie.a.bool,hideKarma:Ie.a.bool,theme:Ie.a.number,width:Ie.a.number}),l()(eo,"defaultProps",{width:300,canAccessWeeklyTrends:!1,theme:0,hideKarma:!1});var to=n("TcCo"),no=n("SgJ6"),ro=n("A5ZW"),ao=Qr()(0,"completed_count"),oo=Qr()(0,"days_items[0].total_completed"),io=Qr()(0,"week_items[0].total_completed");function co(e){var t=e.onClose,n=function(){var e=Object(d.useState)(null),t=S()(e,2),n=t[0],r=t[1],a=Object(d.useState)(null),o=S()(a,2),i=o[0],c=o[1],l=Object(O.g)(),s=Object(d.useRef)();return s.current||(s.current=l(Object(Yr.e)()).then(r).catch(c)),[!n&&!i,n,i]}(),r=S()(n,3),a=r[0],o=r[1],i=r[2],c=Object(O.h)((function(e){return{canViewCompletedTasks:Object(Qt.b)(e),canAccessWeeklyTrends:Object(Qt.c)(e),theme:Object(no.c)(e),hideKarma:!!e.user.karma_disabled,user:e.user}}));function l(){t(),ue.a.showPrefs("karma")}if(a)return f.a.createElement("div",{className:"status_loading"},f.a.createElement(to.b,null));if(i)return f.a.createElement("div",{className:"status_error"},f.a.createElement("p",null,_("Productivity report requires an Internet connection")),f.a.createElement("p",null,_("Please check your connection and try again")));var s=ao(o),u=oo(o),m=io(o);return 0===s?f.a.createElement(ro.a,{onButtonClick:l}):f.a.createElement(eo,Ce()({},c,{stat:o,width:300,completedToday:u,completedThisWeek:m,onSettingEditClick:l,onKarmaInfoClick:ue.a.showKarmaInfo,onPreventCompletedTasksView:Dn.c,onClose:t}))}function lo(e){var t=e.anchor,n=e.onClose;return f.a.createElement(We.c,{withArrow:!1,isShown:!0,referenceElement:t,onClose:n,position:"bottom",offset:[-50,0],zIndex:1e4},f.a.createElement("div",{className:"productivity_stat_popper"},f.a.createElement("header",null,f.a.createElement("h1",null,_("Your Productivity"))),f.a.createElement("div",{className:"productivity_stat_popper__content"},f.a.createElement(co,{onClose:n}))))}co.propTypes={onClose:Ie.a.func.isRequired},lo.propTypes={anchor:Ie.a.instanceOf(HTMLElement),onClose:Ie.a.func.isRequired};var so=n("Yq95");function uo(e){var t=e.vacationMode,n=e.completed,r=e.goal,a=Math.min(n/r,1),o=Object(d.useState)(!1),i=S()(o,2),c=i[0],l=i[1],s=Object(d.useRef)(),u=Object(xr.c)();Object(d.useEffect)((function(){function e(){l(!0)}return Signals.connect("productivity_stat_show",e),function(){return Signals.disconnect("productivity_stat_show",e)}}),[]);var m=Object(d.useCallback)((function(){l((function(e){return!e}))}),[]);return Object(d.useEffect)((function(){var e;if(null==u||null===(e=u.globalContext)||void 0===e?void 0:e.setOpenProductivity)return u.globalContext.setOpenProductivity((function(){return m})),function(){var e,t;null==u||null===(e=u.globalContext)||void 0===e||null===(t=e.setOpenProductivity)||void 0===t||t.call(e,null)}}),[u,m]),f.a.createElement(f.a.Fragment,null,f.a.createElement(et.a,{"aria-label":Object(Ye.a)("Productivity"),id:"top_completed_holder",className:Ae()("completed_pie_stat","top_bar_btn",{top_completed_holder_open:c}),"data-track":"navigation|karma",onClick:m,ref:s},f.a.createElement(so.a,{vacationMode:t,progress:a,outline:!0}),0===r?null:f.a.createElement("span",{className:"count"},n,"/",r)),c?f.a.createElement(lo,{anchor:s.current,onClose:function(){return l(!1)}}):null)}uo.propTypes={vacationMode:Ie.a.bool,completed:Ie.a.number,goal:Ie.a.number,theme:Ie.a.number};var fo=Object(O.c)((function(e){var t=e.stats,n=e.user;return t&&n?{vacationMode:n.features.karma_vacation,goal:Object(Yr.c)(e),completed:Object(Yr.b)(e)}:{}}))(uo),mo=n("VNU/"),po=n("KpGl"),ho=n("4rNB"),vo=n("crsb"),bo=n("/gRr"),go=n("Ymoq"),_o=(n("3ROq"),n("bzl5")),yo=n("vzVa"),Oo=d.createContext({searches:[],locations:[],add:function(){},remove:function(){},removeAll:function(){}});function jo(e,t){var n="query"===t.type?5:3,r=e.filter((function(e){return e.id!==t.id}));return r.unshift(t),r.length>n&&r.pop(),r}function wo(e,t){return e.filter((function(e){var n=e.type,r=e.id;return n!==t.type||r!==t.id}))}function Eo(e){var t=e.children,n=Object(_o.a)("recentSearches",[]),r=S()(n,2),a=r[0],o=r[1],i=Object(_o.a)("recentLocations",[]),c=S()(i,2),l=c[0],s=c[1],u=Object(Xe.g)(),f=d.useMemo((function(){return function(e){var t;if(!e)return null;if("task"===(null===(t=e.subRoute)||void 0===t?void 0:t.type))return{type:"task",id:e.subRoute.taskId};switch(e.type){case"project":return{type:"project",id:e.projectId};case"label":return{type:"label",id:e.labelName};case"filter":return{type:"filter",id:e.filterId};case"search":return{type:"query",id:e.searchQuery};case"today":case"upcoming":return{type:"view",id:e.type}}return null}(u)}),[u]),m=Object(yo.a)(f);d.useEffect((function(){!m||(null==f?void 0:f.type)===m.type&&(null==f?void 0:f.id)===m.id||("query"===m.type?o((function(e){return jo(e,m)})):s((function(e){return jo(e,m)})))}),[f,m,s,o]);var p=d.useMemo((function(){return{searches:a,locations:l,add:function(e){"query"===e.type?o(jo(a,e)):s(jo(l,e))},remove:function(e){"query"===e.type?o(wo(a,e)):s(wo(l,e))},removeAll:function(e){"searches"===e?o([]):s([])}}}),[a,l,o,s]);return d.createElement(Oo.Provider,{value:p},t)}function ko(){return d.useContext(Oo)}var Do=n("xweI"),Co=n.n(Do),So=n("gmEJ"),Io=n("TQFH");function To(e,t){if(0===(e=e.trim()).length)return{highlightText:"",results:[]};var n=[],r=[],a=[],o=[],i=[],c=[],l=!1;return(e.startsWith(Re.o)||e.startsWith(Re.p))&&(l=!0,n=1===e.length?Object(At.l)(t):Object(At.o)(e.substr(1),t)),e.startsWith(Re.r)&&(l=!0,r=1===e.length?Object.values(t.sections):Object(So.h)(e.substr(1),t)),(e.startsWith(Re.e)||e.startsWith(Re.f))&&(l=!0,o=1===e.length?Object(Yt.e)(t):Object(Yt.l)(t,e.substr(1))),l||(n=Object(At.o)(e,t),r=Object(So.h)(e,t),o=Object(Yt.l)(t,e),a=Object(Jt.e)(t,e),i=Object(Io.x)(e)(t),c=function(e){var t=[],n=Object(Ye.a)("Today");n.toLowerCase().includes(e)&&t.push({type:"view",id:"today",name:n});var r=Object(Ye.a)("Upcoming");return r.toLowerCase().includes(e)&&t.push({type:"view",id:"upcoming",name:r}),t}(e)),!l&&n.length+r.length+o.length+a.length+i.length>10&&(n=n.slice(0,3),r=r.slice(0,3),o=o.slice(0,3),i=i.slice(0,3),a=a.slice(0,3)),{highlightText:l?e.substr(1):e,results:[].concat(xn()(Co()(n,"child_order").map((function(e){return{type:"project",id:e.id,project:e,parent:Object(At.n)(t,e.parent_id),isShared:Object(mn.m)(t,e.id)}}))),xn()(Co()(r,"section_order").map((function(e){return{type:"section",id:e.id,section:e,project:Object(At.n)(t,e.project_id)}}))),xn()(Co()(o,"item_order").map((function(e){return{type:"label",id:e.name,label:e}}))),xn()(i.map((function(e){return{type:"task",id:e.id,task:e,project:Object(At.n)(t,e.project_id),isShared:Object(mn.m)(t,e.project_id)}}))),xn()(Co()(a,"item_order").map((function(e){return{type:"filter",id:e.id,filter:e}}))),xn()(c))}}var Ao=n("s2m+"),xo=n("L8gx"),Po={only_text:!0,as_html:!1,with_links:!0,with_email:!0};function Ro(e){return xo.a.format(e,Po).replace(/^\*\s+/g,"")}var No=n("xKYe"),Lo=n("5IEK"),Mo=n("t6YY"),Fo=n("ysgU"),zo=n("Q05W");function Bo(e){return{color:Ue.g("filter",e)}}function Vo(e){var t=e.annotateSearchResult,n=e.onSearchResultSelected,r=ko(),a=r.searches,o=r.locations,i=r.remove,c=r.removeAll,l=Object(go.f)().setInputValue;return d.createElement(d.Fragment,null,a.length>0?d.createElement("div",{role:"group","aria-labelledby":"quick-find-recent-searches-header"},d.createElement("h3",{role:"presentation"},d.createElement("span",{id:"quick-find-recent-searches-header"},Object(Ye.a)("Recent searches")),d.createElement("button",{tabIndex:-1,onClick:function(e){c("searches"),e.stopPropagation()}},Object(Ye.a)("Clear"))),a.map((function(e,t){return d.createElement(go.c,{key:"recent-searches-".concat(e.id,"-").concat(t),value:"recent-searches-".concat(e.id,"-").concat(t),onClick:function(t){t.preventDefault(),l(e.id)}},d.createElement(Fo.a,{className:"quick_find__recent_search_icon"}),d.createElement("span",null,e.id),d.createElement("button",{tabIndex:-1,onClick:function(t){i(e),t.stopPropagation()}},d.createElement(Mo.a,null)))}))):null,o.length>0?d.createElement("div",{role:"group","aria-labelledby":"quick-find-recently-visited-header"},d.createElement("h3",{role:"presentation",id:"quick-find-recently-visited-header"},Object(Ye.a)("Recently viewed")),o.map(t).map((function(e){return e?d.createElement(go.c,{key:"location-".concat(e.type,"-").concat(e.id),value:"location-".concat(e.type,"-").concat(e.id),onClick:function(){return n(e)}},d.createElement($o,{result:e})):null}))):null)}function $o(e){var t=e.result,n=e.highlightText;switch(t.type){case"project":var r=t.project,a=t.parent,o=t.isShared;return d.createElement(d.Fragment,null,d.createElement(qe.a,{"aria-hidden":!0,size:"medium",project:r,isShared:o}),d.createElement("span",{"aria-hidden":!0},d.createElement(go.d,{text:r.name,highlightText:n}),null!=a?d.createElement("em",null,a.name):null),d.createElement(Ao.a,null,Object(Ye.a)("Project"),": ",r.name,".",null!=a?d.createElement(d.Fragment,null," ",Object(Ye.a)("Parent project"),": ",a.name):null));case"section":var i=t.section,c=t.project;return d.createElement(d.Fragment,null,d.createElement(zo.a,{"aria-hidden":!0}),d.createElement("span",{"aria-hidden":!0},d.createElement(go.d,{text:i.name,highlightText:n}),null!=c?d.createElement("em",null,c.name):null),d.createElement(Ao.a,null,Object(Ye.a)("Section"),": ",i.name,".",d.createElement("br",null),null!=c?d.createElement(d.Fragment,null," ",Object(Ye.a)("Project"),": ",c.name,"."):null));case"label":var l=t.label;return d.createElement(d.Fragment,null,d.createElement(Lo.a,{"aria-hidden":!0,style:Bo(l.color)}),d.createElement("span",{"aria-hidden":!0},d.createElement(go.d,{text:l.name,highlightText:n})),d.createElement(Ao.a,null,Object(Ye.a)("Label"),": ",l.name,"."));case"filter":var s=t.filter;return d.createElement(d.Fragment,null,d.createElement(No.a,{"aria-hidden":!0,style:Bo(s.color)}),d.createElement("span",{"aria-hidden":!0},d.createElement(go.d,{text:s.name,highlightText:n})),d.createElement(Ao.a,null,Object(Ye.a)("Filter"),": ",s.name,"."));case"task":var u,f=t.task,m=t.project,p=t.isShared,h=(null===(u=f.description)||void 0===u?void 0:u.length)>0,v=Ro(f.content),b=Ro(f.description),g=Ae()("quick_find__search_result",{with_description:h});return d.createElement(d.Fragment,null,d.createElement("div",{className:"quick_find__task_icon","aria-hidden":!0},d.createElement("div",null)),d.createElement("div",{className:g,"aria-hidden":!0},d.createElement("div",{className:"quick_find__search_result--left"},d.createElement(go.d,{className:"quick_find__search_result--content",text:v,highlightText:n}),h?d.createElement(go.d,{className:"quick_find__search_result--description",text:b,highlightText:n}):null),m?d.createElement("div",{className:"quick_find__search_result--right"},d.createElement("div",{className:"quick_find__search_result--project"},m.name),d.createElement(qe.a,{size:"small",project:m,isShared:p,isOutline:Object(ee.d)("frontend.non_project_boards")})):null),d.createElement(Ao.a,null,d.createElement(d.Fragment,null,Object(Ye.a)("Task name"),": ",v,".",h?d.createElement(d.Fragment,null," ",Object(Ye.a)("Task description"),": ",b,"."):null,m?d.createElement(d.Fragment,null," ",Object(Ye.a)("Project"),": ",m.name,"."):null)));case"query":return d.createElement("span",null,d.createElement(go.d,{text:t.id}))}return d.createElement(d.Fragment,null,"today"===t.id?d.createElement(Ve.a,{className:"quick_find__today_icon","aria-hidden":!0}):d.createElement(Le.a,{className:"quick_find__upcoming_view_icon","aria-hidden":!0}),d.createElement("span",{"aria-hidden":!0},d.createElement(go.d,{text:t.name,highlightText:n})),d.createElement(Ao.a,null,t.name))}var Ho=Object(O.c)((function(e){return{getSearchResults:function(t){return To(t,e)},annotateSearchResult:function(t){return function(e,t){var n=e.type,r=e.id;switch(n){case"query":return{type:n,id:String(r)};case"view":return{type:n,id:"today"===r?"today":"upcoming",name:"today"===r?Object(Ye.a)("Today"):Object(Ye.a)("Upcoming")};case"project":var a=Object(At.n)(t,r);return a?{type:n,id:r,project:a,parent:Object(At.n)(t,a.parent_id),isShared:Object(mn.m)(t,a.id)}:null;case"label":var o=Object(Yt.j)(r,t);return o?{type:n,id:r,label:o}:null;case"filter":var i=Object(Jt.d)(t,r);return i?{type:n,id:r,filter:i}:null;case"section":var c=t.sections[r];return c?{type:n,id:r,section:c,project:Object(At.n)(t,c.project_id)}:null;case"task":var l=Object(Io.u)(t,r);return l?{type:n,id:r,task:l,project:Object(At.n)(t,l.project_id),isShared:Object(mn.m)(t,l.project_id)}:null}return null}(t,e)}}}))((function(e){var t=e.onSearchResultSelected,n=e.getSearchResults,r=e.annotateSearchResult,a=Object(go.f)().inputValue.trim();if(0===a.length)return d.createElement(Vo,{annotateSearchResult:r,onSearchResultSelected:t});var o=n(a),i=o.results,c=o.highlightText;return d.createElement(d.Fragment,null,i.map((function(e,n){return d.createElement(go.c,{key:"".concat(n,"-").concat(e.type,"-").concat(e.id),value:"".concat(e.type,"-").concat(e.id),onClick:function(){return t(e)}},d.createElement($o,{result:e,highlightText:c}))})),d.createElement(go.c,{value:"quick-find-show-more",className:"quick_find__show_more",onClick:function(){return t({type:"query",id:a})}},_("Show more results")))})),Uo=["/","f","\u0430"];function qo(e){var t,n=e.isActive,r=e.onActiveChange,a=Object(go.g)({gutter:4}),o=a.setInputValue,i=a.hide,c=a.inputValue.trim(),l=d.useRef(null),s=ko().add,u=Object(Xe.g)(),f=null!=(null==u||null===(t=u.subRoute)||void 0===t?void 0:t.type);Object(Ar.g)(Uo,d.useCallback((function(e){Object(ee.d)("frontend.new_keyboard_shortcuts")||f||!l.current||(e.preventDefault(),l.current.focus(),l.current.select())}),[f])),a.unstable_referenceRef.current=l.current,d.useEffect((function(){if(!n){var e=setTimeout((function(){o(""),i()}),0);return function(){clearTimeout(e)}}}),[n,o,i]),d.useEffect((function(){if(n)return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)};function e(){var e;null===(e=l.current)||void 0===e||e.blur(),r(!1)}}),[n,r]);var m=Object(j.j)();function p(e){var t;null===(t=l.current)||void 0===t||t.blur(),r(!1);var n=function(e,t){switch(e.type){case"view":return Object(Xe.d)({type:e.id});case"project":return Object(Xe.d)({type:"project",projectId:e.project.id});case"label":return Object(Xe.d)({type:"label",labelName:e.label.name});case"query":return Object(Xe.d)({type:"search",searchQuery:e.id});case"filter":return Object(Xe.d)({type:"filter",filterId:e.filter.id});case"task":var n=e.task;return Object(Xe.d)(t,{id:n.id});case"section":var r=e.section,a=e.project;return a?{pathname:Object(Xe.d)({type:"project",projectId:a.id}),hash:"#section-".concat(r.id)}:(Object(Z.captureInfoLog)("Found a section with a project_id that could not be found",{sectionId:r.id,projectId:r.project_id}),null)}}(e,u);n&&m(n),c.length>0&&setTimeout((function(){s({type:"query",id:c})}),0)}var h=Object(d.useCallback)((function(){var e;r(!0),null===(e=l.current)||void 0===e||e.focus()}),[l,r]),v=Object(xr.c)();return Object(d.useEffect)((function(){var e,t;if((null==v||null===(e=v.globalContext)||void 0===e?void 0:e.setActivateQuickFindInput)&&(null==v||null===(t=v.globalContext)||void 0===t?void 0:t.setQuickFindInputValue))return v.globalContext.setActivateQuickFindInput((function(){return h})),v.globalContext.setQuickFindInputValue((function(){return o})),function(){var e,t,n,r;null==v||null===(e=v.globalContext)||void 0===e||null===(t=e.setActivateQuickFindInput)||void 0===t||t.call(e,null),null==v||null===(n=v.globalContext)||void 0===n||null===(r=n.setQuickFindInputValue)||void 0===r||r.call(n,null)}}),[h,v,o]),d.createElement("div",{id:"quick_find","data-testid":"quick_find_container",className:n?"active":void 0,onFocus:function(){return r(!0)},onBlur:function(e){var t=e.currentTarget;(null==e.relatedTarget||!t.contains(e.relatedTarget))&&r(!1)}},d.createElement(go.a,{state:a},d.createElement(Ne.Vb,{"aria-hidden":!0,className:"search_icon"}),d.createElement(go.b,{ref:l,className:"quick_find__input",onKeyDown:function(e){var t;"Escape"===Object(bo.a)(e)&&(null===(t=l.current)||void 0===t||t.blur(),r(!1))},onKeyPress:function(e){"Enter"===Object(bo.a)(e)&&c.length>0&&p({type:"query",id:c})},onFocus:function(){return a.show()},placeholder:Object(Ye.a)("Search"),"aria-label":Object(Ye.a)("Quick search"),"aria-keyshortcuts":"f"}),d.createElement(go.e,{"aria-label":Object(Ye.a)("Quick search results")},d.createElement(Ho,{onSearchResultSelected:p})),d.createElement(ho.a,{content:Object(Ye.a)("How to use search")},d.createElement("a",{"aria-label":Object(Ye.a)("How to use search"),href:Ya.g,rel:"noopener noreferrer",target:"_blank",className:"help_icon"},d.createElement(Ne.Q,{"aria-hidden":!0}))),d.createElement("button",{className:"close_icon","aria-label":Object(Ye.a)("Close Search"),onClick:function(){return r(!1)}},d.createElement(Ne.x,{"aria-hidden":!0,small:!0,className:""})),n?null:d.createElement(ho.a,{content:d.createElement(d.Fragment,null,Object(Ye.a)("Quick search"),d.createElement(vo.a,null,"f"))},d.createElement("button",{className:"shortcut_hint",onClick:h,"aria-label":Object(Ye.a)("Quick search"),"aria-keyshortcuts":"f"},"f"))))}function Go(e){var t=e.isActive,n=e.onActiveChange;return d.createElement(Eo,null,d.createElement(qo,{isActive:t,onActiveChange:n}))}function Wo(){var e=Object(O.g)();return f.a.createElement(et.a,{id:"quick_add_task_holder",className:"top_bar_btn",onClick:function(){e(Object(I.d)({type:I.a.QUICK_ADD}))},title:Object(Ye.a)("Quick Add Task"),shortcut:"q","data-track":"navigation|quick_add","aria-label":Object(Ye.a)("Quick Add")},f.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},f.a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(4 3)"},f.a.createElement("mask",{id:"jd4FBg",fill:"#fff"},f.a.createElement("path",{d:"M9 8h7a.5.5 0 1 1 0 1H9v7a.5.5 0 1 1-1 0V9H1a.5.5 0 0 1 0-1h7V1a.5.5 0 0 1 1 0v7z"})),f.a.createElement("g",{mask:"url(#jd4FBg)"},f.a.createElement("path",{fill:"currentColor",d:"M-4-3h24v24H-4z"})))))}var Ko=n("RsDw"),Yo=n("lrs5"),Jo=n("jVEK"),Qo=n("nyrj"),Zo=n("7ptE");function Xo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var ei=function(e){ot()(n,e);var t=Xo(n);function n(){var e;x()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),l()(rt()(e),"layer",null),e}return N()(n,[{key:"componentDidMount",value:function(){p.a.createPortal||this.renderLayer()}},{key:"componentDidUpdate",value:function(){p.a.createPortal||this.renderLayer()}},{key:"componentWillUnmount",value:function(){this.unrenderLayer()}},{key:"getLayer",value:function(){return this.layer||(this.layer=document.createElement("div"),this.layer.setAttribute("data-mui-portal","true"),document.body&&this.layer&&document.body.appendChild(this.layer),this.props.className&&(this.layer.className=this.props.className)),this.layer}},{key:"unrenderLayer",value:function(){this.layer&&(p.a.createPortal||p.a.unmountComponentAtNode(this.layer),document.body&&document.body.removeChild(this.layer),this.layer=null)}},{key:"renderLayer",value:function(){var e=this.props,t=e.children;if(e.open){var n=f.a.Children.only(t);p.a.unstable_renderSubtreeIntoContainer(this,n,this.getLayer())}else this.unrenderLayer()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.open;if(!p.a.createPortal)return null;if(n){var r=this.getLayer();return p.a.createPortal(t,r)}return this.unrenderLayer(),null}}]),n}(f.a.Component);ei.propTypes={children:Ie.a.node,open:Ie.a.bool,className:Ie.a.string},ei.defaultProps={open:!1};var ti=ei;function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ai(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var oi={transition:"all ".concat(300,"ms ease-out"),top:"-10px",opacity:0},ii={entering:{top:"20px",opacity:0},entered:{top:"50px",opacity:1}},ci=function(e){ot()(n,e);var t=ai(n);function n(e){var r;return x()(this,n),r=t.call(this,e),l()(rt()(r),"timerAutoHide",null),l()(rt()(r),"handleTransitionExited",(function(){r.setState({exited:!0})})),l()(rt()(r),"handleMouseEnter",(function(e){r.props.onMouseEnter&&r.props.onMouseEnter(e),r.handlePause()})),l()(rt()(r),"handleMouseLeave",(function(e){r.props.onMouseLeave&&r.props.onMouseLeave(e),r.handleResume()})),l()(rt()(r),"handlePause",(function(){clearTimeout(r.timerAutoHide)})),l()(rt()(r),"handleResume",(function(){if(null!=r.props.autoHideDuration){if(void 0!==r.props.resumeHideDuration)return void r.setAutoHideTimer(r.props.resumeHideDuration);r.setAutoHideTimer(.5*(r.props.autoHideDuration||0))}})),l()(rt()(r),"handleCloseClick",(function(e){r.props.onClose&&(r.props.onClose(e,"clickicon"),e.stopPropagation())})),r.state={exited:!1},r}return N()(n,[{key:"UNSAFE_componentWillMount",value:function(){this.props.open||this.setState({exited:!0})}},{key:"componentDidMount",value:function(){this.props.open&&this.setAutoHideTimer()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.open&&this.state.exited&&this.setState({exited:!1})}},{key:"componentDidUpdate",value:function(e){e.open!==this.props.open&&(this.props.open?this.setAutoHideTimer():clearTimeout(this.timerAutoHide))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerAutoHide)}},{key:"setAutoHideTimer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.props.onClose&&null!=this.props.autoHideDuration&&(clearTimeout(this.timerAutoHide),this.timerAutoHide=setTimeout((function(){e.props.onClose&&null!=e.props.autoHideDuration&&e.props.onClose(null,"timeout")}),t||this.props.autoHideDuration||0))}},{key:"render",value:function(){var e=this,t=this.props,n=t.open,r=(t.autoHideDuration,Pe()(t,["open","autoHideDuration"]));if(!n&&this.state.exited)return null;var a={in:n,appear:!0,timeout:300,onExited:this.handleTransitionExited};return f.a.createElement(ti,{open:!0},f.a.createElement(ut.a,a,(function(t){return f.a.createElement("div",Ce()({onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,className:"top_notifier",style:ri(ri({},oi),ii[t])},r),f.a.createElement(Mo.a,{small:!0,onClick:e.handleCloseClick}),e.props.children)})))}}]),n}(f.a.Component);l()(ci,"propTypes",{open:Ie.a.bool,autoHideDuration:Ie.a.number,resumeHideDuration:Ie.a.number,onClose:Ie.a.func,onMouseEnter:Ie.a.func,onMouseLeave:Ie.a.func,children:Ie.a.node}),l()(ci,"defaultProps",{autoHideDuration:null});var li=n("g2hZ"),si="/app/service-worker.js";function ui(e){if(e){var t=new MessageChannel;t.port1.onmessage=function(e){if("UPDATE_VERSION"===e.data.type){var t=e.data.value;t>D.a.version&&k.default.dispatch(Object(li.c)(t))}},e.postMessage({type:"GET_UPDATE_VERSION",version:D.a.version},[t.port2])}}var di={loadNewVersion:function(){navigator.serviceWorker.addEventListener("controllerchange",(function(){window.location.reload(!0)})),navigator.serviceWorker.getRegistration(si).then((function(e){(null==e?void 0:e.waiting)?e.waiting.postMessage({type:"SKIP_WAITING"}):!(null==e?void 0:e.active)&&e||window.location.reload(!0)})).catch((function(e){Z.default.captureError(e)}))},setServiceWorker:function(){var e=i()(a.a.mark((function e(){var t,n,r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(t=navigator.userAgent.match(/(Chrome\/)([5-9]\d|\d{3,}\.)*.*/)||[],n=S()(t,3),r=n[1],o=n[2],"serviceWorker"in navigator&&(!r||Boolean(o))){e.next=8;break}return(i=Object(g.a)("app-version").get())?D.a.version>i&&(k.default.dispatch(Object(li.c)(D.a.version)),Object(g.a)("app-version").set(D.a.version)):Object(g.a)("app-version").set(D.a.version),e.abrupt("return",Promise.resolve());case 8:return e.abrupt("return",navigator.serviceWorker.getRegistration(si).then((function(e){return navigator.serviceWorker.register(si).then((function(t){return ui(t.waiting||t.active),t.addEventListener("updatefound",(function(){var e=t.installing;t.installing.addEventListener("statechange",(function(){switch(e.state){case"installed":ui(e)}}))})),navigator.serviceWorker.ready.then((function(){if(!e)return new Promise((function(e){navigator.serviceWorker.addEventListener("controllerchange",(function t(){navigator.serviceWorker.removeEventListener("controllerchange",t),e()}))}))}))})).catch((function(e){Z.default.captureError(e)}))})));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},fi=n("UrQx"),mi=n.n(fi);var pi=Object(O.c)((function(e){return{isNewVersionAvailable:Boolean(Object(li.b)(e))}}))((function(e){return e.isNewVersionAvailable?f.a.createElement(f.a.Fragment,null,"serviceWorker"in navigator?f.a.createElement(Ko.c,{className:mi.a.menuItem,onSelect:di.loadNewVersion},Object(Ye.a)("New version available")):f.a.createElement(Ko.c,{className:mi.a.menuItem,onSelect:function(){return window.location.reload()}},Object(Ye.a)("New version available")),f.a.createElement("hr",null)):null})),hi=(n("WMFH"),{isSupported:function(){var e=window.location.host;return"chrome.todoist.com"===e||"firefox.todoist.com"===e||top!=window},launch:function(){return hi._popout("".concat(window.location),"Todoist",500,560),!1},_popout:function(e,t,n,r){var a=screen.width/2-n/2,o=screen.height/2-r/2;return window.open("/app?mini=2",t,"toolbar=no, scrollbars=yes, width=".concat(n,", height=").concat(r,", top=").concat(o,", left=").concat(a))}});window.Popout=hi;var vi=hi;n("2Sab");function bi(e){navigator.onLine||(e.preventDefault(),alert(Object(Ye.a)("You appear to be offline or Todoist is down. This action requires that you are online. Please try again later.")))}var gi=Object(O.c)((function(e){return{user:Object(Jo.i)(e)}}))((function(e){var t=e.user,n=Object(d.useRef)(null),r=Object(d.useRef)(null),a=Object(d.useRef)(null),o=Object(d.useRef)(null),i=vi.isSupported(),c=t.is_biz_admin,l=t.is_premium,s=X.l&&X.o,u=!X.p&&!s&&!t.business_account_id,m=Object(d.useState)(!1),p=S()(m,2),h=p[0],v=p[1];function b(){return"v".concat(D.a.version?D.a.version:" ".concat(Object(Ye.a)("Unknown"))).concat(D.a.isBeta?" (".concat(Object(Ye.a)("beta"),")"):"")}return f.a.createElement(f.a.Fragment,null,f.a.createElement(Ko.d,{"aria-label":Object(Ye.a)("Settings menu"),className:"user_menu"},f.a.createElement(Ko.c,{id:"user_menu_settings_menuitem",ref:o,as:w.d,to:"/app/settings/account",onClick:bi},f.a.createElement("div",{"aria-hidden":"true",className:"user_menu_details"},f.a.createElement(Yo.a,{size:"big",user:t}),f.a.createElement("div",{className:"user_menu_details_text"},f.a.createElement("strong",null,t.full_name),f.a.createElement("p",{className:"user_menu_email"},t.email))),f.a.createElement("span",{className:"user_menu_details_btn"},f.a.createElement(Ne.Wb,{"aria-hidden":"true"}),f.a.createElement("span",{className:"user_menu_label"},Object(Ye.a)("Settings")," "))),f.a.createElement("hr",null),i?f.a.createElement(Ko.c,{onSelect:function(){vi.launch()}},f.a.createElement(Ne.Ib,{"aria-hidden":"true"}),f.a.createElement("span",{className:"user_menu_label"},Object(Ye.a)("Popout in a window"))):null,f.a.createElement(Ko.c,{as:w.d,to:"/app/settings/theme",onClick:bi},f.a.createElement(Ne.ec,{"aria-hidden":"true"}),f.a.createElement("span",{className:"user_menu_label"},Object(Ye.a)("Theme"))),f.a.createElement(Ko.c,{as:Xe.a,view:{type:"activity"}},f.a.createElement(Ne.a,{"aria-hidden":"true"}),f.a.createElement("span",{className:"user_menu_label"},Object(Ye.a)("Activity log"))),f.a.createElement(Ko.c,{onSelect:function(){Signals.sendSignal("open_print_mode")}},f.a.createElement(Ne.Lb,{"aria-hidden":"true"}),f.a.createElement("span",{className:"user_menu_label"},Object(Ye.a)("Print"))),f.a.createElement(Ko.c,{as:w.d,to:"/app/settings/integrations",onClick:bi},f.a.createElement(Ne.V,{"aria-hidden":"true"}),f.a.createElement("span",{className:"user_menu_label"},Object(Ye.a)("Integrations"))),l&&!u&&!c||X.p||s?null:f.a.createElement("hr",null),l?null:f.a.createElement(Ko.c,{as:"a",href:"/premium",target:"_blank",rel:"noopener noreferrer"},f.a.createElement(Ne.cc,{"aria-hidden":"true"}),f.a.createElement("span",{className:"user_menu_label"},Object(Ye.a)("Upgrade to Pro"))),u?f.a.createElement(Ko.c,{as:"a",href:"/business",target:"_blank",rel:"noopener noreferrer"},f.a.createElement(Ne.Ab,{className:"business_icon","aria-hidden":"true"}),f.a.createElement("span",{className:"user_menu_label"},Object(Ye.a)("Upgrade to Business"))):null,c?f.a.createElement(Ko.c,{as:"a",href:"/business/users",target:"_blank",rel:"noopener noreferrer"},f.a.createElement(Ne.Ab,{className:"business_icon","aria-hidden":"true"}),f.a.createElement("span",{className:"user_menu_label"},Object(Ye.a)("Business admin"))):null,X.p||s?null:f.a.createElement(Ko.c,{as:"a",href:"/downloads",target:"_blank",rel:"noopener noreferrer"},f.a.createElement(Ne.Gb,{"aria-hidden":"true"}),f.a.createElement("span",{className:"user_menu_label"},Object(Ye.a)("Download apps"))),!l||u||c||!X.p&&!s?f.a.createElement("hr",null):null,f.a.createElement(Ko.c,{ref:a,onSelect:function(){Qo.default.logout()}},f.a.createElement(Ne.cb,{"aria-hidden":"true"}),f.a.createElement("span",{className:"user_menu_label"},Object(Ye.a)("Log out"))),f.a.createElement("hr",null),f.a.createElement(pi,null),f.a.createElement(Ko.c,{as:"div",className:"user_menu_version","data-testid":"user_menu_version",onFocus:function(e){var t,a;e.preventDefault(),e.currentTarget===document.activeElement&&(e.relatedTarget===o.current?null===(t=n.current)||void 0===t||t.focus():null===(a=r.current)||void 0===a||a.focus())},role:"group","aria-label":Object(Ye.a)("Todoist version info")},Zo.a.supported?f.a.createElement(f.a.Fragment,null,f.a.createElement(ho.a,{content:Object(Ye.a)("Copy version number")},f.a.createElement("button",{"aria-describedby":"copy_btn_a11y_helper","aria-label":"".concat(Object(Ye.a)("Version")," ").concat(b()),onClick:function(e){var t=e.currentTarget.textContent;Object(Zo.a)(t).then((function(){v(!0);var e=setTimeout((function(){v(!1)}),2e3);return function(){return clearTimeout(e)}})).catch((function(){}))},ref:r,onKeyDown:function(e){var t;if(e.preventDefault(),"ArrowDown"===e.key)null===(t=n.current)||void 0===t||t.focus();else if("ArrowUp"===e.key){var r;null===(r=a.current)||void 0===r||r.focus()}}},b())),f.a.createElement("span",{id:"copy_btn_a11y_helper"},Object(Ye.a)("Press enter to copy version number"))):f.a.createElement("span",null,b()),f.a.createElement("span",null,"\xa0\xb7\xa0"),f.a.createElement("a",{href:Ya.q,rel:"noopener noreferrer",target:"_blank",ref:n,onKeyDown:function(e){var t;if(e.preventDefault(),"ArrowDown"===e.key)null===(t=o.current)||void 0===t||t.focus();else if("ArrowUp"===e.key){var n;null===(n=r.current)||void 0===n||n.focus()}}},Object(Ye.a)("What's new")))),f.a.createElement(ci,{open:h},f.a.createElement("div",{className:"version_msg"},Object(Ye.a)("Version number copied!"))))}));n("LYsz");var _i=Object(O.c)((function(e){return{newVersion:Object(li.b)(e),user:Object(Jo.i)(e)}}))((function(e){var t=e.newVersion,n=e.user,r=Object(d.useRef)(null),a=Object(d.useCallback)((function(){var e;null==r||null===(e=r.current)||void 0===e||e.click()}),[r]),o=Object(xr.c)();Object(d.useEffect)((function(){var e;if(null==o||null===(e=o.globalContext)||void 0===e?void 0:e.setOpenSettings)return o.globalContext.setOpenSettings((function(){return a})),function(){var e,t;null==o||null===(e=o.globalContext)||void 0===e||null===(t=e.setOpenSettings)||void 0===t||t.call(e,null)}}),[o,a]);var i=D.a.version;return f.a.createElement(Ko.a,null,f.a.createElement(Ko.b,{"aria-label":Object(Ye.a)("Settings"),className:"top_bar_btn settings_btn",ref:r},f.a.createElement(Yo.a,{size:"big",user:n,className:"settings_avatar"}),t&&(!i||parseInt(t,10)-i>10)?f.a.createElement("span",{className:"new_version_indicator","data-testid":"new_version_indicator"}):null),f.a.createElement(gi,null))})),yi=n("MrOw"),Oi=n("cAKr"),ji=n("KIIX"),wi=n("iAAn"),Ei=n("5alK"),ki=n("kYI+"),Di=n("vDIV"),Ci=n("mtEF");function Si(){return(Si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ii=d.createElement("path",{d:"M17.436 3c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v12.873c0 .892-.093 1.215-.267 1.54a1.81 1.81 0 01-.756.757c-.326.174-.65.267-1.54.267H6.563c-.892 0-1.215-.093-1.54-.267a1.81 1.81 0 01-.757-.756c-.16-.301-.252-.6-.265-1.345L4 5.564c0-.892.093-1.215.267-1.54a1.81 1.81 0 01.756-.757c.301-.16.6-.252 1.345-.265L17.436 3zm.17 1.001H6.394l-.305.01c-.305.018-.449.06-.594.138a.814.814 0 00-.346.346c-.05.093-.085.186-.109.321l-.023.186-.008.114-.008.278v13.212l.01.305c.018.305.06.449.138.594a.814.814 0 00.346.346c.093.05.186.085.321.109l.186.023.114.008.278.008h11.212l.278-.008.114-.008.186-.023c.135-.024.228-.059.321-.109a.814.814 0 00.346-.346c.05-.093.085-.186.109-.321l.023-.186.008-.114.008-.278V5.394l-.008-.278-.008-.114-.023-.186a1.007 1.007 0 00-.109-.321.814.814 0 00-.346-.346 1.007 1.007 0 00-.321-.109l-.186-.023-.114-.008-.278-.008zM13 17v1H7v-1h6zm4-3v1H7v-1h10zm-.5-8a.5.5 0 01.5.5l-.001.01L17 10.5a.5.5 0 01-1 0l-.001-2.793-4.145 4.147a.501.501 0 01-.765-.638l.057-.07L15.292 7H12.5a.5.5 0 010-1h4z",fill:"currentColor",fillRule:"evenodd"});function Ti(e){return d.createElement("svg",Si({width:24,height:24,viewBox:"0 0 24 24"},e),Ii)}n.p,n("ZKgr");var Ai=function(){var e=Object(d.useState)((function(){return V.a.prettyDate(yi.default.getInstance().last_synced.getTime())})),t=S()(e,2),n=t[0],r=t[1];return Object(d.useEffect)((function(){var e=setInterval((function(){r(V.a.prettyDate(yi.default.getInstance().last_synced.getTime()))}),1e3);return function(){clearInterval(e)}}),[]),f.a.createElement(Ko.d,{"aria-label":Object(Ye.a)("Help menu"),className:"help_menu user_menu"},f.a.createElement(Ko.c,{as:"a",href:Ya.s,rel:"noopener noreferrer",target:"_blank"},f.a.createElement(ki.a,{"aria-hidden":"true"}),f.a.createElement("span",{className:"help_menu_label"},Object(Ye.a)("Help"))),f.a.createElement(Ko.c,{as:"a",href:"https://blog.doist.com",rel:"noopener noreferrer",target:"_blank"},f.a.createElement(ji.a,{"aria-hidden":"true"}),f.a.createElement("span",{className:"help_menu_label"},Object(Ye.a)("Blog"))),f.a.createElement(Ko.c,{as:"a",href:"https://todoist.com/templates",rel:"noopener noreferrer",target:"_blank"},f.a.createElement(Ci.a,{"aria-hidden":"true"}),f.a.createElement("span",{className:"help_menu_label"},Object(Ye.a)("Templates"))),f.a.createElement(Ko.c,{onSelect:Oi.a,"aria-describedby":"keyboard-shortcut-menu-item-description"},f.a.createElement(wi.a,{"aria-hidden":"true"}),f.a.createElement("span",{className:"help_menu_label"},Object(Ye.a)("Keyboard shortcuts")),f.a.createElement(vo.a,{"aria-hidden":"true","aria-label":Object(Ye.a)("The keyboard shortcuts modal can be opened with the Question Mark key"),id:"keyboard-shortcut-menu-item-description"},"?")),f.a.createElement(Ko.c,{as:"a",href:"https://todoist.com/getting-started",rel:"noopener noreferrer",target:"_blank"},f.a.createElement(Ti,{"aria-hidden":"true"}),f.a.createElement("span",{className:"help_menu_label"},Object(Ye.a)("Getting started guide"))),f.a.createElement(Ko.c,{as:"a",href:Ya.q,rel:"noopener noreferrer",target:"_blank"},f.a.createElement(Ei.a,{"aria-hidden":"true"}),f.a.createElement("span",{className:"help_menu_label"},Object(Ye.a)("What's new"))),f.a.createElement("hr",null),f.a.createElement(Ko.c,{onSelect:function(){yi.default.getInstance().sync(null,!0,!0)},"aria-describedby":"last_synced"},f.a.createElement(Di.a,{"aria-hidden":"true"}),f.a.createElement("span",{className:"help_menu_label"},Object(Ye.a)("Sync"))),f.a.createElement("div",{id:"last_synced","data-testid":"last_synced"},Object(Ye.a)("Sync last completed"),": ",n))};function xi(){var e=Object(d.useRef)(null),t=Object(d.useCallback)((function(){var t;null==e||null===(t=e.current)||void 0===t||t.click()}),[e]),n=Object(xr.c)();return Object(d.useEffect)((function(){var e;if(null==n||null===(e=n.globalContext)||void 0===e?void 0:e.setOpenHelpMenu)return n.globalContext.setOpenHelpMenu((function(){return t})),function(){var e,t;null==n||null===(e=n.globalContext)||void 0===e||null===(t=e.setOpenHelpMenu)||void 0===t||t.call(e,null)}}),[n,t]),f.a.createElement(Ko.a,null,f.a.createElement(Ko.b,{"aria-label":Object(Ye.a)("Help & Feedback"),className:"top_bar_btn",id:"help_btn",ref:e},f.a.createElement(Ne.Qb,{"aria-hidden":"true"})),f.a.createElement(Ai,null))}var Pi=n("IYoK"),Ri=(n("FIhZ"),n("B2bF")),Ni=n("bt/X"),Li=n.n(Ni);function Mi(e){var t=Li()(e,(function(e){var t=Math.floor(e.created/144e5);switch(e.notification_type){case"item_completed":case"item_uncompleted":case"item_assigned":return"".concat(e.notification_type,":").concat(e.project_id,":").concat(e.from_uid,":").concat(t);case"share_invitation_accepted":case"user_left_project":return"".concat(e.notification_type,":").concat(e.project_id,":").concat(t);case"note_added":var n=e;return n.item_id?"item_note_added:".concat(n.item_id,":").concat(t):"project_note_added:".concat(n.project_id,":").concat(t);default:return"".concat(e.id)}})),n=v()(t);return n.forEach((function(e){e.sort((function(e,t){return t.id-e.id}))})),n.sort((function(e,t){return t[0].id-e[0].id})),n}function Fi(e){var t=e[0].notification_type,n=e.map((function(e){return e.id}));return"".concat(t,"-").concat(n.join("-"))}n("7tbW");var zi=n("K6Df"),Bi=n("Wo0o");n("r8Wd");n("Koeu");var Vi=n("xgwk");function $i(){return f.a.createElement("div",{className:"noti_panel__empty_state"},f.a.createElement(Vi.a,{className:"noti_panel__empty_state_img",path:"no_sync_issue.svg"}),f.a.createElement("p",null,Object(s.b)("Nice work! You\u2019re all caught up.")))}var Hi=n("eY+4"),Ui=n("Bbt+"),qi=n.n(Ui);function Gi(e){var t=e.children,n=e.styleClass,r=void 0===n?"fixed_width_style":n,a=Object(d.useRef)(null);return Object(d.useLayoutEffect)((function(){var e=a.current;if(e){e.style.width="",e.classList.add(r);var t=e.getBoundingClientRect();e.classList.remove(r),e.style.width="".concat(t.width,"px")}}),[t,r]),f.a.createElement("span",{className:qi.a.fixedWidth,ref:a},t)}function Wi(e){var t=e.onClose,n=Object(O.h)((function(e){return e.notifications?v()(e.notifications):null}));if(!n)return null;var r=Mi(n),a=Mi(n.filter((function(e){return e.is_unread}))),o=a.map((function(e){return e.length})).reduce((function(e,t){return e+t}),0);return f.a.createElement("div",{className:"GB_iframe_html"},f.a.createElement("div",{id:"notifications_holder",className:"noti_panel"},f.a.createElement(Ri.e,null,f.a.createElement("div",{className:"noti_panel__header"},f.a.createElement("div",{className:"noti_panel__header_inner"},f.a.createElement(Ri.b,null,f.a.createElement(Ri.a,null,f.a.createElement(Gi,null,Object(s.b)("Notifications"))),f.a.createElement(Ri.a,null,f.a.createElement(Gi,null,Object(s.b)("Unread"),o>0?" (".concat(o,")"):null))),f.a.createElement(dn.b,{className:"noti_panel__markall_btn",onClick:function(){Hi.b.markReadAll()},title:Object(s.b)("Mark all as Read")},f.a.createElement(Ne.hb,null)))),f.a.createElement(Ri.d,null,f.a.createElement(Ri.c,null,f.a.createElement(Ki,{notificationGroups:r,onClose:t})),f.a.createElement(Ri.c,null,f.a.createElement(Ki,{notificationGroups:a,onClose:t}))))))}function Ki(e){var t=e.notificationGroups,n=e.onClose;return 0===t.length?f.a.createElement($i,null):f.a.createElement("ul",null,t.map((function(e){return f.a.createElement(Yi,{key:Fi(e),notificationGroup:e,onClose:n})})))}function Yi(e){var t=e.notificationGroup,n=e.onClose,r=Object(d.useRef)(null),a=Object(d.useRef)(!1),o=Object(d.useMemo)((function(){return new Hi.a(t,{onClose:n}).render()}),[t,n]);return Object(d.useLayoutEffect)((function(){a.current||o&&r.current&&(r.current.appendChild(o),a.current=!0)}),[o]),null!=o?f.a.createElement("li",{ref:r}):null}var Ji=n("chs4"),Qi=n.n(Ji),Zi=n("wqDb");function Xi(){}function ec(e){var t=e.title,n=e.children,r=e.time,a=e.user,o=e.className,i=e.iconComponent,c=e.iconClassName,s=e.isUnread,u=e.isExpandable,f=void 0!==u&&u,m=e.onClick,p=void 0===m?Xi:m,h=e.onClickMarkAsRead,v=void 0===h?Xi:h,b=e.onClickMarkAsUnread,g=void 0===b?Xi:b,_=d.useState(!1),y=S()(_,2),O=y[0],j=y[1],w=Boolean(n)&&(f&&O||!f),E=Boolean(s),k=E?Object(Ye.a)("Mark as read"):Object(Ye.a)("Mark as unread");return d.createElement(et.a,{as:"div",className:Ae()(Qi.a.container,o,l()({},Qi.a.isUnread,E)),onClick:function(){p(),Object(Zi.a)("navigation","click","notifications_single_notification")}},d.createElement("div",{className:Qi.a.avatarContainer},a?d.createElement(Yo.b,{user:a}):null,i?d.createElement(i,{className:Ae()(Qi.a.typeIcon,c)}):null),d.createElement("div",{className:Qi.a.content},d.createElement("p",{className:Qi.a.title,"data-testid":"Notification title"},t),w?d.createElement("div",{className:Qi.a.body},n):null,d.createElement("p",{className:Qi.a.time},V.a.prettyDate(r))),d.createElement("div",{className:Qi.a.actions},f?d.createElement(et.a,{"aria-label":O?Object(Ye.a)("Collapse notification"):Object(Ye.a)("Expand notification"),className:Ae()(Qi.a.expandButton,l()({},Qi.a.expandButton_isExpanded,O)),onClick:function(e){O&&Object(Zi.a)("navigation","click","notifications_expand_collapsed"),j(!O),e.stopPropagation()}},d.createElement(Ne.q,null)):null,d.createElement(et.a,{className:Qi.a.unreadButton,"aria-label":k,title:k,onClick:function(e){E?(v(),Object(Zi.a)("navigation","click","notifications_mark_as_read")):(g(),Object(Zi.a)("navigation","click","notifications_mark_as_unread")),e.stopPropagation()}},E?d.createElement(Ne.xb,null):d.createElement(Ne.vb,null))))}var tc=n("d2JY"),nc=n.n(tc);function rc(e){var t=e.notifications,n=e.onClickNotification,r=e.renderContent;return d.createElement("ul",{className:nc.a.container},t.map((function(e){return"item_content"in e?d.createElement(et.a,{as:"li",key:e.notification_key,className:Ae()(nc.a.item,l()({},nc.a.item_isUnread,Boolean(e.is_unread))),onClick:function(t){n&&n(e),t.stopPropagation()}},r?r(e):d.createElement(Bi.a,{text:e.item_content})):null})))}function ac(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ac(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ac(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ic(e,t){var n;return null!=e.from_uid&&null!==(n=Object(mn.k)(e.from_uid,t))&&void 0!==n?n:e.from_user}function cc(e){var t=d.useMemo((function(){return Array.isArray(e)?e:[e]}),[e]);return{markAsRead:d.useCallback((function(e){!function(e){Pi.a.markRead(e.map((function(e){return e.id})))}(e?[e]:t)}),[t]),markAsUnread:d.useCallback((function(e){!function(e){Pi.a.markUnread(e.map((function(e){return e.id})))}(e?[e]:t)}),[t])}}function lc(e){var t=d.useState("idle"),n=S()(t,2),r=n[0],a=n[1];return{syncState:r,acceptInvitation:d.useCallback((function(){a("loading"),function(e){var t=e.notification,n=e.onSuccess,r=e.onError;t.notification_type.includes("biz_")?Pi.a.acceptInvitationBiz(t,n,r):Pi.a.acceptInvitation(t,n,r)}({notification:e,onSuccess:function(){a("invitation-accepted")},onError:function(e){a("error"),alert(e)}})}),[e]),rejectInvitation:d.useCallback((function(){a("loading"),function(e){var t=e.notification,n=e.onSuccess,r=e.onError;t.notification_type.includes("biz_")?Pi.a.rejectInvitationBiz(t,n,r):Pi.a.rejectInvitation(t,n,r)}({notification:e,onSuccess:function(){a("invitation-rejected")},onError:function(e){a("error"),alert(e)}})}),[e])}}function sc(e){return Object(O.h)((function(t){return oc(oc({user:ic(e,t),currentUser:Object(Jo.i)(t)},("project_id"in e||"project_name"in e)&&{project:Object(At.n)(t,e.project_id)||{name:e.project_name,id:e.project_id}}),"removed_uid"in e&&{removedUser:Object(mn.k)(e.removed_uid,t)})}),O.f)}function uc(e){var t=e.children;return d.createElement(d.Fragment,null,"".concat(Object(Ye.a)("Todoist Business"),": "),t)}function dc(e){var t=e.project;return d.createElement(d.Fragment,null,(null==t?void 0:t.name)?d.createElement("strong",null,t.name):Object(Ye.a)("a shared project"))}function fc(e){var t=e.notifications,n=Object(O.h)((function(e){return t.map((function(t){var n;return null===(n=ic(t,e))||void 0===n?void 0:n.full_name})).filter(Boolean)}),O.f),r="";switch(n.length){case 0:r=Object(Ye.a)("Anonymous user");break;case 1:r=Object(Ye.a)("{user1}");break;case 2:r=Object(Ye.a)("{user1} and {user2}");break;default:r=Object(Ye.b)("{user1}, {user2}, and {n} other","{user1}, {user2}, and {n} others",n.length-2)}return d.createElement(zi.a,{string:r,mapping:{user1:n[0]?d.createElement("strong",null,n[0]):null,user2:n[1]?d.createElement("strong",null,n[1]):null,n:n.length-2}})}var mc=n("FySG"),pc=n.n(mc);function hc(e){var t=e.notifications,n=e.onClick,r=t[0],a=sc(r),o=a.user,i=a.project,c=cc(t),l=c.markAsRead,s=c.markAsUnread,u=Object(Xe.h)(),f=d.useCallback((function(){l(),u({view:{type:"project",projectId:r.project_id}}),n()}),[l,u,r,n]);if(!o)return null;var m=t.some((function(e){return Boolean(e.is_unread)}));return d.createElement(ec,{iconComponent:Ne.yb,isUnread:m,user:o,time:r.created,onClick:f,onClickMarkAsRead:l,onClickMarkAsUnread:s,title:d.createElement(zi.a,{string:Object(Ye.b)("{user} joined {project}","{multiple} joined {project}",t.length),mapping:{user:d.createElement("strong",null,o.full_name),multiple:d.createElement(fc,{notifications:t}),project:d.createElement(dc,{project:i})}})})}function vc(e){var t=e.notifications,n=e.onClick,r=t[0],a=sc(r),o=a.user,i=a.project,c=cc(t),l=c.markAsRead,s=c.markAsUnread,u=Object(Xe.h)(),f=d.useCallback((function(){l(),u({view:{type:"project",projectId:r.project_id}}),n()}),[l,u,r,n]);if(!o)return null;var m=t.some((function(e){return Boolean(e.is_unread)}));return d.createElement(ec,{iconComponent:Ne.zb,isUnread:m,user:o,time:r.created,onClick:f,onClickMarkAsRead:l,onClickMarkAsUnread:s,title:d.createElement(zi.a,{string:Object(Ye.b)("{user} left {project}","{multiple} left {project}",t.length),mapping:{user:d.createElement("strong",null,o.full_name),multiple:d.createElement(fc,{notifications:t}),project:d.createElement(dc,{project:i})}})})}var bc=n("t4uw");function gc(e){var t=e.notifications,n=e.onClick,r=t[0],a=cc(t),o=a.markAsRead,i=a.markAsUnread,c=Object(Xe.h)(),l=d.useCallback((function(e){var t=null===e.item_id;c(t?function(e){return{view:{type:"project",projectId:e.project_id},subPath:"/comments",hash:"#comment-".concat(e.note_id)}}(e):function(e){return{task:{id:Number(e.item_id),tab:"comments"},hash:"#comment-".concat(e.note_id)}}(e)),o(),n()}),[o,c,n]),s=d.useCallback((function(){l(r)}),[r,l]);return{markAsRead:o,markAsUnread:i,handleClick:s,handleClickNotification:l}}function _c(e){var t=sc(e.notification).user,n=null==t?void 0:t.full_name.split(" ")[0];return d.createElement("strong",null,n,":\xa0")}function yc(e){var t=e.notification,n=e.displayUserName,r=void 0!==n&&n;return d.createElement(d.Fragment,null,r?d.createElement(_c,{notification:t}):null,d.createElement(Bi.a,{text:t.note_content}))}var Oc=n("cK3b");function jc(){return(jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var wc=d.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-3 -3)"},d.createElement("circle",{cx:12,cy:12,r:8,fill:"currentColor"}),d.createElement("path",{fill:"#FFF",d:"M12 16.5c-.2-.4-2.5-2.4-3.2-4l-.2-1c0-3.2 2-3.6 3.4-3.6s3.4.4 3.4 3.5c0 .3-.1.7-.3 1-.7 1.7-3 3.7-3.1 4zm0 0z"}));function Ec(e){return d.createElement("svg",jc({width:18,height:18,viewBox:"0 0 18 18"},e),wc)}n.p;function kc(){return(kc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Dc=d.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-3 -3)"},d.createElement("circle",{cx:12,cy:12,r:8,fill:"currentColor"}),d.createElement("path",{fill:"#FFF",d:"M12 6.8c1.3 0 3.4.3 3.4 3.4 0 1.2-1.6 3.2-2.3 4.7-1 2.4-1 3.4-1 3.4s-.2-1-1.2-3.4c-.6-1.5-2.2-3.5-2.2-4.7 0-3.1 2-3.4 3.3-3.4z"}));function Cc(e){return d.createElement("svg",kc({width:18,height:18,viewBox:"0 0 18 18"},e),Dc)}n.p;function Sc(){return(Sc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ic=d.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-3 -3)"},d.createElement("circle",{cx:12,cy:12,r:8,fill:"currentColor"}),d.createElement("path",{fill:"#FFF",d:"M15.7 12.3c0 3.2-3.4 5.8-3.4 5.8v-7.3c0-3.2 2-2.9 3-2.9s.4 1.2.4 4.4zm-7.4 0c0-3.2-.7-4.4.3-4.4s3.1-.3 3.1 2.9V18s-3.4-2.6-3.4-5.8z"}));function Tc(e){return d.createElement("svg",Sc({width:18,height:18,viewBox:"0 0 18 18"},e),Ic)}n.p;function Ac(){return(Ac=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var xc=d.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-3 -3)"},d.createElement("circle",{cx:12,cy:12,r:8,fill:"currentColor"}),d.createElement("path",{fill:"#FFF",d:"M7.5 7.5c1 0 3.4.2 3.4 3.4v7.8S7.5 15.3 7.5 12s-1-4.5 0-4.5zm9 0c1 0 0 1.3 0 4.5S13 18.8 13 18.8v-8c0-3.1 2.4-3.3 3.4-3.3z"}));function Pc(e){return d.createElement("svg",Ac({width:18,height:18,viewBox:"0 0 18 18"},e),xc)}n.p;function Rc(){return(Rc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Nc=d.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-3 -3)"},d.createElement("circle",{cx:12,cy:12,r:8,fill:"currentColor"}),d.createElement("path",{fill:"#FFF",d:"M6.4 7.5c1 0 4.5 2.4 4.5 5.6v5.7s-3-.6-3.4-6.8c-.2-3.2-2-4.5-1.1-4.5zm11.2 0c1 0-1 1.3-1.1 4.5-.4 6.2-3.4 6.8-3.4 6.8V13c0-3.2 3.5-5.6 4.5-5.6zM12 5.9c.4 0 1 .2 1 1.6s-1 3.4-1 3.4-1-2-1-3.4.6-1.6 1-1.6z"}));function Lc(e){return d.createElement("svg",Rc({width:18,height:18,viewBox:"0 0 18 18"},e),Nc)}n.p;function Mc(){return(Mc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Fc=d.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-3 -3)"},d.createElement("circle",{cx:12,cy:12,r:8,fill:"currentColor"}),d.createElement("path",{fill:"#FFF",d:"M12 17.5s.4-.2 1.1-2.2c.9-2.4 3.1-4.5 5.7-4.5 0 1.2-1 .7-2.3 4.5a4.8 4.8 0 01-4.5 3.4v-1.2 1.2a4.8 4.8 0 01-4.5-3.4c-1.4-3.8-2.3-3.4-2.3-4.5 2.6 0 4.8 2 5.7 4.5.7 2 1 2.2 1.1 2.2zm0-11s1.3.4 2.3 1c.6.5 1 1.2 1 1.2s-1.3 1-2.2 2.3c-.8 1-1.1 2.2-1.1 2.2s-.3-1.1-1.1-2.2C10 9.8 8.6 8.7 8.6 8.7s.6-.7 1.2-1.1c1-.7 2.2-1.1 2.2-1.1z"}));function zc(e){return d.createElement("svg",Mc({width:18,height:18,viewBox:"0 0 18 18"},e),Fc)}n.p;function Bc(){return(Bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Vc=d.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-3 -3)"},d.createElement("circle",{cx:12,cy:12,r:8,fill:"currentColor"}),d.createElement("path",{fill:"#FFF",d:"M12 18.6v.1zm2.6-5a19 19 0 012-2.8c3.4-3.4 2 2 1.2 3.3-1.5 2.8-5.8 4.7-5.8 4.7S7.8 17 6.4 14.2c-.8-1.4-2.2-6.8 1.1-3.3l1.8 2.4-1.5-3.6 3 3.1s.6.6 1.2.6 1.1-.6 1.1-.6l3.1-3-1.6 3.7zM12 6.3L14.8 8 12 10.9 9.2 8 12 6.4z"}));function $c(e){return d.createElement("svg",Bc({width:18,height:18,viewBox:"0 0 18 18"},e),Vc)}n.p;var Hc=n("fpgb"),Uc=n.n(Hc);var qc={default:function(e){var t=e.notification,n=e.notifications,r=n?n[0]:t;return d.createElement("p",{"data-testid":"Default Notification Type"},"Placeholder for"," ",d.createElement("strong",null,null==r?void 0:r.notification_type," ",null==n?void 0:n.length))},item_completed:function(e){var t=e.notification,n=e.onClick,r=sc(t),a=r.user,o=r.project,i=cc(t),c=i.markAsRead,l=i.markAsUnread,s=Object(Xe.h)(),u=d.useCallback((function(){c(),s({task:{id:t.item_id,tab:"comments"}}),n()}),[c,s,t,n]);return a?d.createElement(ec,{iconComponent:Ne.rb,isUnread:t.is_unread,user:a,onClick:u,onClickMarkAsRead:c,onClickMarkAsUnread:l,title:d.createElement(zi.a,{string:Object(Ye.a)("{user} completed a task in {project}"),mapping:{user:d.createElement("b",null,a.full_name),project:d.createElement(dc,{project:o})}}),time:t.created},d.createElement(Bi.a,{text:t.item_content})):null},item_completed_group:function(e){var t=e.notifications,n=e.onClick,r=t[0],a=sc(r),o=a.user,i=a.project,c=cc(t),l=c.markAsRead,s=c.markAsUnread,u=Object(Xe.h)(),f=d.useCallback((function(){l(),u({view:{type:"project",projectId:r.project_id}}),n()}),[l,u,r,n]);if(!o)return null;var m=t.some((function(e){return Boolean(e.is_unread)}));return d.createElement(ec,{iconComponent:Ne.rb,isUnread:m,user:o,time:r.created,isExpandable:!0,onClick:f,onClickMarkAsRead:l,onClickMarkAsUnread:s,title:d.createElement(zi.a,{string:Object(Ye.b)("{user} completed a task in {project}","{user} completed {n} tasks in {project}",t.length),mapping:{user:d.createElement("b",null,o.full_name),project:d.createElement(dc,{project:i}),n:t.length}})},d.createElement(rc,{notifications:t,onClickNotification:l}))},item_assigned:function(e){var t=e.notification,n=e.onClick,r=sc(t),a=r.user,o=r.project,i=cc(t),c=i.markAsRead,l=i.markAsUnread,s=Object(Xe.h)(),u=d.useCallback((function(){c(),s({task:{id:t.item_id,tab:"comments"}}),n()}),[c,s,t,n]);return a?d.createElement(ec,{iconComponent:Ne.pb,isUnread:t.is_unread,user:a,time:t.created,onClick:u,onClickMarkAsRead:c,onClickMarkAsUnread:l,title:d.createElement(zi.a,{string:Object(Ye.a)("{user} assigned a task in {project}"),mapping:{user:d.createElement("strong",null,a.full_name),project:d.createElement(dc,{project:o})}})},d.createElement(Bi.a,{text:t.item_content})):null},item_assigned_group:function(e){var t=e.notifications,n=e.onClick,r=t[0],a=sc(r),o=a.user,i=a.project,c=cc(t),l=c.markAsRead,s=c.markAsUnread,u=Object(Xe.h)(),f=d.useCallback((function(){l(),u({view:{type:"project",projectId:r.project_id}}),n()}),[l,u,r,n]);if(!o)return null;var m=t.some((function(e){return Boolean(e.is_unread)}));return d.createElement(ec,{iconComponent:Ne.pb,isUnread:m,user:o,time:r.created,isExpandable:!0,onClick:f,onClickMarkAsRead:l,onClickMarkAsUnread:s,title:d.createElement(zi.a,{string:Object(Ye.b)("{user} assigned a task in {project}","{user} assigned {n} tasks in {project}",t.length),mapping:{user:d.createElement("strong",null,o.full_name),project:d.createElement(dc,{project:i}),n:t.length}})},d.createElement(rc,{notifications:t,onClickNotification:l}))},item_uncompleted:function(e){var t=e.notification,n=e.onClick,r=sc(t),a=r.user,o=r.project,i=cc(t),c=i.markAsRead,l=i.markAsUnread,s=Object(Xe.h)(),u=d.useCallback((function(){c(),s({task:{id:t.item_id,tab:"comments"}}),n()}),[c,s,t,n]);return a?d.createElement(ec,{iconComponent:Ne.wb,isUnread:t.is_unread,user:a,time:t.created,onClick:u,onClickMarkAsRead:c,onClickMarkAsUnread:l,title:d.createElement(zi.a,{string:Object(Ye.a)("{user} uncompleted a task in {project}"),mapping:{user:d.createElement("strong",null,a.full_name),project:d.createElement(dc,{project:o})}})},d.createElement(Bi.a,{text:t.item_content})):null},item_uncompleted_group:function(e){var t=e.notifications,n=e.onClick,r=t[0],a=sc(r),o=a.user,i=a.project,c=cc(t),l=c.markAsRead,s=c.markAsUnread,u=Object(Xe.h)(),f=d.useCallback((function(){l(),u({view:{type:"project",projectId:r.project_id}}),n()}),[l,u,r,n]);if(!o)return null;var m=t.some((function(e){return Boolean(e.is_unread)}));return d.createElement(ec,{iconComponent:Ne.wb,isUnread:m,user:o,time:r.created,isExpandable:!0,onClick:f,onClickMarkAsRead:l,onClickMarkAsUnread:s,title:d.createElement(zi.a,{string:Object(Ye.b)("{user} uncompleted a task in {project}","{user} uncompleted {n} tasks in {project}",t.length),mapping:{user:d.createElement("strong",null,o.full_name),project:d.createElement(dc,{project:i}),n:t.length}})},d.createElement(rc,{notifications:t,onClickNotification:l}))},note_added:function(e){var t=e.notification,n=e.onClick,r=null===t.item_id,a=sc(t),o=a.user,i=a.project,c=gc({notifications:[t],onClick:n}),l=c.markAsRead,s=c.markAsUnread,u=c.handleClick;return o?d.createElement(ec,{iconComponent:Ne.qb,isUnread:t.is_unread,user:o,onClick:u,onClickMarkAsRead:l,onClickMarkAsUnread:s,time:t.created,title:d.createElement(zi.a,{string:r?Object(Ye.a)("{user} added a project comment to {project}"):Object(Ye.a)("{user} added a comment to {task}"),mapping:{user:d.createElement("strong",null,o.full_name),project:d.createElement(dc,{project:i}),task:d.createElement("strong",null,d.createElement(Bi.a,{text:t.item_content}))}})},"\u201c",d.createElement(Bi.a,{text:t.note_content}),"\u201d"):null},note_added_group:function(e){var t=e.notifications,n=e.onClick,r=t[0],a=null===r.item_id,o=sc(r),i=o.user,c=o.project,l=gc({notifications:t,onClick:n}),s=l.markAsRead,u=l.markAsUnread,f=l.handleClick,m=l.handleClickNotification;if(!i)return null;var p=t.some((function(e){return Boolean(e.is_unread)})),h=new Set(t.map((function(e){return e.from_uid}))),v=a?d.createElement(zi.a,{string:Object(Ye.b)("{user} added {n} project comments to {project}","{multiple} added {n} project comments to {project}",h.size),mapping:{n:t.length,user:d.createElement("strong",null,i.full_name),multiple:d.createElement(fc,{notifications:t}),project:d.createElement(dc,{project:c})}}):d.createElement(zi.a,{string:Object(Ye.b)("{user} added {n} comments to {task}","{multiple} added {n} comments to {task}",h.size),mapping:{n:t.length,user:d.createElement("strong",null,i.full_name),multiple:d.createElement(fc,{notifications:t}),task:d.createElement("strong",null,d.createElement(Bi.a,{text:r.item_content}))}});return d.createElement(ec,{iconComponent:Ne.qb,isUnread:p,user:i,onClick:f,onClickMarkAsRead:s,onClickMarkAsUnread:u,isExpandable:!0,time:r.created,title:v},d.createElement(rc,{notifications:t,onClickNotification:m,renderContent:function(e){return d.createElement(yc,{notification:e,displayUserName:h.size>1})}}))},karma_level:function(e){var t=e.notification,n=e.onClick,r=cc(t),a=r.markAsRead,o=r.markAsUnread,i=d.useCallback((function(){a(),Object(Oc.a)(t.karma_level,t),n()}),[a,t,n]),c={1:{title:Object(Ye.a)("Your journey towards higher productivity begins today! You're now a Todoist Karma Novice."),icon:Ec},2:{title:Object(Ye.a)("Congrats! Reaching 2,500 points makes you a Todoist Karma Intermediate."),icon:Cc},3:{title:Object(Ye.a)("You're getting seriously productive! High five on reaching the Professional level of Todoist Karma!"),icon:Tc},4:{title:Object(Ye.a)("Pat yourself on the back\u2013 you're now an impressive Todoist Karma Expert!"),icon:Pc},5:{title:Object(Ye.a)("Outstanding work! Achieving 10,000 points makes you a Todoist Karma Master."),icon:Lc},6:{title:Object(Ye.a)("One more level to go! You're now a revered Todoist Karma Grand Master!"),icon:zc},7:{title:Object(Ye.a)("You did it! With over 50,000 points you've reached the top\u2013 Todoist Karma Enlightenment!"),icon:$c}};return d.createElement(ec,{iconComponent:c[t.karma_level].icon,iconClassName:Uc.a.icon,isUnread:t.is_unread,time:t.created,onClick:i,onClickMarkAsRead:a,onClickMarkAsUnread:o,title:c[t.karma_level].title})},share_invitation_sent:function(e){var t,n=e.notification,r=e.onClick,a=sc(n),o=a.user,i=a.project,c=a.currentUser,l=cc(n),s=l.markAsRead,u=l.markAsUnread,f=lc(n),m=f.syncState,p=f.acceptInvitation,h=f.rejectInvitation,v=Object(Xe.h)(),b="",g=o;switch(n.state){case"accepted":b=Object(Ye.a)("You joined {project}"),g=c,t=function(){v({view:{type:"project",projectId:n.project_id}}),s(),r()};break;case"invited":b=Object(Ye.a)("{user} invited you to {project}");break;case"rejected":b=Object(Ye.a)("You declined invitation from {user} to {project}"),g=c}return o&&g&&b?d.createElement(ec,{isUnread:n.is_unread,user:g,time:n.created,onClick:t,onClickMarkAsRead:s,onClickMarkAsUnread:u,className:"invited"===n.state?pc.a.invited:void 0,title:d.createElement(zi.a,{string:b,mapping:{user:d.createElement("strong",null,o.full_name),project:d.createElement(dc,{project:i})}})},"loading"===m?d.createElement(to.a,null):null,"idle"===m&&"invited"===n.state?d.createElement(d.Fragment,null,d.createElement(et.a,{onClick:p,className:pc.a.accept},Object(Ye.a)("Accept")),d.createElement(et.a,{onClick:h,className:pc.a.reject,"aria-label":Object(Ye.a)("Reject")},d.createElement(Ne.x,{small:!0}))):null):null},share_invitation_accepted:function(e){var t=e.notification,n=e.onClick;return d.createElement(hc,{notifications:[t],onClick:n})},share_invitation_accepted_group:hc,share_invitation_rejected:function(e){var t=e.notification,n=e.onClick,r=sc(t),a=r.user,o=r.project,i=cc(t),c=i.markAsRead,l=i.markAsUnread,s=Object(Xe.h)(),u=d.useCallback((function(){c(),s({view:{type:"project",projectId:t.project_id}}),n()}),[c,s,t,n]);return a?d.createElement(ec,{iconComponent:Ne.zb,isUnread:t.is_unread,user:a,time:t.created,onClick:u,onClickMarkAsRead:c,onClickMarkAsUnread:l,title:d.createElement(zi.a,{string:Object(Ye.a)("{user} rejected your invitation to {project}"),mapping:{user:d.createElement("strong",null,a.full_name),project:d.createElement(dc,{project:o})}})}):null},user_left_project:function(e){var t=e.notification,n=e.onClick;return d.createElement(vc,{notifications:[t],onClick:n})},user_left_project_grouped:vc,user_removed_from_project:function(e){var t=e.notification,n=e.onClick,r=Boolean(t.is_unread),a=sc(t),o=a.user,i=a.removedUser,c=a.project,l=a.currentUser,s=cc(t),u=s.markAsRead,f=s.markAsUnread,m=Object(Xe.h)(),p=d.useCallback((function(){u(),m({view:{type:"project",projectId:t.project_id}}),n()}),[u,m,t,n]);if(!o)return null;var h=t.removed_uid===l.id?Object(Ye.a)("{user} removed you from {project}"):Object(Ye.a)("{user} removed {user_2} from {project}");return d.createElement(ec,{iconComponent:Ne.zb,isUnread:r,user:o,time:t.created,onClick:p,onClickMarkAsRead:u,onClickMarkAsUnread:f,title:d.createElement(zi.a,{string:h,mapping:{project:d.createElement(dc,{project:c}),user:d.createElement("b",null,o.full_name),user_2:Object(bc.a)((null==i?void 0:i.full_name)||"")}})})},biz_invitation_accepted:function(e){var t=e.notification,n=e.onClick,r=sc(t).user,a=cc(t),o=a.markAsRead,i=a.markAsUnread,c=d.useCallback((function(){o(),n(),window.open("/business/users")}),[o,n]);return r?d.createElement(ec,{isUnread:t.is_unread,user:r,time:t.created,iconComponent:Ne.yb,onClick:c,onClickMarkAsRead:o,onClickMarkAsUnread:i,title:d.createElement(uc,null,d.createElement(zi.a,{string:Object(Ye.a)("{user} joined the {team_name} account"),mapping:{user:d.createElement("strong",null,r.full_name),team_name:t.account_name}}))}):null},biz_invitation_created:function(e){var t=e.notification,n=sc(t).user,r=cc(t),a=r.markAsRead,o=r.markAsUnread,i=lc(t),c=i.syncState,l=i.acceptInvitation,s=i.rejectInvitation,u="";switch(t.state){case"accepted":u=Object(Ye.a)("You joined the {team_name} account");break;case"rejected":u=Object(Ye.a)("You rejected invitation from {user} to the {team_name} account");break;case"invited":u=Object(Ye.a)("{user} invited you to the {team_name} account")}return n&&u?d.createElement(ec,{isUnread:t.is_unread,user:n,time:t.created,onClickMarkAsRead:a,onClickMarkAsUnread:o,title:d.createElement(uc,null,d.createElement(zi.a,{string:u,mapping:{user:d.createElement("strong",null,n.full_name),team_name:t.account_name}}))},"loading"===c?d.createElement(to.a,null):null,"idle"===c&&"invited"===t.state?d.createElement(d.Fragment,null,d.createElement(et.a,{onClick:l,className:pc.a.accept},Object(Ye.a)("Accept")),d.createElement(et.a,{onClick:s,className:pc.a.reject,"aria-label":Object(Ye.a)("Reject")},d.createElement(Ne.x,{small:!0}))):null):null},biz_invitation_rejected:function(e){var t=e.notification,n=e.onClick,r=sc(t).user,a=cc(t),o=a.markAsRead,i=a.markAsUnread,c=d.useCallback((function(){o(),n(),window.open("/business/users")}),[o,n]);return r?d.createElement(ec,{isUnread:t.is_unread,user:r,time:t.created,iconComponent:Ne.zb,onClick:c,onClickMarkAsRead:o,onClickMarkAsUnread:i,title:d.createElement(uc,null,d.createElement(zi.a,{string:Object(Ye.a)("{user} rejected your invitation to the {team_name} account"),mapping:{user:d.createElement("strong",null,r.full_name),team_name:t.account_name}}))}):null},biz_policy_disallowed_invitation:function(e){var t=e.notification,n=e.onClick,r=sc(t).user,a=cc(t),o=a.markAsRead,i=a.markAsUnread,c=Object(Xe.h)(),l=d.useCallback((function(){o(),c({view:{type:"project",projectId:t.project_id}}),n()}),[o,n,c,t]);return r?d.createElement(ec,{isUnread:t.is_unread,user:r,time:t.created,onClick:l,onClickMarkAsRead:o,onClickMarkAsUnread:i,title:d.createElement(uc,null,d.createElement(zi.a,{string:Object(Ye.a)("Team's permission settings don't allow you to share projects outside of your team. Add {user} to your team or change the permission settings"),mapping:{user:d.createElement("strong",null,r.full_name)}}))}):null},biz_policy_rejected_invitation:function(e){var t=e.notification,n=e.onClick,r=sc(t).user,a=cc(t),o=a.markAsRead,i=a.markAsUnread,c=Object(Xe.h)(),l=d.useCallback((function(){o(),c({view:{type:"project",projectId:t.project_id}}),n()}),[o,n,c,t]);return r?d.createElement(ec,{isUnread:t.is_unread,user:r,time:t.created,onClick:l,onClickMarkAsRead:o,onClickMarkAsUnread:i,title:d.createElement(uc,null,d.createElement(zi.a,{string:Object(Ye.a)("Team's permission don't allow user to join projects outside of their team. Ask {user} to add yourself to their team or to change the permission settings"),mapping:{user:d.createElement("strong",null,r.full_name)}}))}):null},biz_account_disabled:function(e){var t=e.notification,n=e.onClick,r=sc(t).user,a=cc(t),o=a.markAsRead,i=a.markAsUnread,c=d.useCallback((function(){o(),n(),window.open("/business/accountAndBilling")}),[o,n]);return r?d.createElement(ec,{isUnread:t.is_unread,user:r,time:t.created,onClick:c,onClickMarkAsRead:o,onClickMarkAsUnread:i,title:d.createElement(uc,null,Object(Ye.a)("Your business account was disabled. Upgrade now to continue using account."))}):null},biz_payment_failed:function(e){var t=e.notification,n=e.onClick,r=sc(t).user,a=cc(t),o=a.markAsRead,i=a.markAsUnread,c=d.useCallback((function(){o(),n(),window.open("/business/accountAndBilling")}),[o,n]);return r?d.createElement(ec,{isUnread:t.is_unread,user:r,time:t.created,iconComponent:Ne.ub,onClick:c,onClickMarkAsRead:o,onClickMarkAsUnread:i,title:d.createElement(uc,null,Object(Ye.a)("We failed to charge you. Please review and update your credit card information to avoid any disruption in service."))}):null},biz_trial_enter_cc:function(e){var t=e.notification,n=e.onClick,r=sc(t).user,a=cc(t),o=a.markAsRead,i=a.markAsUnread,c=d.useCallback((function(){o(),n(),window.open("/business/accountAndBilling")}),[o,n]);return r?d.createElement(ec,{isUnread:t.is_unread,user:r,time:t.created,iconComponent:Ne.ub,onClick:c,onClickMarkAsRead:o,onClickMarkAsUnread:i,title:d.createElement(uc,null,Object(Ye.a)("This is a reminder that your trial will end in a few days. Update your credit card information to keep using our service."))}):null},biz_trial_will_end:function(e){var t=e.notification,n=e.onClick,r=sc(t).user,a=cc(t),o=a.markAsRead,i=a.markAsUnread,c=d.useCallback((function(){o(),n(),window.open("/business/accountAndBilling")}),[o,n]);return r?d.createElement(ec,{isUnread:t.is_unread,user:r,time:t.created,onClick:c,onClickMarkAsRead:o,onClickMarkAsUnread:i,title:d.createElement(uc,null,Object(Ye.a)("This is a reminder that your trial will end in a few days. At that time, we will process your first payment to ensure uninterrupted service."))}):null}};var Gc=n("S7gr"),Wc=n.n(Gc);function Kc(e){var t=e.notifications,n=e.onClick,r=t.length>1,a=t[0],o=function(e,t){var n=t?"".concat(e,"_group"):e;return qc[n=n in qc?n:"default"]}(a.notification_type,r);return d.createElement("li",{"aria-label":"Notification",className:Wc.a.container},r?d.createElement(o,{notifications:t,onClick:n}):d.createElement(o,{notification:a,onClick:n}))}var Yc=n("1eYM"),Jc=n.n(Yc);function Qc(e){var t=e.notifications,n=e.onClickListItem;if(0===t.length)return d.createElement($i,null);var r=Mi(t);return d.createElement("ul",{className:Jc.a.container},r.map((function(e){return d.createElement(Kc,{notifications:e,key:e[0].id,onClick:n})})))}var Zc=n("KT94"),Xc=n.n(Zc);function el(e){var t=e.onClickListItem,n=Object(O.h)((function(e){return e.notifications})),r=n?Object.values(n):null;if(!r)return null;var a=r.filter((function(e){return e.is_unread})),o=a.length,i=Object(s.b)("Mark all as Read");return d.createElement("div",{className:Xc.a.container},d.createElement(Ri.e,null,d.createElement("div",{className:Xc.a.header},d.createElement("div",{className:Xc.a.headerInner},d.createElement(Ri.b,{className:Xc.a.tabList},d.createElement(Ri.a,{className:Xc.a.tab},d.createElement(Gi,{styleClass:Xc.a.tab_fixedWidth},Object(s.b)("Notifications"))),d.createElement(Ri.a,{className:Xc.a.tab},d.createElement(Gi,{styleClass:Xc.a.tab_fixedWidth},Object(s.b)("Unread"),o>0?" (".concat(o,")"):null))),d.createElement(dn.b,{className:Xc.a.markAll,onClick:function(){Pi.a.markReadAll(),Object(Zi.a)("navigation","click","notifications_mark_all_as_read")},title:i,"aria-label":i},d.createElement(Ne.hb,null)))),d.createElement(Ri.d,null,d.createElement(Ri.c,null,d.createElement(Qc,{notifications:r,onClickListItem:t})),d.createElement(Ri.c,null,d.createElement(Qc,{notifications:a,onClickListItem:t})))))}function tl(e){var t=e.newNotifications,n=void 0!==t&&t,r=Object(d.useRef)(),a=Object(d.useState)((function(){return Pi.a.hasUnseen()})),o=S()(a,2),i=o[0],c=o[1],l=Object(d.useState)(!1),s=S()(l,2),u=s[0],m=s[1];Object(d.useEffect)((function(){var e=function(){c(Pi.a.hasUnseen())};return Signals.connect("notifications_updated",e),function(){Signals.disconnect("notifications_updated",e)}}),[]);var p=Object(d.useCallback)((function(){u?m(!1):(Pi.a.setAllSeen(),m(!0))}),[u]),h=Object(d.useCallback)((function(){m(!1)}),[]),v=Object(xr.c)();return Object(d.useEffect)((function(){var e;if(null==v||null===(e=v.globalContext)||void 0===e?void 0:e.setOpenNotifications)return v.globalContext.setOpenNotifications((function(){return p})),function(){var e,t;null==v||null===(e=v.globalContext)||void 0===e||null===(t=e.setOpenNotifications)||void 0===t||t.call(e,null)}}),[v,p]),f.a.createElement(f.a.Fragment,null,f.a.createElement(et.a,{"aria-owns":"notification_popup","aria-label":_("Notifications"),"aria-controls":"notification_popup","aria-expanded":u?"true":"false","aria-haspopup":"listbox",onClick:p,className:"top_bar_btn notifications_btn",ref:r},i?f.a.createElement(Ne.sb,null):f.a.createElement(Ne.tb,null)),u&&f.a.createElement(We.c,{referenceElement:r.current,isShown:!0,onClose:h,withArrow:!1},n?f.a.createElement(el,{onClickListItem:h}):f.a.createElement(Wi,{onClose:h})))}var nl=n("HWOQ"),rl=n("17Jv"),al=(n("jJFt"),n("y2hQ"));function ol(){var e=Object(d.useState)(!1),t=S()(e,2),n=t[0],r=t[1];function a(e){Object(rl.a)().changeWindowState(e)}return Object(al.a)("changeWindowState",(function(e){"maximize"===e?r(!0):"restore-down"===e&&r(!1)})),f.a.createElement("div",{className:"windows_control_background"},f.a.createElement(et.a,{onClick:function(){a("minimize")},title:Object(Ye.a)("Minimize"),"aria-label":Object(Ye.a)("Minimize window"),className:"top_bar_btn windows_control_btn"},f.a.createElement(nl.c,{"aria-hidden":!0})),f.a.createElement(et.a,{onClick:function(){a(n?"restore-down":"maximize"),r(!n)},title:n?Object(Ye.a)("Restore"):Object(Ye.a)("Maximize"),"aria-label":n?Object(Ye.a)("Restore window"):Object(Ye.a)("Maximize window"),className:"top_bar_btn windows_control_btn"},n?f.a.createElement(nl.d,null):f.a.createElement(nl.b,null)),f.a.createElement(et.a,{onClick:function(){a("close")},title:Object(Ye.a)("Close"),"aria-label":Object(Ye.a)("Close window"),className:"top_bar_btn windows_close_btn windows_control_btn"},f.a.createElement(nl.a,null)))}var il=function(){return Object(Ar.g)(Ar.d,(function(){Object(ee.d)("frontend.new_keyboard_shortcuts")||he.a.show()})),f.a.createElement(et.a,{title:Object(Ye.a)("Go to Home view"),"aria-label":Object(Ye.a)("Go to Home view"),shortcut:Ar.d[0],onClick:function(){return he.a.show()},className:"top_bar_btn"},f.a.createElement(Ne.S,null))},cl=n("hleb"),ll=new(function(){function e(){x()(this,e),this.getById=this.getById.bind(this),this.get=this.get.bind(this),this.getAll=this.getAll.bind(this),this.getByName=this.getByName.bind(this)}return N()(e,[{key:"getById",value:function(e){return this.get(e)}},{key:"get",value:function(e){return Object(Jt.d)(k.default.getState(),e)}},{key:"getAll",value:function(){return Object(Jt.c)(k.default.getState())}},{key:"getByName",value:function(e){return Object(Jt.e)(k.default.getState(),e)}}]),e}()),sl=n("4PH6");function ul(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return dl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function dl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fl=new(function(){function e(){var t=this;x()(this,e),Signals.connect("sync_state_changed",(function(){t.ul&&(yi.default.getInstance().getSyncState()===yi.default.getInstance().sync_states.syncing?($replace(t.ul,LI("...")),$setVisibility(t.btn_retry,!1),$show(t.indicator)):(t.generateListReport(t.ul),$setVisibility(t.btn_retry,!0),$hide(t.indicator)))}))}return N()(e,[{key:"show",value:function(){var e=this;this.btn_retry=IstButton.createButton(_("Try to sync again"),null,"red");var t=IstButton.createButton(_("Discard failed updates"),null),n=DIV({c:"sync_report"},DIV(_("Your updates couldn't be synced with Todoist's servers. Please wait a few minutes and try again."),DIV({c:"small_separator"}),this.indicator=Indicator.cssSpinner(),this.btn_retry,DIV({c:"separator"}),_("Detailed log"),":",DIV({c:"small_separator"}),this.ul=UL({c:"sync_error_text",name:"body"})),DIV({c:"separator"}),DIV(SPAN({c:"desc"},_("Discarding will restore your sync, but your updates mentioned above will be lost")),DIV({c:"small_separator"}),t),DIV({c:"separator"}));$hide(this.indicator),this.generateListReport(this.ul),$AEV(this.btn_retry,"click",(function(){return yi.default.getInstance().sync(null,!0,!0),!1})),$AEV(t,"click",(function(){return Object(Pt.b)({confirmLabel:_("Yes"),cancelLabel:_("No"),message:_("Are you sure you want to discard your sync updates?"),onConfirm:function(){yi.default.getInstance().sync_queue.clear(),Signals.sendSignal("clear_local_data"),window.location.reload()}}),!1}));var r=DIV({c:"sync_error_handler"},n);GB_showHTML(_("Sync issues"),r,300,550,(function(){e.ul=null}))}},{key:"generateListReport",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];$replace(e,null);var r,a=function(e){var t=cl.a.getById(e.id),n=(null!=t?t.content:void 0)||e.content;if(n)return $trim(n,75)},o=function(e){var t=M.a.get(e.id),n=(null!=t?t.name:void 0)||e.name;if(n)return $trim(n,75)},i=function(e){var t=L.a.getById(e.id),n=(null!=t?t.name:void 0)||e.name;if(n)return $trim(n,75)},c=function(e){var t=ll.get(e.id),n=(null!=t?t.name:void 0)||t.name;if(n)return $trim(n,75)},l=0,s={};n||($add(e,LI({c:"log_action"},r=BUTTON({c:"full_log_action"},_("Show full log")))),$AEV(r,"click",(function(){return t.generateListReport(e,!0),!1})));var u,d=yi.default.getInstance().getReportableErrorQueue(),f=ul(d);try{for(f.s();!(u=f.n()).done;){var m=u.value,p=void 0;l++;var h="".concat(m.type,"-").concat(m.args.id,"-").concat(m.last_error.error_code);if(!s[h]){s[h]=!0;var v=null;try{-1!==m.type.indexOf("item_")?v=a(m.args):-1!==m.type.indexOf("project_")||-1!==m.type.indexOf("share_")?v=o(m.args):-1!==m.type.indexOf("label_")?v=i(m.args):-1!==m.type.indexOf("filter_")&&(v=c(m.args))}catch(e){}v=v?B(v,": "):"",p=n?LI(B(v),$serialize(m)):LI(B(v),this.humanCommandType(m.type),". ",this.getErrorIfAvailable(m)),$add(e,p)}}}catch(e){f.e(e)}finally{f.f()}if(0===l)$add(e,LI(_("All updates processed successfully!")));else if(Zo.a.supported){var b=function(){var e=JSON.stringify(yi.default.getInstance().sync_queue.get(),null,2);Object(Zo.a)(e).then((function(){k.default.dispatch(Object(sl.g)(_("Sync log copied!")))})).catch((function(){}))},g=BUTTON({c:"copy_log_action"},_("Copy full log to clipboard"));$AEV(g,"click",b),$add(e,LI({c:"log_action"},g))}}},{key:"humanCommandType",value:function(e){switch(e){case"item_add":return _("Task add failed");case"item_delete":return _("Task delete failed");case"item_update":case"item_update_date_complete":return _("Task update failed");case"item_move":return _("Task move failed");case"item_complete":return _("Task complete failed");case"item_uncomplete":return _("Task uncomplete failed");case"item_update_orders_indents":case"item_update_day_orders":return _("Task order update failed");case"note_add":return _("Comment add failed");case"note_update":return _("Comment update failed");case"note_delete":return _("Comment delete failed");case"project_add":return _("Project add failed");case"project_update":return _("Project update failed");case"project_delete":return _("Project delete failed");case"project_archive":return _("Project archive failed");case"project_unarchive":return _("Project unarchive failed");case"project_update_orders_indents":return _("Project order update failed");case"label_add":return _("Label add failed");case"label_delete":return _("Label delete failed");case"label_update":return _("Label update failed");case"label_update_orders":return _("Label order update failed");case"filter_add":return _("Filter add failed");case"filter_delete":return _("Filter delete failed");case"filter_update":return _("Filter update failed");case"filter_update_orders":return _("Filter order update failed");case"share_project":return _("Share project failed");case"delete_collaborator":return _("Remove collaborator failed");case"accept_invitation":return _("Accept invitation failed");case"reject_invitation":return _("Reject invitation failed");case"delete_invitation":return _("Delete invitation failed")}return _("%s failed").replace("%s",e)}},{key:"getErrorIfAvailable",value:function(e){return e&&e.last_error&&e.last_error.error?e.last_error.error:""}}]),e}()),ml=new(function(){function e(){var t=this;x()(this,e),this.syncStateChanged=this.syncStateChanged.bind(this),this._syncStateChanged=this._syncStateChanged.bind(this),this.showOfflineInfo=this.showOfflineInfo.bind(this),this.forceSync=this.forceSync.bind(this),this.showSyncErrorHandler=this.showSyncErrorHandler.bind(this),this.current_state=null,Signals.connect("sync_state_changed",this.syncStateChanged),$AEV(window,"online",this.syncStateChanged),$AEV(window,"offline",this.syncStateChanged),$AEV(window,"load",(function(){!1===navigator.onLine&&t.syncStateChanged()}))}return N()(e,[{key:"attach",value:function(e){this.holder=e}},{key:"syncStateChanged",value:function(){this.holder&&(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this._syncStateChanged,100))}},{key:"_syncStateChanged",value:function(){var e=null;e=yi.default.getInstance().getSyncState()===yi.default.getInstance().sync_states.syncing?"syncing":yi.default.getInstance().global_error||yi.default.getInstance().getReportableErrorQueue().length?"offline":Qo.default.fetchedDataFromServer?"none":"offline";var t=navigator.onLine;if("none"==e&&void 0!==t&&(t||(e="offline")),this.current_state!==e&&(this.current_state=e,e))if($replace(this.holder,null),"syncing"===e)$add(this.holder,Indicator.cssSpinner("small"));else if("offline"===e){var n;this.offline_link=n=BUTTON({c:"top_bar_btn"},svgs.get("sm1/warning.svg",{className:"sync_alert"})),$AEV(n,"mouseover",$p(this.showOfflineInfo,n)),$AEV(n,"mouseout",(function(){IstTooltip.hide()})),!yi.default.getInstance().global_error&&yi.default.getInstance().getReportableErrorQueue().length>0&&$addClass(n,"sync_error_blinking"),n.onclick=this.forceSync,$add(this.holder,n)}else"none"===e&&IstTooltip.hide()}},{key:"showOfflineInfo",value:function(e){var t;yi.default.getInstance().getSyncState();var n=_("Offline mode is on");if(this.offline_link.onclick=this.forceSync,!1===navigator.onLine)t=DIV({c:"sync_error_tooltip"},_("Looks like you're not connected to the Internet. Changes you make in offline mode will be synced when you reconnect."));else if(yi.default.getInstance().global_error){var r=yi.default.getInstance().timeout?yi.default.getInstance().timeout/1e3||10:0;t=DIV({c:"sync_error_tooltip"},P(_("We're having trouble reaching the Todoist servers. Changes you make in offline mode will be synced once we're able to reconnect.")),P(_("Click on this icon to force a sync.")),r?P(_("Trying again in %s seconds...").replace("%s",r)):null)}else yi.default.getInstance().getReportableErrorQueue().length>0?(n=_("Sync issues"),t=DIV({c:"sync_error_tooltip"},_("We could not sync some updates"),BR(),_("Click here for more details")),this.offline_link.onclick=this.showSyncErrorHandler):t=null;IstTooltip.show(e,DIV({c:"ist_tooltip_content"},B(n),t),null,5,5)}},{key:"forceSync",value:function(){return IstTooltip.hide(),this.current_state="syncing",yi.default.getInstance().sync(null,!0,!0),$replace(this.holder,Indicator.cssSpinner("small")),!1}},{key:"showSyncErrorHandler",value:function(){return fl.show(),!1}}]),e}());function pl(){var e=Object(d.useRef)();return Object(d.useEffect)((function(){ml.attach(e.current)}),[]),f.a.createElement("span",{id:"sync_state_icon",ref:e})}function hl(){var e=Object(d.useContext)(Rr),t=e.menuOn,n=e.toggleMenu;return f.a.createElement(et.a,{"aria-label":_("Main menu"),role:"switch","aria-checked":t,className:"left_menu_toggle top_bar_btn",tooltipProps:{className:"left_menu_toggle__tooltip"},title:t?_("Close menu"):_("Open menu"),shortcut:"m",onClick:n},f.a.createElement(Ne.x,{className:"close_icon"}),f.a.createElement(Ne.N,{className:"menu_icon"}))}var vl=n("wrHN");var bl=Object(O.c)((function(e){return{dataLoaded:Object(po.a)(e),theme:Object(no.c)(e)}}))((function(e){var t=e.dataLoaded,n=e.theme,r=Object(d.useRef)(null);Object(d.useEffect)((function(){var e;null===(e=mo.a.switchThemes(n))||void 0===e||e.catch((function(){}))}),[n]);var a=Object(d.useState)(!1),o=S()(a,2),i=o[0],c=o[1],l=Object(X.f)()&&i;return t?f.a.createElement(vl.a,null,f.a.createElement("div",{"data-testid":"top_bar",id:"top_bar",onDoubleClick:function(e){e.target!==e.currentTarget&&e.target!==r.current||Object(rl.a)().titleBarDoubleClick()},style:{display:"none"}},Object(X.f)()&&f.a.createElement("div",{className:"top_bar_drag_region"}),f.a.createElement("div",{id:"top_bar_inner",ref:r,role:"banner","aria-label":Object(Ye.a)("Top Banner: contains Search, Quick Add, Productivity, Help, Notifications, and Settings")},f.a.createElement("div",{className:"left_control"},f.a.createElement(hl,null),f.a.createElement(il,null),f.a.createElement(Go,{isActive:i,onActiveChange:c})),f.a.createElement("div",{"aria-label":Object(Ye.a)("Menu"),className:Ae()("top_right_button_group",{top_right_button_group_collapsed:l}),role:"group"},f.a.createElement(pl,null),f.a.createElement(Wo,null),f.a.createElement(fo,null),f.a.createElement(xi,null),f.a.createElement(tl,{newNotifications:Object(ee.d)("frontend.new_notifications")}),f.a.createElement(_i,null),Object(X.f)()?f.a.createElement(ol,null):null)))):null}));function gl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var _l=function(e){ot()(n,e);var t=gl(n);function n(){return x()(this,n),t.apply(this,arguments)}return N()(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.open!==e.open}},{key:"header",value:function(){var e=this.props.goal,t=void 0===e?0:e,n=_n("Daily goal completed: {num_completed}/{num_goal} task","Daily goal completed: {num_completed}/{num_goal} tasks",t);return Object(Xr.a)(n,{num_completed:t,num_goal:t})}},{key:"render",value:function(){var e=this.props,t=e.open,n=void 0!==t&&t,r=e.theme,a=void 0===r?0:r,o=e.userName,i=void 0===o?"":o,c=e.onClick,l=e.onClose,s=Object(Ia.i)(a);return a!==Ia.h&&a!==Ia.f||(s=Object(Ia.i)(Ia.g)),a===Ia.d&&(s=Ia.b),f.a.createElement(ci,{open:n,onClose:l,autoHideDuration:6e3,onClick:c},n?f.a.createElement("div",{className:"goal_notifier"},f.a.createElement(Da,{className:"icon",width:50,color:s}),f.a.createElement("div",{className:"content"},f.a.createElement("h1",null,this.header()),f.a.createElement("p",null,function(e){var t=[_("Well done, {user_name}!"),_("You conquered the day, {user_name}!"),_("Nice work, {user_name}!")],n=(new Date).getDate()%t.length;return Object(Xr.a)(t[n],{user_name:e})}(i)),f.a.createElement("a",{className:"cta"},_("View Detailed Stats")))):null)}}]),n}(f.a.Component);_l.propTypes={theme:Ie.a.number,userName:Ie.a.string,goal:Ie.a.number,onClick:Ie.a.func,onClose:Ie.a.func,open:Ie.a.bool};var yl=_l;function Ol(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var jl=function(e){ot()(n,e);var t=Ol(n);function n(){return x()(this,n),t.apply(this,arguments)}return N()(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.open!==e.open}},{key:"header",value:function(){var e=this.props.goal,t=void 0===e?0:e,n=_n("Weekly goal completed: {num_completed}/{num_goal} task","Weekly goal completed: {num_completed}/{num_goal} tasks",t);return Object(Xr.a)(n,{num_completed:t,num_goal:t})}},{key:"render",value:function(){var e=this.props,t=e.open,n=void 0!==t&&t,r=e.theme,a=void 0===r?0:r,o=e.userName,i=void 0===o?"":o,c=e.onClick,l=e.onClose,s=Object(Ia.i)(a);return a!==Ia.h&&a!==Ia.f||(s=Object(Ia.i)(Ia.g)),a===Ia.d&&(s=Ia.b),f.a.createElement(ci,{open:n,onClose:l,autoHideDuration:6e3,onClick:c},n?f.a.createElement("div",{className:"goal_notifier"},f.a.createElement(xa,{className:"icon",width:50,color:s}),f.a.createElement("div",{className:"content"},f.a.createElement("h1",null,this.header()),f.a.createElement("p",null,function(e){var t=[_("You did it, {user_name}!"),_("Nice work, {user_name}!"),_("Nicely done, {user_name}!"),_("You conquered the week!"),_("Treat yourself. You deserve it, {user_name}!")],n=(new Date).getDate()%t.length;return Object(Xr.a)(t[n],{user_name:e})}(i)),f.a.createElement("a",{className:"cta"},_("View Detailed Stats")))):null)}}]),n}(f.a.Component);jl.propTypes={theme:Ie.a.number,userName:Ie.a.string,goal:Ie.a.number,open:Ie.a.bool,onClick:Ie.a.func,onClose:Ie.a.func};var wl=jl;function El(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var kl=function(e){ot()(n,e);var t=El(n);function n(e){var r;return x()(this,n),r=t.call(this,e),l()(rt()(r),"onClose",(function(){r.setState({openDay:!1,openWeek:!1})})),l()(rt()(r),"handleClick",(function(){Signals.sendSignal("productivity_stat_show"),r.setState({openDay:!1,openWeek:!1})})),r.state={openDay:!1,openWeek:!1},r}return N()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t,n=(t=e.stats,rn()("days_items.".concat(Object(Yr.i)(),".goal_first_reached_at"),t));n&&Date.now()-n.getTime()<1e3&&this.setState({openDay:!0});var r=function(e){return rn()("week_items.".concat(Object(Yr.h)(),".goal_first_reached_at"),e)}(e.stats);r&&Date.now()-r.getTime()<1e3&&this.setState({openWeek:!0})}},{key:"render",value:function(){if(Math.max(document.documentElement.clientWidth,window.innerWidth||0)<700)return null;var e=this.props,t=e.userName,n=e.stats,r=e.theme,a={userName:t,theme:r,open:this.state.openDay,goal:Object(Yr.c)({stats:n}),onClose:this.onClose,onClick:this.handleClick},o={userName:t,theme:r,open:this.state.openWeek,goal:Object(Yr.k)({stats:n}),onClose:this.onClose,onClick:this.handleClick};return f.a.createElement(f.a.Fragment,null,f.a.createElement(yl,a),f.a.createElement(wl,o))}}]),n}(f.a.Component);l()(kl,"propTypes",{userName:Ie.a.string,stats:Ie.a.object,theme:Ie.a.number});var Dl=Object(O.c)((function(e){return{userName:rn()("user.full_name",e),theme:Object(no.c)(e),stats:e.stats}}))(kl),Cl=(n("gYEG"),n("ejxE")),Sl=n.n(Cl);function Il(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var Tl=function(e){ot()(n,e);var t=Il(n);function n(e){var r;return x()(this,n),r=t.call(this,e),l()(rt()(r),"timerAutoHide",null),l()(rt()(r),"handleTransitionExited",(function(){r.setState({exited:!0})})),l()(rt()(r),"handleMouseEnter",(function(e){r.props.onMouseEnter&&r.props.onMouseEnter(e),r.handlePause()})),l()(rt()(r),"handleMouseLeave",(function(e){r.props.onMouseLeave&&r.props.onMouseLeave(e),r.handleResume()})),l()(rt()(r),"handlePause",(function(){clearTimeout(r.timerAutoHide)})),l()(rt()(r),"handleResume",(function(){if(null!=r.props.autoHideDurationMs){if(void 0!==r.props.resumeHideDurationMs)return void r.setAutoHideTimer(r.props.resumeHideDurationMs);r.setAutoHideTimer(.5*(r.props.autoHideDurationMs||0))}})),l()(rt()(r),"handleCloseClick",(function(e){r.props.onClose&&(r.props.onClose(e,"clickicon"),e.stopPropagation())})),r.state={exited:!1},r}return N()(n,[{key:"UNSAFE_componentWillMount",value:function(){this.props.opened||this.setState({exited:!0})}},{key:"componentDidMount",value:function(){this.props.opened&&this.setAutoHideTimer()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.opened&&this.state.exited&&this.setState({exited:!1})}},{key:"componentDidUpdate",value:function(e){e.opened!==this.props.opened&&(this.props.opened?this.setAutoHideTimer():clearTimeout(this.timerAutoHide))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerAutoHide)}},{key:"setAutoHideTimer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.props.onClose&&null!=this.props.autoHideDurationMs&&(clearTimeout(this.timerAutoHide),this.timerAutoHide=setTimeout((function(){e.props.onClose&&null!=e.props.autoHideDurationMs&&e.props.onClose(null,"timeout")}),t||this.props.autoHideDurationMs||0))}},{key:"render",value:function(){var e=this,t=this.props,n=t.opened,r=t.transitionDurationMs;if(!n&&this.state.exited)return null;var a={in:n,appear:!0,timeout:r,onExited:this.handleTransitionExited};return f.a.createElement(ut.a,a,(function(t){return e.props.children(t,{onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave})}))}}]),n}(f.a.Component);l()(Tl,"propTypes",{opened:Ie.a.bool.isRequired,transitionDurationMs:Ie.a.number.isRequired,autoHideDurationMs:Ie.a.number.isRequired,resumeHideDurationMs:Ie.a.number.isRequired,onClose:Ie.a.func.isRequired,onMouseEnter:Ie.a.func,onMouseLeave:Ie.a.func,children:Ie.a.func});var Al=n("tChx");function xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xl(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rl={transition:"all ".concat(300,"ms ease-out"),bottom:"-10px",opacity:0},Nl={entering:{bottom:"-10px",opacity:0},entered:{bottom:"20px",opacity:1}};var Ll=Object(O.c)((function(e){return{undo:e.undo}}))((function(e){var t=e.undo,n=e.dispatch,r=e.duration,a=void 0===r?8e3:r;function o(){n(Object(sl.f)())}if(!t)return null;var i=function(e,t,n){function r(e){return f.a.createElement("a",{className:"bold_text_link",href:"#project/".concat(e.id),onClick:function(t){t.preventDefault(),Al.a.setCurrentById(e.id),n()}},f.a.createElement(Ge.a,{source:e.name}))}switch(e.type){case At.b:return{handleUndo:function(){return t(Object(At.w)())},content:Object(Ye.a)("Order changed")};case At.a:var a=e.destProject;if(!a)throw new Error("unexpected duplicate state");return{handleShow:function(){Al.a.setCurrentById(a.id)},content:Object(Ye.a)("Project duplicated")};case Io.i:return{handleUndo:function(){return t(Object(Io.O)())},content:Object(Ye.a)("Order changed")};case Io.j:return{handleUndo:function(){return t(Object(Io.Q)())},content:Object(Ye.a)("Due date updated")};case So.c:return{handleUndo:function(){return t(Object(So.n)())},content:Object(Ye.a)("Order changed")};case So.b:var o=e.destProject;if(!o)throw new Error("unexpected undo state");return{handleUndo:function(){return t(Object(So.k)())},content:f.a.createElement(zi.a,{string:Object(Ye.a)("Section moved to {project_name}"),mapping:{project_name:r(o)}})};case Io.f:var i=e.destProject;return{handleUndo:function(){return t(Object(Io.H)())},content:i?f.a.createElement(zi.a,{string:Object(Ye.a)("Task moved to {project_name}"),mapping:{project_name:r(i)}}):Object(Ye.a)("Order changed")};case Io.g:var c=e.destProject;if(!c)throw new Error("unexpected undo state");return{content:f.a.createElement(zi.a,{string:Object(Ye.a)("Task moved to {project_name}"),mapping:{project_name:r(c)}})};case Io.c:if(!e.due)throw new Error("Recurring task is missing a due date");var l=V.a.formatView(e.due);return{handleUndo:function(){return t(Object(Io.q)())},content:Object(Xr.a)(Object(Ye.a)("Completed. Next occurrence: {date}"),{date:l})};case Io.d:if(!e.prevState||!e.prevState.items)throw new Error("unexpected undo state");var s=Sl()(e.prevState.items).length;return{handleUndo:function(){return t(Object(Io.r)())},content:Object(Xr.a)(Object(Ye.b)("1 task completed","{n} tasks completed",s),{n:s})};case sl.a:var u=e.project;if(!u)throw new Error("unexpected undo state");return{content:f.a.createElement(zi.a,{string:Object(Ye.a)("Task added to {project_name}"),mapping:{project_name:r(u)}})};default:return{content:e.message}}}(t,n,o),c=i.content,l=i.handleShow,s=i.handleUndo;return f.a.createElement(Tl,{opened:!0,autoHideDurationMs:a,resumeHideDurationMs:a,transitionDurationMs:300,onClose:o},(function(e,t){return f.a.createElement("div",Ce()({className:"undo_toast_positioner",style:Pl(Pl({},Rl),Nl[e])},t),f.a.createElement("div",{className:"undo_toast"},f.a.createElement("div",{className:"notifier_content"},f.a.createElement("div",{className:"text_holder",role:"alert"},c),l?f.a.createElement(et.a,{onClick:l},Object(Ye.a)("Show")):null,s?f.a.createElement(et.a,{onClick:s},Object(Ye.a)("Undo")):null,f.a.createElement(et.a,{className:"close_button",onClick:o,"aria-label":Object(Ye.a)("Close")},f.a.createElement(Ne.x,{small:!0})))))}))}));function Ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ml(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ml(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var Bl={transition:"all ".concat(300,"ms ease-out"),bottom:"-10px",opacity:0},Vl={entering:{bottom:"-10px",opacity:0},entered:{bottom:"10px",opacity:1}},$l=function(e){ot()(n,e);var t=zl(n);function n(e){var r;return x()(this,n),r=t.call(this,e),l()(rt()(r),"handleLearnMoreClick",(function(){r.markSeen()})),l()(rt()(r),"handleGotItClick",(function(){r.markSeen()})),l()(rt()(r),"handleOnClose",(function(){r.markSeen()})),r.handleLearnMoreClick=r.handleLearnMoreClick.bind(rt()(r)),r}return N()(n,[{key:"markSeen",value:function(){k.default.dispatch(Object(ve.o)(ve.e))}},{key:"render",value:function(){var e=this;return f.a.createElement(Tl,{opened:!0,autoHideDurationMs:8e3,resumeHideDurationMs:8e3,transitionDurationMs:300,onClose:this.handleOnClose},(function(t,n){return f.a.createElement("div",Ce()({className:"promo_banner",style:Fl(Fl({},Bl),Vl[t])},n),f.a.createElement("div",{className:"banner is-shown"},f.a.createElement("div",{className:"main-section-full"},f.a.createElement("h1",null,_("Your Google Assistant lists are now synced with Todoist projects. Any synced tasks will have the \u201cAssistant\u201d label.")),f.a.createElement("a",{className:"ist_button ist_button_red",onClick:e.handleGotItClick},_("Got it")),f.a.createElement("a",{className:"link",onClick:e.handleLearnMoreClick,href:Ya.f,target:"_blank",rel:"noopener noreferrer"},_("Learn more")))))}))}}]),n}(f.a.Component),Hl=n("QYcL"),Ul=n.n(Hl);function ql(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var Gl=function(e){ot()(n,e);var t=ql(n);function n(e){var r;return x()(this,n),(r=t.call(this,e)).onAcceptClick=r.onAcceptClick.bind(rt()(r)),r.onRejectClick=r.onRejectClick.bind(rt()(r)),r}return N()(n,[{key:"onAcceptClick",value:function(){k.default.dispatch(Object(ve.k)()).then((function(){window.location="/premium/free_trial"}))}},{key:"onRejectClick",value:function(){k.default.dispatch(Object(ve.q)())}},{key:"render",value:function(){return f.a.createElement("div",{className:"promo_banner"},f.a.createElement("div",{className:"banner is-shown"},f.a.createElement("img",{className:"banner-img",src:Ul.a,alt:""}),f.a.createElement("div",{className:"main-section"},f.a.createElement("div",null,f.a.createElement("h1",null,Object(Xr.a)(_("{user_name}, want to try Premium for free? It\u2019s this way\u2026"),{user_name:this.props.user?this.props.user.full_name:""})),f.a.createElement("a",{className:"ist_button ist_button_red",onClick:this.onAcceptClick},_("Start Free Trial")),f.a.createElement("a",{className:"not-now-btn",onClick:this.onRejectClick},_("Not Now"))))))}}]),n}(f.a.Component);l()(Gl,"propTypes",{user:Ie.a.object});var Wl=Object(O.c)((function(e){return{user:e.user}}))(Gl),Kl=n("lDtu");function Yl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var Jl=function(e){ot()(n,e);var t=Yl(n);function n(e){var r;return x()(this,n),(r=t.call(this,e)).onUpgradeClick=r.onUpgradeClick.bind(rt()(r)),r.onNotNowClick=r.onNotNowClick.bind(rt()(r)),r}return N()(n,[{key:"onUpgradeClick",value:function(){k.default.dispatch(Object(ve.o)(ve.f,ve.b))}},{key:"onNotNowClick",value:function(){k.default.dispatch(Object(ve.o)(ve.f,ve.a))}},{key:"render",value:function(){var e,t=this.props.user.full_name.split(" ")[0];return e=this.props.isPremiumTrial?Object(Xr.a)(_("{user_first_name}, just a reminder - your Premium trial ends in {day_num} days. Want to stay Premium? Click here."),{user_first_name:t,day_num:this.props.expireDayCount}):Object(Xr.a)(_("{user_first_name}, just a reminder - your Premium expires in {day_num} days. Want to keep your Premium access? Click here."),{user_first_name:t,day_num:this.props.expireDayCount}),f.a.createElement("div",{className:"promo_banner"},f.a.createElement("div",{className:"banner is-shown"},f.a.createElement("img",{className:"banner-img",src:Ul.a,alt:""}),f.a.createElement("div",{className:"main-section"},f.a.createElement("h1",null,e),f.a.createElement("a",{className:"ist_button ist_button_red",onClick:this.onUpgradeClick,href:"https://todoist.com/premium",target:"_blank",rel:"noopener noreferrer"},this.props.isPremiumTrial?_("Upgrade"):_("Renew")),f.a.createElement("a",{className:"not-now-btn",onClick:this.onNotNowClick},_("Not Now")))))}}]),n}(f.a.Component);l()(Jl,"propTypes",{user:Ie.a.object,isPremiumTrial:Ie.a.bool,expireDayCount:Ie.a.number});var Ql=Object(O.c)((function(e){var t=!1,n=null;e.user.free_trail_expires&&(t=(n=new Date(e.user.free_trail_expires))>new Date),t||(n=new Date(e.user.premium_until));var r=Kl.b.day_diff(new Date,n);return{user:e.user,isPremiumTrial:t,expireDayCount:r}}))(Jl);function Zl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var Xl=function(e){ot()(n,e);var t=Zl(n);function n(e){return x()(this,n),t.call(this,e)}return N()(n,[{key:"render",value:function(){var e=this.props.state;return e.undo?null:Object(ve.n)(ve.e,e)?f.a.createElement($l,null):function(e){return e.user&&!e.user.free_trail_expires&&!e.user.is_premium&&Object(ve.n)(ve.g,e)}(e)?f.a.createElement(Wl,null):function(e){if(!e.user||!e.user.premium_until&&!e.user.free_trail_expires||!Object(ve.n)(ve.f,e))return!1;var t=!1,n=null;e.user.free_trail_expires&&(t=(n=new Date(e.user.free_trail_expires))>new Date),t||(n=new Date(e.user.premium_until));var r=Kl.b.day_diff(new Date,n);return!(r>40||r<0)}(e)?f.a.createElement(Ql,null):null}}]),n}(f.a.Component);Xl.propTypes={state:Ie.a.shape({tooltip:Ie.a.shape({scheduled:Ie.a.any,seen:Ie.a.any}),undo:Ie.a.object})};var es=Object(an.createSelector)(tn()(["undo","tooltip.scheduled","tooltip.seen","user"]),(function(e){return{state:e}})),ts=Object(O.c)(es)(Xl);function ns(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim()}function rs(e){var t=function(e){var t=e.detailView,n=e.mainView,r=e.items,a=e.filters,o=e.projects;if(t)return r&&r[t.id]?ns(r[t.id].content)+": Todoist":"Todoist";switch(n.type){case Re.m:return _("Today")+": Todoist";case Re.n:return _("Upcoming")+": Todoist";case Re.j:return n.id?ns(n.id)+": Todoist":"Todoist";case Re.i:return a[n.id]?ns(a[n.id].name)+": Todoist":"Todoist";case Re.k:if(n.ids&&1!==n.ids.length)return"Todoist";var i=o[n.ids[0]];return i?ns(i.name)+": Todoist":"Todoist";case Re.l:return n.query+": Todoist";case Re.h:return _("Activity")+": Todoist";default:return"Todoist"}}(e);return f.a.useEffect((function(){document.title=xo.a.formatSimple(t,{only_text:!0,as_html:!1})}),[t]),null}rs.propTypes={mainView:Ie.a.object,filters:Ie.a.object,items:Ie.a.object,labels:Ie.a.object,projects:Ie.a.object},rs.defaultProps={mainView:{},filters:{},items:{},labels:{},projects:{}};var as=rs,os=Object(O.c)((function(e){return{detailView:e.detailView,mainView:e.mainView,filters:Object(Jt.g)(e),items:e.items,labels:e.labels,projects:e.projects}}))(as),is=n("MvHh");function cs(e){var t=e.tooltip,n=e.children,r=Object(O.g)();Object(d.useEffect)((function(){return function(){return r(Object(ve.o)(t))}}),[t,r]),Object(d.useEffect)((function(){var e=function(){return r(Object(ve.o)(t))};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}));var a=function(){return r(Object(ve.o)(t))};return f.a.createElement("div",{className:"promotion_banner"},n(a),f.a.createElement(et.a,{className:"promotion_banner__close_btn",onClick:a,"aria-label":_("Close")},f.a.createElement(Ne.x,null)))}cs.propTypes={tooltip:Ie.a.string.isRequired,children:Ie.a.func.isRequired};var ls=n("yDGi"),ss=n("aYLF"),us=n.n(ss);function ds(){var e=Object(O.h)(Object(ve.n)(ve.h)),t=Object(O.h)(Object(Jo.l)({days:1}));return X.a.isMac&&!X.a.isMacApp&&e&&t?f.a.createElement(cs,{tooltip:ve.h},(function(e){return f.a.createElement(f.a.Fragment,null,f.a.createElement("img",{width:50,className:"promotion_banner__image",src:us.a}),f.a.createElement("div",{className:"promotion_banner__content"},f.a.createElement("h1",null,_("Todoist for Mac")),f.a.createElement("p",null,_("Get desktop notifications and launch from the Dock.")),f.a.createElement(ls.a,{href:"https://geo.itunes.apple.com/us/app/todoist-to-do-list-task-manager/id585829637?mt=12",onClick:e,"data-track":"promotion|macos|follow"},_("Download for Mac"))))})):null}var fs=n("POZF"),ms=n.n(fs);function ps(){var e=Object(O.h)(Object(ve.n)(ve.i)),t=Object(O.h)(Object(Jo.l)({days:1}));return X.a.isWindows&&!X.a.isElectron&&e&&t?f.a.createElement(cs,{tooltip:ve.i},(function(e){return f.a.createElement(f.a.Fragment,null,f.a.createElement("img",{width:50,className:"promotion_banner__image",src:ms.a}),f.a.createElement("div",{className:"promotion_banner__content"},f.a.createElement("h1",null,Object(Ye.a)("Todoist for Windows")),f.a.createElement("p",null,Object(Ye.a)("Get desktop notifications and work offline.")),f.a.createElement(ls.a,{href:"https://todoist.com/downloads/windows",onClick:e,"data-track":"promotion|windows|follow"},Object(Ye.a)("Download for Windows"))))})):null}function hs(){return f.a.createElement(f.a.Fragment,null,f.a.createElement(ds,null),f.a.createElement(ps,null))}var vs=n("G8pN"),bs=n("wA9o"),gs=n("X657"),_s=n.n(gs),ys=f.a.createContext({darkTheme:!1,onClose:function(){}});function Os(e){var t=e.className,n=e.children,r=e.darkTheme,a=e.isShown,o=e.onClose;return f.a.createElement(lr.a.Box,{className:Ae()(t,_s.a.educationBanner),isOpen:a,onDismiss:o},f.a.createElement(ys.Provider,{value:{darkTheme:r,onClose:o}},n))}function js(e){var t=e.className,n=e.children,r=Object(d.useContext)(ys).darkTheme;return f.a.createElement(lr.a.Body,{className:Ae()(t,_s.a.body)},n({darkTheme:r}))}function ws(e){var t=e.className,n=e.link,r=Object(d.useContext)(ys).onClose;return f.a.createElement(lr.a.Actions,{className:Ae()(t,_s.a.actions)},f.a.createElement(bs.m,null,f.a.createElement(bs.w,{href:n,tone:"secondary",openInNewTab:!0},Object(Ye.a)("Learn more")),f.a.createElement(vs.a,{variant:"primary",onClick:r},Object(Ye.a)("Got it!"))))}Os.displayName="EducationBanner.Box",js.displayName="EducationBanner.Body",ws.displayName="EducationBanner.Actions";var Es={Box:Object(O.c)((function(e,t){return{darkTheme:Object(no.c)(e)===Ia.d,isShown:Object(ve.n)(t.tooltip,e)}}),(function(e,t){return{onClose:function(){e(Object(ve.o)(t.tooltip))}}}))(Os),Body:js,Actions:ws},ks=n("r9rm"),Ds=n.n(ks),Cs=n("oSvq"),Ss=n.n(Cs),Is=n("YEuO"),Ts=n.n(Is);function As(){return f.a.createElement(Es.Box,{tooltip:"task_description"},f.a.createElement(Es.Body,null,(function(e){var t=e.darkTheme;return f.a.createElement(f.a.Fragment,null,f.a.createElement(bs.r,{space:"small",paddingTop:"xlarge",paddingX:"large",paddingBottom:"xsmall"},f.a.createElement(bs.k,{level:1},Object(Ye.a)("Task descriptions")),f.a.createElement("p",{className:Ts.a.bodyText},f.a.createElement(bs.t,null,Object(Ye.a)("Some tasks require a little extra information. That\u2019s where task descriptions, directly under your task name, come in handy.")))),f.a.createElement("img",{alt:"",src:t?Ds.a:Ss.a,className:Ts.a.image}))})),f.a.createElement(Es.Actions,{link:Ya.o}))}function xs(e){var t=e.className;return f.a.createElement("svg",{viewBox:"0 0 211 60",className:t},f.a.createElement("defs",null,f.a.createElement("rect",{id:"wliA",width:"52",height:"52",x:"0",y:"0",rx:"12"})),f.a.createElement("g",{fill:"none",fillRule:"evenodd"},f.a.createElement("g",{transform:"translate(4 4)"},f.a.createElement("rect",{width:"56",height:"56",x:"-2",y:"-2",stroke:"#FFF",strokeWidth:"4",rx:"12"}),f.a.createElement("mask",{id:"wliB",fill:"#fff"},f.a.createElement("use",{xlinkHref:"#wliA"})),f.a.createElement("rect",{width:"56",height:"56",x:"-2",y:"-2",stroke:"#000",strokeOpacity:".2",strokeWidth:"4",rx:"12"}),f.a.createElement("path",{fill:"#000",fillOpacity:".3",d:"M44 51.676l-18-8.83-18 8.83V-1h36z",mask:"url(#wliB)"}),f.a.createElement("path",{fill:"#FFF",fillOpacity:".8",d:"M25.5522 12.1125l2.961 8.888h9.672l-7.841 5.952 3.016 9.189-7.808-5.708-7.808 5.708 3.016-9.189-7.841-4.952h9.671z",mask:"url(#wliB)"})),f.a.createElement("path",{fill:"#E44332",d:"M203.5 0h-45c-4.125 0-7.5 3.375-7.5 7.5v45c0 4.125 3.375 7.5 7.5 7.5h45c4.125 0 7.5-3.375 7.5-7.5v-45c0-4.125-3.375-7.5-7.5-7.5"}),f.a.createElement("path",{fill:"#FFF",d:"M184.0934 31.792c.699-.402 1.453-.266 1.87-.022.412.241 1.517.869 2.099 1.201.582.332.556 1.252.036 1.552-.52.301-23.22 13.364-24.281 13.975-.864.498-1.723.511-2.62.004-1.503-.848-7.703-4.46-10.197-5.912v-5.06s9.634 5.599 10.245 5.952c.774.448 1.734.442 2.51.001.649-.368 20.048-11.523 20.338-11.691zm0-10.1098c.699-.401 1.453-.266 1.87-.022.412.241 1.517.869 2.099 1.201.582.332.556 1.253.036 1.552-.52.302-23.22 13.364-24.281 13.975-.864.499-1.723.511-2.62.004-1.503-.848-7.703-4.46-10.197-5.912v-5.06s9.634 5.599 10.245 5.953c.774.447 1.734.442 2.51 0 .649-.368 20.048-11.523 20.338-11.691zm0-10.1089c.699-.402 1.453-.267 1.87-.023.412.241 1.517.869 2.099 1.201.582.332.556 1.253.036 1.553-.52.301-23.22 13.363-24.281 13.974-.864.499-1.723.511-2.62.005-1.503-.849-7.703-4.46-10.197-5.912v-5.06s9.634 5.598 10.245 5.952c.774.448 1.734.442 2.51.001.649-.369 20.048-11.524 20.338-11.691zM125 29.8752l-15-16.455v9.58H86v14h24v9.329z"}),f.a.createElement("path",{fill:"#000",fillOpacity:".2",d:"M125 29.8752l-15-16.455v9.58H86v14h24v9.329z"})))}xs.propTypes={className:Ie.a.string};var Ps=xs;function Rs(e){var t=e.children,n=e.onFileSelect,r=e.loading,a=Pe()(e,["children","onFileSelect","loading"]),o=Object(d.useRef)();return f.a.createElement(f.a.Fragment,null,f.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){n(e.target.files[0])},accept:".zip",multiple:!1,ref:o,"data-testid":"file-input"}),f.a.createElement(et.a,Ce()({},a,{className:"file_button",disabled:r,onClick:function(){o.current.value="",o.current.click()}}),r?f.a.createElement(to.b,{height:20,width:20}):f.a.createElement(Ne.k,null),t))}Rs.propTypes={children:Ie.a.node,loading:Ie.a.bool,onFileSelect:Ie.a.func.isRequired};var Ns=Rs,Ls=n("bKtp");function Ms(e){var t=e.onUploadSuccess,n=e.onImmediateUploadSuccess,r=e.onFailure,a=Object(d.useState)(null),o=S()(a,2),i=o[0],c=o[1],l=Object(d.useState)(!1),s=S()(l,2),u=s[0],m=s[1],p=Object(d.useState)(!1),h=S()(p,2),v=h[0],b=h[1];var g=_("You can learn the ins and outs of the import process by visiting our <a>Help Center</a>.").replace("<a>",'<a href="'.concat(Ya.h,'" target="_blank" rel="noopener noreferrer">')),y=_("Psst: You can <a>export your Wunderlist data to a ZIP file here</a>.").replace("<a>",'<a href="https://export.wunderlist.com/export" target="_blank" rel="noopener noreferrer">'),O=_("The ZIP file is too big. Delete large file attachments in Wunderlist, then <a>re-export your ZIP file</a> and try the import again.").replace("<a>",'<a href="https://export.wunderlist.com/" target="_blank" rel="noopener noreferrer">');return f.a.createElement(f.a.Fragment,null,f.a.createElement(lr.a.Header,{title:"",className:"wunderlist_importer__header"}),f.a.createElement(lr.a.Body,{className:"wunderlist_importer__body"},f.a.createElement("h1",{className:"wunderlist_importer__title"},_("Ready to import your Wunderlist tasks to Todoist?")),f.a.createElement(Ps,{className:"wunderlist_importer__illustration"}),f.a.createElement("p",{className:"wunderlist_importer__text"},_("Click that red button below to add your active tasks, due dates, reminders, notes, and files to Todoist.")),f.a.createElement("p",{className:"wunderlist_importer__text",dangerouslySetInnerHTML:{__html:g}}),f.a.createElement("div",{className:"wunderlist_importer__upload_action"},f.a.createElement("label",{htmlFor:"file-button"},_("Upload File")),f.a.createElement(Ns,{id:"file-button",onFileSelect:function(e){c(e),e.size>2146e6&&m(!0)},loading:v},i?i.name:_("Choose File")),u?f.a.createElement("p",{className:"wunderlist_importer__note wunderlist_importer__note--error",role:"alert",dangerouslySetInnerHTML:{__html:O}}):null),f.a.createElement(et.a,{className:"wunderlist_importer__primary_action ist_button ist_button_red",disabled:!i||v||u,onClick:function(){var e=new FormData;e.append("filename",i.name),e.append("file",i),b(!0),Object(Ls.a)("/import/wunderlist/v2",{withToken:!0,nonApiPath:!0,method:"POST",body:e}).then((function(e){b(!1),"error"===e.status?r(e.error_codes):"success"===e.status?n(e.project_id):t(e)})).catch((function(e){b(!1),e.response&&413===e.response.status?r(["file_too_big"]):r()}))}},_("Start Import")),f.a.createElement("p",{className:"wunderlist_importer__note",dangerouslySetInnerHTML:{__html:y}})))}Ms.propTypes={onUploadSuccess:Ie.a.func.isRequired,onImmediateUploadSuccess:Ie.a.func.isRequired,onFailure:Ie.a.func.isRequired};var Fs=Ms;function zs(e){var t=e.name,n=e.current,r=e.total;return f.a.createElement("li",{className:"status_list__item"},t,f.a.createElement("span",{className:"status_list__item__status"},n," / ",r),f.a.createElement("span",{className:"status_list__item__icon"},n===r?f.a.createElement(Ne.t,null):null))}function Bs(e){var t=e.uploadStatus;return f.a.createElement("div",{className:"status_list"},f.a.createElement("h2",{className:"status_list__title"},_("Importing\u2026")),f.a.createElement("ul",{className:"status_list__list"},f.a.createElement(zs,{name:_("Tasks"),current:t.imported_objects.items,total:t.total_objects.items}),f.a.createElement(zs,{name:_("Projects"),current:t.imported_objects.projects,total:t.total_objects.projects}),f.a.createElement(zs,{name:_("Reminders"),current:t.imported_objects.reminders,total:t.total_objects.reminders}),f.a.createElement(zs,{name:_("Comments"),current:t.imported_objects.notes,total:t.total_objects.notes}),f.a.createElement(zs,{name:_("Attachments"),current:t.imported_objects.attachments,total:t.total_objects.attachments})))}zs.propTypes={name:Ie.a.string.isRequired,current:Ie.a.number.isRequired,total:Ie.a.number.isRequired},Bs.propTypes={uploadStatus:Ie.a.object.isRequired};var Vs=Bs,$s={status:"running",total_objects:{projects:0,items:0,notes:0,reminders:0,attachments:0},imported_objects:{projects:0,items:0,notes:0,reminders:0,attachments:0}};function Hs(e){var t=e.initialUploadStatus,n=void 0===t?$s:t,r=e.onSuccess,a=e.onFailure,o=e.onHide,i=Object(d.useState)(n),c=S()(i,2),l=c[0],s=c[1];Object(d.useEffect)((function(){function e(){Object(Ls.a)("/import/wunderlist/v2",{withToken:!0,nonApiPath:!0,method:"GET"}).then((function(e){"error"===e.status?a(e.error_codes):"success"===e.status?r(e.project_id):s(e)})).catch((function(e){(!e.response||e.response.status<500)&&a()}))}var t=setInterval(e,5e3);return e(),function(){clearInterval(t)}}),[r,a]);var u=_("This may take a few minutes, so why don\u02bct you get settled in? Check out our <a>Getting Started guide</a> for tips on making the most of Todoist.").replace("<a>",'<a href="https://todoist.com/guide/getting-started" target="_blank" rel="noopener noreferrer">');return f.a.createElement(f.a.Fragment,null,f.a.createElement(lr.a.Header,{title:"",className:"wunderlist_importer__header"}),f.a.createElement(lr.a.Body,{className:"wunderlist_importer__body"},f.a.createElement("h1",{className:"wunderlist_importer__title"},_("Importing! Sit back and let us do the work")),f.a.createElement(Ps,{className:"wunderlist_importer__illustration"}),f.a.createElement("p",{className:"wunderlist_importer__text",dangerouslySetInnerHTML:{__html:u}}),f.a.createElement("p",{className:"wunderlist_importer__text"},_("Don\u02bct worry \u2014 you can check on your import by clicking the notification icon in the top right of your screen to get back to this page.")),f.a.createElement(Vs,{uploadStatus:l}),f.a.createElement(et.a,{className:"wunderlist_importer__primary_action ist_button ist_button_hallow",onClick:o},_("Close")),f.a.createElement("p",{className:"wunderlist_importer__note"},_("You can close this page and we\u02bcll keep importing your tasks in the background."))))}Hs.propTypes={initialUploadStatus:Ie.a.object,onSuccess:Ie.a.func.isRequired,onFailure:Ie.a.func.isRequired,onHide:Ie.a.func.isRequired};var Us=Hs;function qs(e){var t=e.className;return f.a.createElement("svg",{viewBox:"0 0 166 106",className:t},f.a.createElement("defs",null,f.a.createElement("path",{id:"wliSuccessA",d:"M0 2v81h128V2c0-1.104-.896-2-2-2H2C.896 0 0 .896 0 2"})),f.a.createElement("g",{fill:"none",fillRule:"evenodd"},f.a.createElement("path",{fill:"#FFF",d:"M0 27v77h126V25H2c-1.104 0-2 .896-2 2z"}),f.a.createElement("path",{fill:"#000",fillOpacity:".14",d:"M0 27v77h126V25H2c-1.104 0-2 .896-2 2z"}),f.a.createElement("g",{transform:"translate(4 21)"},f.a.createElement("mask",{id:"wliSuccessB",fill:"#fff"},f.a.createElement("use",{xlinkHref:"#wliSuccessA"})),f.a.createElement("use",{fill:"#FFF",xlinkHref:"#wliSuccessA"}),f.a.createElement("path",{fill:"#000",fillOpacity:".04",d:"M0 2v81h128V2c0-1.104-.896-2-2-2H2C.896 0 0 .896 0 2",mask:"url(#b)"}),f.a.createElement("path",{fill:"#000",fillOpacity:".1",d:"M104 62v5H25v-5h79zM85 46v5H25v-5h60zm19-16v5H25v-5h79zm0-16v5H25v-5h79z",mask:"url(#wliSuccessB)"}),f.a.createElement("path",{fill:"#FFF",d:"M17.25 16.5c0 2.209-1.791 4-4 4s-4-1.791-4-4 1.791-4 4-4 4 1.791 4 4",mask:"url(#wliSuccessB)"}),f.a.createElement("path",{stroke:"#F86959",strokeWidth:"2",d:"M17.25 16.5c0 2.209-1.791 4-4 4s-4-1.791-4-4 1.791-4 4-4 4 1.791 4 4z",mask:"url(#wliSuccessB)"}),f.a.createElement("path",{fill:"#FFF",d:"M17.25 31.8335c0 2.209-1.791 4-4 4s-4-1.791-4-4 1.791-4 4-4 4 1.791 4 4",mask:"url(#wliSuccessB)"}),f.a.createElement("path",{stroke:"#FFA939",strokeWidth:"2",d:"M17.25 31.8335c0 2.209-1.791 4-4 4s-4-1.791-4-4 1.791-4 4-4 4 1.791 4 4z",mask:"url(#wliSuccessB)"}),f.a.createElement("path",{fill:"#FFF",d:"M17.25 48.333c0 2.209-1.791 4-4 4s-4-1.791-4-4 1.791-4 4-4 4 1.791 4 4",mask:"url(#wliSuccessB)"}),f.a.createElement("path",{stroke:"#FFDA3C",strokeWidth:"2",d:"M17.25 48.333c0 2.209-1.791 4-4 4s-4-1.791-4-4 1.791-4 4-4 4 1.791 4 4z",mask:"url(#wliSuccessB)"}),f.a.createElement("path",{fill:"#FFF",d:"M17.5 64.5c0 2.209-1.791 4-4 4s-4-1.791-4-4 1.791-4 4-4 4 1.791 4 4",mask:"url(#wliSuccessB)"}),f.a.createElement("path",{stroke:"#E0E0E0",strokeWidth:"2",d:"M17.5 64.5c0 2.209-1.791 4-4 4s-4-1.791-4-4 1.791-4 4-4 4 1.791 4 4z",mask:"url(#wliSuccessB)"}),f.a.createElement("path",{fill:"#000",fillOpacity:".1",d:"M98 2.5v45c0 4.125 3.375 7.5 7.5 7.5H128V0H98.44C98.16.784 98 1.623 98 2.5",mask:"url(#wliSuccessB)",style:{mixBlendMode:"multiply"}})),f.a.createElement("path",{fill:"#FFF",d:"M139.0934 43.792c.699-.402 1.453-.266 1.87-.022.412.241 1.517.869 2.099 1.201.582.332.556 1.252.036 1.552-.52.301-23.22 13.364-24.281 13.975-.864.498-1.723.511-2.62.004-1.503-.848-7.703-4.46-10.197-5.912v-5.06s9.634 5.599 10.245 5.952c.774.448 1.734.442 2.51.001.649-.368 20.048-11.523 20.338-11.691zm0-10.1098c.699-.401 1.453-.266 1.87-.022.412.241 1.517.869 2.099 1.201.582.332.556 1.253.036 1.552-.52.302-23.22 13.364-24.281 13.975-.864.499-1.723.511-2.62.004-1.503-.848-7.703-4.46-10.197-5.912v-5.06s9.634 5.599 10.245 5.953c.774.447 1.734.442 2.51 0 .649-.368 20.048-11.523 20.338-11.691zm0-10.1089c.699-.402 1.453-.267 1.87-.023.412.241 1.517.869 2.099 1.201.582.332.556 1.253.036 1.553-.52.301-23.22 13.363-24.281 13.974-.864.499-1.723.511-2.62.005-1.503-.849-7.703-4.46-10.197-5.912v-5.06s9.634 5.598 10.245 5.952c.774.448 1.734.442 2.51.001.649-.369 20.048-11.524 20.338-11.691z"}),f.a.createElement("path",{fill:"#E44332",d:"M106 19.5c0-4.125 3.375-7.5 7.5-7.5h45c4.125 0 7.5 3.375 7.5 7.5v45c0 4.125-3.375 7.5-7.5 7.5h-45c-4.125 0-7.5-3.375-7.5-7.5l.0004-9.91.2162.1259c2.6186 1.5246 8.5195 4.9617 9.9808 5.7861.897.507 1.756.494 2.62-.004 1.061-.611 23.761-13.674 24.281-13.975.52-.3.546-1.22-.036-1.552-.582-.332-1.687-.96-2.099-1.201-.417-.244-1.171-.38-1.87.022-.29.168-19.689 11.323-20.338 11.691-.776.441-1.736.447-2.51-.001-.611-.353-10.245-5.952-10.245-5.952v-5.0498l.2162.1259c2.6186 1.5246 8.5195 4.9617 9.9808 5.7861.897.507 1.756.495 2.62-.004 1.061-.611 23.761-13.673 24.281-13.975.52-.299.546-1.22-.036-1.552-.582-.332-1.687-.96-2.099-1.201-.417-.244-1.171-.379-1.87.022-.29.168-19.689 11.323-20.338 11.691-.776.442-1.736.447-2.51 0-.611-.354-10.245-5.953-10.245-5.953v-5.0489l.2162.1259c2.6186 1.5246 8.5195 4.9607 9.9808 5.7861.897.506 1.756.494 2.62-.005 1.061-.611 23.761-13.673 24.281-13.974.52-.3.546-1.221-.036-1.553-.582-.332-1.687-.96-2.099-1.201-.417-.244-1.171-.379-1.87.023-.29.167-19.689 11.322-20.338 11.691-.776.441-1.736.447-2.51-.001-.611-.354-10.245-5.952-10.245-5.952z"}),f.a.createElement("path",{stroke:"#FFF",strokeLinecap:"round",strokeWidth:"2",d:"M37 12h24M49 24V0m-4.7998 16.7998l9.6-9.6m-.0004 9.6l-9.6-9.6m.0004 9.6l9.6-9.6m-.0004 9.6l-9.6-9.6M140 96h20m-10 10V86m-4 14l8-8m0 8l-8-8"}),f.a.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeOpacity:".16",strokeWidth:"2",d:"M37 12h24M49 24V0m-4.7998 16.7998l9.6-9.6m-.0004 9.6l-9.6-9.6m.0004 9.6l9.6-9.6m-.0004 9.6l-9.6-9.6M140 96h20m-10 10V86m-4 14l8-8m0 8l-8-8"})))}qs.propTypes={className:Ie.a.string};var Gs=qs;function Ws(e){var t=e.onClose;return f.a.createElement(f.a.Fragment,null,f.a.createElement(lr.a.Header,{title:"",className:"wunderlist_importer__header"}),f.a.createElement(lr.a.Body,{className:"wunderlist_importer__body"},f.a.createElement("h1",{className:"wunderlist_importer__title"},_("Success \ud83c\udf89"),f.a.createElement("br",null),_("Your import is complete.")),f.a.createElement(Gs,{className:"wunderlist_importer__illustration"}),f.a.createElement("p",{className:"wunderlist_importer__text"},_("Ready to get productive? Find all of your imported tasks under your brand new project called \u201cWunderlist Import\u201d.")),f.a.createElement(et.a,{className:"wunderlist_importer__primary_action ist_button ist_button_hallow",onClick:t},_("Let\u02bcs get started!"))))}Ws.propTypes={onClose:Ie.a.func.isRequired};var Ks=Ws;function Ys(e){var t=e.className;return f.a.createElement("svg",{viewBox:"0 0 211 60",className:t},f.a.createElement("defs",null,f.a.createElement("rect",{id:"wliErrorA",width:"52",height:"52",x:"0",y:"0",rx:"12"})),f.a.createElement("g",{fill:"none",fillRule:"evenodd"},f.a.createElement("g",{transform:"translate(4 4)"},f.a.createElement("rect",{width:"56",height:"56",x:"-2",y:"-2",stroke:"#FFF",strokeWidth:"4",rx:"12"}),f.a.createElement("mask",{id:"wliErrorB",fill:"#fff"},f.a.createElement("use",{xlinkHref:"#wliErrorA"})),f.a.createElement("rect",{width:"56",height:"56",x:"-2",y:"-2",stroke:"#000",strokeOpacity:".2",strokeWidth:"4",rx:"12"}),f.a.createElement("path",{fill:"#000",fillOpacity:".3",d:"M44 51.676l-18-8.83-18 8.83V-1h36z",mask:"url(#wliErrorB)"}),f.a.createElement("path",{fill:"#FFF",fillOpacity:".8",d:"M25.5522 12.1125l2.961 8.888h9.672l-7.841 5.952 3.016 9.189-7.808-5.708-7.808 5.708 3.016-9.189-7.841-4.952h9.671z",mask:"url(#b)"})),f.a.createElement("path",{fill:"#FFF",d:"M203.5 0h-45c-4.125 0-7.5 3.375-7.5 7.5v45c0 4.125 3.375 7.5 7.5 7.5h45c4.125 0 7.5-3.375 7.5-7.5v-45c0-4.125-3.375-7.5-7.5-7.5"}),f.a.createElement("path",{fill:"#000",fillOpacity:".3",d:"M203.5 0h-45c-4.125 0-7.5 3.375-7.5 7.5v45c0 4.125 3.375 7.5 7.5 7.5h45c4.125 0 7.5-3.375 7.5-7.5v-45c0-4.125-3.375-7.5-7.5-7.5"}),f.a.createElement("path",{fill:"#FFF",d:"M184.0934 31.792c.699-.402 1.453-.266 1.87-.022.412.241 1.517.869 2.099 1.201.582.332.556 1.252.036 1.552-.52.301-23.22 13.364-24.281 13.975-.864.498-1.723.511-2.62.004-1.503-.848-7.703-4.46-10.197-5.912v-5.06s9.634 5.599 10.245 5.952c.774.448 1.734.442 2.51.001.649-.368 20.048-11.523 20.338-11.691zm0-10.1098c.699-.401 1.453-.266 1.87-.022.412.241 1.517.869 2.099 1.201.582.332.556 1.253.036 1.552-.52.302-23.22 13.364-24.281 13.975-.864.499-1.723.511-2.62.004-1.503-.848-7.703-4.46-10.197-5.912v-5.06s9.634 5.599 10.245 5.953c.774.447 1.734.442 2.51 0 .649-.368 20.048-11.523 20.338-11.691zm0-10.1089c.699-.402 1.453-.267 1.87-.023.412.241 1.517.869 2.099 1.201.582.332.556 1.253.036 1.553-.52.301-23.22 13.363-24.281 13.974-.864.499-1.723.511-2.62.005-1.503-.849-7.703-4.46-10.197-5.912v-5.06s9.634 5.598 10.245 5.952c.774.448 1.734.442 2.51.001.649-.369 20.048-11.524 20.338-11.691z"}),f.a.createElement("path",{fill:"#DB4B3D",fillRule:"nonzero",d:"M104.996 18.5323a.5.5 0 01-.4312.5604C99.1204 19.8018 95 24.459 95 30c0 6.0751 4.9249 11 11 11 5.5407 0 10.1977-4.12 10.9072-9.564a.5.5 0 01.9916.1292C117.1246 37.5058 112.0446 42 106 42c-6.6274 0-12-5.3726-12-12 0-6.0449 4.4947-11.1251 10.4356-11.8989a.5.5 0 01.5604.4312zM106 33.5c.6904 0 1.25.5596 1.25 1.25S106.6904 36 106 36s-1.25-.5596-1.25-1.25.5596-1.25 1.25-1.25zm0-9.4975c.8058 0 1.4591.6533 1.4591 1.4591l-.0007.0431-.464 5.8248c-.098 1.224-1.8908 1.224-1.9887 0l-.4602-5.7515c-.0604-.756.4667-1.4235 1.1986-1.553l.1395-.0179.1164-.0046zm7.305-3.5236c2.5143 1.9319 4.1806 4.7834 4.5939 7.9567a.5.5 0 01-.9916.1292c-.3788-2.9078-1.906-5.5215-4.2115-7.2929a.5.5 0 01.6092-.793zm-5.8297-2.3813l.0901.0036a11.9212 11.9212 0 013.0292.81.5.5 0 11-.3832.9237 10.9213 10.9213 0 00-2.7752-.742.5.5 0 01-.0478-.9832l.0869-.012z"})))}Ys.propTypes={className:Ie.a.string};var Js=Ys;function Qs(e){switch(e){case"invalid_data":return _("There is invalid data in the ZIP file. Please <a>re-export it from Wunderlist</a> and try again.").replace("<a>",'<a href="'.concat(Ya.r,'" target="_blank" rel="noopener noreferrer">'));case"too_many_items":return _("You have a few too many items on your list. You can <a>learn more in the Help Center</a>. Then delete or archive some projects and tasks in Todoist or Wunderlist before trying the import again.").replace("<a>",'<a href="'.concat(Ya.l,'" target="_blank" rel="noopener noreferrer">'));case"file_errors":return _("We couldn\u2019t upload some of your files. Please try importing your ZIP file again.");case"import_error":return _("Try importing your ZIP file again. And in the unlikely event that you see this message another time, <a>get in touch with us and we\u2019ll get to the bottom of it.</a>").replace("<a>",'<a href="'.concat(Ya.r,'" target="_blank" rel="noopener noreferrer">'));case"file_too_big":return _("The ZIP file is too big. Delete large file attachments in Wunderlist, then <a>re-export your ZIP file</a> and try the import again.").replace("<a>",'<a href="https://export.wunderlist.com/" target="_blank" rel="noopener noreferrer">');case"zip_corrupted":default:return _("The ZIP file is corrupted or there was a transfer error. If you can open the ZIP file on your computer, simply retry importing here. If you can\u2019t, <a>re-export it from Wunderlist</a> before trying again.").replace("<a>",'<a href="https://export.wunderlist.com/" target="_blank" rel="noopener noreferrer">')}}function Zs(e){var t=e.onRestartImport,n=e.errorCodes,r=void 0===n?[]:n;return f.a.createElement(f.a.Fragment,null,f.a.createElement(lr.a.Header,{title:"",className:"wunderlist_importer__header"}),f.a.createElement(lr.a.Body,{className:"wunderlist_importer__body"},f.a.createElement("h1",{className:"wunderlist_importer__title"},_("Oh no! \ud83d\ude31"),f.a.createElement("br",null),_("Something went wrong.")),f.a.createElement(Js,{className:"wunderlist_importer__illustration"}),(0===r.length?["INVALID_CODE_SHOWS_DEFAULT_MESSAGE"]:r).map((function(e,t){return f.a.createElement("p",{key:t,className:"wunderlist_importer__text",dangerouslySetInnerHTML:{__html:Qs(e)}})})),f.a.createElement(et.a,{className:"wunderlist_importer__primary_action ist_button ist_button_hallow",onClick:t},_("Restart Import"))))}Zs.propTypes={onRestartImport:Ie.a.func.isRequired,errorCodes:Ie.a.arrayOf(Ie.a.string)};var Xs=Zs,eu=n("mxou");function tu(e){var t=e.isOpen,n=e.showStatus,r=Object(O.g)(),a=Object(d.useState)(n?{state:"importing"}:{state:"initial"}),o=S()(a,2),i=o[0],c=o[1];function l(e){c({state:"success",projectId:e})}function s(e){c({state:"error",errorCodes:e})}function u(){r(Object(I.c)()),i.projectId?r(Object(eu.o)([i.projectId])):he.a.show()}return Object(d.useEffect)((function(){n&&c({state:"importing"})}),[n]),f.a.createElement(lr.a.Box,{className:"wunderlist_importer",closeOnOverlayClick:!0,isOpen:t,onDismiss:u},"initial"===i.state?f.a.createElement(Fs,{onUploadSuccess:function(e){c({state:"importing",uploadStatus:e})},onImmediateUploadSuccess:l,onFailure:s}):null,"importing"===i.state?f.a.createElement(Us,{initialUploadStatus:i.uploadStatus,onSuccess:l,onFailure:s,onHide:u}):null,"success"===i.state?f.a.createElement(Ks,{onClose:u}):null,"error"===i.state?f.a.createElement(Xs,{errorCodes:i.errorCodes,onRestartImport:function(){c({state:"initial"})}}):null)}tu.propTypes={isOpen:Ie.a.bool.isRequired,showStatus:Ie.a.bool};var nu=tu,ru=n("CB29"),au=(n("jZJQ"),n("cDf5")),ou=n.n(au);function iu(e,t){var n=Object(rl.a)(),r=Object(d.useState)(void 0),a=S()(r,2),o=a[0],i=a[1];return Object(d.useEffect)((function(){n.getPreference(t).then((function(t){ou()(t)===e&&i(t)})).catch((function(){}))}),[n,e,t]),[o,function(e){n.setPreference(t,e),i(e)}]}function cu(e){return iu("string",e)}var lu=["Command","Cmd","Control","Ctrl","CommandOrControl","CmdOrCtrl","Alt","Option","AltGr","Shift","Super"],su="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");var uu=function(){for(var e={Space:"Space",Enter:"Enter",ArrowUp:"Up",ArrowLeft:"Left",ArrowDown:"Down",ArrowRight:"Right",Backspace:"Backspace",NumpadDecimal:"numdec",NumpadAdd:"numadd",NumpadSubtract:"numsub",NumpadMultiply:"nummult",NumpadDivide:"numdiv"},t=0;t<24;t++)e["F".concat(t)]="F".concat(t);return"0123456789".split("").forEach((function(t){e["Numpad".concat(t)]="num".concat(t)})),e}();function du(e){return lu.some((function(t){return t.toLowerCase()===e.toLowerCase()}))}function fu(e){return mu.apply(this,arguments)}function mu(){return(mu=i()(a.a.mark((function e(t){var n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],t.ctrlKey&&n.push("Ctrl"),t.shiftKey&&n.push("Shift"),t.metaKey&&n.push(X.o?"Cmd":"Super"),t.altKey&&n.push("Alt"),!su.includes(t.key)){e.next=9;break}n.push(t.key),e.next=19;break;case 9:if(!Object.prototype.hasOwnProperty.call(uu,t.nativeEvent.code)){e.next=13;break}n.push(uu[t.nativeEvent.code]),e.next=19;break;case 13:if(!navigator.keyboard){e.next=19;break}return r=t.nativeEvent.code,e.next=17,navigator.keyboard.getLayoutMap().then((function(e){return e.get(r)}));case 17:(o=e.sent)&&n.push(o);case 19:return e.abrupt("return",n.join("+"));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n("eryZ");var pu=["Tab","Escape"];function hu(e){var t=e.split("+").filter((function(e){return!du(e)}));return e.split("+").filter((function(e){return du(e)})).length>0&&1===t.length}function vu(e){var t=e.id,n=e.value,r=e.onChange,o=Object(d.useRef)(null),c=Object(d.useState)(!1),l=S()(c,2),s=l[0],u=l[1],m=Object(d.useState)(n),p=S()(m,2),h=p[0],v=p[1];function b(){return(b=i()(a.a.mark((function e(t){var n,i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!pu.includes(t.key)){e.next=2;break}return e.abrupt("return");case 2:return t.preventDefault(),e.next=5,fu(t);case 5:n=e.sent,i=n.split("+").filter((function(e){return du(e)})),s&&(v(i.join("+")),hu(n)&&(v(n),u(!1),null===(c=o.current)||void 0===c||c.blur(),r(n)));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=i()(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!pu.includes(t.key)){e.next=2;break}return e.abrupt("return");case 2:return t.preventDefault(),e.next=5,fu(t);case 5:n=e.sent,r=n.split("+").filter((function(e){return du(e)})),s&&v(r.join("+"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.useEffect)((function(){v(n)}),[n]),f.a.createElement("div",{id:t,className:"keyboard_shortcut_input_wrapper"},f.a.createElement("input",{ref:o,type:"text",onFocus:function(){s||(v(void 0),u(!0))},onBlur:function(){s&&(v(n),u(!1))},onKeyDown:function(e){return b.apply(this,arguments)},onKeyUp:function(e){return g.apply(this,arguments)}}),f.a.createElement("div",{className:"keyboard_shortcut_input_positioner"},f.a.createElement("span",null,h?f.a.createElement(vo.a,{translateKey:X.t?function(e){return"super"===e.toLowerCase()?"Win":e}:void 0},h):Object(Ye.a)("Record Shortcut")),f.a.createElement("button",{onClick:function(){var e;v(void 0),u(!1),null===(e=o.current)||void 0===e||e.blur(),r(void 0)},dangerouslySetInnerHTML:{__html:svgs.getString("sm1/close_tiny.svg")}})))}function bu(){var e=cu("global_shortcuts.activate"),t=S()(e,2),n=t[0],r=t[1],a=cu("global_shortcuts.quick_add"),o=S()(a,2),i=o[0],c=o[1];return f.a.createElement("div",{className:"desktop_preferences"},f.a.createElement("label",{className:"subtitle"},Object(Ye.a)("Shortcuts")),f.a.createElement("div",{className:"shortcuts_grid"},f.a.createElement("label",{htmlFor:"activate_shortcut_input"},Object(Ye.a)("Show / Hide Todoist")),f.a.createElement(vu,{id:"activate_shortcut_input",value:n,onChange:r}),f.a.createElement("label",{htmlFor:"quick_add_shortcut_input"},Object(Ye.a)("Quick Add Task")),f.a.createElement(vu,{id:"quick_add_shortcut_input",value:i,onChange:c})))}var gu=Object(O.c)((function(e){return{user:e}}),(function(e){return{onClose:function(){return e(Object(I.c)())}}}))((function(e){var t=e.isOpen,n=void 0!==t&&t,r=e.onClose;return f.a.createElement(lr.a.Box,{className:"desktop_preferences",size:"small",closeOnOverlayClick:!0,isOpen:n,onDismiss:r},f.a.createElement(lr.a.Header,{button:!0,title:Object(Ye.a)("Desktop App Preferences"),className:"desktop_preferences__header"}),f.a.createElement(lr.a.Body,{className:"desktop_preferences__body"},f.a.createElement(bu,null)))}));function _u(e){var t=e.isDetailViewShowing,n=void 0!==t&&t,r=e.modals,a=Object(O.g)(),o=Object(ee.d)(ee.b),i=Object(ee.d)("frontend.new_emoji_sizing");Object(d.useEffect)((function(){var e,t,n;i&&(null===(e=document)||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.classList)||void 0===n||n.add("with_new_emoji_sizing"))}),[i]),Object(d.useEffect)((function(){o&&location.hash.includes("import_wunderlist")&&a(Object(I.d)({type:I.a.WUNDERLIST_IMPORTER}))}),[a,o]),Object(al.a)("completeItem",(function(e){a(Object(Io.p)(e))})),Object(al.a)("uncompleteItem",(function(e){a(Object(Io.L)(e))}));var c=Object(d.useRef)(null),l=Object(j.i)().pathname,s=Object(yt.e)(l);return Object(d.useEffect)((function(){var e,t=/^\/(?:.+(?=\/task)|.+)/;l.match(t)[0]!==((null==s||null===(e=s.match(t))||void 0===e?void 0:e[0])||"")&&(c.current.scrollTop=0)}),[l,s]),f.a.createElement("div",{id:"page_background","data-ui-hidden-inset-titlebar":Object(X.h)()||void 0,"data-ui-frameless-titlebar":Object(X.f)()||void 0},f.a.createElement("a",{className:"skiplink",href:"#content"},_("Skip to task list")),f.a.createElement(Mr,{isDetailViewShowing:n},f.a.createElement(bl,null),f.a.createElement("div",{id:"app_holder"},f.a.createElement("a",{href:"/premium",className:"go_premium",target:"_blank",style:{display:"none"},id:"premium_promotion"},_("Upgrade and get more done")),f.a.createElement("div",{id:"notifier",style:{display:"none"}}),f.a.createElement("div",{id:"content_wrapper"},f.a.createElement(Kr,null),f.a.createElement("main",{"aria-label":_("Main Content"),id:"content",className:"main_content",ref:c,tabIndex:-1},f.a.createElement(ru.a,{mainContentRef:c}),f.a.createElement(vl.a,null,f.a.createElement(is.a,Ce()({isOpen:r.type===I.a.QUICK_ADD},r.props))),f.a.createElement(vl.a,null,f.a.createElement(nu,Ce()({isOpen:r.type===I.a.WUNDERLIST_IMPORTER&&o},r.props))),f.a.createElement(vl.a,null,f.a.createElement(gu,Ce()({isOpen:r.type===I.a.DESKTOP_PREFERENCES},r.props))),f.a.createElement(vl.a,null,f.a.createElement(As,null)),f.a.createElement(vl.a,null,f.a.createElement(hs,null)),f.a.createElement(vl.a,null,f.a.createElement(Ll,null))))),f.a.createElement(vl.a,null,f.a.createElement(ts,null)),f.a.createElement(vl.a,null,f.a.createElement(Dl,null)),f.a.createElement(vl.a,null,f.a.createElement(os,null))))}_u.propTypes={modals:Ie.a.object,isDetailViewShowing:Ie.a.bool};var yu=_u,Ou=n("HLc3");var ju=Object(O.c)((function(e){return{modals:e.modals,isDetailViewShowing:Object(Ou.e)(e)}}))(yu),wu=n("Bl08"),Eu=n("k0om"),ku=n("qFoM"),Du=n("j3q4"),Cu=n("aSh9"),Su=n("o5ZH"),Iu=n("SoKn");function Tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tu(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xu=function(e,t,n,r){var a=e.draggableId,o=Pe()(e,["draggableId"]),i=Object(ku.a)(a.replace("task-","")),c=Object(Eu.b)(t,i);if(c)return"project"===r.type?function(e,t,n,r){var a,o=t.source,i=t.destination;i.droppableId.startsWith("section-")&&Object(Zi.a)("project_board_view","reorder","task");var c=o.droppableId!==i.droppableId,l=i.droppableId.split("-")[0],s=Object(ku.a)("project"===l?i.droppableId.replace("project-",""):e.project_id),u="section"===l?i.droppableId.replace("section-",""):void 0,d="null"===u?null:u||void 0,f=c?{id:e.id,section_id:d,project_id:s,parent_id:"task"===l?i.droppableId.replace("task-",""):void 0}:void 0,m=Object(Iu.a)(n,{view:"project",projectId:s});if(!m||Object(Su.a)(m)){var p=n.items||{},h=Object(Eu.d)(n)[s].filter((function(t){return t.id!==e.id&&t.section_id===d&&null===t.parent_id})).sort((function(e,t){return e.child_order-t.child_order})),v=[].concat(xn()(h.slice(0,i.index)),[Au(Au({},e),{},{child_order:i.index})],xn()(h.slice(i.index))).map((function(e,t){return{id:e.id,child_order:t+1}})),b=v.findIndex((function(t){return t.id===e.id})),g=v[b+1]?p[v[b+1].id]:null,_=null!==(a=null==g?void 0:g.child_order)&&void 0!==a?a:null;if(null===_){var y=v[b-1]?p[v[b-1].id]:null;_=y?y.child_order+1:1}r(Object(wu.x)(f,{id:e.id,to:_}))}else{if(!c)return;r(Object(wu.x)(Au(Au({},f),{},{parent_id:null})))}}(c,Au({draggableId:a},o),t,n):"today"===r.type?function(e,t,n,r){var a=t.destination,o=Object(Cu.i)(n),i=Object(Cu.k)(n),c=Object(Cu.l)(n),s="section"===a.droppableId.split("-")[0]?a.droppableId.replace("section-",""):void 0;if(s){var u=Object(Du.a)(s);if(u instanceof Date&&!isNaN(u.getTime())){var d=Object(Cu.h)(Cu.e,Cu.g,Cu.d,Cu.c,o,i,c,Cu.f),f=Object(Eu.h)(z.a.fromDate(u),n).filter((function(t){return t.id!==e.id})).sort(d),m=[].concat(xn()(f.slice(0,a.index)),[Au(Au({},e),{},{child_order:a.index})],xn()(f.slice(a.index))).reduce((function(e,t,n){var r=t.id;return Au(Au({},e),{},l()({},r,n+1))}),{});r(Object(wu.z)(e.id,u)),r(Object(wu.E)(m))}}}(c,Au({draggableId:a},o),t,n):void 0},Pu=n("bT2Y");var Ru=function(e,t,n){var r=e.draggableId,a=e.source,o=e.destination;"board-sections"===o.droppableId&&Object(Zi.a)("project_board_view","reorder","section");var i=r.replace("section-",""),c=t.sections&&t.sections[i];if(t.sections&&c&&a.droppableId===o.droppableId){var l=Object.entries(t.sections).filter((function(e){var t=S()(e,2)[1];return t.project_id===c.project_id&&t.id!==c.id})).map((function(e){var t=S()(e,2)[1];return{id:t.id,section_order:t.section_order}})).sort((function(e,t){return e.section_order-t.section_order})),s=[].concat(xn()(l.slice(0,o.index)),[{id:c.id,section_order:o.index}],xn()(l.slice(o.index))).map((function(e,t){var n=e.id;return e.section_order===t+1?void 0:{id:n,section_order:t+1}})).filter((function(e){return Boolean(e)}));n(Object(Pu.q)(s,!0))}};var Nu=function(e,t,n,r){switch(e.type){case"TASK":return xu(e,t,n,r);case"SECTION":return Ru(e,t,n);case"FILTER":return function(e,t,n){if("filters-labels-view-filters-list"===e.source.droppableId&&"filters-labels-view-filters-list"===e.destination.droppableId&&e.source.index!==e.destination.index){var r=xn()(Object(Jt.c)(t)),a=r[e.source.index];r.splice(e.source.index,1),r.splice(e.destination.index,0,a);var o=r.reduce((function(e,t,n){return e[t.id]=n+1,e}),{});n(Object(Jt.j)(o))}}(e,t,n);case"LABEL":return function(e,t,n){if("filters-labels-view-labels-list"===e.source.droppableId&&"filters-labels-view-labels-list"===e.destination.droppableId&&e.source.index!==e.destination.index){var r=xn()(Object(Yt.g)(t)),a=r[e.source.index];r.splice(e.source.index,1),r.splice(e.destination.index,0,a);var o=r.reduce((function(e,t,n){return e[t.id]=n+1,e}),{});n(Object(Yt.u)(o))}}(e,t,n);default:return}},Lu=n("SavO"),Mu=n("vn4g"),Fu=n("pkqz"),zu=n.n(Fu);function Bu(){var e=Object(w.e)();return d.createElement(lr.a.Box,{size:"small",isOpen:!0,onDismiss:function(){return e()},closeOnOverlayClick:!0},d.createElement(lr.a.Body,null,d.createElement("div",{className:"alert_holder delete_confirmation"},d.createElement("div",{className:"icon_holder"},d.createElement(Lu.a,{width:28,height:28})),d.createElement("div",{className:"text_holder"},Object(Ye.a)("You appear to be offline or Todoist is down. This action requires that you are online. Please try again later.")))),d.createElement(lr.a.Actions,{className:"confirm_dialog__actions"},d.createElement(et.a,{className:"ist_button ist_button_red",autoFocus:!0,onClick:function(){return e()}},Object(Ye.a)("OK"))))}var Vu=d.lazy((function(){return(e=0,e<=0?Promise.resolve():new Promise((function(t){return setTimeout(t,e)}))).then((function(){return Promise.all([n.e(66),n.e(33)]).then(n.bind(null,"sW2u")).then((function(e){return e}))}));var e}));function $u(){return d.createElement(bs.b,{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",className:zu.a.loadingBackdrop},d.createElement(bs.n,{label:Object(Ye.a)("Loading\u2026")}))}function Hu(){return d.createElement(j.g,{basename:"app"},d.createElement(j.f,{path:"settings",element:d.createElement(j.d,{to:"account",replace:!0})}),d.createElement(j.f,{path:"settings/*",element:d.createElement(Mu.a,{fallback:d.createElement(Bu,null)},d.createElement(d.Suspense,{fallback:d.createElement($u,null)},d.createElement(Vu,null)))}))}function Uu(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return qu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qu(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function qu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gu(e){var t=e.navigate;try{return ICE.annotateAjaxData.push((function(e){window.CLIENT_ID&&e instanceof Object&&(e._client_id=window.CLIENT_ID)})),ce(),Signals.sendSignal("app_data_loaded"),function(e){var t=e.navigate,n=$("left_menu");$hide($("app_holder"),n,$("content")),he.a.init({navigate:t}),se.a.init({navigate:t}),IstTooltip.init(),re.init(),fe.a.init(),pe.a.render(),me.a.current_list=$("projects_list"),n&&$AEV(window,"load",(function(){return me.a.arrows.updateArrows()}));setTimeout(Wu,10),de.checkTimezone(),Signals.sendSignal("instant_refresh_interface"),document.addEventListener("click",(function(e){!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click";if(t.getAttribute){var r=t.getAttribute("data-track");if(r){var a=r.split("|"),o=S()(a,2),i=o[0],c=o[1];track(i,n,c)}}t.parentNode&&e(t.parentNode)}(e.target)}))}({navigate:t}),ke.a.inIDB("notes")&&ke.a.loadStatus.notes.then((function(){Signals.sendSignal("instant_refresh_interface")})),we(),setTimeout((function(){$addClass($html(),"todoist_loaded"),X.s&&document.documentElement.setAttribute("data-browser","safari")}),50),D.a.onInitialized&&D.a.onInitialized(),Object(b.c)(top,"TODOIST_INITED:true")}catch(e){Object(Ee.a)(e,{message:_("Could not load Todoist local data. Could be because you are using a private window. Please try login again.")})}}function Wu(){try{!function(){if(window.location.host.match(/firefox|gmail/)){var e=function(){return!1};FilesManager.isDropboxEnabled=e,FilesManager.isDriveEnabled=e,FilesManager.isSelectFilesEnabled=e}}(),IstComplete.init(),he.a.show();var e=$("editor");e&&$AEV([e],"contextmenu",(function(e){if(e.shift)return!0;var t,n=$eventElm(e);return!(!n||"textarea"!==(t=$nodeName(n))&&"input"!==t)||!e.ctrl})),$AEV(window,"resize",(function(){Signals.sendSignal("hide_menus")})),$AEV($("left_menu"),"scroll",(function(){var e=$("left_menu").scrollTop;e!==window.LEFT_MENU_ST&&Signals.sendSignal("hide_menus"),window.LEFT_MENU_ST=e})),$show($("app_holder"),$("top_bar"),$("left_menu"),$("content"))}catch(e){Object(Ee.a)(e)}}function Ku(e,t){Nu(e,k.default.getState(),k.default.dispatch,t)}function Yu(){var e=Object(j.j)();f.a.useEffect((function(){Gu({navigate:e})}),[e]);var t=Object(w.f)();f.a.useEffect((function(){ue.a.navigate=t}),[t]);var n=Object(Xe.h)();f.a.useEffect((function(){window.MacBridge&&(window.MacBridge.navigateTo=n),Hi.a.navigateTo=n}),[n]);var r=Object(Xe.g)();return f.a.useEffect((function(){return le.a.on(),function(){le.a.off()}}),[]),Object(al.a)("openPreferences",(function(){Object(X.d)()?k.default.dispatch(Object(I.d)({type:I.a.DESKTOP_PREFERENCES})):ue.a.showPrefs()})),Object(al.a)("showQuickAdd",(function(){k.default.dispatch(Object(I.d)({type:I.a.QUICK_ADD}))})),Object(al.a)("addTask",(function(e){function t(e){return e?new z.a(e):e}if(e.due=t(e.due),e.reminders){var n,r=Uu(e.reminders);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.due=t(a.due)}}catch(e){r.e(e)}finally{r.f()}}k.default.dispatch(Object(Io.o)(e))})),f.a.createElement(O.a,{store:k.default},f.a.createElement(E.a,{onDragEnd:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ku.apply(void 0,t.concat([r]))}},Object(ee.d)("frontend.new_keyboard_shortcuts")?f.a.createElement(xr.b,null,f.a.createElement(xr.a,null,f.a.createElement(ju,null))):f.a.createElement(ju,null)),f.a.createElement(Hu,null))}function Ju(){return f.a.createElement(w.b,null,f.a.createElement(Yu,null))}n("o1Ek");var Qu=n("FMO/"),Zu=n("p3jf");function Xu(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ed(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ed(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var td=function(){function e(){x()(this,e),this.connect=this.connect.bind(this),this.loopReminders=this.loopReminders.bind(this),window.Notification&&this.connect()}return N()(e,null,[{key:"initClass",value:function(){this.prototype.connected=!1}}]),N()(e,[{key:"connect",value:function(){this.connected||(Signals.connect("remind",(function(e){var t=cl.a.getById(e.item_id);if(t&&!(t.is_deleted||t.checked||t.in_history)){var n=!0;if(0==window.User.features.reminder_desktop&&(n=!1),n)if(window.MacBridge&&window.MacBridge.bridge)Signals.sendSignal("mac_remind",t);else if(window.Notification){var r=xo.a.format(t.content,{only_text:!0,as_html:!1});Object(rl.a)().notify({id:t.id,title:r,body:_("Todoist Reminder"),icon:"reminder_".concat(t.id),notification_type:"reminder"})}}})),setInterval(this.loopReminders,1e4),this.connected=!0)}},{key:"loopReminders",value:function(){var e=k.default.getState();if(Object(po.a)(e)){var t,n=(new Date).getTime(),r=[],a=Xu(Object(Zu.e)(e));try{for(a.s();!(t=a.n()).done;){var o=t.value;if(!o.lprocessed){var i=null;if("relative"===o.type){var c=cl.a.getById(o.item_id);c&&c.due&&(i=c.due.getTime()-60*o.minute_offset*1e3)}if("absolute"===o.type&&(i=o.due.getTime()),i){var l=o.notify_uid;if(!l||l===window.User.id){var s=(n-i)/1e3;s>=0&&s<60?(Signals.sendSignal("remind",o),r.push(o.id)):s>=60&&r.push(o.id)}}}}}catch(e){a.e(e)}finally{a.f()}r.length>0&&k.default.dispatch(Object(Zu.g)(r))}}}]),e}();td.initClass();var nd=new td,rd=new(function(){function e(){x()(this,e),this.postPoneUpdate=this.postPoneUpdate.bind(this)}return N()(e,[{key:"postPoneUpdate",value:function(e){return this.postPoneModel(e),IstTooltip.hide(),Signals.sendSignal("instant_refresh_interface"),!1}},{key:"getPostponeDate",value:function(e){var t=e.due;if(!t)throw"Cannot getPostponeDate() with item with no due date";var n=t.postpone();if(null===n)return{new_due:n,formated_due:""};var r=Kl.b.day_diff(new Date,n);return{new_due:n,formated_due:V.a.humanizeDayDiff(r,n)}}},{key:"postPoneModel",value:function(e){if(!e.due)throw"Cannot getPostponeDate() with item with no due date";try{var t=this.getPostponeDate(e).new_due;null==t&&cl.a.complete(e.id,!0),cl.a.updateDue(l()({},e.id,t))}catch(e){alert("".concat(e))}}}]),e}()),ad=new(function(){function e(){x()(this,e)}return N()(e,[{key:"add",value:function(e){return k.default.dispatch(Object(So.e)(e))}},{key:"remove",value:function(e){return k.default.dispatch(Object(So.l)(e))}},{key:"archive",value:function(e){return k.default.dispatch(Object(So.f)(e))}},{key:"unarchive",value:function(e){return k.default.dispatch(Object(So.o)(e))}},{key:"update",value:function(e){return k.default.dispatch(Object(So.p)(e))}},{key:"move",value:function(e){return k.default.dispatch(Object(So.j)(e))}},{key:"reorder",value:function(e,t){return k.default.dispatch(Object(So.m)(e,t))}},{key:"getByPID",value:function(e){return Object(So.i)(e)(k.default.getState())}},{key:"getByName",value:function(e){return Object(So.h)(e.trim(),k.default.getState())}},{key:"getAll",value:function(){return v()(k.default.getState().sections)}}]),e}()),od=n("71j2"),id=n("dGQG"),cd=n("lzDQ"),ld=n("RhW5");function sd(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ud(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ud(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function ud(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dd(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var md,pd,hd="local.todoist.com"===window.location.host,vd="beta.todoist.com"===window.location.host,bd="macstore.todoist.com"===window.location.host,gd=Object(an.createSelector)((function(e){return e.user}),no.c,(function(e,t){return fd(fd({},e),{},{theme:t})})),_d=function(){return gd(k.default.getState())};(X.p||hd||vd||bd)&&(md=function(e){if(window.WebViewJavascriptBridge)e(window.WebViewJavascriptBridge);else{document.addEventListener("WebViewJavascriptBridgeReady",(function(){e(window.WebViewJavascriptBridge)}),!1)}},window.MacBridge=pd={bridge:null,navigateTo:function(){},handleRequest:function(e,t){var n,r,a,o,i={status:"ok"},c=Object(X.c)(),s=S()(c,3),u=s[0],d=s[1],f=s[2],m=null!==(n=null===(r=pd)||void 0===r?void 0:r.navigateTo)&&void 0!==n?n:function(){},p=function(e,t){var n,r=sd(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;null===a.color&&(a.color=7),u&&d&&(7===u&&0===d||u<7)&&(a.color=Ue.e.normalizeToOld(e,a.color))}}catch(e){r.e(e)}finally{r.f()}},h=function(){i.projects=[];var e,t=sd(M.a.getAll({with_indent:!0}));try{for(t.s();!(e=t.n()).done;){var n=e.value,r=$update({},n);F.a.isProjectShared(n.id)?(r.collaborators=F.a.getAll(r.id),i.projects.push(r)):i.projects.push(r)}}catch(e){t.e(e)}finally{t.f()}p("project",i.projects)},v=function(){i.labels=[];var e,t=sd(L.a.getAll(!0));try{for(t.s();!(e=t.n()).done;){var n=e.value,r=$update({},n);i.labels.push(r)}}catch(e){t.e(e)}finally{t.f()}p("label",i.labels)},b=function(){var e=Array.from(od.b.getOverdueAndToday(k.default.getState())),t=S()(e,2),n=t[0],r=t[1];i.items_today=Object(ld.a)(n),i.items_overdue=Object(ld.a)(r)},g=function(){var e=k.default.getState();if(i.user=_d(),i.user.dateist_lang=Object(Jo.b)(e),u&&d&&f&&(7===u&&2===d&&f<=3||7===u&&d<2||u<7)){if(i.user.premium_until){var t=new Date(i.user.premium_until);i.user.premium_until=t.toISOString()}if(i.user.join_date){var n=new Date(i.user.join_date);i.user.join_date=n.toISOString()}if(i.user.free_trail_expires){var r=new Date(i.user.free_trail_expires);i.user.free_trail_expires=r.toISOString()}}};if("sync"===e.action)yi.default.getInstance().sync(null,!0);else if("logout"===e.action)Signals.sendSignal("logout");else if("getData"===e.action)h(),v(),b(),g();else if("getProjects"===e.action)h();else if("getSections"===e.action)i.sections=ad.getAll();else if("getLabels"===e.action||"getPersonalLabels"===e.action)v();else if("getDynamicLabels"===e.action)i.labels=Object(Yt.h)(k.default.getState());else if("getTodayItems"===e.action)b();else if("getUser"===e.action)g();else if("getUserPlanLimits"===e.action)i.user_plan_limits=Object(Qt.s)(k.default.getState());else if("parseDate"===e.action)pd.parseDate(e,i);else if("formatDate"===e.action)pd.formatDate(e,i);else if("getCollaborators"===e.action)i.collaborators=rn()("collaborators.all",k.default.getState());else if("getProjectMembersWithID"===e.action){var _;_=F.a.isProjectShared(e.id)?F.a.getAll(e.id):[],i.members=_,i.length=_.length}else if("completeItem"===e.action)(a=cl.a.getById(e.itemId))&&cl.a.complete(a);else if("uncompleteItem"===e.action)cl.a.uncomplete(e.itemId);else if("genericAction"===e.action){var y,O=sd(e.actions);try{for(O.s();!(y=O.n()).done;){a=y.value;var j=void 0;if("complete"===a.action)(j=cl.a.getById(a.id))&&cl.a.complete(j);else if("postpone"===a.action)(j=cl.a.getById(a.id))&&rd.postPoneModel(j);else if("view_project"===a.action)m({view:{type:"project",projectId:a.project_id}});else if("view_task"===a.action)m({task:{id:a.item_id}});else if("view_project_note"===a.action)m({view:{type:"project",projectId:a.project_id},subPath:"/comments",hash:"#comment-".concat(a.note_id)});else if("view_business_users"===a.action)window.open("/business/users");else if("view_business_billing"===a.action)window.open("/business/accountAndBilling");else if("note_add"===a.action){!!a.project_id?k.default.dispatch(Object(cd.j)({parentId:a.project_id,content:a.text,type:cd.d})):k.default.dispatch(Object(cd.j)({parentId:a.item_id,content:a.text,type:cd.c}))}}}catch(e){O.e(e)}finally{O.f()}Signals.sendSignal("refresh_interface",!0)}else if("addItem"===e.action){var w;(o=M.a.get(e.projectId))||(o=M.a.getInbox());var E=null;if(e.dueDate){if((w=V.a.parse(e.dueDate))instanceof Error)return i.status="error",i.reason="INVALID_DATE",t(i),i;w.due_date&&(E=z.a.fromDateist(w))}if(!e.content||0===e.content.length)return i.status="error",i.reason="CONTENT_IS_EMPTY",t(i),i;var D={content:e.content,due:E,project_id:o.id,priority:e.priority||1,responsible_uid:e.responsible_uid||null,section_id:e.sectionId};if(e.dismissedLabels){var C,I={},T=sd(e.dismissedLabels);try{for(T.s();!(C=T.n()).done;)I[C.value]=!0}catch(e){T.e(e)}finally{T.f()}D.labels_to_ignore=I}if(e.labels&&(D.labels=e.labels),(a=cl.a.add(D,{return_as_error:!0})).error)i.status="error",i.reason="LIMIT_REACHED";else{if(i.item=a,e.reminders){var A,x=sd(e.reminders);try{for(x.s();!(A=x.n()).done;){var P=A.value;(w=V.a.parse(P)).due_date&&k.default.dispatch(Object(Zu.d)({item_id:a.id,type:"absolute",due:z.a.fromDateist(w)}))}}catch(e){x.e(e)}finally{x.f()}}e.note&&e.note.length>0&&k.default.dispatch(Object(cd.j)({parentId:a.id,content:e.note,type:cd.c})),Signals.sendSignal("instant_refresh_interface")}}else if("addLabel"===e.action)L.a.add({name:e.name,color:e.color})||(i.status="error",i.reason="NOT_ADDED");else if("addSection"===e.action){ad.add({name:e.name,project_id:e.projectId})||(i.status="error",i.reason="NOT_ADDED")}else if("addProject"===e.action){var R={name:e.name,color:e.color,indent:e.indent||1};(o=M.a.add(R))||(i.status="error",i.reason="NOT_ADDED")}else if("shareProject"===e.action)(o=F.a.addInvite(e.projectId,e.email))||(i.status="error",i.reason="NOT_SHARED");else if("scheduleItem"===e.action)try{var N=V.a.parse(e.date),B=z.a.fromDateist(N);k.default.dispatch(Object(Io.P)(l()({},e.itemId,B)))}catch(e){i.status="error",i.reason=e}else if("commentItem"===e.action)k.default.dispatch(Object(cd.j)({parentId:e.itemId,content:e.comment,type:cd.c}));else if("commentProject"===e.action)k.default.dispatch(Object(cd.j)({parentId:e.projectId,content:e.comment,type:cd.d}));else if("openItem"===e.action)m({task:{id:e.itemId}});else if("openItemComments"===e.action)m({task:{id:e.itemId,tab:"comments"}});else if("openProjectComments"===e.action)m({view:{type:"project",projectId:a.project_id},subPath:"/comments"});else if("openNotifications"===e.action){var H=$("notifications_counter");H&&H.click()}return $isFunction(t)&&t(i),i},parseDate:function(e,t){var n=e.dueDate,r=V.a.parse(n);return r.due_date?(t.date_string=r.date_string,t.date_lang=r.date_lang,t.date=r.due_date.getTime()):(t.status="error",t.reason="INVALID_DATE"),t},formatDate:function(e,t){var n=e.date_string.split("-"),r=new Date(parseInt(n[0]),parseInt(n[1])-1,parseInt(n[2]));return t.date_string=V.a.format(r),t}});var yd=function(){(X.p||hd||vd||bd)&&md((function(e){e.init((function(){return null})),pd.bridge=e,Qu.a.connect(),nd.connect(),e.registerHandler("nativeAppBridge",(function(e,t){return pd.handleRequest(e,t)}));var t=function(t,n){e.callHandler("jsAppBridge",{action:5,count:t+n},(function(){return null}))};Signals.connect("data_fully_loaded",(function(){if(e){e.callHandler("jsAppBridge",{action:7},(function(){return null}));var n=k.default.getState();t(Object(Zt.g)(n),Object(Zt.d)(n)),Object(id.a)(k.default,Zt.g,Zt.d,t)}})),Signals.connect("mac_remind",(function(t){if(e){var n={action:6};n.title=t.content,n.body="",n.type="reminder",n.id="reminder",n.info={itemId:t.id};var r=[{text:_("Complete"),action:"complete",id:t.id,put_in_focus:!1}];t.due&&r.push({text:_("Postpone"),action:"postpone",id:t.id,put_in_focus:!1}),n.actions=r,e.callHandler("jsAppBridge",n,(function(){return null}))}})),Signals.connect("mac_notify",(function(t,n,r,a,o){if(e){var i={action:6};i.title=t,i.body=n||"",i.type="notification",i.id=a||"",i.info=o||{};var c=[];r&&c.push(r),i.actions=c,e.callHandler("jsAppBridge",i,(function(){return null}))}}));return Object(id.a)(k.default,gd,(function(){!function(){if(e){var t={action:8};t.user=_d(),e.callHandler("jsAppBridge",t,(function(){return null}))}}(),function(){if(e){var t={action:9,color:"#f6f6f6"};e.callHandler("jsAppBridge",t,(function(){return null}))}}()})),Signals.connect("show_quick_add",(function(){!function(){if(e){var t={action:10},n=k.default.getState(),r=n.mainView.type===Re.k?n.mainView.ids[0]:n.user&&n.user.inbox_project;if(r&&(t.projectId=r),n.mainView.type===Re.j&&(t.content="@".concat(n.mainView.id," ")),n.mainView.type===Re.m||n.mainView.type===Re.n){var a=Kl.b.date_max(new Date),o=V.a.dateistResultFromDate(a);t.dueDate=o.date_string}e.callHandler("jsAppBridge",t,(function(){return null}))}}()}))}))};function Od(){var e=A({c:"ist_button ist_button_red"},_("Agree to Terms")),t=Object(Xr.a)(_("By clicking \u201cAgree to Terms\u201d, you agree to Todoist\u2019s {link1_start}Terms of Service{link1_end} and {link2_start}Privacy Policy{link2_end}."),{link1_start:'<a href="https://todoist.com/terms">',link1_end:"</a>",link2_start:'<a href="https://todoist.com/privacy">',link2_end:"</a>"}),n=P({c:"footer"});$setHTML(n,t);var r=DIV({c:"terms_dialog"},H1(_("Terms of Service")),P(_("To give you more control and transparency around the data we collect, we\u2019ve updated our Terms of Service and Privacy Policy. Here\u2019s a brief summary of the changes:")),H2(_("Transparency:")),P(_("You can see what type of data we collect from you, where we store it, how long we keep it, and how it\u2019s safeguarded.")),H2(_("Control:")),P(_("Your data is (and has always been) 100% your own. You have the ability to opt-in and out of emails, correct inaccurate data whenever you\u2019d like, and delete your account and data.")),P(_("If you agree with the changes, click below.")),e,n),a=GB_showHTML(null,r,500,550,{no_header:!0,close_validator_fn:function(){return!1}});$AEV(e,"click",(function(){k.default.dispatch(Object(ve.o)("accept_terms")),he.a.show(),a.hide()}))}Object(id.a)(k.default,Object(ve.m)("accept_terms"),(function(e){e||Od()})),window.showTermsDialog=Od;var jd=n("TLm1"),wd=n("32ZO"),Ed=window.isEditingOn=function(){var e=wd.a.get()||{},t=!1;return t=(t=t||GB_getLast())||jd.a.get("drag_and_drop_mode")===jd.a.DragMode.reordering,e.shown&&(t=!0),$all("li","manager").length>0&&(t=!0),$all("div","on_drag .drag_and_drop_handler").length>0&&(t=!0),$all("li","selected").length>0&&(t=!0),$all("div","scheduler").length>0&&(t=!0),t};function kd(){return document.querySelectorAll(".search_view__container").length>0}function Dd(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(Ed()||kd())&&!0!==e?(window.refresh_to&&(clearTimeout(window.refresh_to),window.refresh_to=null),window.refresh_to=setTimeout($p(Dd,e),500)):(window.refresh_real&&(clearTimeout(window.refresh_real),window.refresh_real=null),window.refresh_real=setTimeout($p(Sd,e),50))}function Cd(){window.refresh_to&&(clearTimeout(window.refresh_to),window.refresh_to=null),window.refresh_real&&(clearTimeout(window.refresh_real),window.refresh_real=null),Sd(!0)}function Sd(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(!1===e&&Ed())return Dd(e),!1;me.a.is_inited&&me.a.reRender()}catch(e){Z.captureError(e,{tags:{where:"RefreshInterface"}})}}Signals.connect("refresh_interface",Dd),Signals.connect("instant_refresh_interface",Cd),Object(id.a)(k.default,(function(e){return e.clock}),(function(){Cd()})),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&Dd()}));n("188l");var Id=n("n7q7"),Td=function(e,t){return new Promise((function(n,r){var a=new Blob([e],{type:"application/json"}),o=new File([a],t),i="/sync/v8/uploads/add?file_name=".concat(t),c=new XMLHttpRequest,l=new FormData;l.append("file",a),l.append("file_name",t),l.append("file_size",o.size|o.fileSize),l.append("file_type","application/json"),c.addEventListener("error",(function(e){r(e.errors)})),c.addEventListener("load",(function(e){var t=JSON.parse(e.currentTarget.responseText);t.error?r(t.error):n(t.file_url)})),c.open("POST",i,!0),c.setRequestHeader("Authorization","Bearer "+window.User.token),c.send(l)}))},Ad=n("XM3Z"),xd=n("TYy9"),Pd=n.n(xd),Rd=n("9UKM"),Nd=n.n(Rd);function Ld(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}var Md=function(e){ot()(n,e);var t=Ld(n);function n(e){var r;return x()(this,n),r=t.call(this,e),l()(rt()(r),"handleReportExportClick",(function(){r.setState({reportExporting:!0}),r.props.onReportExportClick().then((function(e){r.setState({reportExporting:!1,reportExportLink:e})})).catch((function(e){r.setState({reportExporting:!1,reportExportError:e})}))})),l()(rt()(r),"handleUnsyncExportClick",(function(){r.setState({unsyncExporting:!0}),r.props.onUnsyncExportClick().then((function(e){r.setState({unsyncExporting:!1,unsyncExportLink:e})})).catch((function(e){r.setState({unsyncExporting:!1,unsyncExportError:e})}))})),r.state={reportExporting:!1,reportExportError:null,reportExportLink:null,unsyncExporting:!1,unsyncExportError:null,unsyncExportLink:null},r}return N()(n,[{key:"renderSyncLogs",value:function(){var e=xn()(this.props.logs);e.reverse();var t=e.map((function(e,t){return f.a.createElement("tr",{className:"level_error",key:"".concat(e.timestamp,".").concat(t)},f.a.createElement("td",{className:"time"},e.isoTime),f.a.createElement("td",null,"[ERROR] ",e.msg))}));return 0==t.length&&(t=f.a.createElement("tr",null,f.a.createElement("td",{className:"time"}),f.a.createElement("td",null,"No error events recorded"))),f.a.createElement("div",null,f.a.createElement("h4",null,"Sync error history logs (most recent on the top)"),f.a.createElement("table",{className:"sync_logs"},f.a.createElement("tbody",null,t)))}},{key:"renderStatus",value:function(){var e,t=this.props,n=t.queueLength,r=t.firstRunCmdCount,a=t.failedCmdCount,o=t.lastSyncAt,i=t.unsync;o&&(e=o.toString());var c,l=Pd()(v()(i)).length;return l>0&&(c="("+(c=Nd()(i).map((function(e){var t=S()(e,2),n=t[0],r=t[1];return 0==r.length?null:"".concat(n,": ").concat(r.length)})).filter((function(e){return e})).join(" "))+")"),f.a.createElement("div",null,f.a.createElement("h4",null,"System summery"),f.a.createElement("table",{className:"status_table"},f.a.createElement("tbody",null,f.a.createElement("tr",null,f.a.createElement("td",null,"Last sync"),f.a.createElement("td",null,e)),f.a.createElement("tr",null,f.a.createElement("td",null,"Sync queue length"),f.a.createElement("td",null,n)),f.a.createElement("tr",null,f.a.createElement("td",null,"First run commands count"),f.a.createElement("td",null,r)),f.a.createElement("tr",null,f.a.createElement("td",null,"Failed commands count"),f.a.createElement("td",null,a)),f.a.createElement("tr",null,f.a.createElement("td",null,"Unsynced objects count"),f.a.createElement("td",null,l," ",c)))))}},{key:"renderReportDownload",value:function(){return this.state.reportExportLink?f.a.createElement("section",null,f.a.createElement("a",{href:this.state.reportExportLink,target:"_blank",rel:"noopener noreferrer"},"Download")):f.a.createElement("section",null,f.a.createElement("a",{className:"ist_button",onClick:this.handleReportExportClick},"Download Error Logs"),this.state.reportExporting?f.a.createElement(to.b,null):null)}},{key:"renderUnsyncExport",value:function(){return 0===Pd()(v()(this.props.unsync)).length?null:this.state.unsyncExportLink?f.a.createElement("section",null,f.a.createElement("a",{href:this.state.unsyncExportLink,target:"_blank",rel:"noopener noreferrer"},"Download")):f.a.createElement("section",null,f.a.createElement("a",{className:"ist_button",onClick:this.handleUnsyncExportClick},"Download Unsynced Datas"),this.state.unsyncExporting?f.a.createElement(to.b,null):null)}},{key:"render",value:function(){return f.a.createElement("div",{className:"debug_tool"},this.renderStatus(),this.renderSyncLogs(),this.renderReportDownload(),this.renderUnsyncExport())}}]),n}(f.a.Component);l()(Md,"propTypes",{logs:Ie.a.array.isRequired,unsync:Ie.a.shape({items:Ie.a.array,projects:Ie.a.array,notes:Ie.a.array,reminders:Ie.a.array,labels:Ie.a.array}).isRequired,lastSyncAt:Ie.a.object,queueLength:Ie.a.number,firstRunCmdCount:Ie.a.number,failedCmdCount:Ie.a.number,onReportExportClick:Ie.a.func,onUnsyncExportClick:Ie.a.func});var Fd=n("NLcT");function zd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zd(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st()(e);if(t){var a=st()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct()(this,n)}}$AEV(document,"keydown",(function(e){var t,n=window.event?event:e;68==n.keyCode&&n.ctrlKey&&e.altKey&&(t=DIV(),GB_showHTML(_("Sync debug console"),t,500,700,{close_validator_fn:function(){return p.a.unmountComponentAtNode(t),!0}}),p.a.render(f.a.createElement(Hd,null),t))}));var $d=function(e){return v()(e).filter((function(e){return Object(Id.a)(e.id)}))},Hd=function(e){ot()(n,e);var t=Vd(n);function n(e){var r;x()(this,n),r=t.call(this,e),l()(rt()(r),"handleUnsyncExport",(function(){var e=r.getAllUnsyncObject();e.user_id=window.User.id;var t=JSON.stringify(e);return Td(t,"unsync_data.json")})),l()(rt()(r),"handleReportExport",(function(){var e=Ad.c.getReport(),t=JSON.stringify(e);return Td(t,"sync_report.json")}));var a=Ad.c.getReport(),o=r.getAllUnsyncObject();return r.state=Bd(Bd({},a),{},{unsync:o,onUnsyncExportClick:r.handleUnsyncExport,onReportExportClick:r.handleReportExport}),r}return N()(n,[{key:"getAllUnsyncObject",value:function(){return{projects:$d(M.a.model_data),notes:$d(k.default.getState().notes),reminders:$d(Fd.a.model_data),labels:$d(L.a.model_data)}}},{key:"render",value:function(){return f.a.createElement(Md,this.state)}}]),n}(f.a.Component),Ud=n("Ir2J"),qd=n("iCX6"),Gd=function(e){window.ga=window.ga||function(){window.ga.q=window.ga.q||[].push(arguments)},window.ga.l=+new Date,window.ga("create",u.a.googleAnalytics,{userId:e,sampleRate:1}),window.ga("set","appName","todoist-web"),window.ga("set","appVersion","1242"),window.ga("send","pageview")},Wd=n("3CEA"),Kd=n("WSEr"),Yd=n("gtzJ"),Jd=["undefined is not an object (evaluating 'window.__pad.performLoop')","TypeError: Failed to fetch","TypeError: NetworkError when attempting to fetch resource.","TypeError: Cancelled","TypeError: The Internet connection appears to be offline.","TypeError: The network connection was lost.","TypeError: The request timed out.","TypeError: NetworkError when attempting to fetch resource.","TypeError: Network request failed","TypeError: Die Netzwerkverbindung wurde unterbrochen.","TypeError: Es besteht anscheinend keine Verbindung zum Internet.","TypeError: Zeit\xfcberschreitung bei der Anforderung.","TypeError: De internetverbinding is offline.","TypeError: De netwerkverbinding is verbroken.","TypeError: \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u304c\u5207\u308c\u307e\u3057\u305f\u3002","TypeError: \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u304c\u30aa\u30d5\u30e9\u30a4\u30f3\u306e\u3088\u3046\u3067\u3059\u3002","TypeError: \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u8981\u6c42\u304c\u6642\u9593\u5207\u308c\u306b\u306a\u308a\u307e\u3057\u305f\u3002","TypeError: \u8bf7\u6c42\u8d85\u65f6\u3002","TypeError: \u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c.","TypeError: \u0421\u0435\u0442\u0435\u0432\u043e\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u043e.","TypeError: \u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d \u043b\u0438\u043c\u0438\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043d\u0430 \u0437\u0430\u043f\u0440\u043e\u0441.","TypeError: La connexion r\xe9seau a \xe9t\xe9 perdue.","TypeError: La conexi\xf3n de red se ha perdido.","TypeError: La connexion Internet semble interrompue.","TypeError: La conexi\xf3n a internet parece estar desactivada.","TypeError: La conexi\xf3n a internet parece estar desactivada.","TypeError: A conex\xe3o \xe0 internet parece estar inativa.","TypeError: Przekroczenie limitu czasu \u017c\u0105dania.","TypeError: A conex\xe3o de rede foi perdida.","TypeError: \u0130stek zaman a\u015f\u0131m\u0131na u\u011frad\u0131.","TypeError: Po\u0142\u0105czenie z Internetem jest chyba roz\u0142\u0105czone."];function Qd(e,t){Wd.a({dsn:u.a.sentry,release:"v1242 (92fbdc4)",allowUrls:[/https?:\/\/(\w+\.)?todoist\.com/,/https?:\/\/d3ptyyxy2at9ui\.cloudfront\.net/],environment:t.isBeta?"beta":"production",integrations:[new Kd.a.GlobalHandlers],attachStacktrace:!0,ignoreErrors:Jd}),e&&Zd(e),Yd.c({api_version:yi.default.getInstance().api_version,version:"1242"})}function Zd(e){Yd.d({id:e.id})}var Xd=n("tN3f");function ef(e){return f.a.createElement(j.a,null,f.a.createElement(O.a,{store:k.default},f.a.createElement(Xd.a,e)))}function tf(){return new Promise((function(e){var t=window.location.host,n=window.location.href;!t.match(/.*(alpha|staging)\..*/)||Object(ee.d)(ee.a)?e():window.location.replace(n.replace(/https?:\/\/([^.]+\.)?todoist.com/,"https://todoist.com"))}))}window.renderNote=function(e){try{var t=document.createElement("div"),n=k.default.getState(),r={allCollaborators:Object(mn.i)(n),note:e,user:n.user,onAddReaction:function(){},onRemoveReaction:function(){},onRemoveNote:function(){},onUpdateNote:function(){},editing:!1,onEditing:function(){},onEditingClose:function(){}};return p.a.render(f.a.createElement(ef,r),t),t}catch(e){return null}};var nf=n("bHC7");function rf(e){Object(id.a)(e,(function(e){var t;return null==e||null===(t=e.user)||void 0===t?void 0:t.lang}),(function(){window.location.reload()}))}var af=n("Dsy9"),of=Tr()((function(){yi.default.getInstance().scheduleSync()}),1e3);function cf(e){var t=new af.a(e,{pingTimeout:12e4});t.onopen=function(){var e=yi.default.getInstance().last_synced.getTime();((new Date).getTime()-e)/1e3>30&&of()},t.onmessage=function(e){var t=JSON.parse(e.data),n=t.type,r=t.client_id;switch(n){case"token_reset":of();break;case"sync_needed":r!==yi.default.getInstance().client_id&&of()}}}var lf=n("Antg");function sf(e,t){lf.a.init({clientToken:u.a.datadog,site:"datadoghq.com",forwardErrorsToLogs:!1,sampleRate:100,env:t.isBeta?"beta":"production",version:"1242",service:"todoist-frontend-client"}),e&&function(e){lf.a.addLoggerGlobalContext("user_id",e.id)}(e),lf.a.addLoggerGlobalContext("api_version",yi.default.getInstance().api_version)}function uf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function df(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uf(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ff(){return window.location.search.indexOf("print_mode=1")>-1?(window.PRINT_MODE=!0,n.e(28).then(n.bind(null,"49ze"))):Promise.resolve()}window.initTodoist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{y.a.resolve();var t=Object(g.a)("User").get();D.a.init(df(df({},e),{},{isBeta:Boolean(null==t?void 0:t.features.beta)})),Qd(t,e),sf(t,e),Qo.default.loadData().then(i()(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=k.default.getState(),!((n=t.items&&v()(t.items))&&Object(nf.c)(t,{items:n}).length>0&&Object(nf.b)(t,{items:n}).length>0)){e.next=4;break}throw new Error("Cache inconsistencies detected. Please clear your cache or click Ok to log in again.");case 4:if(Object(po.a)(t)){e.next=6;break}throw new Error("Corrupted local storage");case 6:return rf(k.default),r=t.user,e.next=10,Object(ee.c)(r,D.a.version);case 10:return Zd(r),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})))).then(function(){var e=i()(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(ee.d)("frontend.new_websocket_mechanism")){e.next=5;break}cf(t.websocket_url),e.next=10;break;case 5:return e.next=7,n.e(71).then(n.bind(null,"aSA+"));case 7:r=e.sent,(0,r.initWebSocketManager)(t.websocket_url);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return Gd(e.id),Promise.all([tf(),mo.a.switchThemes(e.theme),Object(s.a)(e.lang),qd.a.loadLang(e.lang),ff()]).then((function(){return e}))})).then((function(e){yd(),Object(rl.a)().onLoginCompleted(e),Object(rl.a)().registerForBadgeUpdates(),Object(rl.a)().registerForTodayUpdates(),Object(rl.a)().registerForProjectUpdates(),Signals.sendSignal("data_fully_loaded"),k.default.dispatch(Object(At.u)());var t=document.getElementById("todoist_app");p.a.render(f.a.createElement(Ju,null),t),di.setServiceWorker().catch((function(e){return Object(Z.captureError)(e)}))})).catch((function(e){Object(Ee.a)(e)}))}catch(e){Object(Ee.a)(e)}},window!==top&&top.postMessage&&setInterval((function(){return Object(b.c)(top,window.location.toString())}),200),window.onbeforeunload=function(e){if(g.b.commitAll(),0!==yi.default.getInstance().getQueueSuccessLength()&&!yi.default.getInstance().global_error){setTimeout((function(){yi.default.getInstance().sync(null,!0)}),10);var t=_("Some changes you've made have not been synced. Exit anyway?");return e.returnValue=t,t}},Ud.a.show(),window.initTodoist({smartScheduleDomain:u.a.smartScheduleDomain,version:"1242"}),X.l||Object(rl.a)().focusMainWindow()},gIvJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{fill:"currentColor",d:"M6 6h12a2 2 0 012 2v8a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2zm0 1a1 1 0 00-1 1v8a1 1 0 001 1h12a1 1 0 001-1V8a1 1 0 00-1-1H6zm10.7 1.6a.5.5 0 01.6.8L12 13.1 6.7 9.4a.5.5 0 11.6-.8l4.7 3.3 4.7-3.3z"});function i(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24"},e),o)}n.p},gVGk:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return D})),n.d(t,"d",(function(){return S})),n.d(t,"t",(function(){return x})),n.d(t,"s",(function(){return P})),n.d(t,"u",(function(){return R})),n.d(t,"q",(function(){return I})),n.d(t,"p",(function(){return T})),n.d(t,"r",(function(){return A})),n.d(t,"e",(function(){return y.b})),n.d(t,"n",(function(){return y.k})),n.d(t,"i",(function(){return y.f})),n.d(t,"j",(function(){return y.g})),n.d(t,"g",(function(){return y.d})),n.d(t,"h",(function(){return y.e})),n.d(t,"f",(function(){return y.c})),n.d(t,"k",(function(){return y.h})),n.d(t,"o",(function(){return y.l})),n.d(t,"m",(function(){return y.j})),n.d(t,"l",(function(){return y.i})),n.d(t,"v",(function(){return q}));var r=n("J4zp"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("RIqP"),l=n.n(c),s=n("RHI1"),u=n.n(s),d=n("3WX/"),f=n.n(d),m=n("9UKM"),p=n.n(m),h=n("P/G1"),v=n.n(h),b=n("wkB0"),g=n("Qi13"),_=n("MrOw"),y=n("3AAN"),O=n("A72/"),j=n("Vdij");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k="LABEL_REMOVE",D="LABEL_RENAME",C=function(e){return $isString(e)&&0==e.indexOf("_")},S=function(e){var t=e.name,n=e.color,r=void 0===n?7:n,a=e.item_order,o=e.is_favorite;return function(e,n){if(!t||!r)throw new Error("Missing required parameters");var i=n();if(!Object(O.f)(i))return Object(j.a)({type:"LABELS",userPlanLimits:Object(O.s)(i)}),null;var c=g.a.generate("label");t=Object(b.a)(t);var s=Math.max.apply(Math,l()(v()(i.labels).map((function(e){return e.item_order})))),u={id:c,name:t,item_order:"number"==typeof a?a:s+1,color:r,is_favorite:o};return _.default.getInstance().queueUpdate({type:"label_register",temp_id:c,args:E({},u)}),e({type:"LABEL_ADD",payload:u}),u}},I=function(e){return function(t,n){var r=Object(y.g)(e,n());if(r){var a=r.id;_.default.getInstance().queueUpdate({type:"label_delete",args:{id:a}})}else _.default.getInstance().queueUpdate({type:"label_delete_occurrences",args:{name:e}});t({type:k,payload:{name:e}})}},T=function(e){return function(t,n){var r=n();if(!Object(y.g)(e,r)){var a={name:e,item_order:Object(y.l)(r)+1};return S(a)(t,n)}}},A=function(e){return function(t,n){C(e)&&(e=g.a.getRealId(e));var r=Object(y.f)(n(),e);r&&(_.default.getInstance().queueUpdate({type:"label_delete",args:{id:e,cascade:"none"}}),t({type:k,payload:{name:r.name,removeFromTasks:!1}}))}},x=function(e,t){var n=t.name,r=t.color,a=t.item_order,o=t.is_favorite;return function(t,i){C(e)&&(e=g.a.getRealId(e));var c=Object(y.f)(i(),e);if(c){var l={id:e,name:n,color:r,item_order:a,is_favorite:o};if((l=f()(l,(function(e){return void 0===e}))).name&&(l.name=Object(b.a)(l.name)),null!=n)P({oldName:c.name,newName:n,sync:!1})(t);var s=Object.keys(l);s.length<=1||s.every((function(e){return l[e]===c[e]}))||(_.default.getInstance().queueUpdate({type:"label_update",args:l}),t({type:"LABEL_UPDATE",payload:l}))}}};function P(e){var t=e.oldName,n=e.newName,r=e.sync,a=void 0===r||r;return function(e){n=Object(b.a)(n),t!==n&&(a&&_.default.getInstance().queueUpdate({type:"label_rename",args:{name_old:t,name_new:n}}),e({type:D,payload:{oldName:t,newName:n}}))}}var R=function(e){return function(t){0!==Object.keys(e).length&&(e=u()(e,(function(e,t){return C(t)?g.a.getRealId(t):t})),_.default.getInstance().queueUpdate({type:"label_update_orders",args:{id_order_mapping:JSON.stringify(e)}}),t({type:"LABEL_UPDATE",payload:p()(e).map((function(e){var t=a()(e,2),n=t[0],r=t[1];return{id:C(n)?n:parseInt(n),item_order:r}}))}))}},N=n("QVEU"),L=n.n(N),M=n("qRd9"),F=n("nvqi"),z=n("3/82");function B(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.a:return t.payload.labels?t.payload.labels:e;case F.b:var n=t.payload,r=n.labels,a=n.temp_id_mapping;return a&&(e=Object(z.f)(e,a)),r&&(e=Object(z.c)(e,r)),Object.keys(g.a.getRealIdMapping()).forEach((function(t){e[t]&&delete e[t]})),e;case F.a:return L()(t.payload.labels,"id");case"LABEL_ADD":var o=t.payload,c=H({},e);return c[o.id]=o,c;case k:var l=t.payload.name,s=Object.keys(e).find((function(t){return e[t].name===l}));if(void 0===s)return e;var u=H({},e);return delete u[s],u;case"LABEL_UPDATE":var d,f=$isArray(t.payload)?t.payload:[t.payload],m=H({},e),p=B(f);try{for(p.s();!(d=p.n()).done;){var h=d.value,v=h.id;m[v]&&(m[v]=H(H({},m[v]),h))}}catch(e){p.e(e)}finally{p.f()}return m;case D:var b=t.payload,_=b.oldName,y=b.newName,O=Object.keys(e).find((function(t){return e[t].name===_}));return void 0===O?e:H(H({},e),{},i()({},O,H(H({},e[O]),{},{name:y})));default:return e}};function q(e,t){return l()(e).sort((function(e,n){return function(e,t){if(e.id&&t.id)return e.item_order-t.item_order;if(e.id)return-1;if(t.id)return 1;return e.name.localeCompare(t.name)}(t[e]||{name:e},t[n]||{name:n})}))}t.c=U},gYEG:function(e,t,n){},gZO9:function(e,t,n){},gd9Y:function(e,t,n){"use strict";n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return _})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"j",(function(){return w})),n.d(t,"i",(function(){return E})),n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return D})),n.d(t,"f",(function(){return C}));var r=n("QILm"),a=n.n(r),o=n("pVnL"),i=n.n(o),c=n("lSNA"),l=n.n(c),s=n("q1tI"),u=n("dE+u"),d=n("/MKj"),f=n("Y+p1"),m=n.n(f);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){if(e){var t=null;if(t=/^\/project\/([^/]+)(\/.*)?/.exec(e))return{type:"project",projectId:parseInt(t[1])||t[1]};if(t=/^\/task\/([^/]+)(\/.*)?/.exec(e))return{type:"task",taskId:parseInt(t[1])||t[1]}}}function b(e){var t=null;function n(e){return h(h({},e),{},{subRoute:v(e.subPath)})}if(e.startsWith("/app")&&(e=e.substr(4)),t=/^\/inbox(.*)?/.exec(e))return n({type:"inbox",path:"/inbox",subPath:t[1]});if(t=/^\/today(.*)?/.exec(e))return n({type:"today",path:"/today",subPath:t[1]});if(t=/^\/upcoming(.*)?/.exec(e))return n({type:"upcoming",path:"/upcoming",subPath:t[1]});if(t=/^\/filters-labels(.*)?/.exec(e))return n({type:"filters-labels",path:"/filters-labels",subPath:t[1]});if(t=/^\/project\/([^/]+)(\/.*)?/.exec(e)){var r=parseInt(t[1])||t[1];return n({type:"project",projectId:r,path:"/project/".concat(r),subPath:t[2]})}if(t=/^\/label\/([^/]+)(\/.*)?/.exec(e))return n({type:"label",labelName:decodeURIComponent(t[1]),path:"/label/".concat(t[1]),subPath:t[2]});if(t=/^\/search\/([^/]+)(\/.*)?/.exec(e))return n({type:"search",searchQuery:decodeURIComponent(t[1]),path:"/search/".concat(t[1]),subPath:t[2]});if(t=/^\/filter\/([^/]+)(\/.*)?/.exec(e)){var a=parseInt(t[1])||t[1];return n({type:"filter",filterId:a,path:"/filter/".concat(a),subPath:t[2]})}return(t=/^\/activity(\/.*)?/.exec(e))?n({type:"activity",path:"/activity",subPath:t[1]}):void 0}function g(e){return null!=b(e)}function _(e,t,n){var r;function a(e){var r="subtasks"===(null==t?void 0:t.tab)?null:null==t?void 0:t.tab;return e="/app"+e,(null!=(null==t?void 0:t.id)?[e,"task",t.id,r,n]:[e,n]).filter((function(e){return null!=e})).join("/")}switch((null===(r=n)||void 0===r?void 0:r.startsWith("/"))&&(n=n.substr(1)),null==e?void 0:e.type){case"inbox":case"today":case"upcoming":case"filters-labels":return a("/".concat(e.type));case"project":return a("/project/".concat(e.projectId));case"label":return a("/label/".concat(encodeURIComponent(e.labelName)));case"search":return a("/search/".concat(encodeURIComponent(e.searchQuery)));case"filter":return a("/filter/".concat(e.filterId));case"activity":return a("/activity");default:return t?a(""):"/app"}}function y(){var e=Object(u.i)().pathname;return s.useMemo((function(){return b(e)}),[e])}function O(){var e=Object(u.i)(),t=e.pathname,n=e.search,r=Object(u.j)();return s.useCallback((function(e){var a=e.view,o=void 0===a?"current":a,i=e.task,c=e.subPath,l=e.search,s=e.hash,u=e.replace,d=e.state,f=_("current"===o?b(t):o,i,c);r({pathname:f,search:(null!=l?l:"current"===o)?n:void 0,hash:s},{replace:u,state:d})}),[r,t,n])}function j(e){var t=O();return s.useEffect((function(){t(e)}),[t,e]),null}function w(e){return s.forwardRef((function(t,n){var r=O(),a=s.useRef(r);return s.useEffect((function(){a.current=r}),[r]),s.createElement(e,i()({},t,{navigateToRef:a,ref:n}))}))}function E(e){var t,n=Object(u.k)()[e],r=parseInt(n,10)||void 0,a=Object(d.h)((function(e){var t=e.tempIds;return null==t?void 0:t[n]})),o=Object(d.h)((function(e){var t,n,a=e.tempIds;return n=r,null!=(t=a)?Object.keys(t).find((function(e){return t[e]===n})):void 0}));return{id:null!==(t=null!=r?r:a)&&void 0!==t?t:n,realId:null!=r?r:a,tempId:null!=r?o:n,paramId:null!=r?r:n}}var k=s.forwardRef((function(e,t){var n=e.view,r=void 0===n?"current":n,o=e.task,c=e.subPath,l=e.search,d=e.hash,f=e.children,m=a()(e,["view","task","subPath","search","hash","children"]),p=Object(u.i)().pathname,h=_("current"===r?b(p):r,o,c);return s.createElement(u.b,i()({ref:t,to:{pathname:h,search:l,hash:d}},m),f)})),D=s.forwardRef((function(e,t){var n=e.view,r=void 0===n?"current":n,o=e.subPath,c=e.task,l=e.search,d=e.hash,f=e.children,m=a()(e,["view","subPath","task","search","hash","children"]),p=Object(u.i)().pathname,h=_("current"===r?b(p):r,c,o);return s.createElement(u.c,i()({ref:t,to:{pathname:h,search:l,hash:d}},m),f)}));function C(e){var t,n=null!==(t=b(Object(u.i)().pathname))&&void 0!==t?t:{},r=(n.path,n.subPath,n.subRoute,a()(n,["path","subPath","subRoute"]));return m()(e,r)}},giaj:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"i",(function(){return f}));var r=1,a=2,o=4,i=11,c={0:"todoist",1:"noir",2:"neutral",3:"tangerine",4:"sunflower",5:"clover",6:"blueberry",7:"sky",8:"amethyst",9:"graphite",10:"gold",11:"dark",12:"pink",13:"royal_blue"},l="#d4d4d4",s="#3e3e3e",u="#282828",d=["#db4c3f","#3d3d3d","#f7f7f7","#ff9000","#fecf05","#3c9b0d","#316fea","#4dc1e6","#8e24aa","#506578","#e0b53f","#f55547","#EB96C8","#175BC2"];function f(e){return d[e]?d[e]:(console.log("[warning] unsupported theme value",e),"#db4c3f")}},gieR:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("g",{fill:"currentColor"},r.createElement("path",{d:"M13.5 9.5V12a1.5 1.5 0 01-1.5 1.5H4A1.5 1.5 0 012.5 12V9.5h3.75a1.75 1.75 0 003.5 0h3.75z",opacity:.1}),r.createElement("path",{d:"M10.491 2a2 2 0 011.923 1.45l1.509 5.28a2 2 0 01.077.55V12a2 2 0 01-2 2H4a2 2 0 01-2-2V9.28a2 2 0 01.077-.55l1.509-5.28A2 2 0 015.509 2h4.982zm0 1H5.51a1 1 0 00-.962.725l-1.509 5.28A1 1 0 003 9.28V12a1 1 0 001 1h8a1 1 0 001-1V9.28a1 1 0 00-.038-.275l-1.51-5.28a1 1 0 00-.96-.725zM6.25 9a.5.5 0 01.5.5 1.25 1.25 0 002.5 0 .5.5 0 01.5-.5h1.75a.5.5 0 110 1h-1.306a2.25 2.25 0 01-4.388 0H4.5a.5.5 0 010-1z"}));function i(e){return r.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16"},e),o)}n.p},gjZZ:function(e,t,n){e.exports=n.p+"assets/images/410488f759be6944cd73b0456c35799b.png"},gmEJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return S.b})),n.d(t,"b",(function(){return S.e})),n.d(t,"c",(function(){return S.h})),n.d(t,"e",(function(){return S.k})),n.d(t,"f",(function(){return S.l})),n.d(t,"j",(function(){return S.n})),n.d(t,"k",(function(){return S.o})),n.d(t,"l",(function(){return S.p})),n.d(t,"m",(function(){return S.q})),n.d(t,"n",(function(){return S.r})),n.d(t,"p",(function(){return S.t})),n.d(t,"o",(function(){return S.s})),n.d(t,"g",(function(){return S.m})),n.d(t,"i",(function(){return I.b})),n.d(t,"h",(function(){return I.a})),n.d(t,"q",(function(){return L}));var r=n("RIqP"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("ANjH"),l=n("duPW"),s=n.n(l),u=n("ejxE"),d=n.n(u),f=n("DwX5"),m=n.n(f),p=n("qOpA"),h=n.n(p),v=n("uS8r"),b=n.n(v),g=n("b3vA"),_=n.n(g),y=n("hxO4"),O=n.n(y),j=n("DoMW"),w=n("7GkX"),E=n.n(w),k=n("/0g7"),D=n("qRd9"),C=n("nvqi"),S=n("bT2Y"),I=n("PRk6"),T=n("Bl08"),A=n("3/82"),x=n("4PH6");function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.a:var n=t.payload.sections;return null!=n?n:e;case C.a:var r=t.payload.sections;return r?Object(k.a)(r.map(M)):e;case S.a:var a=t.payload,o=a.section,c=a.reorder,l=R(R({},e),{},i()({},o.id,o));return c.length>0&&(l=O()(l,Object(j.a)(c))),l;case S.j:var s=t.payload,u=e[s.id];return R(R({},e),{},i()({},u.id,R(R({},u),s)));case S.i:var d=t.payload,f=Object(I.c)(d.project_id,{sections:e});return R(R({},e),{},i()({},d.id,R(R({},d),{},{is_archived:!1,date_archived:null,collapsed:!1,section_order:f+1})));default:return e}};var L=function(e){return function(t,n){var r=e(t,n);return void 0===t||t.sections===r.sections?r:function(e,t){var n=new Set(e),r=F(e,t),a=r.items,o=r.notes,i=r.reminders;return Object(c.d)(Object(A.e)("sections",n),Object(A.e)("items",a),Object(A.e)("notes",o),Object(A.e)("reminders",i))(t)}(Object.values(r.sections).filter((function(e){return e.is_archived||e.is_deleted})).map((function(e){return e.id})),r)}}((function(e,t){switch(t.type){case S.b:case S.f:var n=t.payload.id,r=Object(A.j)(n,{is_archived:!0},e.sections);return R(R({},e),{},{sections:r});case S.d:var a,o=t.payload,l=o.id,u=o.project_id,f=o.section_order,p=e.sections,v=p[l],g=R(R({},v),{},{project_id:u,section_order:f}),_=R(R({},e),{},{sections:R(R({},p),{},i()({},l,g))});return _=z([l],_),_=Object(x.e)({type:S.e,section:v,destProject:null===(a=e.projects)||void 0===a?void 0:a[u]},_);case S.e:var y;if(!(null===(y=e.undo)||void 0===y?void 0:y.section))return e;var w=e.undo.section,D=w.id,P=w.project_id,N=w.section_order,L=e.sections,F=R(R({},L[D]),{},{project_id:P,section_order:N}),B=R(R({},e),{},{sections:R(R({},L),{},i()({},D,F)),undo:null});return B=z([D],B);case C.b:var V=t.payload,$=V.temp_id_mapping,H=V.sections,U=R({},e);if($&&(U=function(e,t){var n=e.undo;if(!n)return e;switch(n.type){case S.e:var r=n.section;return r=Object(A.h)(["project_id"],t,r),R(R({},e),{},{undo:R(R({},n),{},{section:r})});default:return e}}(U,$)),!H||0===H.length)return U;U.sections=R(R({},U.sections),Object(k.a)(H.map(M)));var q=Object(c.d)(b()((function(e){return e.id})),m()((function(e){return U.sections[e.id].project_id!==e.project_id})),d.a,h()(E()(U.sections)),s()("sections"))(e);return q.length>0&&(U=z(q,U)),U;case S.g:var G=t.payload.orders,W=G.map((function(t){var n=t.id;return{id:n,section_order:e.sections[n].section_order}})),K=R({},e);return K.sections=O()(K.sections,Object(j.a)(G)),t.payload.withUndo&&(K=Object(x.e)({type:S.h,orders:W},K)),K;case S.h:if(!e.undo)return e;var Y=e.undo.orders;return R(R({},e),{},{sections:O()(e.sections,Object(j.a)(Y)),undo:null});case T.l:var J=t.payload.section;if(J){var Q=Object(I.c)(J.project_id,e);return R(R({},e),{},{sections:R(R({},e.sections),{},i()({},J.id,R(R({},J),{},{is_archived:!1,date_archived:null,collapsed:!1,section_order:Q+1})))})}return e;case S.c:return t.payload.state}return e}));function M(e){return R(R({},e),{},{date_added:new Date(e.date_added)})}function F(e,t){var n=new Set(e);function r(e){return Object(c.d)((function(e){return new Set(e)}),b()((function(e){return e.id})),m()(e))}var o=r((function(e){var t;return n.has(null!==(t=e.section_id)&&void 0!==t?t:"")}))(Object.values(t.items||{})),i=r((function(e){var t;return o.has(null!==(t=e.item_id)&&void 0!==t?t:"")}))(Object.values(t.notes||{})),l=r((function(e){var t;return o.has(null!==(t=e.item_id)&&void 0!==t?t:"")}))(Object.values(t.reminders));return _()((function(e){return a()(e)}),{items:o,notes:i,reminders:l})}function z(e,t){var n=F(e,t),r=n.items,a=n.notes,o=Object(c.d)(k.a,b()((function(e){var n,r,a;return R(R({},e),{},{project_id:null!==(n=null===(r=t.sections[null!==(a=e.section_id)&&void 0!==a?a:""])||void 0===r?void 0:r.project_id)&&void 0!==n?n:null})})),b()((function(e){var n;return null===(n=t.items)||void 0===n?void 0:n[e]})))(r),i=Object(c.d)(k.a,b()((function(e){return R(R({},e),{},{project_id:o["string"==typeof e.item_id?e.item_id:e.item_id.toString()].project_id})})),b()((function(e){var n;return null===(n=t.notes)||void 0===n?void 0:n[e]})))(a);return R(R({},t),{},{items:R(R({},t.items),o),notes:R(R({},t.notes),i)})}t.d=N},h8yO:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("J4zp"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c),s=n("ANjH"),u=n("oqHG"),d=n.n(u),f=n("uS8r"),m=n.n(f),p=n("DwX5"),h=n.n(p),v=n("Snkc"),b=n.n(v),g=n("k08V"),_=n.n(g);function y(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e){var t,n=e.text,r=e.keyval,o=Object(s.d)(m()((function(e){var t=a()(e,2),n=t[0];return{name:n,value:t[1],re:new RegExp("\\{\\s*".concat(n,"\\s*\\}"),"g")}})),d.a)(r),c=[],l=0,u=y(Object(s.d)(b()("startIndex"),h()((function(e){return e})),_.a,m()((function(e){for(var t,r=e.name,a=e.value,o=e.re,i=[];null!==(t=o.exec(n));)i.push({name:r,value:a,re:o,startIndex:t.index,endIndex:t.index+t[0].length});return i})))(o));try{for(u.s();!(t=u.n()).done;){var f=t.value,p=f.startIndex,v=f.endIndex,g=f.value,O=n.slice(l,p);c.push(O),c.push(g),l=v}}catch(e){u.e(e)}finally{u.f()}var j=n.slice(l,n.length);return c.push(j),i.a.createElement.apply(i.a,[i.a.Fragment,null].concat(c))}j.propTypes={text:l.a.string,keyval:l.a.object}},hMw4:function(e,t,n){"use strict";n.d(t,"a",(function(){return X}));var r=n("lSNA"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),l=n.n(c),s=n("TSYQ"),u=n.n(s),d=n("Pxnj"),f=n("xvbm"),m=n("CX2L"),p=n("AGwO"),h=n("gieR"),v=n("f4de");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 6.667A2.667 2.667 0 0017.333 4H6.667A2.667 2.667 0 004 6.667v10.666A2.667 2.667 0 006.667 20h10.666A2.667 2.667 0 0020 17.333V6.667zM6.75 5h10.5l.13.005A1.75 1.75 0 0119 6.75v10.5l-.005.13A1.75 1.75 0 0117.25 19H6.75l-.13-.005A1.75 1.75 0 015 17.25V6.75l.005-.13A1.75 1.75 0 016.75 5zm3.75 11a.5.5 0 01.5-.5h5a.5.5 0 010 1h-5a.5.5 0 01-.5-.5zM8 17a1 1 0 100-2 1 1 0 000 2zm2.5-5a.5.5 0 01.5-.5h5a.5.5 0 010 1h-5a.5.5 0 01-.5-.5zM8 13a1 1 0 100-2 1 1 0 000 2zm2.5-5a.5.5 0 01.5-.5h5a.5.5 0 010 1h-5a.5.5 0 01-.5-.5zM8 9a1 1 0 100-2 1 1 0 000 2z",fill:"currentColor"});function _(e){return c.createElement("svg",b({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),g)}n.p;function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 2h8a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V4a2 2 0 012-2zm0 1a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1V4a1 1 0 00-1-1H4zm2 2.5a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm1 0a.5.5 0 01.5-.5H11a.5.5 0 010 1H7.5a.5.5 0 01-.5-.5zM6 8a.75.75 0 11-1.5 0A.75.75 0 016 8zm1 0a.5.5 0 01.5-.5H11a.5.5 0 010 1H7.5A.5.5 0 017 8zm-1.75 3.25a.75.75 0 100-1.5.75.75 0 000 1.5zM7.5 10a.5.5 0 000 1H11a.5.5 0 000-1H7.5z",fill:"currentColor"});function j(e){return c.createElement("svg",y({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),O)}n.p;function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=c.createElement("circle",{cx:6,cy:6,r:4,fill:"currentColor"});function k(e){return c.createElement("svg",w({width:12,height:12,viewBox:"0 0 12 12"},e),E)}n.p;function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.837 5.747c.105.286.163.596.163.92V7h-1v-.25a1.75 1.75 0 00-1.523-1.735c.059-.056.121-.109.187-.158.582.522 1.34.851 2.173.89zM15.699 4H6.667A2.667 2.667 0 004 6.667v10.666A2.667 2.667 0 006.667 20h10.666A2.667 2.667 0 0020 17.333V9h-1v8.25l-.005.13A1.75 1.75 0 0117.25 19H6.75l-.13-.005A1.75 1.75 0 015 17.25V6.75l.005-.13A1.75 1.75 0 016.75 5h8.382c.058-.162.13-.322.218-.477.107-.188.223-.362.349-.523zm-.176 3.75H11a.5.5 0 000 1h5c.16 0 .302-.075.394-.192a2.985 2.985 0 01-.87-.808zm-7.273 9.5a1 1 0 100-2 1 1 0 000 2zm2.75-1.5a.5.5 0 000 1h5a.5.5 0 000-1h-5zm-1.75-3.5a1 1 0 11-2 0 1 1 0 012 0zm1.25 0a.5.5 0 01.5-.5h5a.5.5 0 010 1h-5a.5.5 0 01-.5-.5zm-2.25-3a1 1 0 100-2 1 1 0 000 2z",fill:"currentColor"}),S=c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.5 2.25a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM22.039 7h-4.078a1 1 0 01-.87-1.492C17.565 4.669 18.535 4.25 20 4.25c1.465 0 2.435.42 2.91 1.258A1 1 0 0122.038 7z",fill:"currentColor"});function I(e){return c.createElement("svg",D({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),C,S)}n.p;function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A=c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.603 3.202A.998.998 0 0113 4v1.25h1V4c0-.26-.05-.507-.139-.734A4.284 4.284 0 0013 3.187c-.138 0-.27.005-.397.015zM11.919 2H12c.603 0 1.144.267 1.511.69A1.125 1.125 0 0111.919 2zM9.991 2H4a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2V7.15h-1V12a1 1 0 01-1 1H4a1 1 0 01-1-1V4a1 1 0 011-1h5.283a3.42 3.42 0 01.733-.811A3.012 3.012 0 019.991 2zm-.705 4H7.5a.5.5 0 010-1h1.368c.07.356.21.698.418 1zm2.146-.751a.75.75 0 01-.52-.249H11a.5.5 0 01.432.249zM5.25 6.25a.75.75 0 100-1.5.75.75 0 000 1.5zm0 2.5a.75.75 0 100-1.5.75.75 0 000 1.5zM7.5 7.5a.5.5 0 000 1H11a.5.5 0 000-1H7.5zm-1.5 3a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm1 0a.5.5 0 01.5-.5H11a.5.5 0 010 1H7.5a.5.5 0 01-.5-.5z",fill:"currentColor"}),x=c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.125 1.688a1.125 1.125 0 11-2.25 0 1.125 1.125 0 012.25 0zm.404 3.562h-3.058a.75.75 0 01-.653-1.12c.356-.628 1.083-.942 2.182-.942s1.826.314 2.182.943a.75.75 0 01-.653 1.119z",fill:"currentColor"});function P(e){return c.createElement("svg",T({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),A,x)}n.p;function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N=c.createElement("path",{fill:"currentColor",d:"M6 7c2.517 0 4.083.76 4.7 2.28A1.25 1.25 0 019.542 11H2.458A1.25 1.25 0 011.3 9.28C1.917 7.76 3.483 7 6 7zm0-6a2.5 2.5 0 110 5 2.5 2.5 0 010-5z"});function L(e){return c.createElement("svg",R({width:12,height:12,viewBox:"0 0 12 12"},e),N)}n.p;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var F=c.createElement("path",{d:"M12 7a5 5 0 110 10 5 5 0 010-10z",fill:"currentColor"});function z(e){return c.createElement("svg",M({width:24,height:24,viewBox:"0 0 24 24"},e),F)}n.p;function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var V=c.createElement("circle",{cx:8,cy:8,r:3.5,fill:"currentColor"});function $(e){return c.createElement("svg",B({width:16,height:16,viewBox:"0 0 16 16"},e),V)}n.p;function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var U=c.createElement("path",{d:"M12 13c3.376 0 5.328 1.187 5.854 3.562A1.181 1.181 0 0116.7 18H7.3a1.182 1.182 0 01-1.154-1.438C6.672 14.187 8.624 13 12 13zm0-7a3 3 0 110 6 3 3 0 010-6z",fill:"currentColor"});function q(e){return c.createElement("svg",H({width:24,height:24},e),U)}n.p;function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var W=c.createElement("path",{fill:"currentColor",d:"M8 9c2.517 0 4.083.76 4.7 2.28A1.25 1.25 0 0111.542 13H4.458A1.25 1.25 0 013.3 11.28C3.917 9.76 5.483 9 8 9zm0-6a2.5 2.5 0 110 5 2.5 2.5 0 010-5z"});function K(e){return c.createElement("svg",G({width:16,height:16,viewBox:"0 0 16 16"},e),W)}n.p;var Y=n("UVeO");n("UtPQ");function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z={xsmall:12,small:16,medium:24};function X(e){var t=e.project,n=void 0===t?{inbox_project:!1,color:d.a,team_inbox:!1}:t,r=e.isShared,a=void 0!==r&&r,o=e.isOutline,c=void 0!==o&&o,s=e.size,b=void 0===s?"medium":s,g=i()(e,["project","isShared","isOutline","size"]),y=n.inbox_project,O=n.color,w=n.team_inbox,E=Object(f.d)("global.project_iconography"),D=Q(Q({},g),{},{className:u()("project_icon",g.className,{project_icon_inbox:y,project_icon_team_inbox:w}),width:Z[b],height:Z[b],style:y||w?void 0:{color:d.g("project",O)}});if(y)return"medium"===b?l.a.createElement(v.a,D):l.a.createElement(h.a,D);if(w)return"medium"===b?l.a.createElement(p.a,D):l.a.createElement(m.a,D);if(a)switch(b){case"xsmall":return c?l.a.createElement(Y.Yb,D):l.a.createElement(L,D);case"small":return c?l.a.createElement(Y.Xb,D):E?l.a.createElement(P,D):l.a.createElement(K,D);default:return E?l.a.createElement(I,D):l.a.createElement(q,D)}switch(b){case"xsmall":return c?l.a.createElement(Y.Fb,D):l.a.createElement(k,D);case"small":return c?l.a.createElement(Y.Eb,D):E?l.a.createElement(j,D):l.a.createElement($,D);default:return E?l.a.createElement(_,D):l.a.createElement(z,D)}}t.b=X},hYE5:function(e,t){var n,r=function(e,t){return function(){return e.apply(t,arguments)}};n=function(){function e(e){this.remove=r(this.remove,this),this.show=r(this.show,this),this.render=r(this.render,this),this.showTooltip=r(this.showTooltip,this),this.collection=e.collection,this.filterItem=e.filterItem,this.onSelect=e.onSelect,this.wildcard_match=e.wildcard_match||!0,this.selectedItem=e.selectedItem,this.txt_no_matches_found=e.txt_no_matches_found,this.placeholder=e.placeholder||"",this.extra_width=e.extra_width||40,this.offset_left=e.offset_left||0}return e.prototype.showTooltip=function(e){var t,n,r,a,o,i,c,l;return r=e.icon,t=$position(r),o=this.render(e),n=DIV(o.holder),i={fn_left_offset:function(n,r){var a;return $winSize(),a=190,void 0!==e.left_offset&&(a=e.left_offset),t.x-a},fn_top_offset:function(){return $winSize().w<450?0:t.y+(e.top_offset||0)},fn_arrow_left:function(){return t.x+(e.arrow_left_offset||0)},fn_on_hide:(l=this,function(){if($removeClass($("ist_complete_floater"),"in_ist_select"),$removeClass(r,"always_show"),l.remove(),e.fn_on_hide)return e.fn_on_hide()}),fixed_pos:$hasClass(r,"fixed_pos")},(a=$("ist_complete_floater"))||(IstComplete.init(),a=$("ist_complete_floater")),$hasClass(r,"fixed_pos")?a.style.position="fixed":a.style.position="",c=TooptipWin.show(e.title,n,210,265,i),this.show(),$addClass(a,"in_ist_select"),FocusElm.focus(n),c},e.prototype.render=function(e){var t,n,r;return t={type:"text",autocomplete:"off"},this.placeholder&&(t.placeholder=this.placeholder),n=DIV({c:"ist_complete_select"},r=INPUT(t),DIV({c:"results_holder"})),$hasClass(e.icon,"fixed_pos")&&$addClass(r,"fixed_pos"),this.input=r,this.complete_data={selectedItem:this.selectedItem,txt_no_matches_found:this.txt_no_matches_found,collection:this.collection,filterItem:this.filterItem,onSelect:this.onSelect,wildcard_match:this.wildcard_match,require_trigger:!1,whole_input_match:!0,extra_width:this.extra_width,offset_top:14,offset_left:-19},IstComplete.attach(r,this.complete_data),{holder:n,input:r}},e.prototype.show=function(){return this.input.focus(),setTimeout((e=this,function(){return IstComplete.forceShow(e.input,!1,e.complete_data)}),30);var e},e.prototype.remove=function(){return IstComplete.hide(),this.input=null,this.collection=null,this.filterItem=null,this.onSelect=null,this.wildcard_match=null},e}(),window.IstCompleteSelect=n},hjWB:function(e,t,n){e.exports=n.p+"assets/images/22311941c810c71103744cbf5615b216.png"},hlFn:function(e,t,n){},hleb:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),o=n("RIqP"),i=n.n(o),c=n("lwsE"),l=n.n(c),s=n("W8MJ"),u=n.n(s),d=n("TQFH");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){function e(){l()(this,e),this.getAll=this.getAll.bind(this),this.getAllOwn=this.getAllOwn.bind(this),this.getById=this.getById.bind(this),this.getBySyncId=this.getBySyncId.bind(this),this.getChildren=this.getChildren.bind(this),this.getByName=this.getByName.bind(this),this.add=this.add.bind(this),this.deleteItem=this.deleteItem.bind(this),this.update=this.update.bind(this),this.updateDayOrders=this.updateDayOrders.bind(this),this.moveMultiple=this.moveMultiple.bind(this),this.complete=this.complete.bind(this),this.uncomplete=this.uncomplete.bind(this),this.addLabel=this.addLabel.bind(this),this.removeLabel=this.removeLabel.bind(this)}return u()(e,null,[{key:"initClass",value:function(){this.prototype.max_indent=5,this.prototype.max_chars_for_content=2048}}]),u()(e,[{key:"getAll",value:function(){return Object(d.F)(h().getState())}},{key:"getAllVisible",value:function(){return Object(d.G)(h().getState())}},{key:"getAllOwn",value:function(){return Object(d.C)(h().getState())}},{key:"getById",value:function(e){return Object(d.u)(h().getState(),e)}},{key:"getBySyncId",value:function(e){return Object(d.y)(e,h().getState())}},{key:"getChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.with_parent,r=void 0!==n&&n,a=t.sorted,o=void 0!==a&&a,c=h().getState(),l=Object(d.z)(e.id,c,{sorted:o});return r?[e].concat(i()(l)):l}},{key:"getByName",value:function(e,t){return Object(d.v)(e,h().getState(),t)}},{key:"itemGetSectionGroups",value:function(e){return Object(d.E)(e)(h().getState())}},{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h().dispatch(Object(d.o)(e,t))}},{key:"itemGetMaxTopLevelChildOrder",value:function(e){return Object(d.B)(e,h().getState())}},{key:"deleteItem",value:function(e){return h().dispatch(Object(d.s)(e))}},{key:"update",value:function(e,t,n){var r=this.getById(e),a=h().dispatch(Object(d.M)(m(m({},t),{},{id:e}),{item:n})),o=r!==a;return o&&Signals.sendSignal("item_updated",a),[a,o]}},{key:"updateDayOrders",value:function(e){h().dispatch(Object(d.N)(e))}},{key:"updateDue",value:function(e){return h().dispatch(Object(d.P)(e))}},{key:"moveMultiple",value:function(e,t,n){var r=e.map((function(e){return e.id}));return h().dispatch(Object(d.J)(r,t,n))}},{key:"complete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return h().dispatch(Object(d.p)(e.id,{forceHistory:t}))}},{key:"uncomplete",value:function(e,t,n){return h().dispatch(Object(d.L)(e,t,n)),this.getById(e)}},{key:"archive",value:function(e){return h().dispatch(Object(d.p)(e,{completeRecurring:!0}))}},{key:"addLabel",value:function(e,t){if(!e.labels.includes(t.name)){var n=[].concat(i()(e.labels),[t.name]);return this.update(e.id,{labels:n})}}},{key:"removeLabel",value:function(e,t){if(e.labels.includes(t.name)){var n=e.labels.filter((function(e){return e!==t.name}));return this.update(e.id,{labels:n})}}},{key:"getTotalCompletedCount",value:function(){return h().getState().stats.completed_count}}]),e}();function h(){return n("oHMr").default}p.initClass(),window.ItemsModel=new p,t.a=window.ItemsModel},hvkN:function(e,t,n){"use strict";n.r(t),n.d(t,"ReactComponent",(function(){return c}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("defs",null,r.createElement("clipPath",{id:"circular_profile_svg__clip-path"},r.createElement("circle",{cx:40,cy:40,r:40,fill:"none"})),r.createElement("style",null,".circular_profile_svg__cls-3{fill:#fff}")),i=r.createElement("g",{id:"circular_profile_svg__Layer_2","data-name":"Layer 2"},r.createElement("g",{id:"circular_profile_svg__Layer_1-2","data-name":"Layer 1"},r.createElement("circle",{cx:40,cy:40,r:40,fill:"#e5e5e5"}),r.createElement("circle",{cx:40,cy:26.06,r:14.75,className:"circular_profile_svg__cls-3"}),r.createElement("g",{clipPath:"url(#circular_profile_svg__clip-path)"},r.createElement("path",{d:"M40 80a39.85 39.85 0 0027.76-11.21 28.82 28.82 0 00-55.51 0A39.85 39.85 0 0040 80z",className:"circular_profile_svg__cls-3"}))));function c(e){return r.createElement("svg",a({viewBox:"0 0 80 80"},e),o,i)}t.default=n.p+"assets/images/35af5f7da48c23c9ef5f5b9f392ae4e7.svg"},hwkv:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("oHMr"),l=n("S+H7"),s=n("7GkX"),u=n.n(s),d=function(){function e(){a()(this,e)}return i()(e,[{key:"addInvite",value:function(e,t){c.default.dispatch(Object(l.b)(e,t)),Signals.sendSignal("instant_refresh_interface")}},{key:"deleteFromProject",value:function(e,t){c.default.dispatch(Object(l.a)(t.id,e)),Signals.sendSignal("instant_refresh_interface")}},{key:"getUserById",value:function(e){return Object(l.k)(e,c.default.getState())}},{key:"isProjectShared",value:function(e){return Object(l.m)(c.default.getState(),e)}},{key:"getAll",value:function(e){return Object(l.j)(c.default.getState(),e)}},{key:"getAllCollaborators",value:function(){return c.default.getState().collaborators.all}},{key:"getCount",value:function(){var e=c.default.getState();return u()(e.collaborators.all).length}},{key:"getActiveUsers",value:function(e){return Object(l.f)(e,c.default.getState())}},{key:"getInvitedUsers",value:function(e){return Object(l.l)(e,c.default.getState())}}]),e}();window.Collaborators=new d,t.a=window.Collaborators},hzT6:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),l=n.n(c),s=n("17x9"),u=n.n(s),d=n("TSYQ"),f=n.n(d),m=n("OgjY"),p=n("lDtu"),h=n("92A6"),v=n("Ek05"),b=n("UVeO"),g=Object(c.forwardRef)((function(e,t){var n=e.date,r=e.overrideClassName,o=e.showDue,c=void 0===o||o,s=e.showTime,u=void 0!==s&&s,d=e.showIcon,g=void 0!==d&&d,_=i()(e,["date","overrideClassName","showDue","showTime","showIcon"]);if(!c&&!u)return null;var y=n instanceof m.a?n:m.a.fromDate(new Date(n),{withTime:u}),O=new Date,j=new Date;j.setDate(j.getDate()+1);var w=p.b.day_diff(O,y.toDate()),E="";if(c)E=u?v.a.humanizeDayDiff(w,y.toDate()):v.a.humanizeDayDiff(w,Object(m.c)(y.toDate()));else if(y.with_time)E=v.a.getHourAndMin(y.toDate());else if(!y.is_recurring)return null;var k=y.is_recurring||E&&E.length>0?f()("date",Object(h.a)(n)):"date";return l.a.createElement("span",a()({className:r||k,ref:t},_),g&&E?l.a.createElement(b.n,{size:"small",className:"calendar_icon"}):null,E,y.is_recurring?l.a.createElement(b.Tb,{className:"recurring_icon"}):null)}));g.propTypes={date:u.a.oneOfType([u.a.string,u.a.instanceOf(m.a)]).isRequired,overrideClassName:u.a.string,showDue:u.a.bool,showTime:u.a.bool,showIcon:u.a.bool},t.a=g},iAAn:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("g",{fill:"currentColor",fillRule:"evenodd"},r.createElement("path",{d:"M6.5 14h2v1h-2v-1zm10-2h1v1h-1v-1zm0-2h1v1h-1v-1zm-10 2h1v1h-1v-1zm0-2h1v1h-1v-1zm2 2h1v1h-1v-1zm0-2h1v1h-1v-1zm2 2h1v1h-1v-1zm0-2h1v1h-1v-1zm2 2h1v1h-1v-1zm0-2h1v1h-1v-1zm2 2h1v1h-1v-1zm0-2h1v1h-1v-1zm1 4h2v1h-2v-1zm-6 0h5v1h-5v-1z"}),r.createElement("path",{fillRule:"nonzero",d:"M6.56 7c-.66 0-.86.04-1.07.15a.82.82 0 00-.34.34C5.04 7.7 5 7.9 5 8.56v6.88c0 .66.04.86.15 1.07a.82.82 0 00.34.34c.21.11.41.15 1.07.15h10.88c.66 0 .86-.04 1.07-.15a.82.82 0 00.34-.35c.11-.2.15-.4.15-1.06V8.56c0-.66-.04-.86-.15-1.07a.82.82 0 00-.35-.34c-.2-.11-.4-.15-1.06-.15H6.56zm0-1h10.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54v6.88c0 .89-.1 1.21-.27 1.54a1.8 1.8 0 01-.75.75c-.33.18-.65.27-1.54.27H6.56c-.89 0-1.21-.1-1.54-.27a1.82 1.82 0 01-.75-.75c-.18-.33-.27-.65-.27-1.54V8.56c0-.89.1-1.21.27-1.54.17-.32.43-.58.75-.75.33-.18.65-.27 1.54-.27z"}));function i(e){return r.createElement("svg",a({width:24,height:24},e),o)}n.p},iCX6:function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r),o=n("yXPU"),i=n.n(o),c=n("lwsE"),l=n.n(c),s=n("W8MJ"),u=n.n(s),d=n("dGQG"),f=n("RZq6"),m=n("lDtu"),p=n("jVEK"),h=n("7gDd"),v=n("Ek05"),b=(n("qiHj"),function(){function e(){l()(this,e)}var t;return u()(e,[{key:"init",value:function(e){var t=this;Object(d.a)(e,(function(e){return e.dateistLangs}),(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.loadLang(n).catch((function(e){Object(f.captureError)(e)}))})),Object(d.a)(e,p.b,(function(e){v.a.dateistLang=e}))}},{key:"loadLang",value:(t=i()(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(h.a)(t),e.prev=1,e.t0=t,e.next="cs"===e.t0||"tr"===e.t0||"en"===e.t0?5:"da"===e.t0?6:"de"===e.t0?9:"es"===e.t0?12:"fi"===e.t0?15:"fr"===e.t0?18:"it"===e.t0?21:"ja"===e.t0?24:"ko"===e.t0?27:"nb"===e.t0?30:"nl"===e.t0?33:"pl"===e.t0?36:"pt"===e.t0?39:"ru"===e.t0?42:"sv"===e.t0?45:"zh"===e.t0?48:"tw"===e.t0?51:54;break;case 5:return e.abrupt("break",56);case 6:return e.next=8,n.e(52).then(n.t.bind(null,"W6jr",7));case 8:return e.abrupt("break",56);case 9:return e.next=11,n.e(53).then(n.t.bind(null,"B3lE",7));case 11:return e.abrupt("break",56);case 12:return e.next=14,n.e(54).then(n.t.bind(null,"5d7L",7));case 14:return e.abrupt("break",56);case 15:return e.next=17,n.e(55).then(n.t.bind(null,"59Cl",7));case 17:return e.abrupt("break",56);case 18:return e.next=20,n.e(56).then(n.t.bind(null,"6XBW",7));case 20:return e.abrupt("break",56);case 21:return e.next=23,n.e(57).then(n.t.bind(null,"qg5r",7));case 23:return e.abrupt("break",56);case 24:return e.next=26,n.e(58).then(n.t.bind(null,"/VAU",7));case 26:return e.abrupt("break",56);case 27:return e.next=29,n.e(59).then(n.t.bind(null,"GkU3",7));case 29:return e.abrupt("break",56);case 30:return e.next=32,n.e(60).then(n.t.bind(null,"O5tv",7));case 32:return e.abrupt("break",56);case 33:return e.next=35,n.e(60).then(n.t.bind(null,"mpza",7));case 35:return e.abrupt("break",56);case 36:return e.next=38,n.e(61).then(n.t.bind(null,"m2O1",7));case 38:return e.abrupt("break",56);case 39:return e.next=41,n.e(62).then(n.t.bind(null,"+dYZ",7));case 41:return e.abrupt("break",56);case 42:return e.next=44,n.e(63).then(n.t.bind(null,"WngO",7));case 44:return e.abrupt("break",56);case 45:return e.next=47,n.e(64).then(n.t.bind(null,"wcV3",7));case 47:return e.abrupt("break",56);case 48:return e.next=50,n.e(65).then(n.t.bind(null,"B8FV",7));case 50:return e.abrupt("break",56);case 51:return e.next=53,n.e(65).then(n.t.bind(null,"Jepo",7));case 53:return e.abrupt("break",56);case 54:return Object(f.captureError)(new Error("Unable to load unknown language def: ".concat(t)),{tags:{where:"DateistDefLoader"}}),e.abrupt("return",Promise.resolve());case 56:e.next=61;break;case 58:return e.prev=58,e.t1=e.catch(1),e.abrupt("return",Promise.reject(new Error("Error while fetching language def: ".concat(t,'\nReason: "').concat(null===e.t1||void 0===e.t1||null===(r=e.t1.toString)||void 0===r?void 0:r.call(e.t1),'"'))));case 61:m.a.cache={},Signals.sendSignal("refresh_interface");case 63:case"end":return e.stop()}}),e,null,[[1,58]])}))),function(e){return t.apply(this,arguments)})}]),e}());t.a=new b},iXqn:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("uf4u"),l=n.n(c),s=n("RZq6"),u=/.*quota*./i,d=new l.a({name:"todoist.cellstorage"}),f=function(){function e(t){a()(this,e),this.key=t,this.driverType=localStorage.getItem("".concat(this.key,"/driver"))||"localStorage"}return i()(e,[{key:"get",value:function(){if(this.checkDriverType(),this.usingLocalStorage){var e=localStorage.getItem("".concat(this.key,"/data"));return void 0===e?Promise.resolve(e):Promise.resolve(JSON.parse(e))}return d.getItem(this.key)}},{key:"set",value:function(e){if(this.checkDriverType(),this.usingLocalStorage)try{return void 0===e?this.clear():(localStorage.setItem("".concat(this.key,"/data"),JSON.stringify(e)),Promise.resolve())}catch(n){return t=n,u.test(t.name)||u.test(t.message)?(this.switchToIDBDriver(),this.set(e)):Promise.reject(n)}var t;return d.setItem(this.key,e)}},{key:"clear",value:function(){return this.checkDriverType(),this.usingLocalStorage?(localStorage.removeItem("".concat(this.key,"/data")),Promise.resolve()):d.clear()}},{key:"switchToIDBDriver",value:function(){localStorage.removeItem("".concat(this.key,"/data")),this.driverType="indexedDB",localStorage.setItem("".concat(this.key,"/driver"),"indexedDB")}},{key:"checkDriverType",value:function(){if("localStorage"!==this.driverType&&"indexedDB"!==this.driverType){var e=new Error("CellStorage: invalid driver '".concat(this.driverType,"'"));throw s.default.captureError(e,{tags:{where:"cellstroage"}}),Signals.sendSignal("clean_reload"),e}}},{key:"_DEBUG_forceSwtichIndexedDB",value:function(){var e=JSON.parse(localStorage.getItem("".concat(this.key,"/data")));this.switchToIDBDriver(),this.set(e)}},{key:"usingLocalStorage",get:function(){return"localStorage"===this.driverType}},{key:"usingIndexedDB",get:function(){return"indexedDB"===this.driverType}}]),e}()},ihLx:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n("Vbab"),a={today:"date_shortcut_today",tomorrow:"date_shortcut_tomorrow",nextWeek:"date_shortcut_nextweek",nextWeekend:"date_shortcut_nextweekend",thisWeekend:"date_shortcut_thisweekend",laterThisWeek:"date_shortcut_laterthisweekend",inTheMorning:"date_shortcut_morning",postpone:"date_shortcut_postpone",noDate:"date_shortcut_nodate"};function o(){return[Object(r.a)("Sun"),Object(r.a)("Mon"),Object(r.a)("Tue"),Object(r.a)("Wed"),Object(r.a)("Thu"),Object(r.a)("Fri"),Object(r.a)("Sat")]}},ihri:function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return T}));var r=n("q1tI"),a=n.n(r),o=n("IJUe"),i=n("4eld"),c=n("ihLx"),l=n("lSNA"),s=n.n(l),u=n("pVnL"),d=n.n(u),f=n("UVeO");function m(e){return a.a.createElement("svg",d()({width:24,height:24},e),a.a.createElement("path",{fill:"gray",fillRule:"evenodd",d:"M8.535 14a4 4 0 1 1 6.93 0h-6.93zm.02-10.315a.5.5 0 0 1 .654.27l.765 1.848a.5.5 0 1 1-.923.383l-.766-1.848a.5.5 0 0 1 .27-.653zm6.89 0a.5.5 0 0 1 .27.653l-.766 1.848a.5.5 0 0 1-.923-.383l.765-1.847a.5.5 0 0 1 .653-.27zm4.87 4.87a.5.5 0 0 1-.27.654l-1.848.765a.5.5 0 0 1-.383-.923l1.848-.766a.5.5 0 0 1 .653.27zm-16.63 0a.5.5 0 0 1 .653-.27l1.848.766a.5.5 0 0 1-.383.923L3.956 9.21a.5.5 0 0 1-.27-.653zM9.5 17h5a.5.5 0 1 1 0 1h-5a.5.5 0 1 1 0-1zm-4-2h13a.5.5 0 1 1 0 1h-13a.5.5 0 1 1 0-1z"}))}n("q32e");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t,n=e.type,r=e.size,o=void 0===r?"medium":r,i={"aria-hidden":!0,focusable:!1,size:o,width:"medium"===o?24:28,height:"medium"===o?24:28};switch(n){case"today":t=a.a.createElement(f.fc,d()({className:"scheduler-suggestions-item-icon--today"},i));break;case"tomorrow":t=a.a.createElement(f.gc,d()({className:"scheduler-suggestions-item-icon--tomorrow"},i));break;case"nextWeek":t=a.a.createElement(f.o,d()({className:"scheduler-suggestions-item-icon--next-week"},i));break;case"laterThisWeek":var c=h({className:"scheduler-suggestions-item-icon--later-this-week"},i);t="large"===o?a.a.createElement(f.bb,c):a.a.createElement(f.ab,c);break;case"nextWeekend":case"thisWeekend":var l=h({className:"scheduler-suggestions-item-icon--weekend"},i);t="large"===o?a.a.createElement(f.pc,l):a.a.createElement(f.oc,l);break;case"noDate":t=a.a.createElement(f.v,i);break;case"inTheMorning":t=a.a.createElement(m,i);break;case"postpone":t=a.a.createElement(f.Jb,d()({className:"scheduler-suggestions-item-icon--postpone"},i))}return t};var b=function(e){var t=e.suggestion,n=e.onClick,r=t.date,l=t.label,s=t.type;return a.a.createElement(i.a,{className:"scheduler-suggestions-item",onClick:function(){return n(s,r)},"data-track":"scheduler|".concat(c.b[s]),"data-action-hint":"scheduler-suggestion-".concat(s)},a.a.createElement("div",{className:"scheduler-suggestions-item-icon"},a.a.createElement(v,{type:s})),a.a.createElement("div",{className:"scheduler-suggestions-item-label"},l),function(){if(r){var e=Object(o.a)(r);if("postpone"===s)return a.a.createElement("div",{className:"scheduler-suggestions-item-weekday"},e);var t=r.getDay();return a.a.createElement("div",{className:"scheduler-suggestions-item-weekday"},"nextWeek"===s||"nextWeekend"===s?e:Object(c.a)()[t])}}())};var g=function(e){var t=e.suggestions,n=e.onSuggestionSelect;return a.a.createElement("div",{className:"scheduler-suggestions"},null==t?void 0:t.map((function(e){return a.a.createElement(b,{key:e.type,suggestion:e,onClick:n})})))};function _(e){return e%7}var y=n("OgjY"),O=n("Vbab"),j=n("UB5X"),w=n.n(j),E=n("JO1+"),k=n("CEZs");function D(e,t,n){var r=new Date(Object(k.a)(e,t%7));w()(n)&&(Object(E.a)(e,r,{weekStartsOn:n%7})&&r.setDate(r.getDate()+7));return r}var C=n("LYyr"),S=n("K6Df");function I(e){var t=e.items,n=e.today,r=e.weekStartDay,i=void 0===r?1:r,c=e.weekendStartDay,l=void 0===c?6:c,s=e.nextWeekDay,u=void 0===s?1:s,d=e.selectedDate,f=e.withPostponeDate,m=void 0!==f&&f,p=[];t.some((function(e){return!e.due||!e.due.isSameDate(n)}))&&p.push("today");var h=new Date;h.setDate(n.getDate()+1),t.some((function(e){return!e.due||!e.due.isSameDate(h)}))&&p.push("tomorrow");var v=n.getDay(),b=((l=_(l))+1)%7;function g(e){return e===l||e===b}var j=new Date(n);return j.setDate(n.getDate()+2),g(v)||g(j.getDay())||p.includes("today")&&p.includes("tomorrow")||p.push("laterThisWeek"),v===(l-1+7)%7||g(v)||p.push("thisWeekend"),v!==(l=_(l))&&v!==b||p.push("nextWeekend"),v!==((u=_(u))-1+7)%7&&p.push("nextWeek"),t.some((function(e){return!e.due||!e.due.is_recurring}))||p.push("postpone"),t.some((function(e){return e.due}))&&p.push("noDate"),p.map((function(e){return function(e){var t,n,r=e.type,i=e.weekStartDay,c=e.weekendStartDay,l=e.nextWeekDay,s=e.selectedDate,u=e.today,d=e.items,f=e.withPostponeDate,m=void 0!==f&&f,p=(null==s?void 0:s.timezone_offset)?Object(y.b)(u,-u.getTimezoneOffset(),-s.timezone_offset):new Date(u.getTime());if(!p)throw new Error("Suggested date is missing");p.setHours(23,59,59);var h=_(c),v=_(c+1);switch(r){case"today":t=n=Object(O.a)("Today");break;case"tomorrow":t=n=Object(O.a)("Tomorrow"),p.setDate(p.getDate()+1);break;case"laterThisWeek":t=n=Object(O.a)("Later this week"),p.setDate(p.getDate()+2);break;case"nextWeek":t=n=Object(O.a)("Next week"),p=D(p,l,i);break;case"thisWeekend":t=n=Object(O.a)("This weekend"),u.getDay()!==h&&u.getDay()!==v&&(p=D(p,h));break;case"nextWeekend":t=n=Object(O.a)("Next weekend"),u.getDay()!==h&&u.getDay()!==v||(p=D(p,h));break;case"inTheMorning":t=n=Object(O.a)("In the morning"),p.setDate(p.getDate()+1),p.setHours(9,0,0);break;case"postpone":(p=d&&1===d.length&&d[0].due?d[0].due.postpone():null)&&m?(n=Object(C.a)(Object(O.a)("Postpone to {date}"),{date:Object(o.a)(p)}),t=a.a.createElement(S.a,{string:Object(O.a)("Postpone to {date}"),mapping:{date:a.a.createElement("b",null,Object(o.a)(p))}})):t=n=Object(O.a)("Postpone");break;case"noDate":p=null,t=n=Object(O.a)("No Date")}return{type:r,date:p,label:t,labelPlain:n}}({type:e,weekStartDay:i,weekendStartDay:l,nextWeekDay:u,selectedDate:d,today:n,items:t,withPostponeDate:m})}))}function T(e,t,n){var r=e.type,a=e.date;if("postpone"===r){if(t.due)return t.due.postpone();throw new Error("postpone option should only appear for item with due")}if("noDate"===r)return null;if(!a||isNaN(a.getTime()))throw new Error("receive invalid date");var o={year:a.getFullYear(),month:a.getMonth(),day:a.getDate()};return n?n.inheritDate(o):t.due?t.due.inheritDate(o):y.a.fromDate(a)}t.c=g},in4X:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("pVnL"),a=n.n(r),o=n("J4zp"),i=n.n(o),c=n("QILm"),l=n.n(c),s=n("q1tI"),u=n.n(s),d=n("17x9"),f=n.n(d),m=n("Otjn");function p(e){var t=e.triggerRect,n=e.tooltipRect;return t&&n&&"number"==typeof t.top&&"number"==typeof t.bottom&&"number"==typeof n.height?{top:t.top-n.height<0,bottom:window.innerHeight<t.bottom+n.height+8}:{}}function h(e,t){if(!e||!t||"number"!=typeof e.top||"number"!=typeof e.left||"number"!=typeof e.bottom||"number"!=typeof e.width||"number"!=typeof t.height||"number"!=typeof t.width)return{};var n=p({triggerRect:e,tooltipRect:t}),r=n.bottom&&!n.top,a=e.left+e.width/2-t.width/2,o=window.innerWidth-t.width-8;return{left:Math.min(Math.max(8,a),o)+window.scrollX,top:r?e.top-8-window.scrollY-t.height:e.bottom+8+window.scrollY}}function v(e){var t=e.children,n=e.id,r=e.DEBUG_STYLE,o=l()(e,["children","id","DEBUG_STYLE"]),c=u.a.Children.only(t),d=Object(m.b)({id:n,onMouseEnter:c.props.onMouseEnter,onMouseMove:c.props.onMouseMove,onMouseLeave:c.props.onMouseLeave,onFocus:c.props.onFocus,onBlur:c.props.onBlur,onKeyDown:c.props.onKeyDown,onMouseDown:c.props.onMouseDown,ref:c.ref,DEBUG_STYLE:r}),f=i()(d,2),v=f[0],b=f[1],g=b.isVisible,_=b.triggerRect,y=Object(s.useState)(null),O=i()(y,2),j=O[0],w=O[1],E=Object(s.useMemo)((function(){if(!g||!j)return!1;var e=j.getBoundingClientRect(),t=p({triggerRect:_,tooltipRect:e});return t.bottom&&!t.top}),[g,j,_]);return u.a.createElement(u.a.Fragment,null,u.a.cloneElement(t,v),g&&u.a.createElement(m.a,a()({"data-direction":E?"up":"down",ref:function(e){return w(e)},position:h},b,o)))}v.propTypes={children:f.a.node.isRequired,label:f.a.node.isRequired,id:f.a.string,DEBUG_STYLE:f.a.bool};var b=v;function g(e){return e.map((function(e,t){return u.a.createElement("kbd",{key:t},e)}))}function _(e){var t=e.title,n=void 0===t?null:t,r=e.shortcut,o=l()(e,["title","shortcut"]);return"string"==typeof r&&(r=[r]),u.a.createElement("span",a()({className:"shortcut_title"},o),n,u.a.createElement("span",{"data-testid":"shortcut-keys",className:"shortcut_title__keys"},r.variants?r.variants.map(g).reduce((function(e,t,n){return e.push(t),n!==r.variants.length-1&&e.push(", "),e}),[]):g(r)))}_.propTypes={title:f.a.string,shortcut:f.a.oneOfType([f.a.arrayOf(f.a.string.isRequired),f.a.string,f.a.shape({variants:f.a.arrayOf(f.a.arrayOf(f.a.string.isRequired).isRequired).isRequired})]).isRequired};t.b=b},iqYv:function(e,t,n){"use strict";var r=n("cDf5"),a="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset=this.reset.bind(this),this.generateIcon=this.generateIcon.bind(this),this.generateUploadView=this.generateUploadView.bind(this),this.setDropArea=this.setDropArea.bind(this),this.installDropHandlers=this.installDropHandlers.bind(this),this.removeDropHandlers=this.removeDropHandlers.bind(this),this._drop=this._drop.bind(this),this.dropFiles=this.dropFiles.bind(this),this._dragEnter=this._dragEnter.bind(this),this._dragOver=this._dragOver.bind(this),this._dragLeave=this._dragLeave.bind(this),this.showDropArea=this.showDropArea.bind(this),this.position=this.position.bind(this),this.removeDropArea=this.removeDropArea.bind(this),this.attachClipboardPasting=this.attachClipboardPasting.bind(this),this.displayDropbox=this.displayDropbox.bind(this),this.dropboxShow=this.dropboxShow.bind(this),this.dropboxResize=this.dropboxResize.bind(this),this.dropboxSelected=this.dropboxSelected.bind(this),this.displayDrive=this.displayDrive.bind(this),this.driveSelected=this.driveSelected.bind(this)}return o(e,[{key:"isDropboxEnabled",value:function(){return!0}},{key:"isDriveEnabled",value:function(){return!0}},{key:"isSelectFilesEnabled",value:function(){return!0}},{key:"reset",value:function(){this.files_view&&this.resetView(this.files_view),this.removeDropHandlers(),this.removeDropArea(),this.drop_holder=null,this.drop_area=null,this.files_view=null,this.dp_iframe&&(this.dp_iframe=null,$REV(window,"resize",this.dropboxResize)),GoogleDrive.hide()}},{key:"getFiles",value:function(e){var t=[],n=!0,r=!1,a=void 0;try{for(var o,i=$all("div","file_to_upload",e)[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value;c.file_view&&t.push(c.file_view.file_obj)}}catch(e){r=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}return t}},{key:"resetView",value:function(e){var t=!0,n=!1,r=void 0;try{for(var a,o=$all("div","file_to_upload",e)[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;i.file_view&&i.file_view.remove()}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}e&&$replace(e,null)}},{key:"generateIcon",value:function(e){var t=this,n=IstButton.createButton("upload_btn");return $AEV(n,"click",(function(e){return t.showDropArea(!0),IstTooltip.hide(),!1})),n}},{key:"generateUploadView",value:function(){return DIV({c:"files_view"})}},{key:"setDropArea",value:function(e,t,n){this.files_view=e,this.drop_holder=t,this.on_drop=n,this.installDropHandlers()}},{key:"installDropHandlers",value:function(){$AEV(document,"dragenter",this._dragEnter),$AEV(document,"dragover",this._dragOver),$AEV(document,"dragleave",this._dragLeave),$AEV(document,"drop",this._drop)}},{key:"removeDropHandlers",value:function(){$REV(document,"dragenter",this._dragEnter),$REV(document,"dragover",this._dragOver),$REV(document,"dragleave",this._dragLeave),$REV(document,"drop",this._drop)}},{key:"_drop",value:function(e){if(e.preventDefault(),$preventDefault(e),!this.on_drop||this.on_drop(e)){var t=e.dataTransfer&&e.dataTransfer.files;return void 0!==(void 0===t?"undefined":a(t))?this.dropFiles(t):$add(this.files_view,DIV({c:"file_error"},_("No support for the File API in this web browser"))),!1}this.removeDropArea()}},{key:"dropFiles",value:function(e){var t=!0,n=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value,c=new GFile;c.file=i;var l=new GFileView(c);$add(this.files_view,l.render()),c.upload()}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}this.removeDropArea()}},{key:"_dragEnter",value:function(){this.dragging||(this.showDropArea(),this.dragging=!0)}},{key:"_dragOver",value:function(e){this.drop_to&&(clearTimeout(this.drop_to),this.drop_to=null),$preventDefault(e);var t=$eventElm(e);return t===this.drop_area?$addClass(t,"active"):$removeClass(this.drop_area,"active"),!1}},{key:"_dragLeave",value:function(){var e=this;this.drop_to=setTimeout((function(){e.removeDropArea()}),200)}},{key:"showDropArea",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=void 0,a=void 0;n||(n={}),this.drop_area&&this.removeDropArea();var o=n,i=o.with_close_btn;if(n.fn_gen_drop_area)r=this.drop_area=n.fn_gen_drop_area(),a=$$(".drop_area_inner",r)[0];else if(r=this.drop_area=DIV({c:"drop_area"}),a=DIV({c:"drop_area_inner"}),$add(a,_("Drag & drop files here")),t){var l=void 0,s=void 0,u=void 0,d=void 0;$addClass(r,"fstandalone"),i=!0,$add(a,DIV({c:"selection links"},CENTER(l=DIV({c:"computer"},SPAN({s:"position: relative"},d=INPUT({name:"file",type:"file",multiple:!0}),SPAN(_("Computer")))),DIV(u=A({href:"#"},_("Dropbox"))),DIV(s=A({href:"#"},_("Google Drive")))))),this.isSelectFilesEnabled()||$hide(l),$AEV(u,"click",this.displayDropbox),$AEV(s,"click",this.displayDrive),n.on_computer_click&&l.addEventListener("click",n.on_computer_click),d.addEventListener("change",(function(){return e.dropFiles(d.files)}))}if(i){var f=void 0;$ATT(a,f=A({href:"#",c:"close"},c.cloneNode(!0))),$AEV(f,"click",(function(){return e.removeDropArea(),n.fn_on_close&&n.fn_on_close(),!1}))}this.position(),$AEV(window,"resize",this.position),$add(r,a),$add($body(),r)}},{key:"position",value:function(){var e=this.drop_area,t=this.drop_holder,n=$position(t);$setTop(e,n.y),$setLeft(e,n.x),$setWidth(e,t.offsetWidth-2),$setHeight(e,t.offsetHeight-2)}},{key:"removeDropArea",value:function(){this.drop_area&&$remove(this.drop_area),$REV(window,"resize",this.position),this.drop_area=null,this.dragging=!1}},{key:"attachClipboardPasting",value:function(e){var t=this;$AEV(e,"paste",(function(e){if(e&&e.clipboardData){var n=e.clipboardData;if(n.types&&n.items){var r=[];n.types.forEach((function(e,t){if("text/plain"!==e){var a=n.items[t].getAsFile();a&&r.push(a)}})),$log(r),r.length>0&&(e.preventDefault(),t.dropFiles(r))}}}))}},{key:"displayDropbox",value:function(e){var t=this;if(this.dropbox_loaded||this.dropbox_to)this.dropboxShow();else{var n=$eventElm(e);Indicator.addToElm(n);var r=SCRIPT({type:"text/javascript",id:"dropboxjs"});r.setAttribute("data-app-key","o8lsvx1nvnswy6q"),r.src="https://www.dropbox.com/static/api/2/dropins.js",$add($body(),r),this.dropbox_to=setInterval((function(){if(window.Dropbox){Indicator.removeFromElm(n),t.dropbox_loaded=!0,t.removeDropArea();try{t.dropboxShow()}catch(e){}t.dropbox_to&&(clearInterval(t.dropbox_to),t.dropbox_to=null)}}),300)}return!1}},{key:"dropboxShow",value:function(){Dropbox.choose({success:this.dropboxSelected,multiselect:!0,iframe:!0});var e=$all("iframe"),t=null,n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value;if(-1!==c.src.indexOf("dropbox")){t=c;break}}}catch(e){r=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}if(t){for(var l=$body(),s=t.parentNode;;){if(!s){s=c.nextSibling;break}if(s.parentNode===l)break;s=s.parentNode}s&&(s.style.zIndex=1e5),this.dp_iframe=t,$AEV(window,"resize",this.dropboxResize),this.dropboxResize()}}},{key:"dropboxResize",value:function(){var e=void 0,t=$winSize().w;e=t<670?t-50:660,$setWidth(this.dp_iframe.parentNode,"100%"),$setWidth(this.dp_iframe,e)}},{key:"dropboxSelected",value:function(e){var t=!0,n=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value,c=new GFile,l={file_url:i.link,file_name:i.name,file_size:i.bytes};i.thumbnailLink&&(l.image=i.thumbnailLink.replace("=96","=800"),l.image_width=800,l.image_height=800),c.setUploadContent(l);var s=new GFileView(c);$add(this.files_view,s.render())}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}this.removeDropArea()}},{key:"displayDrive",value:function(){return this.isDriveEnabled()?(GoogleDrive.loading||(GoogleDrive.picker?GoogleDrive.show():(GoogleDrive.filesSelected=this.driveSelected,GoogleDrive.load())),!1):(alert(_("Google Drive support only works on the web or on our mobile apps.")),!1)}},{key:"driveSelected",value:function(e){var t=!0,n=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value,c=new GFile,l={file_url:i.url,file_name:i.name,file_underlying_type:i.mimeType};c.setUploadContent(l);var s=new GFileView(c);$add(this.files_view,s.render())}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}this.removeDropArea()}}],[{key:"initClass",value:function(){this.prototype.files_view=null,this.prototype.drop_holder=null,this.prototype.drop_area=null,this.prototype.drop_area_inner=null,this.prototype.dragging=!1,this.prototype.drop_to=null,this.prototype.on_drop=null,this.prototype.dropbox_loaded=!1,this.prototype.dropbox_to=null,this.prototype.drive_api_key="AIzaSyDg39bq60B0EMj4j86x93PJr_eY91_SPTA",this.prototype.drive_picker=null}}]),e}();i.initClass();var c=$toDOM('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M12 10.62l4.833-4.834a.976.976 0 1 1 1.381 1.38L13.381 12l4.833 4.833a.976.976 0 0 1-1.38 1.381L12 13.381l-4.833 4.833a.976.976 0 0 1-1.381-1.38L10.619 12 5.786 7.167a.976.976 0 1 1 1.38-1.381L12 10.619z"/></svg>');window.FilesManager=new i},it2E:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),o=n("RIqP"),i=n.n(o),c=n("lwsE"),l=n.n(c),s=n("W8MJ"),u=n.n(s),d=n("LYyr"),f=n("Puqe"),m=n.n(f),p=n("XOeF"),h=n("mxou"),v=n("vV6a");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(){return n("oHMr").default},y=function(){function e(){l()(this,e),this.syncLocalModel=this.syncLocalModel.bind(this),this.get=this.get.bind(this),this.getInbox=this.getInbox.bind(this),this.getTeamInbox=this.getTeamInbox.bind(this),this.getIds=this.getIds.bind(this),this.getAll=this.getAll.bind(this),this.getChildren=this.getChildren.bind(this),this.getParent=this.getParent.bind(this),this.getByName=this.getByName.bind(this),this.add=this.add.bind(this),this.deleteMany=this.deleteMany.bind(this),this.update=this.update.bind(this),this.archive=this.archive.bind(this),this.unarchive=this.unarchive.bind(this)}return u()(e,[{key:"model_data",get:function(){return _().getState().projects}}],[{key:"initClass",value:function(){this.prototype.max_indent=4}}]),u()(e,[{key:"syncLocalModel",value:function(e,t){}},{key:"get",value:function(e){return Object(p.n)(_().getState(),e)}},{key:"getInbox",value:function(){return Object(p.r)(_().getState())}},{key:"getTeamInbox",value:function(){return Object(p.t)(_().getState())}},{key:"getIds",value:function(){return $keys(_().getState().projects)}},{key:"getAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.with_indent,n=void 0!==t&&t;return n?Object(p.m)(_().getState()):Object(p.l)(_().getState())}},{key:"getChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(p.p)(e.id,_().getState());if(t){var r=this.get(e.id);return r?[r].concat(i()(n)):[]}return n}},{key:"getParent",value:function(e){return Object(p.s)(_().getState(),e.id)}},{key:"getByName",value:function(e){return Object(p.o)(e.trim(),_().getState())}},{key:"add",value:function(e){var t,n=this.getAll();if(t=window.User.is_premium&&window.User.business_account_id?501:window.User.is_premium?301:81,!(n.length>=t))return _().dispatch(Object(p.f)(e));alert(Object(d.a)(_n("For performance reasons you can add at most one project. Please archive or delete some of your finished projects.","For performance reasons you can add at most {n} projects. Please archive or delete some of your finished projects.",t),{n:t}))}},{key:"moveAndReorder",value:function(e,t){var n=t.noUndo;_().dispatch(Object(p.v)(e,{noUndo:n}))}},{key:"deleteMany",value:function(e){_().dispatch(p.x.apply(void 0,i()(e)))}},{key:"update",value:function(e,t){var n=this.get(e);if(n)return(t.indent||t.item_order||t.parent_id)&&(t=m()(t,["indent","item_order","parent_id"])),_().dispatch(Object(p.z)(e,t)),t.name&&Signals.sendSignal("project.name.changed",n),g(g({},n),t)}},{key:"duplicate",value:function(e){_().dispatch(Object(p.i)(e)),Signals.sendSignal("refresh_interface")}},{key:"archive",value:function(e){var t=_(),n=t.dispatch,r=(0,t.getState)().mainView;r.type===v.k&&r.ids[0]===e&&n(Object(h.m)()),n(Object(p.g)(e))}},{key:"unarchive",value:function(e){_().dispatch(Object(p.y)(e))}},{key:"fetchArchivedProject",value:function(e){return _().dispatch(Object(p.j)(e))}},{key:"archivedFetched",value:function(e){_().dispatch(Object(p.h)(e))}}]),e}();y.initClass(),window.ProjectsModel=new y,t.a=window.ProjectsModel},j3q4:function(e,t,n){"use strict";var r=n("J4zp"),a=n.n(r);t.a=function(e){var t=e.split("-").map((function(e){return parseInt(e)})),n=a()(t,3),r=n[0],o=n[1],i=n[2];return new Date(r,o-1,i)}},j841:function(e,t){var n;n=function(){function e(){var e,t;this.show=(e=this.show,t=this,function(){return e.apply(t,arguments)})}return e.prototype.show=function(e,t,n,r,a){var o,i,c,l,s,u,d;return null==a&&(a=null),a||(a={}),d={},o=DIV({c:"GB_top_arrow"}),d.callback_fn=function(){$remove(o),a.fn_on_hide&&a.fn_on_hide()},a.close_validator_fn&&(d.close_validator_fn=a.close_validator_fn),i=function(){if(a.fn_arrow_right&&$setRight(o,a.fn_arrow_right()),a.fn_arrow_left)return $setLeft(o,a.fn_arrow_left())},s=function(){return a.fn_on_show&&a.fn_on_show(),i(),setTimeout((function(){return $add($body(),o)}),20)},l=function(e,t){return a.fn_left_offset&&$setLeft(e,a.fn_left_offset(e,t)),i()},d.customLeft_fn=l,a.fn_top_offset&&(u=function(e,t){var n;return n=a.fn_top_offset(e,t),$setTop(e,n),$setTop(o,n-14)},d.customTop_fn=u),d.overlay_transparent=!0,a.no_side_padding&&(d.no_side_padding=!0),d.tooltip_window=!0,!1===a.show_close_img&&(d.show_close_img=!1),a.show_custom_img&&(d.show_custom_img=a.show_custom_img),a.show_custom_text&&(d.show_custom_text=a.show_custom_text),a.show_custom_fn&&(d.show_custom_fn=a.show_custom_fn),GB_showHTML(e,t,n,r,d),c=GB_getLast(),$addClass(c.g_window,"GB_tooltip_win"),o.style.zIndex=(c.cur_zindex||5e4)+2,a.fixed_pos&&($addClass(c.g_window,"GB_fixed_pos"),$addClass(o,"GB_top_arrow_fixed")),s(),c},e}(),window.TooptipWin=new n},jJFt:function(e,t,n){},jVEK:function(e,t,n){"use strict";n.d(t,"o",(function(){return b})),n.d(t,"n",(function(){return _})),n.d(t,"m",(function(){return y})),n.d(t,"l",(function(){return j})),n.d(t,"i",(function(){return w})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return k})),n.d(t,"e",(function(){return D})),n.d(t,"j",(function(){return C})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return T})),n.d(t,"k",(function(){return A})),n.d(t,"b",(function(){return x}));var r=n("lSNA"),a=n.n(r),o=n("QkVN"),i=n.n(o),c=n("Y+p1"),l=n.n(c),s=n("peh1"),u=n("qRd9"),d=n("nvqi"),f=n("MrOw"),m=n("7gDd");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=new Set(["cs","da","de","en","es","fi","fr","it","ja","ko","nb","nl","pl","pt_BR","ru","sv","tr","zh_CN","zh_TW"]);function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&f.default.getInstance().queueUpdate({type:"user_update",args:e}),{type:"USER_RECEIVED_UPDATE",payload:e}}function g(e){return h(h({},e),{},{join_date:new Date(e.join_date),lang:(t=e.lang,"ptBR"===t?"pt_BR":"zhTW"===t?"zh_TW":"zhCN"===t?"zh_CN":v.has(t)?t:"en")});var t}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.a:return t.payload.user?g(t.payload.user):e;case d.a:case d.b:var n=t.payload.user;return n?(n=g(n),e&&l()(n.days_off,e.days_off)&&(n.days_off=e.days_off),n):e;case"USER_RECEIVED_UPDATE":return g(i()({},e,t.payload));default:return e}};var _=Object(s.createSelector)((function(e){return e.user}),(function(e){return!!e&&(!!e.is_premium||(e.premium_until?t=new Date(e.premium_until):e.free_trail_expires&&(t=new Date(e.free_trail_expires)),!!(t&&t>new Date)));var t})),y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=e.user.days_off,r=t.getDay(),a=0===r?7:r;return-1!==n.indexOf(a)},O=/@doist\.(com|io|test)$/i;Object(s.createSelector)((function(e){return e.user}),(function(e){return null!=e&&O.test(e.email)}));function j(e){var t=e.days;return function(e){return e.user.join_date.getTime()<=Date.now()-864e5*t}}var w=function(e){return e.user},E=function(e){return e.user.karma},k=function(e){return e.user.days_off},D=function(e){return e.user.next_week},C=function(e){return e.user.start_day},S=function(e){return e.user.time_format},I=function(e){return e.user.tz_info},T=function(e){return e.user.token};function A(e){return void 0===e.user.weekend_start_day?6:e.user.weekend_start_day}var x=Object(s.createSelector)((function(e){return e.user?e.user.lang:"en"}),(function(e){return Object(m.a)(e)}))},jZJQ:function(e,t,n){},jlRT:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n("f7NS"),a=n("i8i4"),o=n.n(a);function i(){var e=document.getElementById("modal_box");return e||((e=document.createElement("div")).id="modal_box",document.body.appendChild(e)),e}function c(e){var t=e(l);o.a.render(t,i())}function l(e){e&&e.preventDefault(),o.a.unmountComponentAtNode(i())}t.a=r},jqHE:function(e,t,n){"use strict";n.d(t,"a",(function(){return Xt}));var r=n("RIqP"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("J4zp"),l=n.n(c),s=n("q1tI"),u=n.n(s),d=n("17x9"),f=n.n(d),m=n("z430"),p=n("K6Df"),h=n("TSYQ"),v=n.n(h),b=n("G8pN"),g=n("wA9o"),y=n("eVCd"),O=n("4eld"),j=n("/MKj"),w=n("ANjH"),E=n("gVGk"),k=n("XOeF"),D=n("gmEJ"),C=n("v83y"),S=n("yeYm"),I=n.n(S),T=n("MFAt"),A=n.n(T),x=n("DwX5"),P=n.n(x),R=n("Yfyv"),N=n.n(R),L=n("Gjrf"),M=n.n(L),F=n("Y+p1"),z=n.n(F),B=n("sEfC"),V=n.n(B),$=n("/gRr"),H=n("Snkc"),U=n.n(H),q=n("AnGN"),G=n("pVnL"),W=n.n(G),K=n("lwsE"),Y=n.n(K),J=n("W8MJ"),Q=n.n(J),Z=n("7W2i"),X=n.n(Z),ee=n("a1gu"),te=n.n(ee),ne=n("Nsbk"),re=n.n(ne),ae=n("OgjY"),oe=n("Ek05"),ie=n("lDtu"),ce=n("7tbW"),le=n.n(ce);function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re()(e);if(t){var a=re()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return te()(this,n)}}function ue(e,t){var n,r;return r=n=function(n){X()(a,n);var r=se(a);function a(){return Y()(this,a),r.apply(this,arguments)}return Q()(a,[{key:"render",value:function(){return u.a.createElement(e,W()({},this.props,t))}}]),a}(u.a.Component),i()(n,"displayName","Decorated(".concat(e.displayName,")")),r}function de(e,t){var n="",r=0;return t.forEach((function(t){var a=t.match;t.isIgnored||(n+=e.substr(r,a.start-r),r=" "===e[a.end]?a.end+1:a.end)})),$strip(n+e.substr(r,e.length))}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onlyLastOccurence,r=ie.c.is_spaceless_lang(oe.a.getDateistLang()),a=r?"(^|\\s*)".concat(e):"(^|\\s+)".concat(e,"(?:$|(?=[\\s\\)\\]]+))");return n&&(a="".concat(a,"(?!.*").concat(a,")")),new RegExp(a,"gi")}function me(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.atCursor,a=void 0!==r&&r,o=n.fromClipboard,i=void 0!==o&&o,c=(e=a?C.EditorState.forceSelection(e,e.getSelection()):C.EditorState.moveFocusToEnd(e)).getCurrentContent(),l=c.getPlainText(),s=l[l.length-1],u="";!i&&s&&" "!==s&&(u=" ");var d=C.Modifier.replaceText(c,e.getSelection(),"".concat(u).concat(t));return C.EditorState.push(e,d,"insert-characters")}function pe(e,t){if(null===t)return e;var n=e.getCurrentContent().getFirstBlock().getEntityAt(t.index+1),r=n&&e.getCurrentContent().getEntity(n);r&&r.type;var a=e.getSelection().merge({anchorOffset:t.index,focusOffset:t.index+t[0].length}),o=C.Modifier.removeRange(e.getCurrentContent(),a,"forward");return C.EditorState.push(e,o,"remove-range")}function he(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.onlyLastOccurence,o=void 0!==a&&a,i=t instanceof RegExp?t:fe(t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&"),{onlyLastOccurence:o}),c=e.getCurrentContent().getPlainText();if(o)return pe(e,n=i.exec(c));for(;null!==(n=i.exec(c));)c=(e=pe(e,n)).getCurrentContent().getPlainText(),i.lastIndex=0;return e}function ve(e){var t=e.content,n=e.matches,r=e.item,a=e.projectId,o=e.sectionId,i=e.initialDueDate,c=e.currentDate,l=e.isDateistDisabled,s=e.isPriorityDisabled,u=e.isLabelsDisabled,d=e.isAssigneeDisabled,f=!1,m={content:de(t,n),project_id:a,section_id:o};return l||(m.due=null),s||(m.priority=null),u||(m.labels=[]),d||(m.responsible_uid=null),n.forEach((function(e){var t=e.match;if(!e.isIgnored)switch(t.type){case"collaborator":m.responsible_uid=t.id;break;case"date":m.due=function(e,t,n){if(e.no_date)return"NO_DATE";if(e.has_only_time&&t){var r,a=e.due_date.getHours()<n.getHours()||e.due_date.getHours()===n.getHours()&&e.due_date.getMinutes()<n.getMinutes();return r=t.getTime()<n.getTime()?a?t.postpone():n:t,t.inheritDate({year:r.getFullYear(),month:r.getMonth(),day:r.getDate(),hours:e.due_date.getHours(),minutes:e.due_date.getMinutes(),seconds:0},{withTime:!0,timezone:t.timezone})}return ae.a.fromDateist(e)}(t.result,i,c);break;case"label":if(u)return;m.labels.push(t.name);break;case"priority":m.priority=5-t.id;break;case"project":m.project_id=t.id;break;case"section":f=!0,m.section_id=t.id}})),m.labels=le()(m.labels),m.project_id===r.project_id||f||(m.section_id=null),m}function be(e){for(var t={},n=0;n<e.length;n++){var r=e[n];t[r.type]&&(r.end<=t[r.type].end||r.start<t[r.type].end&&r.start>t[r.type].start)||(t[r.type]=r)}return e.filter((function(e){return"label"===e.type||t[e.type]===e}))}var ge=n("vV6a"),_e=n("peh1"),ye=n("u57q"),Oe=n.n(ye),je=n("qOpA"),we=n.n(je),Ee=n("S+H7");function ke(e,t,n){var r=[e],a=e.split(" "),o=l()(a,2),i=o[0],c=o[1],s="";if(c){var u=c[0];s="".concat(i," ").concat(u,"\\.")}return s!==e&&s.length>0&&r.push(s),i!==e&&i.length>0&&r.push(i),String(t)===String(n)&&r.push(_x("task_assignment","Me")),r}function De(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Te=/([+.?*+^$[\]\\(){}|_&-])/g;function Ae(e,t){for(var n,r=[],a=fe(t=t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&"));null!==(n=a.exec(e));){var o=n[0].match(t);if(o){var i=n.index+o.index;r.push({start:i,end:n.index+n[0].length})}}return r}var xe=Object(_e.createSelector)(k.k,(function(e){return e.map((function(e){var t=e.name;return t=t.replace(Te,"\\$1").trim(),{regex:new RegExp("(?:^|\\s)[".concat(ge.o).concat(ge.p,"]").concat(t),"i"),project:e}}))})),Pe=Object(_e.createSelector)((function(e){var t=e.sections;return e.projectIds.reduce((function(e,n){return e.concat(Object(D.i)(n)({sections:t}))}),[])}),(function(e){return e.map((function(e){var t=e.name;return t=t.replace(Te,"\\$1").trim(),{regex:new RegExp("(?:^|\\s)".concat(ge.r).concat(t),"i"),section:e}}))})),Re=Object(_e.createSelector)((function(e){return e.collaborators.all}),(function(e){return e.user}),(function(e,t){var n={};for(var r in e=Ie(Ie({},e),{},i()({},t.id,t))){var a=e[r],o=a.full_name||a.email;if(0===(o=$strip(o.replace(Te,"\\$1"))).length)return;var c=ke(o,r,t.id);n[r]={collaborator:a,regex:new RegExp("(?:^|\\s)\\+(?:".concat(c.join("|"),")"),"gi")}}return n})),Ne=function(e,t,n,r){var o=[];if(e.match(/\+[^\s]+/)&&r&&Object(Ee.m)({collaborators:n},r.id)){var i=function(e,t,n){var r=[].concat(a()(Oe()(e.byPID[n])),[t.id]),o=Re({collaborators:e,user:t});return we()(r,o)}(n,t,r.id);if(r){var c,l=function(t){var n=i[t],r=n.regex,a=n.collaborator;if(!a)return"continue";(c=e.match(r))&&c.forEach((function(t){t=$strip(t),Ae(e,t).forEach((function(e){o.push(Ie(Ie({},e),{},{match:t,type:"collaborator",id:a.id,name:a.name}))}))}))};for(var s in i)l(s)}}return o};function Le(e){var t=e.content,n=e.projects,r=e.labels,o=e.user,i=e.collaborators,c=e.project,s=e.sections,u=e.isAssigneeDisabled,d=e.isLabelsDisabled,f=e.isPriorityDisabled,m=e.isDateistDisabled,p=function(e,t){var n=[];return new RegExp("(?:^|\\s+)[".concat(ge.o).concat(ge.p,"]([^\\s]+)"),"g").test(e)&&function(){var r,a,o=De(xe({projects:t}));try{var i=function(){var t=a.value,o=t.regex,i=t.project;(r=e.match(o))&&(r=(r[0]||"").trim(),i&&Ae(e,r).forEach((function(e){n.push(Ie(Ie({},e),{},{match:r,type:"project",id:i.id,name:i.name,shared:i.shared}))})))};for(o.s();!(a=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}}(),n}(t,n),h=function(e,t,n){var r=[],a=new RegExp("(?:^|\\s+)".concat(ge.r,"([^\\s]+)"),"g");if(!n.length||!a.test(e))return[];var o,i,c=De(Pe({sections:t,projectIds:n}));try{var l=function(){var t=i.value,n=t.regex,a=t.section;(o=e.match(n))&&(o=(o[0]||"").trim(),a&&Ae(e,o).forEach((function(e){r.push(Ie(Ie({},e),{},{match:o,type:"section",id:a.id,name:a.name}))})))};for(c.s();!(i=c.n()).done;)l()}catch(e){c.e(e)}finally{c.f()}return r}(t,s,p.map((function(e){return e.id})).concat(c?c.id:[])),v=[].concat(a()(p),a()(h));return u||(v=v.concat(Ne(t,o,i,c))),d||(v=v.concat(function(e,t){var n,r=new RegExp("(?:^|\\s+)[".concat(ge.e).concat(ge.f,"]([^\\s,]+)"),"g"),a=e.match(r)||[],o={},i=[],c=De(a);try{var l=function(){var r=n.value;if(r=$strip(r),!o[r]){o[r]=!0;var a=r.substring(1),c=Object(E.j)(a,{labels:t});c&&(i=i.concat(Ae(e,r).map((function(e){return Ie(Ie({},e),{},{match:r,id:c.id,type:"label",name:c.name})}))))}};for(c.s();!(n=c.n()).done;)l()}catch(e){c.e(e)}finally{c.f()}return i}(t,r))),f||(v=v.concat(function(e){var t=new RegExp("(?:(?:^|\\s)!!|\\bp)(1|2|3|4)(?=\\s|$)","g"),n=e.match(t),r=[];if(n){var a,o=De(n);try{var i=function(){var t=a.value,n=(t=(t||"").trim()).match(/\d+/)[0];Ae(e,t).forEach((function(e){r.push(Ie(Ie({},e),{},{id:parseInt(n),match:t,type:"priority",name:n}))}))};for(o.s();!(a=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}}return r}(t))),m||o.features.dateist_inline_disabled||o.dateist_inline_disabled||(v=v.concat(function(e){var t=oe.a.parse(e,null,!0,null,!0);return t.length?t.map((function(e){var t=e.date_string_matched,n=l()(e.pos,2);return{start:n[0],end:n[1],match:t,type:"date",name:t,result:e}})):[]}(t))),U()("start")(v)}function Me(e){var t;switch(e){case"project":t="sm1/quick_add_project.svg";break;case"label":t="sm1/quick_add_label.svg";break;case"collaborator":t="sm1/quick_add_assignee.svg";break;case"priority":t="sm1/quick_add_priority.svg";break;case"date":t="sm1/quick_add_calendar.svg";break;case"section":t="sm1/section.svg";break;case"link":return""}return svgs.getString(t)}function Fe(e){var t=e.children,n=e.contentState,r=e.entityKey,a=e.getEditorState,o=e.setEditorState,i=e.onClick,c=void 0===i?function(){}:i,l=n.getEntity(r);return"HIDDEN"===l.type?u.a.createElement("span",{className:"richtextinput_hidden"},t):u.a.createElement("span",{className:"richtextinput_match",onClick:function(e){c(e,l,a,o)}},u.a.createElement("span",{dangerouslySetInnerHTML:{__html:Me(l.data.type)}}),t)}Fe.propTypes={children:f.a.node,contentState:f.a.object.isRequired,entityKey:f.a.string.isRequired,getEditorState:f.a.func.isRequired,setEditorState:f.a.func.isRequired,onClick:f.a.func};var ze=Fe;function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e){var t,n=e.editorState,r=e.type,a=e.matchText,o=e.data,i=e.atCursor;if(!r||!a)return n;switch(r){case"label":t=ge.e;break;case"project":t=ge.o;break;case"collaborator":t=ge.b;break;case"section":t=ge.r;break;default:t=""}var c="".concat(t).concat(a," "),l=(n=me(n,c,{atCursor:i})).getCurrentContent().getPlainText();return n=He(n,[{isIgnored:!1,isInserted:!0,match:Ve({type:r,start:l.length-c.length,end:l.length-1,match:a},o)}])}function He(e,t){var n=e;return t.forEach((function(e){var t=e.match,r=e.isIgnored,a=e.isInserted,o=void 0!==a&&a,i=t.start;r||"date"===t.type||(i="priority"===t.type?t.start+(t.match.length-1):t.start+1,n=Ue({editorState:n,type:"HIDDEN",start:t.start,end:i,data:t})),n=Ue({editorState:n,type:r?"IGNORED":"MATCH",start:i,end:t.end,data:Ve(Ve({},t),{},{isInserted:o})})})),n}function Ue(e){var t=e.editorState,n=e.type,r=e.start,a=e.end,o=e.data,i=t.getSelection(),c=t.getCurrentContent().createEntity(n,"MUTABLE",o),l=c.getLastCreatedEntityKey(),s=t.getCurrentContent().getFirstBlock().getKey(),u=new C.SelectionState({anchorKey:s,anchorOffset:r,focusKey:s,focusOffset:a}),d=C.Modifier.applyEntity(c,u,l);return C.EditorState.forceSelection(C.EditorState.push(t,d),i)}var qe=function(e){var t,n=e.item,r=e.user,a=e.project,o=e.withIgnoredInitialMatches,i=e.isLabelsDisabled,c=[],s=[],u=!o,d=null,f={},m=!1;n&&!i&&(n.labels||[]).forEach((function(e){c=c.concat("".concat(ge.e).concat(e," "))}));var p=function(e,n){var o=n.getProps(),i=o.autoFocus,d=o.collaborators,f=o.labels,m=o.projects,p=o.sections,h=o.isAssigneeDisabled,v=o.isDateistDisabled,b=o.isPriorityDisabled,g=o.isLabelsDisabled,_=n.getPlugins(),y=l()(_,2)[1];if(u&&y.isVisible())return e;var O=e.getCurrentContent().getFirstBlock(),j=e,w=j.getSelection(),E=O.getKey();if(!u){O=e.getCurrentContent().getFirstBlock();var k=C.Modifier.insertText(e.getCurrentContent(),new C.SelectionState({anchorKey:E,anchorOffset:0,focusKey:E,focusOffset:0}),c.join(""));O=(j=C.EditorState.push(e,k,"insert-characters")).getCurrentContent().getFirstBlock()}var D=O.getText(),S=Le({projects:m,labels:f,user:r,collaborators:d,sections:p,isAssigneeDisabled:h,isLabelsDisabled:g,isPriorityDisabled:b,isDateistDisabled:v,content:D,project:t||a});if(!u){if(s=S.map((function(e,t){return{match:e,isIgnored:t>=c.length}})),u=!0,j=He(j,s),!i)return C.EditorState.moveSelectionToEnd(j);if(document.body.createTextRange){var I=document.body.createTextRange();I.collapse(),I.select()}return C.EditorState.moveFocusToEnd(j)}for(var T=[],A={},x={},P=0;P<S.length;P++){var R=S[P],N=O.getEntityAt(R.start+1),L=N&&j.getCurrentContent().getEntity(N),M=O.getEntityAt(R.end-1),F=M&&j.getCurrentContent().getEntity(M);if(!(L&&"MATCH"===L.type&&L.data.isInserted&&L!==F||F&&"MATCH"===F.type&&F.data.isInserted&&F!==L||R.end<=x.end||R.start<x.end&&R.start>x.start)){var z=!(!F||"IGNORED"!==F.type);F&&F.data.isInserted&&(R=Ve(Ve({},R),{},{id:F.data.id,name:F.data.name})),"label"===R.type?T.push({match:R,isIgnored:z,isInserted:F&&F.data.isInserted}):z?T.push({match:R,isIgnored:!0}):A[R.type]={match:R,isIgnored:!1,isInserted:F&&F.data.isInserted},x=R}}for(var B in A)A[B],T.push(A[B]);t=A.project?A.project.match:null;var V=C.Modifier.applyEntity(j.getCurrentContent(),new C.SelectionState({anchorKey:E,anchorOffset:0,focusKey:E,focusOffset:D.length}),null);return j=He(j=C.EditorState.push(j,V,"apply-entity"),T),s=U()("match.start")(T),j=C.EditorState.acceptSelection(j,w)},h=V()((function(e,t){var n=t.getProps(),r=n.isDateistDisabled,a=n.isPriorityDisabled;if(e.getCurrentContent()!==d.getCurrentContent()||r!==f.isDateistDisabled||a!==f.isPriorityDisabled){var o=p(e,t);t.getEditorState().getCurrentContent().getPlainText()===o.getCurrentContent().getPlainText()&&(d=o,f={isDateistDisabled:r,isPriorityDisabled:a},m=!0,t.getProps().onChange(d))}}),50);return{willUnmount:h.cancel,onChange:function(e,t){if("ko"===window.LANG&&d&&(q.p||q.s)&&event&&"insertReplacementText"===event.inputType)return e;if(!q.m&&d)h(e,t);else if(!d||e.getCurrentContent()!==d.getCurrentContent())return d=p(e,t),m=!0,d;return m=!1,e},keyBindingFn:function(e,t){if(e.ctrlKey&&77===e.keyCode)return"handled";if(!("Backspace"!==Object($.a)(e)||e.ctrlKey||e.altKey||e.metaKey)){var n=t.getEditorState(),r=n.getSelection(),a=n.getCurrentContent().getFirstBlock().getEntityAt(r.getStartOffset()-1),o=a&&n.getCurrentContent().getEntity(a);return o&&"IGNORED"!==o.type?(t.setEditorState(Ue({editorState:n,type:"IGNORED",start:o.data.start,end:o.data.end})),"handled"):void 0}},decorators:[{strategy:function(e,t,n){e.findEntityRanges((function(e){var t=e.getEntity();if(null===t)return!1;var r=n.getEntity(t).getType();return"IGNORED"!==r&&"LINK"!==r}),t)},component:ue(ze,{onClick:function(e,t,n,r){e.preventDefault(),e.stopPropagation(),r(Ue({editorState:n(),type:"IGNORED",start:t.data.start,end:t.data.end}))}})}],getMatches:function(){return s},getHighlightedProject:function(){return t||a},getIsLastStateParsed:function(){return m},insertMatch:$e}},Ge=n("t4uw");var We=n("DoMW"),Ke=n("RT6a"),Ye=n.n(Ke),Je=n("wkB0");function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=function(e){var t=e||{},n={};return{subscribeToItem:function(e,t){n[e]=n[e]||[],n[e].push(t)},unsubscribeFromItem:function(e,t){n[e]=n[e].filter((function(e){return e!==t}))},updateItem:function(e,r){t=Ze(Ze({},t),{},i()({},e,r)),n[e]&&n[e].forEach((function(n){return n(t[e])}))},getItem:function(e){return t[e]}}},et=n("PJYZ"),tt=n.n(et),nt=n("i8i4"),rt=n.n(nt),at=n("GpCm"),ot=n("Pxnj"),it=n("lrs5"),ct=n("Ba5u"),lt=n("xvbm");function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re()(e);if(t){var a=re()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return te()(this,n)}}function ut(){return u.a.createElement("span",{className:"richtextinput_suggestions_item_icon",dangerouslySetInnerHTML:{__html:svgs.getString("sm1/section.svg")}})}function dt(e,t,n){switch(e){case"section":return ut();case"project":if("section"===t.type)return ut();var r=ot.g(e,t.color);return Object(Ee.m)({collaborators:n},t.id)?u.a.createElement("span",{className:"richtextinput_suggestions_item_icon",dangerouslySetInnerHTML:{__html:Object(lt.d)("global.project_iconography")?svgs.getString("sm1/project_shared.svg"):svgs.getString("sm1/project_shared_old.svg")},style:{color:r}}):u.a.createElement("span",{className:"richtextinput_suggestions_item_icon richtextinput_suggestions_item_icon--unshared",style:{color:r}});case"label":return u.a.createElement("span",{className:"richtextinput_suggestions_item_icon",dangerouslySetInnerHTML:{__html:svgs.getString("sm1/label.svg")},style:{color:ot.g(e,t.color)}});case"collaborator":return u.a.createElement("span",{className:"richtextinput_suggestions_item_icon"},u.a.createElement(it.b,{user:t,size:it.b.SIZE_SMALL}))}}var ft=function(e){X()(n,e);var t=st(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),i()(tt()(e),"handleSelect",(function(t){t.stopPropagation(),e.props.onSelect(e.props.item)})),i()(tt()(e),"handleRef",(function(t){e.itemRef=t})),e}return Q()(n,[{key:"componentDidUpdate",value:function(e){var t=e.index===e.selectedIndex,n=this.props.index===this.props.selectedIndex;!t&&n&&this.itemRef&&this.itemRef.parentNode&&(this.itemRef.parentNode.scrollTop=this.itemRef.offsetTop-this.itemRef.parentNode.offsetTop)}},{key:"render",value:function(){var e=this.props,t=e.collaborators,n=e.item,r=e.index,a=e.type,o=e.selectedIndex,i=v()("richtextinput_suggestions_item",{"richtextinput_suggestions_item--selected":r===o,"richtextinput_suggestions_item--indent":!n.flat&&("section"===a||"section"===n.type)});return n.isIgnored?null:u.a.createElement("li",{className:i,key:n.id,onClick:this.handleSelect,ref:this.handleRef,role:"option","aria-label":n.name},dt(a,n,t),u.a.createElement(ct.a,{source:n.name}),"section"===n.type&&n.flat&&n.project?u.a.createElement("div",{className:"richtextinput_suggestions_item--section-project"},u.a.createElement(ct.a,{source:n.project.name})):null)}}]),n}(u.a.PureComponent);ft.propTypes={collaborators:f.a.object.isRequired,index:f.a.number.isRequired,item:f.a.object.isRequired,type:f.a.string.isRequired,selectedIndex:f.a.number,onSelect:f.a.func},ft.defaultProps={onSelect:function(){}};var mt=ft;var pt=function(e){var t=e.header,n=e.collaborators;if(!t||"project"!==t.type)return null;var r=t.type,a=t.item,o=dt(r,a,n);return u.a.createElement("li",{className:"richtextinput_suggestions_item richtextinput_suggestions_item--non-selectable",key:a.id},o,u.a.createElement(ct.a,{source:a.name}))},ht=n("LYyr");function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re()(e);if(t){var a=re()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return te()(this,n)}}var bt=function(e){X()(n,e);var t=vt(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).handleAdd=r.handleAdd.bind(tt()(r)),r.handleSelect=r.handleSelect.bind(tt()(r)),r}return Q()(n,[{key:"componentDidMount",value:function(){var e=this;this.props.store.subscribeToItem("selectedIndex",(function(){return e.forceUpdate()})),this.anchor=rt.a.findDOMNode(this.props.store.getItem("getEditorRef")()).parentElement}},{key:"handleAdd",value:function(){this.props.onCreate(this.props.store.getItem("queryType"),this.props.store.getItem("query"))}},{key:"handleSelect",value:function(e){this.props.onSelect(this.props.store,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.collaborators,r=t.store,a=t.onClickOutside,o=t.onCreate,i=t.onDuplicatedSelect,c=r.getItem("showDuplicatedMessage"),l=r.getItem("header"),s=c?[]:r.getItem("items"),d=r.getItem("query"),f=r.getItem("queryType"),m=r.getItem("selectedIndex");if(!this.anchor||"section"!==f&&!d&&!s.length)return null;var p=0===s.length&&!c&&d,h="section"===f&&0===s.length&&!d;return u.a.createElement(at.c,{referenceElement:this.anchor,placement:"bottom-start",withArrow:!1,withFocusLock:!1,onClose:a,isShown:!0},u.a.createElement("ul",{className:"richtextinput_suggestions",style:{width:this.anchor.offsetWidth},role:"listbox"},u.a.createElement(pt,{header:l,collaborators:n}),s.map((function(t,r){return u.a.createElement(mt,{key:t.id||t.name,collaborators:n,item:t,index:r,type:f,selectedIndex:m,onSelect:e.handleSelect})})),p?u.a.createElement("li",{className:v()("richtextinput_suggestions_item richtextinput_suggestions_item--create",{"richtextinput_suggestions_item--selected":!m}),onClick:o},u.a.createElement("span",null,"label"===f?_("Label not found."):null,"section"===f?_("Section not found."):null,"project"===f?_("Project not found."):null,u.a.createElement("b",null," ".concat(_("Create")," ").concat(d)))):null,c?u.a.createElement("li",{className:v()("richtextinput_suggestions_item richtextinput_suggestions_item--duplicate",{"richtextinput_suggestions_item--selected":!m}),onClick:i},u.a.createElement("span",null,Object(ht.a)(_("Label @{label_name} is already included"),{label_name:d}))):null,h?u.a.createElement("li",{className:"richtextinput_suggestions_item richtextinput_suggestions_item--no-sections richtextinput_suggestions_item--non-selectable"},_("This project doesn't have any sections")):null))}}]),n}(u.a.PureComponent);bt.propTypes={collaborators:f.a.object,store:f.a.object,onCreate:f.a.func,onClickOutside:f.a.func,onDuplicatedSelect:f.a.func,onSelect:f.a.func},bt.defaultProps={store:{},onCreate:function(){},onClickOutside:function(){},onDuplicatedSelect:function(){},onSelect:function(){}};var gt=bt;function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ot=[ge.e,ge.f,ge.o,ge.p,ge.b,ge.r].map((function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")})).join("|"),jt=new RegExp("(?:^|\\s)(".concat(Ot,")([^(").concat(Ot,")]{0,})([\\s]{0,})$"));function wt(e,t){var n=e.getItem("getEditorState")(),r=n.getSelection(),a=r.getStartOffset(),o=a-e.getItem("query").length-1,i=r.merge({anchorOffset:o,focusOffset:a}),c=n.getCurrentContent();n=C.EditorState.push(n,C.Modifier.replaceText(c,i,""),"remove-range");var s="collaborator"===e.getItem("queryType")&&e.getItem("user").id===t.id?_x("task_assignment","Me"):t.name,u=l()(e.getItem("getEditorRef")().props.plugins,3)[2];t.sectionWithinProject?(n=u.insertMatch({editorState:n,type:e.getItem("queryType"),matchText:t.project.name,data:t.project,atCursor:!0}),n=u.insertMatch({editorState:n,type:"section",matchText:t.name,data:t,atCursor:!0})):n=u.insertMatch({editorState:n,type:e.getItem("queryType"),matchText:s,data:t,atCursor:!0}),e.updateItem("query",null),e.updateItem("queryType",null),e.updateItem("items",[]),e.updateItem("isVisible",!1),e.updateItem("selectedIndex",-1),e.updateItem("isBlurred",!1),e.getItem("setEditorState")(n)}var Et=function(e){var t,n,r,a,o=e.collaborators,i=e.user,c=Xe({user:i,items:[],query:null,header:null,queryType:null,selectedIndex:0,isVisible:!1,showDuplicatedMessage:!1,isBlurred:!1});function s(e){if(!c.getItem("isVisible"))return r(e);e&&e.stopPropagation(),d()}function u(){var e=c.getItem("selectedIndex");if(!(e<0)){var n=c.getItem("items"),r=c.getItem("query");if(n.length)wt(c,n[e]);else if(r){var a=t(c.getItem("queryType"),r);wt(c,a)}}}function d(){c.updateItem("header",null),c.updateItem("queryType",null),c.updateItem("query",null),c.updateItem("items",[]),c.updateItem("isVisible",!1),c.updateItem("selectedIndex",-1),c.updateItem("showDuplicatedMessage",!1)}return{SuggestionsList:ue(gt,{store:c,collaborators:o,onCreate:function(e){e&&e.stopPropagation();var n=c.getItem("query"),r=t(c.getItem("queryType"),n);wt(c,r)},onDuplicatedSelect:function(){var e=c.getItem("items");wt(c,e[0])},onSelect:wt,onClickOutside:function(){c.getItem("getEditorRef")().focus(),s()}}),initialize:function(e){var t=e.getEditorState,n=e.getEditorRef,r=e.setEditorState;c.updateItem("getEditorRef",n),c.updateItem("getEditorState",t),c.updateItem("setEditorState",r)},isVisible:function(){return c.getItem("isVisible")},setListeners:function(e){var o=e.onCreate,i=e.onEnter,c=e.onEscape,l=e.onTab;t=o,n=i,r=c,a=l},onChange:function(e,t){var n=e.getSelection(),r=e.getCurrentContent().getFirstBlock(),a=n.getStartOffset(),o=r.getText().slice(0,a),s=o.substr(o.length-1);if(c.getItem("isBlurred")||!c.getItem("isVisible")&&s!==ge.e&&s!==ge.f&&s!==ge.o&&s!==ge.p&&s!==ge.b&&s!==ge.r)return e;var u=r.getEntityAt(a),f=r.getText()[a]&&" "!==r.getText()[a];if(u||f)return e;var m=jt.exec(o)||[],p=l()(m,3),h=p[1],v=p[2];if(void 0===v)return d(),e;switch(c.updateItem("query",v),h){case ge.b:var b=t.getPlugins(),g=l()(b,3)[2].getHighlightedProject(),_=t.getProps(),y=_.collaborators;if(_.isAssigneeDisabled||!g||!Object(Ee.m)({collaborators:y},g.id))return d(),e;c.updateItem("queryType","collaborator");var O=Object(Ee.h)({collaborators:y,user:i})[g.id].filter((function(e){return i.id!==e.id})).map((function(e){return yt(yt({},e),{},{name:Object(Ge.a)(e.full_name)})}));O.unshift(yt(yt({},i),{},{name:"".concat(_x("task_assignment","Me")," (").concat(Object(Ge.a)(i.full_name),")")}));var j=c.getItem("query").toLowerCase(),w=""===j?O:O.filter((function(e){return e.full_name.toLowerCase().includes(j)||e.name.toLowerCase().includes(j)}));c.updateItem("items",w);break;case ge.o:case ge.p:var C=t.getProps(),S=C.projects,I=C.sections;c.updateItem("queryType","project");var T=""===c.getItem("query"),A=Object(k.m)({projects:S}).reduce((function(e,t){var n=Object(D.i)(t.id)({sections:I});return e.concat(t).concat(n.map((function(e){return yt(yt({},e),{},{type:"section",flat:!T,sectionWithinProject:!0,project:t})})))}),[]);if(T){c.updateItem("items",A);break}var x=Object(k.o)(c.getItem("query"),{projects:A});c.updateItem("items",x);break;case ge.r:c.updateItem("queryType","section");var P=t.getProps(),R=P.sections,N=P.projects,L=t.getPlugins(),M=l()(L,3)[2].getHighlightedProject();if(M){var F=c.getItem("query"),z=Object(D.i)(M.id)({sections:R}),B=""===F?z:Object(D.h)(F,{sections:Object(We.a)(z)});c.updateItem("header",{type:"project",item:N[M.id]}),c.updateItem("items",B)}break;case ge.e:case ge.f:var V=t.getProps(),$=V.labels,H=V.isLabelsDisabled,U=c.getItem("query"),q=null==U?void 0:U.match(/\s$/);if(H||q)return d(),e;var G=t.getPlugins(),W=l()(G,3)[2].getMatches();c.updateItem("queryType","label"),c.updateItem("query",Object(Je.a)(U));var K=Object(E.k)({labels:$},c.getItem("query")),Y=1===K.length&&Ye()((function(e){var t=e.match;return"label"===t.type&&K[0].name===t.name}),W);c.updateItem("items",K),c.updateItem("showDuplicatedMessage",Y)}return 0===c.getItem("items").length&&(c.getItem("query").split(" ").length>1||h===ge.b)?(d(),e):(c.updateItem("isVisible",!0),c.updateItem("selectedIndex",c.getItem("items").length>0&&!c.getItem("showDuplicatedMessage")?0:-1),e)},handleReturn:function(e){return c.getItem("isVisible")?(u(),"handled"):(n(e),"handled")},keyBindingFn:function(e){switch(Object($.a)(e)){case"ArrowUp":case"ArrowLeft":return function(e){if(c.getItem("isVisible")){e.preventDefault();var t=c.getItem("selectedIndex")-1,n=Math.max(0,c.getItem("items").length-1);c.updateItem("selectedIndex",t<0?n:t)}}(e);case"ArrowDown":case"ArrowRight":return function(e){if(c.getItem("isVisible")){e.preventDefault();var t=c.getItem("selectedIndex")+1,n=Math.max(0,c.getItem("items").length-1);return c.updateItem("selectedIndex",t>n?0:t),e.preventDefault()}}(e);case"Escape":return s(e);case"Tab":return function(e){if(!c.getItem("isVisible"))return a(e);e.preventDefault(),u()}(e)}},onSelect:wt,onFocus:function(){c.updateItem("isBlurred",!1)},onBlur:function(){c.updateItem("isBlurred",!0)}}};var kt=function(){return{onChange:function(e){return he(e,/\r?\n/)}}},Dt=n("VKB9");function Ct(e){var t=e.ariaInvalid,n=e.ariaErrorMessage,r=e.autoFocus,a=e.className,o=e.collaborators,i=e.forwardRef,c=e.labels,d=e.item,f=void 0===d?{}:d,m=e.placeholder,p=e.project,h=e.projects,b=e.sections,g=e.user,_=e.isAssigneeDisabled,y=e.isDateistDisabled,O=e.isPriorityDisabled,j=e.isLabelsDisabled,E=e.withIgnoredInitialMatches,k=void 0===E||E,D=e.onChange,S=void 0===D?function(e){return e}:D,T=e.onEnter,x=void 0===T?function(){}:T,R=e.onEscape,L=void 0===R?function(){}:R,F=e.onLabelAdd,B=void 0===F?function(){}:F,V=e.onSinglelinePaste,$=e.onMultilinePaste,H=e.onProjectAdd,U=void 0===H?function(){}:H,q=e.onSectionAdd,G=void 0===q?function(){}:q,W=e.onTab,K=void 0===W?function(){}:W,Y=e.onFocusChanged,J=void 0===Y?function(){}:Y,Q=Object(s.useState)((function(){return C.EditorState.createWithContent(C.ContentState.createFromText((f.content||"").replace(/\r?\n/g,"")))})),Z=l()(Q,2),X=Z[0],ee=Z[1],te=Object(s.useRef)(f.project_id),ne=Object(s.useRef)(f.section_id),re=Object(s.useRef)(f.labels||[]),ae=Object(s.useRef)(f.due),oe=Object(s.useRef)(f.project_id),ie=Object(s.useRef)(f.section_id),ce=Object(s.useRef)(new Date),le=Object(s.useRef)(Et({collaborators:o,user:g,onCreate:de})),se=Object(s.useRef)(qe({item:f,user:g,project:p,labels:c,withIgnoredInitialMatches:k,isLabelsDisabled:j})),ue=Object(s.useMemo)((function(){return[kt(),le.current,se.current]}),[]);Object(Dt.h)((function(){if(!z()(re.current,f.labels)){var e=A()(f.labels,re.current),t=A()(re.current,f.labels),n=X;if(e.forEach((function(e){n=se.current.insertMatch({editorState:n,type:"label",matchText:e,data:{name:e}})})),t.length>0){var r=Object(w.d)(M()("match.name"),P()((function(e){var n=e.match,r=e.isIgnored;return"label"===n.type&&!r&&t.indexOf(n.name)>-1})))(se.current.getMatches());r.length>0&&(r.forEach((function(e){var t=e.match;n=he(n,t.match)})),n=C.EditorState.moveSelectionToEnd(n))}re.current=f.labels,i.current.update(n)}}),[X,i,f.labels,c]),Object(Dt.h)((function(){function e(e){var t=N()((function(e){var t=e.match,n=e.isIgnored;return"section"===t.type&&!n}),se.current.getMatches());return t?he(e,t.match.match,{onlyLastOccurence:!0}):e}function t(e){if(null===f.section_id)ne.current=null;else{var t=null!=b?b[f.section_id]:void 0;if(f.section_id&&t){var n=se.current.insertMatch({editorState:e,type:"section",matchText:t.name,data:{id:t.id}});return ne.current=t.id,n}}return e}if(te.current===f.project_id){if(ne.current===f.section_id)return;var n=e(X);return n=t(n),void i.current.update(n)}if(null!==te.current){var r=X,a=N()((function(e){var t=e.match,n=e.isIgnored;return"project"===t.type&&!n}),se.current.getMatches());a&&(r=he(r,a.match.match,{onlyLastOccurence:!0})),r=e(r);var o=h[f.project_id];r=se.current.insertMatch({editorState:r,type:"project",matchText:o.name,data:{id:o.id}}),te.current=f.project_id,r=t(r),i.current.update(r)}else te.current=f.project_id}),[X,i,f.project_id,h,f.section_id,b]),Object(s.useEffect)((function(){i&&(i.current.insertAtCursor=function(e,t){i.current.focus();var n=me(i.current.getEditorState(),e,{atCursor:!0,fromClipboard:t});i.current.update(n)},i.current.pasteAtCursor=function(e){i.current.insertAtCursor(e,!0)})}),[i,t]),Object(s.useEffect)((function(){if(i){var e=i.current.getEditorRef().editor;e.setAttribute("aria-invalid",Boolean(t)),n&&e.setAttribute("aria-errormessage",n)}}),[i,t,n]);function de(e,t){switch(e){case"label":return B(t);case"project":return U(t);case"section":return G(t)}}le.current.setListeners({onCreate:de,onEnter:function(e){X.isInCompositionMode()||x(e)},onEscape:L,onTab:K});var fe=le.current.SuggestionsList,pe=v()("richtextinput",a);return u.a.createElement("div",{className:pe},u.a.createElement(I.a,{ref:i,autoFocus:r,editorState:X,collaborators:o,labels:c,projects:h,sections:b,placeholder:m,plugins:ue,spellCheck:!0,stripPastedStyles:!0,isAssigneeDisabled:_,isDateistDisabled:y,isPriorityDisabled:O,isLabelsDisabled:j,handleKeyCommand:function(e){return"split-block"===e?"handled":"not-handled"},handlePastedText:function(e,t,n){var r=e.split(/\r?\n/g);if(r.length<2)return V?(V(e),"handled"):"not-handled";if(!$){var a=me(n,r.join(""));return ee(a),i.current.update(a),"handled"}var l=r.map((function(e){var t=Le({projects:h,project:p,labels:c,user:g,collaborators:o,sections:b,isAssigneeDisabled:!1,isLabelsDisabled:!1,isPriorityDisabled:!1,isDateistDisabled:!1,content:e}),n=N()((function(e){var t=e.id;return"project"===e.type&&t!==p.id}),t);return n&&(t=Le({projects:h,project:n,labels:c,user:g,collaborators:o,sections:b,isAssigneeDisabled:!1,isLabelsDisabled:!1,isPriorityDisabled:!1,isDateistDisabled:!1,content:e})),ve({matches:be(t).map((function(e){return{match:e,isIgnored:!1}})),item:f,projectId:oe.current,sectionId:ie.current,initialDueDate:ae.current,currentDate:ce.current,isLabelsDisabled:!1,isPriorityDisabled:!1,isDateistDisabled:!1,isAssigneeDisabled:!1,content:e})}));return $(l,(function(){i.current.update(me(i.current.getEditorState(),r.join("")))})),"handled"},onChange:function(e){if(!se.current.getIsLastStateParsed())return ee(e);var t=ve({matches:se.current.getMatches(),item:f,projectId:te.current,sectionId:ne.current,initialDueDate:ae.current,currentDate:ce.current,isDateistDisabled:y,isPriorityDisabled:O,isLabelsDisabled:j,isAssigneeDisabled:_,content:e.getCurrentContent().getPlainText()});re.current=t.labels,te.current=t.project_id,S(t),ee(e)},onFocus:function(){return J(!0)},onBlur:function(){return J(!1)}}),u.a.createElement(fe,null))}Ct.propTypes={ariaInvalid:f.a.bool,ariaErrorMessage:f.a.string,autoFocus:f.a.bool,className:f.a.string,collaborators:f.a.object.isRequired,forwardRef:f.a.object,item:f.a.object,labels:f.a.object.isRequired,placeholder:f.a.string,project:f.a.object,projects:f.a.object.isRequired,sections:f.a.object.isRequired,suggestionAction:f.a.string,user:f.a.object.isRequired,isAssigneeDisabled:f.a.bool,isDateistDisabled:f.a.bool,isPriorityDisabled:f.a.bool,isLabelsDisabled:f.a.bool,withIgnoredInitialMatches:f.a.bool,onChange:f.a.func,onEnter:f.a.func,onEscape:f.a.func,onLabelAdd:f.a.func,onSinglelinePaste:f.a.func,onMultilinePaste:f.a.func,onProjectAdd:f.a.func,onSectionAdd:f.a.func,onTab:f.a.func,onFocusChanged:f.a.func};var St=Ct,It=n("oHMr"),Tt=n("jVEK"),At=n("Vbab");function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re()(e);if(t){var a=re()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return te()(this,n)}}var Pt="WR_PlaceholderCount";function Rt(){var e,t=$storage(Pt).get();if(null===t)return(e=$requestJSON("/sync/v8/tooltips/is_seen")).addCallback((function(e){e.result?$storage(Pt).set(100):$storage(Pt).set("0")})),e.sendReq({name:"web_ph_natrual_text",token:Object(Tt.h)(It.default.getState())}),100;var n=parseInt(t||0);return n+=1,$storage(Pt).set("".concat(n)),100===n&&$request("/sync/v8/tooltips/mark_as_seen").sendReq({name:"web_ph_natrual_text",token:Object(Tt.h)(It.default.getState())}),n}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mt=Object(w.d)((function(e){return function(t){X()(r,t);var n=xt(r);function r(e){var t;Y()(this,r),t=n.call(this,e);var a=Rt(),o=[Object(At.a)("Get pastries sun at 9")+" "+Object(At.a)("#Family"),Object(At.a)("Renew gym every May 1st")+" "+Object(At.a)("#Health"),Object(At.a)("Design meeting at 11am p1")+" "+Object(At.a)("#Meeting"),Object(At.a)("Learn Portuguese every 2 days")+" "+Object(At.a)("#Learning"),Object(At.a)("Buy gift tomorrow at 6pm p1")+" "+Object(At.a)("#Errands"),Object(At.a)("Read every day p3 @goals")+" "+Object(At.a)("#Learning"),Object(At.a)("Conference Wednesday at 15")+" "+Object(At.a)("#Meeting"),Object(At.a)("Family lunch on Sunday at 11am")+" "+Object(At.a)("#Personal")];if(a<100){var i=Math.floor(Math.random()*o.length);t.placeholder=Object(At.a)("e.g.,")+" "+o[i]}else t.placeholder=Object(At.a)("Task name");return t}return Q()(r,[{key:"render",value:function(){return u.a.createElement(e,W()({},this.props,{placeholder:this.placeholder}))}}]),r}(u.a.PureComponent)}),Object(j.c)((function(e,t){return{collaborators:e.collaborators,labels:Object(E.f)(e),maxLabelItemOrder:Object(E.o)(e)+1,project:Object(k.n)(e,t.item&&t.item.project_id),projects:e.projects,sections:e.sections,user:e.user}}),(function(e){return{onLabelAdd:function(t,n){return e(Object(E.d)({name:t,item_order:n}))},onProjectAdd:function(t){return e(Object(k.f)({name:t}))},onSectionAdd:function(t,n){return e(Object(D.e)({name:t,project_id:n}))}}}),(function(e,t,n){return Lt(Lt(Lt(Lt({},e),t),n),{},{onLabelAdd:function(n){return t.onLabelAdd(n,e.maxLabelItemOrder)},onSectionAdd:function(e){return t.onSectionAdd(e,n.item.project_id)}})}),{forwardedRef:!0}))(St),Ft=n("IVjG"),zt=n("UDQ1"),Bt=n("uzpC"),Vt=n("Xczw"),$t=n("UVeO"),Ht=n("Wo0o"),Ut=(n("Y9Bd"),$t.Ob);var qt=function(e){var t=e.project,n=e.section,r=e.isProjectShared,a=e.item,o=e.onSelect,i=t?u.a.createElement(Ht.a,{text:t.name}):Object(At.a)("Project is not selected"),c=t?u.a.createElement(Ut,{className:"projectSectionPill--icon",project:t,isShared:r,size:"small"}):null,l=null==n?void 0:n.name;return u.a.createElement(Vt.a,{selectedProjectId:a.project_id,selectedSectionId:a.section_id,onSelect:o,withSectionSelection:!0},(function(e){var t=e.toggle,n=e.buttonProps;return u.a.createElement(O.a,W()({},n,{className:"icon_pill projectSectionPill--container",onClick:function(e){e.stopPropagation(),t(e)},"aria-label":_("Select a project"),title:_("Select a project"),shortcut:"#"}),u.a.createElement("div",{className:"projectSectionPill"},c,u.a.createElement("div",{className:"projectSectionPill--text"},i),l?u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"projectSectionPill--sectionSeparator"},"/"),u.a.createElement("div",{className:"projectSectionPill--text"},u.a.createElement(ct.a,{source:l}))):null))}))};var Gt=Object(j.c)((function(e,t){var n;return{project:Object(k.n)(e,t.item.project_id),section:e.sections[null!==(n=t.item.section_id)&&void 0!==n?n:""],isProjectShared:!!t.item.project_id&&Object(Ee.m)(e,t.item.project_id)}}))(qt),Wt=n("TQFH"),Kt=n("RkX7"),Yt=n("n7q7"),Jt=n("mX6p");n("YtIi");function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xt(e){var t=e.item,n=void 0===t?{}:t,r=e.reminders,o=void 0===r?[]:r,i=e.forwardedRef,c=e.user,d=e.canUseLabels,f=e.onCancel,h=void 0===f?function(){}:f,_=e.onChange,j=e.onKeyDown,w=void 0===j?function(){}:j,E=e.onMultilinePaste,k=e.onSubmit,D=void 0===k?function(){}:k,C=e.withCancelButton,S=void 0===C||C,I=e.withQuickNote,T=void 0===I||I,A=e.withIgnoredInitialMatches,x=void 0===A||A,P=e.withDescriptionInputFocused,R=void 0!==P&&P,N=Object(lt.e)(c),L=Object(s.useState)(""),M=l()(L,2),F=M[0],z=M[1],B=Object(s.useRef)(null),V=Object(s.useRef)(null),H=Object(s.useState)(R?V:B),U=l()(H,2),q=U[0],G=U[1],W=Object(s.useState)((function(){return Object(y.b)(n.content)})),K=l()(W,2),Y=K[0],J=K[1],Q=Object(s.useState)((function(){return Zt(Zt(Zt({},Object(Wt.n)(c)),n),{},{reminders:o,content:Y.title})})),Z=l()(Q,2),X=Z[0],ee=Z[1],te=Object(s.useState)(null),ne=l()(te,2),re=ne[0],ae=ne[1],oe=Object(s.useState)(null),ie=l()(oe,2),ce=ie[0],le=ie[1],se=Object(s.useState)(null),ue=l()(se,2),de=ue[0],fe=ue[1],me=Object(s.useRef)(X),pe=Object(Dt.e)(n);function he(){return Zt(Zt({},X),{},{content:Object(y.c)(X.content,Y)})}function ve(){var e,t=he(),n=t.content.trim().length,r=null===(e=t.description)||void 0===e?void 0:e.trim().length;return{contentTextLength:n,descriptionTextLength:r,isContentLengthAboveLimit:n>500,isDescriptionLengthAboveLimit:r>1e3}}function be(){var e=ve(),t=e.contentTextLength,n=e.isContentLengthAboveLimit,r=e.isDescriptionLengthAboveLimit;return 0!==t&&(!N||!n&&!r)}function ge(e){e&&G(V)}function _e(e){e.preventDefault(),be()&&D(he(),e)}function ye(e){_&&_(me.current),_e(e)}function Oe(){setTimeout((function(){var e;null===(e=q.current)||void 0===e||e.focus()}),0)}var je,we,Ee,ke,De,Ce,Se,Ie=Object(s.useMemo)((function(){return re?X.responsible_uid:n.responsible_uid}),[re,n.responsible_uid,X.responsible_uid]);return Object(Dt.h)((function(){_&&_(Zt(Zt({},X),{},{content:Object(y.c)(X.content,Y)}))}),[Y,X,_]),Object(s.useEffect)((function(){pe&&n.id!==pe.id&&Object(Yt.a)(pe.id)&&Object(Jt.a)(n.id)&&ee(Zt(Zt({},X),{},{id:n.id}))}),[n,X,pe]),Object(s.useEffect)((function(){i&&(i.current.insertText=function(e){var t=Object(y.b)(e);J(t),B.current.insertAtCursor(t.title)},i.current.focusContentInput=function(){var e;null===(e=B.current)||void 0===e||e.focus()})}),[i]),Object(s.useEffect)((function(){R&&V.current.setSelectionRange(V.current.value.length,V.current.value.length)}),[R]),Object(Dt.h)((function(){F.length>0&&V.current&&(Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value").set.call(V.current,F),V.current.dispatchEvent(new Event("input",{bubbles:!0})))}),[F]),u.a.createElement("form",{ref:i,className:v()("task_editor focus-marker-enabled-within",{task_editor_task_description:N}),onKeyDown:function(e){var t,n,r=Object($.a)(e);if("Escape"===r)return e.preventDefault(),void h();e.ctrlKey&&77===e.keyCode&&(e.preventDefault(),!N&&T&&document.querySelector(".task_editor .quick_note_action").click()),(e.ctrlKey||e.metaKey)&&"Enter"===r&&(e.preventDefault(),q.current===V.current&&ye(e)),((null===(t=q.current)||void 0===t||null===(n=t.getEditorRef)||void 0===n?void 0:n.call(t).editor)||q.current)===e.target&&w(e)}},u.a.createElement("div",{className:"task_editor__editing_area",onClick:function(e){var t,n,r=null===(t=B.current)||void 0===t||null===(n=t.getEditorRef)||void 0===n?void 0:n.call(t).editor;r&&r.contains(e.target)||V.current===e.target||Oe()}},u.a.createElement("div",{className:"task_editor__input_fields"},u.a.createElement("div",{className:"task_editor__content_field no-focus-marker"},u.a.createElement(Kt.a,{type:Y.type,className:"task_editor__content_field__extension"}),u.a.createElement(Mt,{ariaInvalid:ve().isContentLengthAboveLimit,ariaErrorMessage:"a11y_task_name_over_limit",autoFocus:!R,forwardRef:B,item:X,isAssigneeDisabled:re,isDateistDisabled:ce,isPriorityDisabled:de,isLabelsDisabled:!d,withIgnoredInitialMatches:x,onChange:function(e){var t=Zt(Zt({},X),e);null===t.project_id&&(t.project_id=n.project_id||c.inbox_project),!ce&&null===t.due&&n.due&&(t.due=n.due),ce||"NO_DATE"!==t.due||(t.due=null),de||null!==t.priority||(t.priority=n.priority||1),!re&&null===t.responsible_uid&&n.responsible_uid&&(t.responsible_uid=n.responsible_uid),me.current=t,ee(t)},onEnter:ye,onMultilinePaste:E,onSinglelinePaste:function(e){var t,n=ve(),r=n.contentTextLength,a=n.descriptionTextLength;if(!N||e.length<=500||r>0||a>0){var o;null===(o=B.current)||void 0===o||o.pasteAtCursor(e)}else{var i=e.lastIndexOf(" ",500),c=e.substring(0,i),l=e.substring(i);null===(t=B.current)||void 0===t||t.pasteAtCursor(c),l.length>0&&z(l.trim())}},onFocusChanged:function(e){e&&G(B)},className:N?"rich-text-input-with-task-description":void 0})),N&&u.a.createElement(m.a,{"aria-invalid":ve().isDescriptionLengthAboveLimit,"aria-errormessage":"a11y_task_description_over_limit",autoFocus:R,className:"task_editor__description_field no-focus-marker",placeholder:Object(At.a)("Description"),value:X.description,minRows:2,cacheMeasurements:!0,onChange:function(e){var t=Zt(Zt({},X),{},{description:e.target.value});me.current=t,ee(t)},onFocus:function(){return ge(!0)},onBlur:function(){return ge(!1)},ref:V})),(je=ve(),we=je.contentTextLength,Ee=je.descriptionTextLength,ke=je.isContentLengthAboveLimit,De=je.isDescriptionLengthAboveLimit,Ce=function(){return u.a.createElement("div",{id:"a11y_task_name_over_limit",className:"task_editor__length_limit_error"},u.a.createElement(p.a,{string:Object(At.a)("Task name character limit: {nameLength} / {nameLengthLimit}"),mapping:{nameLength:we,nameLengthLimit:500}}))},Se=function(){return u.a.createElement("div",{id:"a11y_task_description_over_limit",className:"task_editor__length_limit_error"},u.a.createElement(p.a,{string:Object(At.a)("Task description character limit: {descriptionLength} / {descriptionLengthLimit}"),mapping:{descriptionLength:Ee,descriptionLengthLimit:1e3}}))},N&&(ke||De)&&u.a.createElement(u.a.Fragment,null,q.current==B.current&&(ke?Ce():Se()),q.current==V.current&&(De?Se():Ce()))),u.a.createElement("div",{className:"task_editor__extra_fields"},u.a.createElement("div",{className:"task_editor__extra_fields__pills"},u.a.createElement(Bt.a,{item:X,onSelect:function(e){le(!0),ee(Zt(Zt({},X),{},{due:e})),Oe()},showTooltip:!1}),u.a.createElement(Gt,{onSelect:function(e){var t=e.project_id,n=e.section_id;t===X.project_id&&n===X.section_id?ee(Zt(Zt({},X),{},{section_id:null})):ee(Zt(Zt({},X),{},{project_id:t,section_id:n})),Oe()},item:X}),u.a.createElement(zt.a,{className:"task_editor_assign_people icon_pill",projectId:X.project_id,value:Ie,onChange:function(e){var t=e.target;ae(!0),ee(Zt(Zt({},X),{},{responsible_uid:t.value})),Oe()}})),u.a.createElement(Ft.a,{labels:X.labels,item:n,user:c,reminders:X.reminders,priority:de?X.priority:n.priority,showKeyboardShortcuts:!0,withQuickNote:T,quickNote:X.note,onReminderAdd:function(e){ee(Zt(Zt({},X),{},{reminders:[].concat(a()(X.reminders||[]),[e])}))},onReminderDelete:function(e){ee(Zt(Zt({},X),{},{reminders:X.reminders.filter((function(t){return t!==e}))}))},onReminderClose:Oe,onLabelsSelect:function(e){ee(Zt(Zt({},X),{},{labels:e})),Oe()},onPrioritySelect:function(e){fe(!0),ee(Zt(Zt({},X),{},{priority:e})),Oe()},onQuickNoteChange:function(e){ee(Zt(Zt({},X),{},{note:e}))},onQuickNoteClose:Oe}))),u.a.createElement("div",{className:"task_editor__form_actions","data-item-actions-root":""},N?u.a.createElement(g.m,{space:"medium",align:"left"},u.a.createElement(b.a,{type:"submit",variant:"primary",onClick:_e,disabled:!be()},n&&n.id?Object(At.a)("Save"):Object(At.a)("Add task")),S?u.a.createElement(b.a,{variant:"secondary",onClick:h},Object(At.a)("Cancel")):null):u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{type:"submit",className:"ist_button ist_button_red",onClick:_e,disabled:!be()},n&&n.id?Object(At.a)("Save"):Object(At.a)("Add task")),S?u.a.createElement(O.a,{className:"cancel",onClick:h},Object(At.a)("Cancel")):null)))}Xt.propTypes={item:f.a.object,reminders:f.a.array,forwardedRef:f.a.object,user:f.a.object.isRequired,canUseLabels:f.a.bool,withCancelButton:f.a.bool,withQuickNote:f.a.bool,withIgnoredInitialMatches:f.a.bool,withDescriptionInputFocused:f.a.bool,onCancel:f.a.func,onChange:f.a.func,onKeyDown:f.a.func,onMultilinePaste:f.a.func,onSubmit:f.a.func}},"k+IQ":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("lrs5"),l=n("EpcT");function s(e){var t=e.userIds,n=e.allCollaborators,r=t.map((function(e){var t=n[e],r=Object(l.f)(t)||_("Someone");return a.a.createElement("div",{key:e,className:"people_holder reacted_people",style:{textAlign:"left"}},a.a.createElement("div",{className:"user"},a.a.createElement(c.b,{className:"comments_reactions_avatar",user:t,size:"small"}),a.a.createElement("span",null,r)))}));return a.a.createElement(a.a.Fragment,null,r)}s.propTypes={userIds:i.a.arrayOf(i.a.oneOfType([i.a.number,i.a.string])).isRequired,allCollaborators:i.a.object.isRequired},t.a=s},k0om:function(e,t,n){"use strict";n.d(t,"n",(function(){return L})),n.d(t,"m",(function(){return M})),n.d(t,"j",(function(){return F})),n.d(t,"b",(function(){return z})),n.d(t,"d",(function(){return B})),n.d(t,"f",(function(){return V})),n.d(t,"c",(function(){return $})),n.d(t,"g",(function(){return H})),n.d(t,"a",(function(){return U})),n.d(t,"l",(function(){return q})),n.d(t,"i",(function(){return G})),n.d(t,"h",(function(){return W})),n.d(t,"e",(function(){return K})),n.d(t,"k",(function(){return Y}));n("lSNA");var r=n("RIqP"),a=n.n(r),o=n("3EZw"),i=n.n(o),c=n("P/G1"),l=n.n(c),s=n("4rXO"),u=n("OljV"),d=n("fAMu"),f=n("lOx9"),m=n.n(f),p=n("b3vA"),h=n.n(p),v=n("uS8r"),b=n.n(v),g=n("VXWU"),_=n.n(g),y=n("duPW"),O=n.n(y),j=n("k08V"),w=n.n(j),E=n("Snkc"),k=n.n(E),D=n("US0Z"),C=n.n(D),S=n("DwX5"),I=n.n(S),T=n("ANjH"),A=n("peh1"),x=n("RZq6"),P=n("Qi13"),R=n("S+H7"),N=n("LsxX");var L=Object(A.createSelector)((function(e){return e.items}),I()((function(e){return!e.in_history}))),M=Object(A.createSelector)(L,I()((function(e){return!e.checked}))),F=Object(A.createSelector)(M,R.n,(function(e){return e.user}),(function(e,t,n){return e.filter((function(e){return!t(e.project_id)||!e.responsible_uid||e.responsible_uid===n.id}))}));function z(e,t){var n;return t=P.a.getRealId(t),null!==(n=e.items[t])&&void 0!==n?n:void 0}var B=Object(A.createSelector)(L,_()("project_id"));function V(e,t){return l()(t.items).find((function(t){return t.sync_id===e}))}function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=M(t),a=r.reduce((function(t,n){var r=Object(s.a)(e,n.content);return-1!==r&&t.push({item:n,index:r}),t}),[]);return a=k()(["index","id"],a).slice(0,n).map((function(e){return e.item}))}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.sorted,o=void 0!==r&&r;e=P.a.getRealId(e);var i=t.items[e];if(!i)return[];var c=B(t)[i.project_id],l=_()("parent_id")(c);function s(e){var t=l[e.id];o&&(t=k()("child_order",t));var n=Object(T.d)(w.a,b()((function(e){return s(e)})))(t);return[e].concat(a()(n))}var u=s(i);return u.splice(0,1),u}function U(e,t){var n=(t.items[e]||{}).parent_id;return n?[t.items[n]].concat(a()(U(n,t))):[]}function q(e){return Object(A.createSelector)(B,(function(e){return e.sections}),(function(t,n){var r=t[e],o=_()((function(e){return e.section_id&&!n[e.section_id]&&Object(x.captureInfoLog)("Found task from a section that's not present in the state",{taskId:e.id,taskSectionId:e.section_id,sectionsIds:Object.keys(n)}),e.section_id}),r),i=_()("parent_id",r);function c(e){var t=i[e.id],n=Object(T.d)(w.a,b()(c),k()("child_order"))(t);return[e].concat(a()(n))}function l(e){return function(e){var t={};return e.forEach((function(e,n){e.item_order=n+1,null===e.parent_id?e.indent=1:e.indent=(t[e.parent_id]||1)+1,t[e.id]=e.indent})),e}(Object(T.d)(w.a,b()(c),k()("child_order"))(function(e){return o[e]?o[e].filter((function(e){return null===e.parent_id})):[]}(e)))}var s=Object(T.d)(h()((function(e){return l(e.id)})),C()((function(t){return t.project_id===e})))(n);return s.null=l(null),s}))}function G(e,t){var n,r,a=e.project_id,o=e.section_id,i=null!==(n=null===(r=t.tempIds)||void 0===r?void 0:r[a])&&void 0!==n?n:a;return i||(i=t.sections[o].project_id),o||(o=null),Object(T.d)(O()("child_order"),m.a,k()("child_order"),I()((function(e){return e.section_id===o&&null===e.parent_id})),O()(i),B)(t)||0}var W=i()((function(e,t){return F(t).filter((function(t){return!!t.due&&t.due.isSameDate(e)}))}));function K(e){return function(t){var n=L(t),r=Object(N.g)(t),a=Object(d.a)(e);return n.filter((function(e){return a(e.content)||e.description&&a(e.description)})).sort(r)}}Object(A.createSelector)(M,(function(e){var t={};return e.forEach((function(e){if(e.due){var n=Object(u.a)(e.due,{dateOnly:!0});t[n]=t[n]?[].concat(a()(t[n]),[e]):[e]}})),t}));var Y=Object(A.createSelector)(F,(function(e){var t=_()((function(e){return e.due?Object(u.a)(e.due,{dateOnly:!0}):"no_due"}),e);return delete t.no_due,t}))},"kYI+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{d:"M12 3a9 9 0 11-.001 18.001A9 9 0 0112 3zm0 1a8 8 0 100 16 8 8 0 000-16zm-.093 10.794c.47 0 .802.355.802.856 0 .495-.331.85-.802.85-.471 0-.808-.355-.808-.85 0-.501.337-.856.808-.856zm.128-7.294c1.465 0 2.465.954 2.465 2.213 0 .96-.47 1.639-1.215 2.11-.738.458-.948.8-.948 1.443v.397H11.32v-.562c-.006-.808.366-1.358 1.163-1.86.674-.433.936-.818.936-1.473 0-.758-.559-1.314-1.425-1.314-.878 0-1.436.544-1.5 1.418H9.5c.064-1.32.901-2.372 2.535-2.372z",fill:"currentColor",fillRule:"nonzero"});function i(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24"},e),o)}n.p},kbOS:function(e,t,n){"use strict";n.d(t,"e",(function(){return g})),n.d(t,"j",(function(){return _})),n.d(t,"n",(function(){return y})),n.d(t,"b",(function(){return O})),n.d(t,"g",(function(){return w})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return k})),n.d(t,"h",(function(){return D})),n.d(t,"m",(function(){return C})),n.d(t,"i",(function(){return S})),n.d(t,"f",(function(){return I})),n.d(t,"l",(function(){return T})),n.d(t,"k",(function(){return A})),n.d(t,"a",(function(){return x}));var r=n("ANjH"),a=n("peh1"),o=n("DwX5"),i=n.n(o),c=n("US0Z"),l=n.n(c),s=n("Snkc"),u=n.n(s),d=n("ejxE"),f=n.n(d),m=n("VXWU"),p=n.n(m),h=n("3/82"),v=n("QPCg"),b=n("Qi13");function g(e,t){var n=e.projects;if(null!==t){var r=b.a.getRealId(t);return null!=n?n[r]:void 0}}function _(e){var t=e.projects,n=e.user;return null!=t?t[n.inbox_project]:void 0}function y(e){var t=e.projects,n=e.user;return null!=t&&null!=n.team_inbox?t[n.team_inbox]:void 0}var O=Object(a.createSelector)((function(e){return e.projects}),i()((function(e){return!e.is_archived}))),j=Object(a.createSelector)(O,p()("parent_id"));function w(e){return Object(r.d)(u()("child_order"),i()((function(t){return t.parent_id===e})),f.a,(function(e){return e.projects}))}var E=Object(a.createSelector)(j,(function(e){return Object(v.b)(e)})),k=Object(a.createSelector)(j,(function(e){return Object(v.a)(Object(v.b)(e))}));function D(e,t){return Object(v.b)(j(t),e)}function C(e,t){var n=e.projects;if(null!=n){var r=n[t];return null!=r&&null!=r.parent_id?n[r.parent_id]:void 0}}var S=Object(a.createSelector)(E,i()((function(e){return Boolean(e.is_favorite)})));function I(e,t){return Object(h.a)(e,t.projects)}var T=Object(a.createSelector)(E,Object(r.d)((function(e){return e.length>0?e[0].child_order:1}),i()((function(e){return null===e.parent_id})))),A=Object(a.createSelector)(E,Object(r.d)((function(e){return e.length>0?e[e.length-1].child_order:1}),i()((function(e){return null===e.parent_id}))));function x(e){return Object(a.createSelector)((function(e){return e.projects}),l()(e))}},kcLj:function(e,t,n){"use strict";n.d(t,"b",(function(){return Q})),n.d(t,"c",(function(){return X}));var r=n("RIqP"),a=n.n(r),o=n("J4zp"),i=n.n(o),c=n("lSNA"),l=n.n(c),s=n("DoMW"),u=n("LYyr"),d=n("P/G1"),f=n.n(d),m=n("9UKM"),p=n.n(m),h=n("/0g7"),v=n("QVEU"),b=n.n(v),g=n("uS8r"),y=n.n(g),O=n("k08V"),j=n.n(O),w=n("ANjH"),E=n("DwX5"),k=n.n(E),D=n("hxO4"),C=n.n(D),S=n("JoEE"),I=n.n(S),T=n("b3vA"),A=n.n(T),x=n("qRd9");function P(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){var t=p()(e).filter((function(e){var t=i()(e,2);t[0];return void 0===t[1]})).map((function(e){return i()(e,1)[0]}));if(0===t.length)return e;var n,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),a=P(t);try{for(a.s();!(n=a.n()).done;){delete r[n.value]}}catch(e){a.e(e)}finally{a.f()}return r}var M=n("nvqi"),F=n("sDGk"),z=n("kbOS"),B=n("3/82"),V=n("4PH6"),$=n("Vbab");function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e){return e.inbox_project?U(U({},e),{},{name:Object($.a)("Inbox")}):e.team_inbox?U(U({},e),{},{name:Object($.a)("Team Inbox")}):e}var G=n("Qi13");function W(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=Object(w.d)((function(e){if(!e)return e;var t,n=!1,r=J({},e),a=Date.now(),o=W(f()(e));try{for(o.s();!(t=o.n()).done;){var i=t.value;i.is_archived&&i._fetched_at&&a-i._fetched_at>864e5&&(delete r[i.id],n=!0)}}catch(e){o.e(e)}finally{o.f()}return n?r:e}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.a:return t.payload.projects?t.payload.projects:e;case M.a:return b()(t.payload.projects,"id");case F.a:return J(J({},e),{},l()({},t.payload.id,t.payload));case F.l:case F.k:var n,r=J({},e),a=W(p()(t.payload));try{for(a.s();!(n=a.n()).done;){var o=i()(n.value,2),c=o[0],s=o[1],u=r[c];u&&(u=L(u=J(J({},u),s)),r[c]=u)}}catch(e){a.e(e)}finally{a.f()}return r;case F.j:var d=t.payload;return d=J(J({},d),{},{is_archived:0,parent_id:null,child_order:Object(z.k)({projects:e})+1}),J(J({},e),{},l()({},d.id,d));case F.c:var f=Object(w.d)(h.a,y()((function(e){return J(J({},e),{},{_fetched_at:Date.now()})})))(t.payload);return J(J({},e),f);case F.f:var m=t.payload,v=m.inbox,g=m.teamInbox;return e=J(J({},e),{},l()({},v.id,J(J({},e[v.id]),{},{name:v.name}))),g&&(e=J(J({},e),{},l()({},g.id,J(J({},e[g.id]),{},{name:g.name})))),e;default:return e}}));function Q(e,t){function n(e){return Object(w.d)((function(e){return new Set(e)}),y()((function(e){return e.id})),k()(e),f.a)}e=new Set(e);var r=n((function(t){return e.has(t.project_id)}))(t.items),a=n((function(t){return!!t.item_id?r.has(t.item_id):e.has(t.project_id)}))(t.notes),o=n((function(e){return r.has(e.item_id)}))(t.reminders),i=n((function(t){return e.has(t.project_id)}))(t.sections);return{items:r,notes:a,reminders:o,sections:i}}function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.includeSubprojects,o=void 0!==r&&r;if(o){var i=Object(w.d)(y()((function(e){return e.id})),j.a,y()((function(e){return Object(z.h)(e,t)})))(e);e=new Set([].concat(a()(e),a()(i)))}else e=new Set(e);var c=Q(e,t),l=c.items,s=c.notes,u=c.reminders,d=c.sections;return Object(w.d)(Object(B.e)("projects",e),Object(B.e)("sections",d),Object(B.e)("items",l),Object(B.e)("notes",s),Object(B.e)("reminders",u))(t)}function X(e,t){switch(t.type){case F.g:var n,r=t.payload,a=r.orders,o=r.noUndo,i=J({},e.projects),c={},d=W(a);try{for(d.s();!(n=d.n()).done;){var f=n.value,m=f.id,p=f.parent_id,h=f.child_order,v=J({},i[m]);c[m]={id:m},void 0!==p&&(c[m].parent_id=v.parent_id,v.parent_id=p),void 0!==h&&(c[m].child_order=v.child_order,v.child_order=h),i[m]=v}}catch(e){d.e(e)}finally{d.f()}var b=J(J({},e),{},{projects:i});return o||(b=Object(V.e)({type:F.h,projects:c},b)),b;case F.h:var g=C()(e.projects,e.undo.projects);return J(J({},e),{},{projects:g,undo:null});case F.b:var O=t.payload,j=e.projects[O],E=Z([O],e,{includeSubprojects:!0});return E=Object(V.d)(Object(u.a)(_("{project_name} archived"),{project_name:j.name}),E);case F.i:return Z(t.payload,e,{includeSubprojects:!1});case F.d:var D=t.payload,S=D.project,T=D.tasks,x=D.sections,P=J(J({},e),{},{projects:J(J({},e.projects),{},l()({},S.id,S)),sections:J(J({},e.sections),Object(s.a)(x)),items:J(J({},e.items),Object(s.a)(T))});return P=Object(V.e)({type:F.e,destProject:S},P);case M.b:var R=t.payload,N=R.projects,L=R.temp_id_mapping;if(L&&(e=function(e,t){try{var n=e.undo;if(!n)return e;var r=t.temp_id_mapping;switch(n.type){case F.h:var a=n.projects;return a=Object(w.d)(A()((function(e){return J(J({},e),{},{parent_id:r[e.parent_id]||e.parent_id})})),I()((function(e){return r[e]||e})))(a),J(J({},e),{},{undo:J(J({},n),{},{projects:a})});default:return e}}catch(t){return e}}(e=J(J({},e),{},{projects:Object(B.f)(e.projects,L)}),t.payload)),!N||0===N.length)return e;e=J(J({},e),{},{projects:J(J({},e.projects),Object(s.a)(N.map(q)))});var z=Object(w.d)(y()((function(e){return e.id})),k()((function(e){return e.is_deleted||e.is_archived})))(N);e=Z(z,e,{includeSubprojects:!1});var $=Object.keys(G.a.getRealIdMapping()).filter((function(t){return Boolean(e.projects[t])}));return $.length>0&&(e=Object(B.e)("projects",$)(e)),e}return e}},kmjL:function(e,t,n){"use strict";n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return j})),n.d(t,"i",(function(){return w})),n.d(t,"j",(function(){return E})),n.d(t,"g",(function(){return k})),n.d(t,"h",(function(){return D})),n.d(t,"a",(function(){return C})),n.d(t,"l",(function(){return S})),n.d(t,"k",(function(){return A})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return P})),n.d(t,"d",(function(){return R}));var r=n("RIqP"),a=n.n(r),o=n("3EZw"),i=n.n(o),c=n("fAMu"),l=n("P/G1"),s=n.n(l);function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return e+t}),0)}var d=n("duPW"),f=n.n(d),m=n("peh1"),p=n("Qi13"),h=n("dLxo"),v=n("Ra23"),b=n("k0om"),g=n("LsxX"),_=Object(m.createSelector)((function(e){return e.notes}),(function(e){return s()(e)})),y=Object(m.createSelector)(_,(function(e){var t={},n={};return e.forEach((function(e){e.item_id?(n[e.item_id]||(n[e.item_id]=[]),n[e.item_id].push(e)):(t[e.project_id]||(t[e.project_id]=[]),t[e.project_id].push(e))})),{itemNotes:n,projectNotes:t}})),O=function(e,t){return y(e).itemNotes[t]||[]},j=function(e,t){return O(e,t).sort(v.c)},w=function(e,t){return y(e).projectNotes[t]||[]},E=function(e,t){return w(e,t).sort(v.c)},k=function(e,t,n){return t=p.a.getRealId(t),n===h.g?O(e,t):n===h.h?w(e,t):void 0},D=function(e,t,n){return k(e,t,n).sort(v.c)};function C(){return Object(m.createSelector)((function(e,t){return t}),(function(e){return e.items}),(function(e){return e.notes}),(function(e,t,n){var r={};return e.forEach((function(e){var o=Object(b.g)(e.id,{items:t}).map((function(e){return e.id})),i=[e.id].concat(a()(o)).map((function(e){return O({notes:n},e).length}));r[e.id]={itemCount:i[0],treeCount:u.apply(void 0,a()(i))}})),r}))}var S=function(e,t,n){var r=n.countChildren;if(void 0!==r&&r){var o,i=t.map((function(t){return Object(b.g)(t,e).map((function(e){return e.id}))}));t=(o=t).concat.apply(o,a()(i))}var c=t.map((function(t){return O(e,t).length}));return u.apply(void 0,a()(c))},I=f()("file_attachment.file_name"),T=f()("file_attachment.title"),A=i()((function(e,t){var n=Object(c.a)(e),r=Object(g.f)(t);return _(t).filter((function(e){return n(e.content)||(r=I(t=e),a=T(t),r&&n(r)||a&&n(a));var t,r,a})).sort(r)})),x=function(e,t,n){return n===h.g?P(e,t):n===h.h?R(e,t):void 0};function P(e,t){return Boolean(e.moreNotes.items[t])}function R(e,t){return Boolean(e.moreNotes.projects[t])}},kqao:function(e,t,n){e.exports={filtersLabelsView:"_13eQ9RPJ25Hk6k_KZdW9ZP",theme_dark:"_37JMmtACsOnQaqFTbbtl0g",sharedLabelsList:"_17ZgoquPtXXEQCo_8r1UWT",listItem:"_3FKE0emy0hq2syrS_SeRt0",emptyMessage:"_29leW7rCyRO_GouQA331q5",dropPlaceholder:"MiUi0HnfCkCwzZsFq0vqC"}},l86G:function(e,t,n){e.exports=n.p+"assets/images/395a6c03dabae7a8bd87a63065936673.png"},lM7n:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),a=n.n(r);function o(e,t){null!=t&&0===t.length&&console.warn("useUpdateEffect running only on component mount will never be actually run. You should either add some meaningful dependencies to this effect or remove it altogether.");var n=a.a.useRef(!1);a.a.useEffect((function(){if(n.current)return e();n.current=!0}),t)}},lrs5:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("J4zp"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("/MKj"),l=n("TSYQ"),s=n.n(l),u=n("giaj"),d=n("SgJ6"),f=n("hvkN");function m(e){var t=e.user,n=e.size,r=void 0===n?"medium":n,o=e.darkTheme,c=void 0!==o&&o,l=e.className,u=i.a.useState(!1),d=a()(u,2),m=d[0],p=d[1],h=null==t||m?f.default:function(e){var t,n=e.user,r=e.size,a=e.darkTheme;if(n.image_id)return"".concat("https://dcff1xvirvpfp.cloudfront.net","/").concat(n.image_id,"_").concat(r,".jpg");switch(r){case"small":t=36;break;case"medium":t=100;break;case"big":t=195;break;default:t=100}var o=$encode({fullName:n.full_name||n.email.split("@")[0],email:n.email,size:t,bg:a?"1f1f1f":"ffffff"});return"".concat("https://avatars.doist.com","?").concat(o)}({user:t,size:r,darkTheme:c});return i.a.createElement("img",{src:h,alt:null!=t?t.full_name:_("Anonymous user"),className:s()("user_avatar",r,l),onError:function(){m||p(!0)}})}m.SIZE_SMALL="small",m.SIZE_MEDIUM="medium",m.SIZE_BIG="big",t.b=Object(c.c)((function(e){return{darkTheme:Object(d.c)(e)===u.d}}))(m)},lzDQ:function(e,t,n){"use strict";n.d(t,"j",(function(){return C.noteAdd})),n.d(t,"k",(function(){return C.noteAddReaction})),n.d(t,"l",(function(){return C.noteAddWithFiles})),n.d(t,"m",(function(){return C.noteFetch})),n.d(t,"u",(function(){return C.noteInsert})),n.d(t,"v",(function(){return C.noteRemove})),n.d(t,"w",(function(){return C.noteRemoveReaction})),n.d(t,"x",(function(){return C.noteUpdate})),n.d(t,"d",(function(){return O.h})),n.d(t,"c",(function(){return O.g})),n.d(t,"a",(function(){return O.a})),n.d(t,"b",(function(){return O.c})),n.d(t,"n",(function(){return S.e})),n.d(t,"o",(function(){return S.f})),n.d(t,"p",(function(){return S.g})),n.d(t,"q",(function(){return S.i})),n.d(t,"r",(function(){return S.j})),n.d(t,"s",(function(){return S.k})),n.d(t,"t",(function(){return S.l})),n.d(t,"e",(function(){return S.a})),n.d(t,"h",(function(){return S.c})),n.d(t,"g",(function(){return S.b})),n.d(t,"i",(function(){return S.d}));var r=n("lSNA"),a=n.n(r),o=n("RIqP"),i=n.n(o),c=n("Puqe"),l=n.n(c),s=n("ANjH"),u=n("DwX5"),d=n.n(u),f=n("y6Ls"),m=n.n(f),p=n("uS8r"),h=n.n(p),v=n("ejxE"),b=n.n(v),g=n("qRd9"),_=n("nvqi"),y=n("TQFH"),O=n("dLxo"),j=n("3/82"),w=n("Ra23");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.a:return t.payload.notes?Object(s.d)(m()("id"),h()(w.a))(b()(t.payload.notes)):e;case _.b:var n=t.payload,r=n.notes,o=n.project_notes,c=n.temp_id_mapping;c&&(e=Object(j.f)(e,c));var u=[];return r&&(u=r),o&&(u=[].concat(i()(u),i()(o))),(u=u.map((function(e){return e.posted?Object(w.a)(e):e}))).length>0&&(e=Object(j.c)(e,u)),Signals.sendSignal("notes_updated",u),e;case _.a:var f=t.payload,p=f.notes,v=f.project_notes;return p=p||[],v=v||[],Object(s.d)(m()("id"),h()(w.a))([].concat(i()(p),i()(v)));case O.a:case O.f:return k(k({},e),{},a()({},t.payload.id,t.payload));case O.d:var E=k({},e);return delete E[t.payload],E;case O.b:var D=t.payload,C=D.id,S=D.reaction,I=D.userId,T=e[C],A=T.reactions||{},x=A[S]||[];return x.indexOf(I)>-1?e:(x=[].concat(i()(x),[I]),A=k(k({},A),{},a()({},S,x)),k(k({},e),{},a()({},C,k(k({},e[C]),{},{reactions:A}))));case O.e:var P=t.payload,R=P.id,N=P.reaction,L=P.userId,M=e[R],F=M.reactions;if(!F[N]||-1===F[N].indexOf(L))return e;var z=F[N].filter((function(e){return e!==L}));return 0===z.length&&(F=l()(F,N)),0===Object.keys(F).length&&(F=null),k(k({},e),{},a()({},R,k(k({},e[R]),{},{reactions:F})));case y.h:var B=Object(s.d)(h()((function(e){return k(k({},e),{},{is_archived:0})})),d()((function(e){return e.item_id===t.payload.id})),b.a)(e);return B.length?k(k({},e),m()("id",B)):e;case O.c:if(!t.payload||0===t.payload.length)return e;var V=t.payload.filter((function(t){return!e[t.id]})).map(w.a);return 0===V.length?e:k(k({},e),m()("id",V));default:return e}},C=n("Oub8"),S=n("kmjL");t.f=D},m0B0:function(e,t,n){"use strict";function r(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}n.d(t,"a",(function(){return r}))},mItv:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o);function c(){return a.a.createElement("svg",{width:"17",height:"17"},a.a.createElement("path",{d:"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zm0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm-.1-2.5c-.46 0-.8-.35-.8-.85s.34-.86.8-.86c.48 0 .8.36.8.86s-.32.85-.8.85zM5.5 5.87c.06-1.32.9-2.37 2.53-2.37 1.47 0 2.47.95 2.47 2.21 0 .96-.47 1.64-1.22 2.11-.73.46-.94.8-.94 1.45v.4H7.32V9.1c0-.8.37-1.36 1.16-1.86.68-.43.94-.82.94-1.47 0-.76-.56-1.32-1.43-1.32-.87 0-1.43.55-1.5 1.42H5.5z",id:"tick-a"}))}function l(e){var t=e.children,n=e.forwardRef,r=e.link;return a.a.createElement("a",{className:"empty-state-footer",ref:n,href:r,rel:"noopener noreferrer",target:"_blank"},a.a.createElement(c,null),a.a.createElement("span",null,t))}l.propTypes={forwardRef:i.a.object,link:i.a.string,children:i.a.node},l.propTypes={forwardRef:function(){}};t.a=l},mX6p:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("n7q7");function a(e){return!Object(r.a)(e)}},maC2:function(e,t,n){"use strict";n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return k})),n.d(t,"h",(function(){return D})),n.d(t,"a",(function(){return C})),n.d(t,"g",(function(){return I})),n.d(t,"e",(function(){return T})),n.d(t,"d",(function(){return A})),n.d(t,"f",(function(){return P}));var r=n("J4zp"),a=n.n(r),o=n("bt/X"),i=n.n(o),c=n("b3vA"),l=n.n(c),s=n("uS8r"),u=n.n(s),d=n("oqHG"),f=n.n(d),m=n("DwX5"),p=n.n(m),h=n("ANjH"),v=n("71j2"),b=n("peh1"),g=n("FfTA"),_=n("KpGl"),y=n("k0om");function O(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=l()((function(){return 0})),E=Object(g.a)(Object(b.createSelector)(y.m,(function(e){return e.projects}),(function(e,t){if(!e||!t)return{};var n,r=w(t),a=O(e);try{for(a.s();!(n=a.n()).done;){var o=n.value.project_id;r[o]||(r[o]=0),r[o]++}}catch(e){a.e(e)}finally{a.f()}return r}))),k=Object(g.a)(Object(b.createSelector)(y.m,(function(e){return e.reduce((function(e,t){var n=t.labels;return(void 0===n?[]:n).forEach((function(t){null!=e[t]?e[t]++:e[t]=1})),e}),{})}))),D=(Object(b.createSelector)(y.m,(function(e){return e.sections}),(function(e,t){if(!e||!t)return{};var n,r=w(t),a=O(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.section_id&&(r[o.section_id]||(r[o.section_id]=0),r[o.section_id]++)}}catch(e){a.e(e)}finally{a.f()}return r})),Object(b.createStructuredSelector)({dataLoaded:_.a,uncompleted:y.m,user:function(e){return e.user},projects:function(e){return e.projects},labels:function(e){return e.labels},collaborators:function(e){return e.collaborators},sections:function(e){return e.sections},filteristConfig:v.c,clock:function(e){return e.clock}})),C=Object(g.a)(Object(b.createSelector)(D,(function(e){return e.filters}),(function(e,t){var n=e.uncompleted,r=e.dataLoaded,o=e.filteristConfig;if(!r)return{};var i,c=w(t),l=Object(h.d)(u()((function(e){var t=a()(e,2),n=t[0],r=t[1];return[n,r,Object(v.a)(r.query,o)]})),p()((function(e){var t=a()(e,2);t[0];return t[1].is_favorite})),f.a)(t),s=O(n);try{for(s.s();!(i=s.n()).done;){var d,m=i.value,b=O(l);try{for(b.s();!(d=b.n()).done;){var g=a()(d.value,3),_=g[0];g[1];(0,g[2])(m,e)&&c[_]++}}catch(e){b.e(e)}finally{b.f()}}}catch(e){s.e(e)}finally{s.f()}return c})));function S(e){return Object(b.createSelector)(D,(function(t){var n=t.dataLoaded,r=t.uncompleted,a=t.filteristConfig;if(!n)return 0;var o=Object(v.a)(e,a);return r.filter((function(e){return o(e,t)})).length}))}var I=S("today & !assigned to: other"),T=S("7 days & !assigned to: other"),A=S("overdue & !assigned to: other"),x=Object(b.createSelector)(y.m,(function(e){var t=i()(e,"parent_id"),n={};for(var r in t)n[r]=t[r].length;return n}));function P(e,t){e.tempIds&&e.tempIds[t]&&(t=e.tempIds[t]);var n=e.items?e.items[t]:void 0;if(n){var r=e.completed?e.completed.items[n.id]:null,a=r&&r.completed_items||0,o=x(e)[n.id]||0;return{completed:a,active:o,all:a+o}}if(e.completedItems&&e.completedItems.items[t]){var i,c,l=(null===(i=e.completedItems.items[t])||void 0===i||null===(c=i.completedItems)||void 0===c?void 0:c.length)||0;return{completed:l,active:l,all:l}}return{completed:0,active:0,all:0}}},msoB:function(e,t,n){e.exports={eventPicker:"_1_FuwebREgtjcN-30w5Xhv",eventPickerItem:"_3NcTjsyMhONZ3f1EX3wQzg",eventPickerItemIcon:"_1GVQuDsoYZGH-KkxRZ2NbO",eventPickerToggle:"_20saFW-xjB0l2_vq5X623d",chevronIcon:"_3vOIearGABHyma_zKGpXgv"}},mtEF:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M14.933 5.647H16v.941h-1.067v-.94zm0 1.882H16v.942h-1.067v-.942zm0 1.883H16v.94h-1.067v-.94zm0 1.882H16v.941h-1.067v-.94zm0 1.882H16v.942h-1.067v-.942zm0-9.411H16v.94h-1.067v-.94zM6.4 15.059h1.067V16H6.4v-.941zm-2.133 0h1.066V16H4.267v-.941zm4.266 0H9.6V16H8.533v-.941zm2.134 0h1.066V16h-1.066v-.941zm2.133 0h1.067V16H12.8v-.941zM2.133.941c-.589 0-1.066.422-1.066.941v10.353c0 .52.477.941 1.066.941h9.6c.59 0 1.067-.42 1.067-.94V1.881c0-.52-.478-.94-1.067-.94h-9.6zm0-.941h9.6c1.179 0 2.134.843 2.134 1.882v10.353c0 1.04-.955 1.883-2.134 1.883h-9.6C.955 14.118 0 13.275 0 12.235V1.882C0 .842.955 0 2.133 0z"}));function i(e){return r.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16"},e),o)}n.p},mxou:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return y})),n.d(t,"a",(function(){return O})),n.d(t,"k",(function(){return w})),n.d(t,"o",(function(){return E})),n.d(t,"m",(function(){return k})),n.d(t,"n",(function(){return D})),n.d(t,"l",(function(){return C})),n.d(t,"p",(function(){return S})),n.d(t,"q",(function(){return I})),n.d(t,"r",(function(){return T})),n.d(t,"j",(function(){return A}));var r=n("lSNA"),a=n.n(r),o=n("nvqi"),i=n("vV6a"),c=n("3/82"),l=n("ZnB/"),s=n("jVEK"),u=n("Qi13"),d=n("n7q7");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p="VIEW_SHOW_PROJECT",h="VIEW_SHOW_QUERY",v="VIEW_SHOW_ACTIVITY_LOG",b="VIEW_SHOW_LABEL",g="VIEW_SHOW_FILTER",_="VIEW_SHOW_TODAY",y="VIEW_SHOW_UPCOMING",O="SET_FULL_EDITOR_VIEW",j=new Set([p,h,v,b,g,_,y]);function w(e){return j.has(e)}function E(e){return function(t,n){var r=n();return e=e.map(Object(c.i)(r)),e=u.a.getRealIds(e),t({type:p,payload:{ids:e}})}}function k(){return function(e,t){e(E([Object(s.i)(t()).inbox_project]))}}var D=function(e){return function(t){t({type:b,payload:{id:e}})}};function C(e){return function(t,n){var r=n();if(!Object(l.d)(r,e))throw new Error("Cannot show filter view for non-exist filter id: "+e);t({type:g,payload:{id:e}})}}function S(e){return function(t){return t({type:h,payload:{query:e}})}}function I(){return function(e){return e({type:_})}}function T(){return function(e){return e({type:y})}}var A=function(e,t){var n=e.mainView;return!(!n||n.type!==i.k)&&(n.ids&&n.ids.includes(t))};t.i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{version:1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return m({version:e.version+1,type:i.k,fullEditorView:e.fullEditorView},t.payload);case h:return m({version:e.version+1,type:i.l},t.payload);case v:return m({version:e.version+1,type:i.h},t.payload);case b:return m({version:e.version+1,type:i.j},t.payload);case g:return m({version:e.version+1,type:i.i},t.payload);case _:return m({version:e.version+1,type:i.m,fullEditorView:e.fullEditorView},t.payload);case y:return m({version:e.version+1,type:i.n},t.payload);case o.b:var n=t.payload.temp_id_mapping;return e.ids&&e.ids.filter((function(e){return n[e]}))?m(m({},e),{},{ids:e.ids.map((function(e){return Object(d.a)(e)&&n[e]?n[e]:e}))}):e.id&&n[e.id]?m(m({},e),{},{id:n[e.id]}):e;case O:return m(m({},e),{},{fullEditorView:t.payload});default:return e}}},n7q7:function(e,t,n){"use strict";t.a=function(e){return $isString(e)&&0==e.indexOf("_")}},n987:function(e,t,n){},n9FD:function(e,t,n){},nLu1:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("QILm"),l=n.n(c),s=n("q1tI"),u=n.n(s),d=n("17x9"),f=n.n(d),m=n("TSYQ"),p=n.n(m),h=n("Pxnj"),v=n("zZLx"),b=n("UVeO");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=e.color,n=e.isSelected;return u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"color_dropdown_select__color",style:{backgroundColor:t.hex}}),u.a.createElement("span",{className:"color_dropdown_select__name"},t.label),n?u.a.createElement(b.t,{className:"color_dropdown_select__checkmark"}):null)}function j(e){var t=e.name,n=e.value,r=e.onChange,o=e.className,i=l()(e,["name","value","onChange","className"]),c=Object(h.f)().map((function(e,t){var n=e.name,r=l()(e,["name"]);return y({id:h.d+t,label:n},r)})),s=c.find((function(e){return e.id===n}));return u.a.createElement(v.g,{name:t,value:String(n),onChange:function(e){r(y(y({},e),{},{target:y(y({},e.target),{},{value:Number(e.target.value)})}))}},u.a.createElement(v.h,a()({},i,{className:p()("color_dropdown_toggle",o)}),s?u.a.createElement(O,{color:s}):_("Select a color")),u.a.createElement(v.e,{className:"color_dropdown_select",width:"toggle"},u.a.createElement(v.d,null,c.map((function(e){return u.a.createElement(v.b,{key:e.id,value:String(e.id)},(function(t){var n=t.isSelected;return u.a.createElement(O,{color:e,isSelected:n})}))})))))}O.propTypes={color:f.a.shape({hex:f.a.string,label:f.a.string}),isSelected:f.a.bool},j.propTypes={name:f.a.string,value:f.a.number.isRequired,onChange:f.a.func.isRequired,className:f.a.string};var w=j;t.a=w},nM1N:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pVnL"),a=n.n(r),o=n("q1tI"),i=n.n(o);function c(e){return i.a.createElement("svg",a()({width:13,height:13},e),i.a.createElement("path",{d:"M6 6V.5a.5.5 0 0 1 1 0V6h5.5a.5.5 0 1 1 0 1H7v5.5a.5.5 0 1 1-1 0V7H.5a.5.5 0 0 1 0-1H6z",fill:"currentColor",fillRule:"evenodd"}))}},nZJc:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),l=n.n(c),s=Object(c.forwardRef)((function(e,t){var n=e.size,r=void 0===n?"medium":n,o=i()(e,["size"]);return"small"===r?l.a.createElement("svg",a()({width:"12",height:"12",viewBox:"0 0 12 12",ref:t},o),l.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M9.5 1A1.5 1.5 0 0 1 11 2.5v7A1.5 1.5 0 0 1 9.5 11h-7A1.5 1.5 0 0 1 1 9.5v-7A1.5 1.5 0 0 1 2.5 1h7zm0 1h-7a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5zM8 7.25a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5zM8.5 4a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h5z"})):l.a.createElement("svg",a()({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",ref:t},o),l.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H6zm10 12a1 1 0 1 1 0-2 1 1 0 0 1 0 2zM7 8h10a.5.5 0 1 1 0 1H7a.5.5 0 0 1 0-1z"}))}));t.a=s},nbr2:function(e,t,n){"use strict";var r=n("yUE8"),a=Object(r.b)("filterist",["createProjectPickBySelector","projectGetChildren","createCollaboratorFilterSelector","isShared"]);t.a=a},ncwO:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("J4zp"),l=n.n(c),s=n("QILm"),u=n.n(s),d=n("q1tI"),f=n.n(d),m=n("17x9"),p=n.n(m),h=n("c9wj"),v=n("GpCm"),b=n("RIqP"),g=n.n(b),y=n("TSYQ"),O=n.n(y),j=n("Y+p1"),w=n.n(j),E=n("4eld"),k=n("ANjH"),D=n("VXWU"),C=n.n(D),S=n("/gRr");function I(e,t){return t>=0&&t<e.length?e[t]:void 0}function T(e,t){return Object(k.d)((function(e){return(e[!0]||[]).concat(e[!1]||[])}),C()((function(e){return t.indexOf(e.id)>-1})))(e)}function A(e,t){var n=window.getComputedStyle(t,null),r=n.getPropertyValue("padding-top"),a=n.getPropertyValue("padding-bottom"),o=parseInt(r,10)+parseInt(a,10),i=t.offsetHeight-o,c=e.offsetTop;if(!i||!c)return!1;var l=t.querySelector("li:first-of-type").offsetHeight;t.scrollTop=c-(i-l)}function x(e,t,n,r){var a=r.onEnter,o=r.onClose,i=r.onItemHighlight;switch(Object(S.a)(e)){case"ArrowDown":e.preventDefault(),i((n+1)%t.length,!0);break;case"ArrowUp":e.preventDefault(),i(n>0?n-1:t.length-1,!0);break;case"Enter":e.preventDefault();var c=I(t,n);c&&a(c);break;case"Escape":o&&(e.preventDefault(),e.stopPropagation(),o());break;case"Tab":e.preventDefault()}}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=Object(d.useState)(e),n=l()(t,2),r=n[0],a=n[1],o=Object(d.useRef)(),i=Object(d.useRef)(!1);function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a(e),i.current=t}return Object(d.useEffect)((function(){if(i.current){var e=o.current;if(e){var t=e.querySelector('[aria-selected="true"]');t&&A(t,e)}}}),[r]),{index:r,setIndex:c,container:o}}function R(e){var t=e.label,n=e.items,r=e.highlightedList,a=e.inputPlaceholder,o=e.renderEmptyResult,i=e.renderItem,c=e.searchValue,l=e.selectedItemsIds,s=void 0===l?[]:l,u=e.onItemSelect,m=e.onSearchValueChange,p=e.keyListenersDisabled,v=Object(d.useMemo)((function(){return Object(h.a)("select")}),[]),b="".concat(v,"-listbox"),g="".concat(v,"-search"),_=function(e){return e?"".concat(v,"-option-").concat(e.id):void 0},y=I(n,r.index),O=_(y),j=Object(d.useRef)();Object(d.useEffect)((function(){if(j.current&&!p){var e=setTimeout((function(){j.current.focus()}),1);return function(){return clearTimeout(e)}}}),[p]);var w=n.map((function(e,t){var n=_(e)===O,a=s.indexOf(e.id)>-1,o=function(t){return u(e,{isSelected:a,event:t})};return f.a.createElement(f.a.Fragment,{key:t},f.a.createElement("li",{onClick:o,role:"option","aria-selected":n,onMouseMove:n?void 0:function(){r.setIndex(t,!1)},onMouseLeave:function(){r.setIndex(-1)}},i({item:e,searchValue:c,isHighlighted:n,isSelected:a,onSelect:o})),e.followedBySeparator?f.a.createElement("li",{role:"separator",className:"dropdown_select_separator"},f.a.createElement("hr",null)):null)}));return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"dropdown_select_input"},f.a.createElement("input",{id:g,ref:j,type:"text",value:c,onChange:m,autoComplete:"off",spellCheck:"false","aria-activedescendant":O,"aria-autocomplete":"list","aria-controls":b,"aria-label":t,placeholder:a})),0===n.length&&o?o({searchValue:c}):f.a.createElement("ul",{"aria-label":t,id:b,role:"listbox",ref:r.container,"aria-activedescendant":O},w))}R.propTypes={items:p.a.arrayOf(p.a.shape({id:p.a.oneOfType([p.a.string,p.a.number]),followedBySeparator:p.a.bool})).isRequired,selectedItemsIds:p.a.arrayOf(p.a.oneOfType([p.a.string,p.a.number])),renderItem:p.a.func.isRequired,renderEmptyResult:p.a.func,label:p.a.node,inputPlaceholder:p.a.string,highlightedList:p.a.object.isRequired,searchValue:p.a.string,onItemSelect:p.a.func.isRequired,onSearchValueChange:p.a.func.isRequired,keyListenersDisabled:p.a.bool};var N=R;function L(e){var t=e.className,n=e.items,r=e.onSelect,a=e.onClose,o=e.filterItems,i=e.renderEmptyResult,c=e.inputPlaceholder,s=e.renderItem,u=e.selectedItemsIds,m=void 0===u?[]:u,p=e.label,h=e.id,v=Object(d.useState)(m),b=l()(v,2),y=b[0],j=b[1],k=Object(d.useState)(""),D=l()(k,2),C=D[0],S=D[1],I=Object(d.useRef)(C),A=Object(d.useRef)(n),R=Object(d.useState)(T(o({items:n,value:C}),y)),L=l()(R,2),M=L[0],F=L[1],z=P();Object(d.useEffect)((function(){C===I.current&&n===A.current||F(T(o({items:n,value:C}),y)),I.current=C,A.current=n}),[o,n,C,y]);var B=w()(y,m),V=O()("dropdown_select_done",{"dropdown_select_done--disabled":B});return f.a.createElement("div",{id:h,tabIndex:-1,onKeyDown:function(e){x(e,M,z.index,{onClose:a,onEnter:function(e){var t=y.indexOf(e.id),n=t>-1?y.filter((function(e,n){return n!==t})):[].concat(g()(y),[e.id]);j(n)},onItemHighlight:z.setIndex})},className:"dropdown_select--popup ".concat(t)},f.a.createElement(N,{label:p,items:M,highlightedList:z,inputPlaceholder:c,renderEmptyResult:i,renderItem:s,searchValue:C,selectedItemsIds:y,onItemSelect:function(e){var t=y.indexOf(e.id),n=t>-1?y.filter((function(e,n){return n!==t})):[].concat(g()(y),[e.id]);j(n)},onSearchValueChange:function(e){S(e.target.value),z.setIndex(-1)}}),f.a.createElement("div",{className:"dropdown_select_actions"},f.a.createElement(E.a,{onClick:a},_("Cancel")),f.a.createElement(E.a,{className:V,disabled:B,onClick:function(e){B||r(y,{event:e})}},_("Done"))))}function M(e){var t=e.className,n=e.items,r=e.onSelect,a=e.onClose,o=e.filterItems,i=e.inputPlaceholder,c=e.renderEmptyResult,s=e.renderItem,u=e.selectedItemId,m=e.label,p=e.keyListenersDisabled,h=void 0!==p&&p,v=e.id,b=Object(d.useState)(""),g=l()(b,2),_=g[0],y=g[1],O=o({items:n,value:_}),j=P(n.findIndex((function(e){return e.id===u})));return f.a.createElement("div",{id:v,tabIndex:-1,onKeyDown:h?null:function(e){x(e,O,j.index,{onClose:a,onEnter:r,onItemHighlight:j.setIndex})},className:"dropdown_select--popup ".concat(t)},f.a.createElement(N,{label:m,items:O,highlightedList:j,inputPlaceholder:i,renderEmptyResult:c,renderItem:s,searchValue:_,selectedItemsIds:[u],onItemSelect:r,onSearchValueChange:function(e){y(e.target.value),j.setIndex(-1)},keyListenersDisabled:h}))}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e){var t=e.children,n=e.onSelect,r=e.isMultiSelect,o=e.closeAfterSelection,i=e.nose,c=e.onClose,s=e.closeTriggersDisabled,m=e.referenceElement,p=e.isShown,b=e.placement,g=void 0===b?"bottom":b,_=e.modifiers,y=void 0===_?[v.b]:_,O=u()(e,["children","onSelect","isMultiSelect","closeAfterSelection","nose","onClose","closeTriggersDisabled","referenceElement","isShown","placement","modifiers"]),j=Object(d.useState)(!1),w=l()(j,2),E=w[0],k=w[1],D=Object(d.useRef)(null),C=Object(d.useRef)(!1),S=Object(d.useMemo)((function(){return Object(h.a)("dropdown-select")}),[]),I="".concat(S,"-popup");var T={id:S,"aria-owns":I,"aria-controls":I,"aria-expanded":E,"aria-haspopup":"listbox",onKeyDown:function(e){(13===e.keyCode||32===e.keyCode||40===e.keyCode)&&!E&&(k(!0),e.preventDefault())},ref:D};function A(){C.current&&(k(!1),c(),D.current&&D.current.focus())}function x(){E?A():k(!0)}return Object(d.useEffect)((function(){return C.current=!0,function(){C.current=!1}}),[]),f.a.createElement(v.c,{placement:g,withArrow:i,isShown:p||E,onClose:s?void 0:A,modifiers:y,zIndex:!1,referenceElement:null!=m?m:function(e){var n,r,a=e.ref;return t({toggle:x,buttonProps:z(z({},T),{},{ref:(n=a,r=D,function(e){V(e,n),V(e,r)})})})}},r?f.a.createElement(L,a()({id:I,onClose:s?null:A,onSelect:function(e,t){n(e,t),A()}},O)):f.a.createElement(M,a()({id:I,onClose:s?null:A,onSelect:function(e,t){o?(n(e,t),A()):n(e,z(z({},t),{},{closeDropdown:A}))},keyListenersDisabled:s},O)))}function V(e,t){t&&("function"==typeof t?t(e):t.current=e)}L.propTypes={className:p.a.string,items:p.a.oneOfType([p.a.arrayOf(p.a.shape({id:p.a.oneOfType([p.a.string,p.a.number]).isRequired})),p.a.objectOf(p.a.shape({id:p.a.oneOfType([p.a.string,p.a.number]).isRequired}))]).isRequired,selectedItemsIds:p.a.arrayOf(p.a.oneOfType([p.a.string,p.a.number])),onSelect:p.a.func.isRequired,onClose:p.a.func,filterItems:p.a.func.isRequired,renderItem:p.a.func.isRequired,renderEmptyResult:p.a.func,label:p.a.node,inputPlaceholder:p.a.string,id:p.a.string},M.propTypes={className:p.a.string,items:p.a.oneOfType([p.a.arrayOf(p.a.shape({id:p.a.oneOfType([p.a.string,p.a.number]).isRequired})),p.a.objectOf(p.a.shape({id:p.a.oneOfType([p.a.string,p.a.number]).isRequired}))]).isRequired,selectedItemId:p.a.oneOfType([p.a.string,p.a.number]),onSelect:p.a.func.isRequired,onClose:p.a.func,filterItems:p.a.func.isRequired,renderItem:p.a.func.isRequired,renderEmptyResult:p.a.func,label:p.a.node,inputPlaceholder:p.a.string,id:p.a.string,keyListenersDisabled:p.a.bool},B.propTypes={children:p.a.func,width:p.a.number,isMultiSelect:p.a.bool,closeAfterSelection:p.a.bool,onSelect:p.a.func.isRequired,closeTriggersDisabled:p.a.bool,nose:p.a.bool,onClose:p.a.func,referenceElement:p.a.object,isShown:p.a.bool,placement:p.a.string,modifiers:p.a.arrayOf(p.a.shape({name:p.a.string,options:p.a.object}))},B.defaultProps={closeTriggersDisabled:!1,nose:!0,closeAfterSelection:!0,onClose:function(){}};t.a=B},"npY/":function(e,t,n){e.exports=n.p+"assets/images/983e9642b7b87b119da84f5d771df1ed.png"},nqxI:function(e,t,n){"use strict";n.d(t,"c",(function(){return r.a})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return _}));var r=n("fgjq"),a=n("pVnL"),o=n.n(a),i=n("QILm"),c=n.n(i),l=n("q1tI"),s=n.n(l),u=n("9l1k"),d=n("TSYQ"),f=n.n(d),m=n("17x9"),p=n.n(m);function h(e){var t=e.children,n=e.loading,r=c()(e,["children","loading"]),a=f()("ist_button ist_button_red action_button",n&&"action_button_loading");return n&&(r.disabled=!0),s.a.createElement("button",o()({className:a},r),t,n&&s.a.createElement(u.a,{width:14,height:14,theme:11}))}h.propTypes={children:p.a.node,loading:p.a.bool};var v=n("4eld"),b=s.a.forwardRef((function(e,t){var n=e.className,r=e.variant,a=e.children,i=c()(e,["className","variant","children"]),l=f()("styled_button styled_button--".concat(r),n);return s.a.createElement(v.a,o()({ref:t,className:l},i),a)}));b.propTypes={className:p.a.string,children:p.a.node,variant:p.a.oneOf(["pill"]).isRequired};var g=b,_=(n("6ZPZ"),s.a.forwardRef((function(e,t){var n=e.title,r=e.children,a=c()(e,["title","children"]);return s.a.createElement(v.a,o()({},a,{className:f()("icon_button",a.className),title:n,ref:t}),r)})))},nvqi:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i}));var r="SYNC_FULL_UPDATE",a="SYNC_UPDATE";function o(e){return{type:a,payload:e}}function i(e){return{type:r,payload:e}}},nyrj:function(e,t,n){"use strict";n.r(t);var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("lSNA"),l=n.n(c),s=n("181E"),u=n("iXqn"),d=n("yUE8"),f=n("fDSz"),m=n("/7zm"),p=n("17Jv"),h=n("AnGN"),v=Object(d.b)("LoadEngine",["SyncEngine"]),b=function(){function e(){var t=this;a()(this,e),l()(this,"cleanReload",(function(){return t.clearAllCachedData().then((function(){window.location.reload()}))})),this.loadData=this.loadData.bind(this),this.clearAllCachedData=this.clearAllCachedData.bind(this),this.logout=this.logout.bind(this),Signals.connect("logout",(function(){t.logout()})),Signals.connect("logout",(function(){t.logout()})),Signals.connect("clean_reload",(function(){t.cleanReload()})),Signals.connect("syncing_data",(function(){t.fetchedDataFromServer=!0}))}return i()(e,null,[{key:"initClass",value:function(){this.prototype.fetchedDataFromServer=!1}}]),i()(e,[{key:"loadData",value:function(){if(v.SyncEngine.getInstance().loadCachedData(),this.shouldCleanReload())return this.cleanReload().then((function(){return new Promise((function(){}))}));Signals.sendSignal("load_cached_data");var e=f.a.load(),t=e.notes,n=e.items,r=e.mapping;return Promise.all([n,r]).then((function(){return v.SyncEngine.getInstance().isInitialSync()?new Promise((function(e,t){v.SyncEngine.getInstance().sync({onSuccess:e,onError:t})})):(t.then((function(){return v.SyncEngine.getInstance().sync(null,!0,!0)})),f.a.inIDB("notes")&&!h.r?Promise.resolve():t)}))}},{key:"shouldCleanReload",value:function(){var e=$storage("lastCleanReloadID").get();return e?"6"!==e:!v.SyncEngine.getInstance().isInitialSync()||($storage("lastCleanReloadID").set("6"),!1)}},{key:"clearAllCachedData",value:function(){return s.b.clear_all_cached_and_delayed(),window.localStorage.clear(),Signals.sendSignal("clear_local_data"),u.b.deleteDatabase().catch((function(){}))}},{key:"logout",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=function(){e.clearAllCachedData().then((function(){if(Object(p.a)().onLogoutCompleted(),t){var e="/Users/logout?csrf=".concat($cookie.get("csrf"));(window.HAS_MINI_ARGUMENT||window.MINI_VERSION)&&(e+="&mini=1"),window.location=e}}))};0===v.SyncEngine.getInstance().getQueueAllLength()?n():Object(m.b)({message:_("You're in offline mode. Some changes you've made won't be saved. Log out anyway?"),confirmLabel:_("Log out"),cancelLabel:_("Go back"),onConfirm:function(){n()}})}}]),e}();b.initClass();var g=new b;window.logoutTodoist=function(){g.logout()},t.default=g},o1Ek:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("181E"),l=n("x1yf"),s=n("adfy"),u=n("IYoK"),d=n("oHMr"),f=n("RZq6"),m=n("XM3Z"),p=n("nvqi"),h=n("bHC7"),v=function(e){try{e()}catch(e){var t=f.default.captureError(e,{tags:{where:"SyncData"}});m.c.log(m.b,{eventID:t,error:e.message})}};new(function(){function e(){var t=this;a()(this,e),this.syncLocalData=this.syncLocalData.bind(this),Signals.connect("sync_local_data",(function(e){t.syncLocalData(e)}))}return i()(e,[{key:"syncLocalData",value:function(e){try{e=Object(h.a)(d.default.getState(),e),c.b.manual_commit=!0,Signals.sendSignal("syncing_data",e),v((function(){e.full_sync?d.default.dispatch(Object(p.c)(e)):d.default.dispatch(Object(p.d)(e))})),e.day_orders_timestamp&&Object(c.a)("DayOrdersTimestamp").set(e.day_orders_timestamp),e.labels&&v((function(){return l.a.syncLocalModel(e.labels)})),e.locations&&v((function(){return s.a.syncLocalModel(e.locations)})),e.live_notifications&&v((function(){return u.a.syncLocalModel(e.live_notifications)})),void 0!==e.live_notifications_last_read_id&&v((function(){return u.a.syncLastRead(e.live_notifications_last_read_id)})),Signals.sendSignal("refresh_interface"),c.b.manual_commit=!1,c.b.commitAllDelayed()}catch(e){f.default.captureError(e,{tags:{critical:"sync"}})}}}]),e}())},o5ZH:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("CZSy");function a(e){return Boolean(e&&e.grouped_by!==r.f)}},oHMr:function(e,t,n){"use strict";n.r(t);var r=n("ANjH"),a=n("sINF"),o=n("jVEK"),i=n("lSNA"),c=n.n(i),l=n("TQFH"),s=n("Bcse"),u=n.n(s);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ARCHIVED_ITEM_FETCH":var n=t.payload.item;return f(f({},e),{},{items:f(f({},e.items),{},c()({},n.id,n))});default:return e}},p=n("XOeF"),h=n("ZnB/"),v=n("gVGk"),b=n("lzDQ"),g=n("p3jf"),_=n("NZFV"),y=n("mxou"),O=n("S+H7"),j=n("XtcL"),w=n("/uq8"),E=n("SgJ6"),k=n("4PH6"),D=n("qRd9"),C=n("nvqi");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.a:var n=t.payload.items;if(!n)return e;var r={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var o=n[a].due;o&&(r[o.lang]=1)}return r;case C.a:case C.b:var i=t.payload.items;if(!i)return e;var c=I({},e),l=!1;return i.forEach((function(e){var t=e.due;t&&!c[t.lang]&&(l=1,c[t.lang]=1)})),l?c:e;default:return e}},A=n("HLc3"),x=n("1tNa"),P=n("/lEg"),R=n("gmEJ"),N=n("Ikhd"),L=n("Bl08"),M=n("sDGk"),F=n("bT2Y"),z=n("kcLj"),B=n("3/82"),V=n("5GVm"),$=n("ejxE"),H=n.n($),U=n("duPW"),q=n.n(U),G=n("DoMW");function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.a:var n=t.payload.completed;return n||e;case C.a:var r=t.payload.completed_info;return Object(B.d)(r);case C.b:var a=t.payload.completed_info,o=e||{},i=o.items,l=o.projects,s=o.sections,u=Object(B.d)(a),d={projects:K(K({},l),u.projects),sections:K(K({},s),u.sections),items:K(K({},i),u.items)};return d;case L.f:var f=t.payload.ids;return Object(B.e)("items",f)(e);case L.b:var m=t.payload.item,p=Object(V.d)(m),h=p.itemId,v=p.type,b=e[v][h]||J({type:v,item:m});return K(K({},e),{},c()({},v,K(K({},e[v]),{},c()({},h,K(K({},b),{},{completed_items:b.completed_items+1})))));case L.l:var g=t.payload,_=g.completedItems,y=g.section,O=Object(G.a)(_),j=X({items:_,state:e,itemsByID:O});if(y){var w=j.projects[y.project_id];if(w&&w.archived_sections)return K(K({},j),{},{projects:K(K({},j.projects),{},c()({},y.project_id,K(K({},w),{},{archived_sections:w.archived_sections-1})))})}return j;case F.i:var E=t.payload,k=e.projects[E.project_id];return k&&k.archived_sections?K(K({},e),{},{projects:K(K({},e.projects),{},c()({},E.project_id,K(K({},k),{},{archived_sections:k.archived_sections-1})))}):e}return e};function J(e){var t=e.item,n=e.type;return"projects"===n?{project_id:t.project_id,archived_sections:0,completed_items:0,id:t.project_id}:"sections"===n?{section_id:t.section_id,completed_items:0,id:t.section_id}:{item_id:t.parent_id,completed_items:0,id:t.parent_id}}function Q(e){var t=e.state,n=e.projectIds;return function(e){if(0===n.length)return e;var a=Object(z.b)(n,t),o=a.items,i=a.sections;return Object(r.d)(Object(B.e)("projects",n),Object(B.e)("sections",i),Object(B.e)("items",o))(e)}}function Z(e){var t=e.state,n=e.sectionIds;return function(e){if(0===n.length)return e;var a=n.reduce((function(e,t){return e[t]=!0,e}),{}),o=H()(t.items).filter((function(e){return a[e.section_id]})).map((function(e){return e.id}));return Object(r.d)(Object(B.e)("sections",n),Object(B.e)("items",o))(e)}}function X(e){var t=e.items,n=e.state,r=e.itemsByID,a=t.find((function(e){return!r[e.parent_id]})),o=Object(V.d)(a),i=o.itemId,l=o.type,s=n[l][i];return s&&s.completed_items?K(K({},n),{},c()({},l,K(K({},n[l]),{},c()({},i,K(K({},n[l][i]),{},{completed_items:s.completed_items-1}))))):n}var ee=n("/6o7"),te=n("81N4"),ne=n("g2hZ"),re=n("ARXc"),ae=n("uNXK");function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce=n("A72/"),le=n("cDf5"),se=n.n(le),ue=n("RIqP"),de=n.n(ue),fe=n("op67");function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he={tasks:{byChildId:{},byParentId:{},byProjectId:{},bySectionId:{}},sections:{byRemoteId:{}}};function ve(e,t,n,r){return e&&e!==t&&r[e]?pe(pe({},r),{},c()({},e,r[e].filter((function(e){return e!==n})))):r}var be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.a:case fe.b:case fe.a:case C.a:case C.b:var n=function(){var n=t.payload,r=n.items,a=n.temp_id_mapping,o=n.remote_id_mapping,i=n.mapping;if(!(r||a||o||i))return{v:e};i&&(e=pe(pe({},e),i));var c=pe({},e.tasks.byChildId),l=pe({},e.tasks.byParentId);if(a){var s=function(e){var t=a[e],n=l[e],r=c[e];r&&(r=c[t]=a[r]||r,l[r]||(l[r]=[]),l[r].includes(t)||(l[r]=[].concat(de()(l[r]),[t])),l=ve(r,null,e,l),delete c[e]),n&&(l[t]=n.map((function(e){return e=a[e]||e,c[e]=t,a[e]||e})),delete l[e])};for(var u in a)s(u)}if(r)for(var d in r){var f=r[d];f.checked||f.is_deleted||!f.parent_id||c[f.id]===f.parent_id?(f.checked||f.is_deleted)&&void 0!==c[f.id]&&(l=ve(c[f.id],null,f.id,l),delete c[f.id]):(l[f.parent_id]||(l[f.parent_id]=[]),l[f.parent_id].push(f.id),l=ve(c[f.id],f.parent_id,f.id,l),c[f.id]=f.parent_id)}return e=pe(pe({},e),{},{tasks:pe(pe({},e.tasks),{},{byParentId:l,byChildId:c})}),(null==o?void 0:o.sections)&&(e=pe(pe({},e),{},{sections:{byRemoteId:pe(pe({},e.sections.byRemoteId),o.sections)}})),{v:e}}();if("object"===se()(n))return n.v;case M.d:var r=t.payload.tasks;return pe(pe({},e),{},{tasks:pe(pe({},e.tasks),{},{byParentId:r.reduce((function(e,t){var n,r=t.id,a=t.parent_id;return null!=a?pe(pe({},e),{},c()({},a,(null!==(n=e[a])&&void 0!==n?n:[]).concat(r))):e}),e.tasks.byParentId),byChildId:r.reduce((function(e,t){return null!=t.parent_id?pe(pe({},e),{},c()({},t.id,t.parent_id)):e}),e.tasks.byChildId)})});case L.a:var a=t.payload;return a.parent_id?pe(pe({},e),{},{tasks:pe(pe({},e.tasks),{},{byParentId:pe(pe({},e.tasks.byParentId),{},c()({},a.parent_id,e.tasks.byParentId[a.parent_id]?[].concat(de()(e.tasks.byParentId[a.parent_id]),[a.id]):[a.id])),byChildId:pe(pe({},e.tasks.byChildId),{},c()({},a.id,a.parent_id))})}):e;case L.g:var o=t.payload,i=o.idMap,l=o.parentMap;for(var s in i){var u,d=i[s],f=l[d]||e.tasks.byChildId[s];if(f)e=pe(pe({},e),{},{tasks:pe(pe({},e.tasks),{},{byParentId:pe(pe({},e.tasks.byParentId),{},c()({},f,[].concat(de()(null!==(u=e.tasks.byParentId[f])&&void 0!==u?u:[]),[d]))),byChildId:pe(pe({},e.tasks.byChildId),{},c()({},d,f))})})}return e;case L.b:case L.f:var m=t.payload.ids;if(t.payload.id&&(m=[t.payload.id]),!m)return e;var p=pe({},e.tasks.byChildId),h=pe({},e.tasks.byParentId);return m.forEach((function(e){var t=p[e],n=h[e];t&&(h=ve(t,null,e,h),delete p[e]),n&&(n.forEach((function(e){delete p[e]})),delete h[e])})),pe(pe({},e),{},{tasks:pe(pe({},e.tasks),{},{byParentId:h,byChildId:p})});case L.l:var v=t.payload,b=v.id,g=v.completedItems;if(!g)return e;var _=g.find((function(e){return e.id===b})),y=null==_?void 0:_.parent_id;if(!y)return e;var O=pe({},e.tasks.byChildId),j=pe({},e.tasks.byParentId);return j[y]||(j[y]=[]),j[y]=[].concat(de()(j[y]),[b]),O[b]=y,pe(pe({},e),{},{tasks:pe(pe({},e.tasks),{},{byParentId:j,byChildId:O})});case L.e:var w=t.payload,E=w.id,k=w.prevState;if(!k.items)return e;var S=pe({},e.tasks.byChildId),I=pe({},e.tasks.byParentId),T=k.items[E];return T.parent_id&&(I[T.parent_id]||(I[T.parent_id]=[]),I[T.parent_id]=[].concat(de()(I[T.parent_id]),[E]),S[E]=T.parent_id),pe(pe({},e),{},{tasks:pe(pe({},e.tasks),{},{byParentId:I,byChildId:S})});case L.h:case L.i:var A=pe({},e.tasks.byChildId),x=pe({},e.tasks.byParentId),P=t.payload.moveTo;return P?(void 0!==P.parent_id&&A[P.id]!==P.parent_id&&(P.parent_id&&(x[P.parent_id]||(x[P.parent_id]=[]),x[P.parent_id]=[].concat(de()(x[P.parent_id]),[P.id])),x=ve(A[P.id],P.parent_id,P.id,x),P.parent_id&&(A[P.id]=P.parent_id)),void 0===P.project_id&&void 0===P.section_id||!A[P.id]||(x=ve(A[P.id],null,P.id,x),delete A[P.id]),pe(pe({},e),{},{tasks:pe(pe({},e.tasks),{},{byParentId:x,byChildId:A})})):e;case L.j:var R=t.payload.ids,N=pe({},e.tasks.byChildId),F=pe({},e.tasks.byParentId);return R.forEach((function(e){var t=N[e];t&&!R.includes(t)&&(F=ve(t,null,e,F),delete N[e])})),pe(pe({},e),{},{tasks:pe(pe({},e.tasks),{},{byParentId:F,byChildId:N})});default:return e}},ge=n("QILm"),_e=n.n(ge),ye=n("vkXV"),Oe=n("CZSy"),je=n("vzEX");function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke={today:null,projects:{},labels:{},filters:{},idToView:{}};function De(e,t){return t.reduce((function(e,t){var n,r,a,o,i=t.object_id,l=t.view_type,s=t.is_deleted,u=_e()(t,["object_id","view_type","is_deleted"]);switch(s?null===(n=e.idToView[t.id])||void 0===n?void 0:n.type:l){case Oe.B:a="today";break;case Oe.p:a="projects";break;case Oe.c:a="filters";break;case Oe.m:a="labels";break;default:return e}if(s){var d,f,m=e.idToView[t.id];if(!m)return e;if(m.type===Oe.B||"today"===a){var p,h=Ee({},e.idToView);return delete h[t.id],t.id!==(null===(p=e.today)||void 0===p?void 0:p.id)?Ee(Ee({},e),{},{idToView:h}):Ee(Ee({},e),{},{today:null,idToView:h})}var v=Ee({},e[a]),b=Ee({},e.idToView);return delete b[t.id],t.id===(null===(d=v[m.id])||void 0===d?void 0:d.id)&&delete v[m.id],Ee(Ee({},e),{},(f={},c()(f,a,v),c()(f,"idToView",b),f))}return o=u.sorted_by&&u.sort_order?{id:u.id,sorted_by:u.sorted_by,sort_order:u.sort_order,grouped_by:u.grouped_by,filtered_by:u.filtered_by}:Ee(Ee({},u),{},{sorted_by:Oe.s,sort_order:null}),l===Oe.B?Ee(Ee({},e),{},{today:o,idToView:Ee(Ee({},e.idToView),{},c()({},u.id,{type:Oe.B}))}):i?Ee(Ee({},e),{},(r={},c()(r,a,Ee(Ee({},e[a]),{},c()({},i,o))),c()(r,"idToView",Ee(Ee({},e.idToView),{},c()({},u.id,{id:i,type:l}))),r)):e}),e)}function Ce(e){return["projects","filters","labels"].forEach((function(t){var n=e.viewOptions[t];for(var r in n){var a=n[r];if(null==a?void 0:a.filtered_by){var o=Object(je.g)(a.filtered_by,e.collaborators.all),i=o.type,l=o.ids;if(i!==je.e&&"projects"===t&&(null==l?void 0:l.length)){var s=e.collaborators.byPID[parseInt(r,10)];s?function(){var e=Object.keys(s).map((function(e){return parseInt(e,10)}));l.every((function(t){return e.includes(t)}))||(i=je.e)}():i=je.e}i===je.e&&(e=Ee(Ee({},e),{},{viewOptions:Ee(Ee({},e.viewOptions),{},c()({},t,Ee(Ee({},n),{},c()({},r,Ee(Ee({},a),{},{filtered_by:je.e})))))}))}}})),e}var Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.a:var n=t.payload.viewOptions;return n||e;case C.a:var r=t.payload.view_options;return r?De(e,r):e;case C.b:var a=t.payload,o=a.view_options,i=a.temp_id_mapping;if(i)for(var l in i){var s=e.idToView[l];if(s){var u=i[l],d=Ee({},e.idToView);d[u]=s,delete d[l];var f,m=void 0;switch(s.type){case Oe.B:m="today",e.today&&(e=Ee(Ee({},e),{},{today:Ee(Ee({},e.today),{},{id:u}),idToView:d}));break;case Oe.p:m="projects";break;case Oe.c:m="filters";break;case Oe.m:m="labels"}if("today"!==m&&s.type!==Oe.B)e=Ee(Ee({},e),{},(f={},c()(f,m,Ee(Ee({},e[m]),{},c()({},s.id,Ee(Ee({},e[m][s.id]),{},{id:u})))),c()(f,"idToView",d),f))}}return o?De(e,o):e;case Oe.A:var p=t.payload;return Ee(Ee({},e),{},{today:p,idToView:e.idToView[p.id]?e.idToView:Ee(Ee({},e.idToView),{},c()({},p.id,{type:Oe.B}))});case Oe.o:var h=t.payload,v=h.viewId,b=_e()(h,["viewId"]);return Ee(Ee({},e),{},{projects:Ee(Ee({},e.projects),{},c()({},v,b)),idToView:e.idToView[b.id]?e.idToView:Ee(Ee({},e.idToView),{},c()({},b.id,{id:v,type:Oe.p}))});case Oe.l:var g=t.payload,_=g.viewId,y=_e()(g,["viewId"]);return Ee(Ee({},e),{},{labels:Ee(Ee({},e.labels),{},c()({},_,y)),idToView:e.idToView[y.id]?e.idToView:Ee(Ee({},e.idToView),{},c()({},y.id,{id:_,type:Oe.m}))});case Oe.b:var O=t.payload,j=O.viewId,w=_e()(O,["viewId"]);return Ee(Ee({},e),{},{filters:Ee(Ee({},e.filters),{},c()({},j,w)),idToView:e.idToView[w.id]?e.idToView:Ee(Ee({},e.idToView),{},c()({},w.id,{id:j,type:Oe.c}))});case Oe.z:var E,k=Ee({},e.idToView);return delete k[(null===(E=e.today)||void 0===E?void 0:E.id)||-1],Ee(Ee({},e),{},{today:null,idToView:k});case Oe.n:var S,I=t.payload.viewId,T=Ee({},e.projects),A=Ee({},e.idToView);return delete A[(null===(S=T[I])||void 0===S?void 0:S.id)||-1],delete T[I],Ee(Ee({},e),{},{projects:T,idToView:A});case Oe.k:var x,P=t.payload.viewId,R=Ee({},e.labels),N=Ee({},e.idToView);return delete N[(null===(x=R[P])||void 0===x?void 0:x.id)||""],delete R[P],Ee(Ee({},e),{},{labels:R,idToView:N});case Oe.a:var L,M=t.payload.viewId,F=Ee({},e.filters),z=Ee({},e.idToView);return delete z[(null===(L=F[M])||void 0===L?void 0:L.id)||-1],delete F[M],Ee(Ee({},e),{},{filters:F,idToView:z});default:return e}},Ie=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.reduce((function(e,t){return t(e,n)}),e)}}(Object(r.c)({user:o.a,notes:b.f,reminders:g.a,items:l.l,sections:R.d,projects:p.e,labels:v.c,filters:h.a,tooltip:_.l,mainView:y.i,detailView:A.a,stats:j.d,settings:E.a,clock:w.a,undo:k.b,dateistLangs:T,drafts:x.a,moreNotes:N.a,tempIds:P.a,archived:m,completed:Y,modals:ee.b,externalServices:te.a,version:ne.a,collaborators:O.e,completedItems:re.b,notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.a:var n=t.payload.notifications;return n?ie({},n):e;default:return e}},notificationsLastReadId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.a:var n=t.payload.notificationsLastReadId;return n||e;default:return e}},userPlanLimits:ce.r,mapping:be,viewOptions:Se}),(function(e,t){switch(t.type){case l.a:var n=t.payload.id,r=e.items[n];return f(f({},e),{},{archived:f(f({},e.archived),{},{items:f(f({},e.archived.items),{},c()({},n,f(f({},r),{},{checked:1,in_history:1})))})});case l.d:return f(f({},e),{},{archived:f(f({},e.archived),{},{items:u()(e.undo.id,e.archived.items)})});case l.h:var a=t.payload.id;return f(f({},e),{},{archived:f(f({},e.archived),{},{items:u()(a,e.archived.items)})});default:return e}}),re.a,(function(e,t){switch(t.type){case C.b:var n=t.payload,a=n.sections,o=n.projects,i=n.items,c=(a||[]).filter((function(e){return e.is_deleted})),l=(o||[]).filter((function(e){return e.is_deleted})),s=(i||[]).filter((function(e){return e.is_deleted}));if(l.length>0||c.length>0||s.length>0){var u=Object(r.d)(Z({state:e,sectionIds:c.map((function(e){return e.id}))}),Q({state:e,projectIds:l.map((function(e){return e.id}))}),Object(B.e)("items",s.map((function(e){return e.id}))))(e.completed);return K(K({},e),{},{completed:u})}return e;case M.i:var d=Q({projectIds:t.payload,state:e})(e.completed);return K(K({},e),{},{completed:d});case F.f:var f=Z({sectionIds:[t.payload.id],state:e})(e.completed);return K(K({},e),{},{completed:f});case L.e:var m=q()(["undo","prevState","items"],e)||{},p=X({items:Object.values(m),state:e.completed,itemsByID:m});return K(K({},e),{},{completed:p})}return e}),l.R,R.q,p.A,O.c,A.b,(function(e,t){switch(t.type){case C.b:var n;return(null===(n=t.payload.collaborator_states)||void 0===n?void 0:n.length)?Ce(e):e;case ye.a:return Ce(e);default:return e}})),Te=n("RZq6");function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var xe=function(){return function(e){return function(t){try{return e(t)}catch(e){throw(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)).type!=ae.a&&t.type!=C.a||delete t.payload,Te.captureError(e,{tags:{where:"redux"},extra:{action:t}}),e}}}},Pe=new Set([ae.a,y.e,y.f,y.b,y.d,y.c,y.g,y.h]),Re=function(){return function(e){return function(t){try{Pe.has(t.type)||Te.captureBreadcrumb({message:t.type,category:"redux_action",level:"debug"})}catch(e){}return e(t)}}},Ne=n("iCX6"),Le=n("J/PD"),Me=n.n(Le),Fe=n("Qi13");function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var He=r.d,Ue=[xe,a.a,function(e){return function(t){return function(n){var r;if(n.type!==D.a||!n.payload)return t(n);var a=e.getState(),o=n,i={type:o.type,payload:{}},c=o.payload,l=c.sections,s=c.items,u=c.completed,d=_e()(c,["sections","items","completed"]),f={};if(l){var m={};for(var p in l){var h=l[p];if("string"!=typeof h.id){var v=a.mapping.sections.byRemoteId[h.id];v||(v=Fe.a.generate("section",h),f[h.id]=v),m[v]=$e($e({},h),{},{id:v,remote_id:h.id})}else m[h.id]=h,h.remote_id&&(f[h.remote_id]=h.id)}i.payload=$e($e({},i.payload),{},{sections:m})}if(s){var b={};for(var g in s){var _=s[g];if(_.section_id&&"string"!=typeof _.section_id){var y=a.mapping.sections.byRemoteId[_.section_id]||(null==f?void 0:f[_.section_id]);y||(y=Fe.a.generate("section",{id:_.section_id}),f[_.section_id]=y),b[_.id]=$e($e({},_),{},{section_id:y})}else b[_.id]=_}i.payload=$e($e({},i.payload),{},{items:b})}if(u){var O=$e($e({},u),{},{sections:{}});for(var j in u.sections){var w=u.sections[j];if("string"!=typeof w.section_id){var E=a.mapping.sections.byRemoteId[w.section_id]||f[w.section_id];E||(E=Fe.a.generate("section",{id:w.section_id}),f[w.section_id]=E),O.sections[E]=$e($e({},w),{},{id:E,section_id:E})}else O.sections[j]=w}i.payload=$e($e({},i.payload),{},{completed:O})}return i.payload=$e($e($e({},d),i.payload),{},{mapping:$e($e($e({},d.mapping),a.mapping),{},{sections:$e($e($e({},null===(r=d.mapping)||void 0===r?void 0:r.sections),a.mapping.sections),{},{byRemoteId:$e($e({},a.mapping.sections.byRemoteId),f)})})}),t(i)}}},function(e){return function(t){return function(n){if(n.type!==C.a&&n.type!==C.b||!n.payload)return t(n);var r=e.getState(),a=n,o={type:a.type,payload:{}},i=a.payload,l=i.sections,s=i.items,u=i.completed_info,d=_e()(i,["sections","items","completed_info"]),f={},m=d.temp_id_mapping||{},p=Me()(m);if(Object.keys(m).length)for(var h in m){var v=r.sections[h],b=m[h];if(r.sections[h]&&!r.mapping.sections.byRemoteId[b]){f.sections=Be(Be({},f.sections),{},c()({},b,h));var g=Be(Be({},r.sections[h]),{},{id:h,remote_id:b,date_added:v.date_added instanceof Date?v.date_added.toISOString():v.date_added});o.payload=Be(Be({},o.payload),{},{sections:o.payload.sections?[].concat(de()(o.payload.sections),[g]):[g]})}}if(null==l?void 0:l.length){var _=l.map((function(e){var t,n,a=r.mapping.sections.byRemoteId[e.id]||(null===(t=f.sections)||void 0===t?void 0:t[e.id]);a||(a=null!==(n=p[e.id])&&void 0!==n?n:Fe.a.generate("section",e),f.sections=Be(Be({},f.sections),{},c()({},e.id,a)));return Be(Be({},e),{},{id:a,remote_id:e.id})}));o.payload=Be(Be({},o.payload),{},{sections:o.payload.sections?[].concat(de()(o.payload.sections),de()(_)):_})}if(null==s?void 0:s.length){var y=s.map((function(e){var t;if(!e.section_id)return Be(Be({},e),{},{section_id:null});var n=r.mapping.sections.byRemoteId[e.section_id]||(null===(t=f.sections)||void 0===t?void 0:t[e.section_id]);return n||(n=Fe.a.generate("section",{id:e.section_id}),f.sections||(f.sections={}),f.sections=Be(Be({},f.sections),{},c()({},e.section_id,n))),Be(Be({},e),{},{section_id:n})}));o.payload=Be(Be({},o.payload),{},{items:y})}if(null==u?void 0:u.length){var O=u.map((function(e){var t;if(!("section_id"in e))return e;var n=r.mapping.sections.byRemoteId[e.section_id]||(null===(t=f.sections)||void 0===t?void 0:t[e.section_id]);return n||(n=Fe.a.generate("section",{id:e.section_id}),f.sections=Be(Be({},f.sections),{},c()({},e.section_id,n))),Be(Be({},e),{},{id:n,section_id:n})}));o.payload=Be(Be({},o.payload),{},{completed_info:O})}return o.payload=Be(Be(Be({},d),o.payload),{},{remote_id_mapping:f}),t(o)}}},ae.c,Re],qe=Object(r.e)(Ie,He(r.a.apply(void 0,Ue)));ae.b.init(qe),Ne.a.init(qe);t.default=qe},oSvq:function(e,t,n){e.exports=n.p+"assets/images/5f4133d9ca6e7d5619ce28c9e0eeab25.png"},"oVv/":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("o0o1"),a=n.n(r),o=n("yXPU"),i=n.n(o),c=n("SgJ6"),l=n("oHMr"),s=n("xvbm"),u=n("MbCg"),d=n.n(u);function f(){return n.e(72).then(n.t.bind(null,"HlzF",7)).then((function(e){return e.Howl}))}function m(){return p.apply(this,arguments)}function p(){return(p=i()(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(s.d)("global.complete_item_sound")){e.next=2;break}return e.abrupt("return");case 2:if(Object(c.b)(l.default.getState())){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,f();case 7:t=e.sent,new t({src:[d.a]}).play();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},okMy:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("J4zp"),i=n.n(o),c=n("QILm"),l=n.n(c),s=n("q1tI"),u=n.n(s),d=n("17x9"),f=n.n(d),m=n("TSYQ"),p=n.n(m);function h(e){var t=e.className,n=e.checked,r=e.onChange,o=l()(e,["className","checked","onChange"]),c=u.a.useState(!1),s=i()(c,2),d=s[0],f=s[1];return u.a.createElement("div",{className:p()("reactist_switch",t,{"reactist_switch--checked":n,"focus-marker":d})},u.a.createElement("input",a()({type:"checkbox",checked:n,onChange:r},o,{onFocus:function(e){o.onFocus&&o.onFocus(e),f(!0)},onBlur:function(e){o.onBlur&&o.onBlur(e),f(!1)}})),u.a.createElement("span",{className:"reactist_switch--handle"}))}h.propTypes={className:f.a.string,checked:f.a.bool.isRequired,onChange:f.a.func.isRequired,onFocus:f.a.func,onBlur:f.a.func};var v=h;t.a=v},op67:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o}));var r="TASK_MAPPING_SET",a="REMOTE_ID_MAPPING_SET";function o(e){return{type:a,payload:{remote_id_mapping:e}}}},otg2:function(e,t){var n,r=function(e,t){return function(){return e.apply(t,arguments)}};n=function(){function e(){this.revokeDelayedSignal=r(this.revokeDelayedSignal,this),this.sendSignal=r(this.sendSignal,this),this.disconnect=r(this.disconnect,this),this.delayedConnect=r(this.delayedConnect,this),this.connect=r(this.connect,this),this.getDelayedListeners=r(this.getDelayedListeners,this),this.getListeners=r(this.getListeners,this)}return e.prototype._callbacks={},e.prototype._delayedCallbacks={},e.prototype.getListeners=function(e){return this._callbacks[e]||[]},e.prototype.getDelayedListeners=function(e){return this._delayedCallbacks[e]||[]},e.prototype.connect=function(e,t){var n,r,a,o,i;for(r=0,a=(o=e.split(" ")).length;r<a;r++)i=o[r],(n=this._callbacks[i])||(n=this._callbacks[i]=[]),n.push(t);return t},e.prototype.delayedConnect=function(e,t,n){var r,a,o,i,c,l;for(r={cb:t,delay:n,timer:null},o=0,i=(c=e.split(" ")).length;o<i;o++)l=c[o],(a=this._delayedCallbacks[l])||(a=this._delayedCallbacks[l]=[]),a.push(r);return r},e.prototype.disconnect=function(e,t){var n,r,a,o,i,c;if("all"===e)this._callbacks={};else for(r=0,o=(i=e.split(" ")).length;r<o;r++)c=i[r],n=this.getListeners(c),-1!==(a=$index(t,n))&&n.splice(a,1);return t},e.prototype.sendSignal=function(){var e,t,n,r,a,o,i,c,l,s,u,d,f;if((e=$arrayForce(arguments)).length<1)return!1;for((f=(f=e.shift()).split(" ")).push("all"),o=0,l=f.length;o<l;o++){for(d=f[o],i=0,s=(r=this.getListeners(d)).length;i<s;i++)t=r[i],$isFunction(t)&&t.apply(this,e);for(c=0,u=(n=this.getDelayedListeners(d)).length;c<u;c++)(a=n[c]).timer&&clearTimeout(a.timer),a.timer=setTimeout(function(t){return function(){return $isFunction(a.cb)&&a.cb.apply(t,e),a.timer=null}}(this),a.delay)}return!0},e.prototype.revokeDelayedSignal=function(e){var t,n,r,a,o,i;for(o=[],r=0,a=(e=e.split(" ")).length;r<a;r++)i=e[r],t=this.getDelayedListeners(i),o.push(function(){var e,r,a;for(a=[],e=0,r=t.length;e<r;e++)(n=t[e]).timer?a.push(clearTimeout(n.timer)):a.push(void 0);return a}());return o},e}(),window.Signals=new n},oyQV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=new RegExp("[\\u0300-\\u036e\\u1dc0-\\u1dfe\\u20d0-\\u20fe\\ufe20-\\ufe2e\\u3099-\\u309a]","g");function a(e){return e.normalize?e.normalize("NFD").replace(r,"").normalize("NFC").toLowerCase().trim():e.toLowerCase().trim()}},p3jf:function(e,t,n){"use strict";n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return k})),n.d(t,"b",(function(){return C})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return L})),n.d(t,"h",(function(){return M})),n.d(t,"g",(function(){return F}));var r=n("J4zp"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("Bcse"),l=n.n(c),s=n("DoMW"),u=n("uS8r"),d=n.n(u),f=n("ANjH"),m=n("ejxE"),p=n.n(m),h=n("uNXK"),v=n("qRd9"),b=n("nvqi"),g=n("RZq6"),_=n("OgjY"),y=n("NLcT"),O=n("MrOw"),j=n("VXWU"),w=n.n(j),E=n("peh1"),k=Object(E.createSelector)((function(e){return e.reminders}),(function(e){return w()("item_id",e)})),D=[];function C(e,t){return k(t)[e]||D}var S=Object(E.createSelector)((function(e){return e.reminders}),(function(e){return Object.values(e)})),I=n("Qi13"),T=n("A72/"),A=n("Vdij");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t){var n=Object(T.s)(e);Object(A.a)({type:t,userPlanLimits:n})}function N(e){return function(t,n){var r=n();if(Object(T.j)(r)){if("relative"===e.type&&null==e.minute_offset||"absolute"===e.type&&!e.due)throw new Error("invalid argument");var a=P(P({},e),{},{is_deleted:0,id:I.a.generate("reminder")}),o=a.due&&a.due.toAPIFormat?P(P({},a),{},{due:a.due.toAPIFormat()}):a;O.default.getInstance().queueUpdate({type:"reminder_add",args:o,temp_id:a.id}),t({type:"REMINDER_ADD",payload:a})}else R(r,"TIME_REMINDERS")}}function L(e){return function(t,n){var r=n();if(Object(T.g)(r)){var a=P(P({},e),{},{is_deleted:0,id:I.a.generate("reminder")});O.default.getInstance().queueUpdate({type:"reminder_add",args:a,temp_id:a.id}),t({type:"REMINDER_ADD",payload:a})}else R(r,"LOCATION_REMINDERS")}}function M(e,t){return function(n,r){var a=r(),o=C(e,a),i=t.filter((function(e){return!e.id})),c=o.filter((function(e){return!t.some((function(t){return t.id===e.id}))}));i.forEach((function(e){"location"===e.type?n(L(e)):n(N(e))})),c.forEach((function(e){y.a.remove(e.id)}))}}function F(e){return{type:"REMINDER_SET_LOCAL_NOTIFIED",payload:e}}var z=n("3/82");function B(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e){return"absolute"!==e.type||!e.due||e.due instanceof _.a?e:H(H({},e),{},{due:new _.a(e.due)})}var q,G=(q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.a:var n=t.payload.reminders;if(n)for(var r in e=H({},n))e[r]=U(e[r]);return e;case b.a:var a=t.payload.reminders;return a?(a=a.map(U),e=Object(s.a)(a)):e;case b.b:var o=t.payload,c=o.reminders,u=o.temp_id_mapping;if(u&&(e=Object(z.f)(e,u)),!c||0===c.length)return e;c=c.map((function(t){t=U(t);var n=e[t.id];return n&&(t=H(H({},n),t)),t})),e=H(H({},e),Object(s.a)(c));var m,g=B(c);try{for(g.s();!(m=g.n()).done;){var _=m.value;_.is_deleted&&("location"===_.type||_.lprocessed)&&delete e[_.id]}}catch(e){g.e(e)}finally{g.f()}return e;case"REMINDER_ADD":var y=t.payload;return H(H({},e),{},i()({},y.id,y));case h.a:var O=t.payload.reminders;return O?H({},O):e;case"ITEM_COMPLETE_RECURRING":var j=t.payload.id,w=p()(e).filter((function(e){return"location"!==e.type&&e.item_id===j&&e.lprocessed}));if(0===w.length)return e;var E=Object(f.d)(s.a,d()(l()("lprocessed")))(w);return H(H({},e),E);case"REMINDER_SET_LOCAL_NOTIFIED":var k=t.payload;return e=H({},e),k.forEach((function(t){var n=e[t];n&&(n.is_deleted?delete e[n.id]:e[t]=H(H({},n),{},{lprocessed:!0}))})),e;default:return e}},function(e,t){var n=q(e,t);if(!n||n===e)return n;for(var r=[],o=0,i=Object.entries(n);o<i.length;o++){var c=a()(i[o],2),l=c[0],s=c[1];"absolute"!==s.type||s.due||(delete n[l],r.push(l))}return r.length>0&&g.default.captureInfoLog("Detected bad reminder objects",{ids:r}),n});t.a=G},p48q:function(e,t,n){},p8KB:function(e,t,n){"use strict";n.d(t,"c",(function(){return D})),n.d(t,"b",(function(){return I})),n.d(t,"d",(function(){return W})),n.d(t,"e",(function(){return K})),n.d(t,"f",(function(){return Y})),n.d(t,"h",(function(){return ue})),n.d(t,"g",(function(){return be})),n.d(t,"i",(function(){return ye})),n.d(t,"j",(function(){return Oe})),n.d(t,"k",(function(){return we})),n.d(t,"l",(function(){return Ke})),n.d(t,"a",(function(){return Je}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("LYyr"),l=n("OH70"),s=n("EH7W"),u=n("WxMS"),d=n("mItv"),f=n("dgfd"),m=n("xgwk"),p=n("/MKj"),h=n("4rNB"),v=n("vNHF");function b(){var e=Object(v.a)(),t=Object(v.a)();return a.a.createElement("svg",{width:"24",height:"24"},a.a.createElement("defs",null,a.a.createElement("path",{d:"M10.08 16h3.84c.85-2.15 2.58-3.17 2.58-5.5C16.5 8 14.5 6 12 6s-4.5 2-4.5 4.5c0 2.33 1.73 3.35 2.58 5.5zm3.57 1h-3.3l.37 1.84c.02.1.1.16.2.16h2.17a.2.2 0 0 0 .2-.16l.36-1.84zm-5.46-2.32l-.42-.62c-.88-1.29-1.27-2.24-1.27-3.56C6.5 7.45 8.95 5 12 5s5.5 2.45 5.5 5.5c0 1.32-.4 2.27-1.27 3.56l-.42.62c-.59.85-.9 1.4-1.08 2.02l-.47 2.34c-.1.56-.6.96-1.17.96H10.9a1.2 1.2 0 0 1-1.17-.96l-.46-2.3a7.23 7.23 0 0 0-1.09-2.06zm13.24-.82a.5.5 0 1 1-.38.93l-1.85-.77a.5.5 0 0 1 .38-.92l1.85.76zM19.58 7.9a.5.5 0 0 1-.38-.92l1.85-.77a.5.5 0 1 1 .38.93l-1.85.76zm-4.06-4.6a.5.5 0 0 1-.92-.38l.76-1.85a.5.5 0 1 1 .93.38l-.77 1.85zM9.4 2.92a.5.5 0 0 1-.92.38L7.7 1.45a.5.5 0 1 1 .93-.38l.76 1.85zM4.8 6.98a.5.5 0 0 1-.38.92l-1.85-.76a.5.5 0 1 1 .38-.93l1.85.77zm-1.85 7.8a.5.5 0 0 1-.38-.92l1.85-.76a.5.5 0 0 1 .38.92l-1.85.77z",id:e})),a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{d:"M0 0h24v24H0z"}),a.a.createElement("mask",{id:t,fill:"#fff"},a.a.createElement("use",{xlinkHref:"#".concat(e)})),a.a.createElement("g",{mask:"url(#".concat(t,")"),fill:"#FF9233"},a.a.createElement("path",{d:"M0 0h24.12v24.12H0z"}))))}function g(){return a.a.createElement("svg",{width:"24",height:"24"},a.a.createElement("path",{d:"M7.35 12.15a.5.5 0 0 0-.7.7l3 3c.2.2.5.2.7 0l7-7a.5.5 0 1 0-.7-.7L10 14.79l-2.65-2.64z",fill:"#000",fillRule:"nonzero",fillOpacity:".54"}))}function y(e){var t=e.label,n=e.tips;return a.a.createElement("div",{className:"empty-state-tooltip-content"},a.a.createElement("span",{className:"empty-state-tooltip-header"},a.a.createElement(b,null),t),a.a.createElement("ul",{className:"empty-state-tooltip-tips"},n.map((function(e,t){return a.a.createElement("li",{key:t,className:"empty-state-tooltip-tip"},a.a.createElement(g,null),a.a.createElement("span",{dangerouslySetInnerHTML:{__html:e}}))}))))}y.propTypes={label:i.a.string.isRequired,tips:i.a.arrayOf(i.a.string)},y.defaultProps={tips:[]};var O=y,j=n("SgJ6");function w(e){var t=e.children,n=e.tips;return a.a.createElement(h.a,{content:a.a.createElement(O,{label:t,tips:n}),position:"top",gapSize:14,className:"empty-state-tooltip-container"},a.a.createElement("span",{className:"empty-state-tooltip"},a.a.createElement("span",{className:"empty-state-tooltip-label"},a.a.createElement(b,null),a.a.createElement("span",null,t))))}w.propTypes={tips:i.a.arrayOf(i.a.string),theme:i.a.number,children:i.a.node},O.defaultProps={tips:[]};var E=Object(p.c)((function(e){return{theme:Object(j.c)(e)}}))(w);function k(e){var t=e.query,n=e.symbol,r=e.onButtonClick,o=[_("See all your tasks for the month ahead (query: <b>30 days</b>)"),_("Focus on the most important things you need to do today (query: <b>today & p1</b>)"),_("View tasks that are waiting on something else for them to be completed (query: <b>@pending</b>)")],i=n?_("That filter query isn't quite right:"):_("Sorry, Todoist couldn't understand that filter query.");return a.a.createElement(l.a,null,a.a.createElement(m.a,{path:"incorrect_filter_query.svg"}),a.a.createElement(f.a,null,i),n&&a.a.createElement(s.a,null,Object(c.a)(_('Todoist didn\'t recognize "{string}" in "{query}".'),{query:t,string:n})),a.a.createElement(u.a,{onClick:r},_("Edit Query")),a.a.createElement(E,{tips:o},_("Filter examples")),a.a.createElement(d.a,{link:"https://support.todoist.com/hc/articles/205248842"},_("How to create filters")))}k.propTypes={query:i.a.string,symbol:i.a.string,onButtonClick:i.a.func},k.defaultProps={onButtonClick:function(){}};var D=k,C=n("XtcL");function S(e){return Object(C.j)(e)<20}function I(){var e=Object(p.h)(S),t=[_("See today's highest priority tasks using <b>Today & P1</b>."),_("View unscheduled tasks using <b>No date</b>."),_("Preview the month ahead using <b>30 days</b>."),_("Review every task <b>Assigned to:me</b>.")];return a.a.createElement(l.a,null,a.a.createElement(m.a,{path:"filter.svg"}),a.a.createElement(f.a,null,_("No tasks in this filter at the moment")),e?a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,null,_("Create custom task views filtered by priority, label, due date, and more.")),a.a.createElement(E,{tips:t},_("How can I use filters?"))):null,a.a.createElement(d.a,{link:"https://support.todoist.com/hc/articles/360000031059"},_("How to best use filters")))}var T=n("lwsE"),A=n.n(T),x=n("W8MJ"),P=n.n(x),R=n("7W2i"),N=n.n(R),L=n("a1gu"),M=n.n(L),F=n("Nsbk"),z=n.n(F),B=n("oHMr"),V=n("NZFV");function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z()(e);if(t){var a=z()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return M()(this,n)}}var H=function(e){N()(n,e);var t=$(n);function n(){return A()(this,n),t.apply(this,arguments)}return P()(n,[{key:"componentDidMount",value:function(){B.default.dispatch(Object(V.o)(V.d))}},{key:"render",value:function(){return a.a.createElement(l.a,null,a.a.createElement(m.a,{path:"inbox_new.svg"}),a.a.createElement(f.a,null,_("Declutter your mind")),a.a.createElement(s.a,null,_("Not sure where to organize a new task? Add it to your Inbox and come back to it later.")),this.props.onButtonClick?a.a.createElement(u.a,{onClick:this.props.onButtonClick},_("Add a task")):null,a.a.createElement(d.a,{link:"https://support.todoist.com/hc/articles/360000028960"},_("How to best use the Inbox")))}}]),n}(a.a.PureComponent);H.propTypes={onButtonClick:i.a.func};var U=H;function q(e){return a.a.createElement(l.a,null,a.a.createElement(m.a,{path:"inbox_zero.svg"}),a.a.createElement(f.a,null,_("All clear")),a.a.createElement(s.a,null,_("Looks like everything's organized in the right place.")),e.onButtonClick?a.a.createElement(u.a,{onClick:e.onButtonClick},_("Add a task")):null,a.a.createElement(d.a,{link:"https://support.todoist.com/hc/articles/360000028960"},_("How to best use the Inbox")))}q.propTypes={onButtonClick:i.a.func};var G=q;function W(){var e=[_("Focus on <b>@work</b> tasks only."),_("See your most <b>@important</b> tasks."),_("Find out what's <b>@in_progress</b>."),_("Get a quick view of your <b>@errand</b> tasks.")];return a.a.createElement(l.a,null,a.a.createElement(m.a,{path:"label.svg"}),a.a.createElement(f.a,null,_("No tasks with this label at the moment")),a.a.createElement(s.a,null,_("Categorize your tasks with labels so you can focus on the right tasks at the right time.")),a.a.createElement(E,{tips:e},_("How can I use labels?")),a.a.createElement(d.a,{link:"https://support.todoist.com/hc/articles/360000029000"},_("How to best use labels")))}function K(){return a.a.createElement(l.a,null,a.a.createElement(m.a,{path:"label.svg"}),a.a.createElement(f.a,null,_("No tasks with this label at the moment")),a.a.createElement(d.a,{link:"https://support.todoist.com/hc/articles/360000029000"},_("How to best use labels")))}function Y(){return a.a.createElement(l.a,{isWindowCentered:!1},a.a.createElement(m.a,{path:"notifications.svg"}),a.a.createElement(f.a,null,_("Stay up-to-date")),a.a.createElement(s.a,null,_("Get notified here about changes in your shared projects.")),a.a.createElement(d.a,{link:"https://support.todoist.com/hc/articles/360000269065"},_("Learn about notifications")))}n("A5ZW");var J=n("pVnL"),Q=n.n(J),Z=n("QILm"),X=n.n(Z);function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z()(e);if(t){var a=z()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return M()(this,n)}}var te=function(e){N()(n,e);var t=ee(n);function n(){return A()(this,n),t.apply(this,arguments)}return P()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.link,r=X()(e,["children","link"]);return a.a.createElement("a",Q()({href:n,className:"empty-state-link"},r),t)}}]),n}(a.a.PureComponent);te.propTypes={link:i.a.string,onClick:i.a.func,children:i.a.node},te.defaultProps={link:"#",onClick:function(){}};var ne=te;function re(e){var t=e.onButtonClick,n=e.onLinkClick;return a.a.createElement(l.a,null,a.a.createElement(m.a,{path:"project_celebration.svg"}),a.a.createElement(f.a,null,_("Nothing left to do in this project")),a.a.createElement(s.a,null,_("Nice work!")),t?a.a.createElement(u.a,{onClick:t},_("Add a task")):null,n?a.a.createElement(ne,{onClick:n},_("Archive project")):null)}re.propTypes={onButtonClick:i.a.func,onLinkClick:i.a.func};var ae=re;function oe(e){var t=e.children;return a.a.createElement("div",{className:"empty-state-actions"},t)}oe.propTypes={children:i.a.node};var ie=oe,ce=n("yDGi"),le=n("1zEf");function se(e){return e.canAddComments?a.a.createElement(l.a,{isWindowCentered:!1},a.a.createElement(m.a,{path:"project_comments.svg"}),a.a.createElement(s.a,null,_("Keep all your high-level information organized here with project comments."))):a.a.createElement(l.a,{isWindowCentered:!1},a.a.createElement(m.a,{path:"task_comments.svg"}),a.a.createElement(s.a,null,_("Add notes, file uploads, and voice memos to your project, so you always have the information you need right when you need it."),a.a.createElement(ie,null,a.a.createElement(ce.a,{className:"ist_button ist_button_red",rel:"noopener noreferrer",target:"_blank",href:"/premium"},_("Go Pro")),a.a.createElement(ne,{link:le.m,target:"_blank"},_("Learn more")))))}se.propTypes={canAddComments:i.a.bool};var ue=se;function de(){var e=[_("Separate work tasks from personal ones."),_("Create a step-by-step plan toward a goal."),_("Collaborate with teammates."),_("Share a to-do list with a loved one."),_("Save things to read or watch later.")];return a.a.createElement(l.a,{className:"empty-state-project-new"},a.a.createElement(m.a,{path:"project_new.svg"}),a.a.createElement(f.a,null,_("Keep your tasks organized in projects")),a.a.createElement(s.a,null,_("Group your tasks by goal or area of your life. Drag and drop to rearrange tasks or create sub-tasks.")),a.a.createElement(E,{tips:e},_("How can I use projects?")),a.a.createElement(d.a,{link:"https://support.todoist.com/hc/articles/360000031039"},_("How to best use projects")))}function fe(e){return a.a.createElement(l.a,null,a.a.createElement(m.a,{path:"project_zero.svg"}),a.a.createElement(f.a,null,_("What will you accomplish?")),e.onButtonClick?a.a.createElement(u.a,{onClick:e.onButtonClick},_("Add a task")):null,a.a.createElement(d.a,{link:"https://support.todoist.com/hc/articles/360000031039"},_("How to best use projects")))}fe.propTypes={onButtonClick:i.a.func};var me=fe,pe=n("XOeF"),he=n("duPW"),ve=n.n(he);function be(e){var t=e.projectId,n=e.onAddItemClick,r=e.onArchiveClick,o=Object(p.h)((function(e){return Object(pe.n)(e,t)})),i=Object(p.h)(C.j),c=Object(p.h)(ve()("completed.projects.".concat(t,".completed_items")))||0,l=Object(p.h)((function(e){return Object(V.n)(V.d,e)}));return o?o.inbox_project?l?a.a.createElement(U,{onButtonClick:n}):a.a.createElement(G,{onButtonClick:n}):i<20?a.a.createElement(de,null):c<20?a.a.createElement(me,{onButtonClick:n}):a.a.createElement(ae,{onButtonClick:n,onLinkClick:r}):null}be.propTypes={projectId:i.a.oneOfType([i.a.number,i.a.string]).isRequired,onAddItemClick:i.a.func,onArchiveClick:i.a.func};var ge=n("nqxI");function _e(e){var t=e.headerText,n=e.onButtonClick,r=e.shouldFadeIn,o=e.withAction,i=e.errorCode,c=e.loading,s=[_("<b>date</b> to find all tasks with that due date"),_("<b>p1</b> to find all tasks with priority 1"),_("<b>@label</b> to find all tasks with that label")];return a.a.createElement(l.a,{className:"empty-state-search",isWindowCentered:!1,shouldFadeIn:r,isStickyFooterForced:!0},a.a.createElement(m.a,{path:"search_results.svg"}),a.a.createElement(f.a,null,t),i&&a.a.createElement("code",{className:"empty-state-error-code"},i),o&&a.a.createElement(ge.a,{onClick:n,loading:c},_("Search completed tasks")),a.a.createElement(E,{tips:s},_("Refine your search with queries")),a.a.createElement(d.a,{link:"https://support.todoist.com/hc/articles/360000394949"},_("How to best use search")))}_e.propTypes={headerText:i.a.string.isRequired,withAction:i.a.bool,shouldFadeIn:i.a.bool,errorCode:i.a.string,loading:i.a.bool,onButtonClick:i.a.func},_e.defaultProps={withAction:!0,shouldFadeIn:!0,onButtonClick:function(){}};var ye=_e;function Oe(){return a.a.createElement(l.a,{isWindowCentered:!1},a.a.createElement(m.a,{path:"sharing.svg"}),a.a.createElement(f.a,null,_("Organize work together")),a.a.createElement(s.a,null,_("Assign tasks and due dates, discuss details in task comments, and keep everyone on the same page.")),a.a.createElement(d.a,{link:"https://support.todoist.com/hc/articles/360000031079"},_("How to collaborate with others")))}function je(e){return e.canAddComments?a.a.createElement(l.a,{isWindowCentered:!1},a.a.createElement(m.a,{path:"task_comments.svg"}),a.a.createElement(s.a,null,_("Add relevant notes, links, files, photos, or anything else here."))):a.a.createElement(l.a,{isWindowCentered:!1},a.a.createElement(m.a,{path:"task_comments.svg"}),a.a.createElement(s.a,null,_("Add notes, file uploads, and voice memos to your tasks, so you always have the information you need right when you need it."),a.a.createElement(ie,null,a.a.createElement(u.a,{onClick:function(){return window.open("/premium")}},_("Go Pro")),a.a.createElement(ne,{link:le.d,target:"_blank"},_("Learn more")))))}je.propTypes={canAddComments:i.a.bool};var we=je;function Ee(){return a.a.createElement(l.a,null,a.a.createElement(m.a,{path:"today_off.svg"}),a.a.createElement(f.a,null,_("Enjoy your day off")),a.a.createElement(d.a,{link:"https://support.todoist.com/hc/articles/360000410829#Settings"},_("Learn more about Days Off")))}function ke(e){return a.a.createElement(l.a,null,a.a.createElement(m.a,{path:"today.svg"}),a.a.createElement(f.a,null,_("What tasks are on your mind?")),a.a.createElement(u.a,{onClick:e.onButtonClick},_("Add a task")),a.a.createElement(d.a,{link:"https://support.todoist.com/hc/articles/360000030999"},_("How to plan your day")))}ke.propTypes={onButtonClick:i.a.func},ke.defaultProps={onButtonClick:function(){}};var De=ke;function Ce(e){var t=[_("Each morning, take a few minutes to clear your mind and plan your day."),_("Decide what you can do today and postpone the rest for later."),_("Set priorities and start with your most important task first.")];return a.a.createElement(l.a,null,a.a.createElement(m.a,{path:"today_new.svg"}),a.a.createElement(f.a,null,_("Get a clear view of the day ahead")),a.a.createElement(s.a,null,_("All your tasks that are due today will show up here.")),a.a.createElement(u.a,{onClick:e.onButtonClick},_("Add a task")),a.a.createElement(E,{tips:t},_("Establish a daily habit")),a.a.createElement(d.a,{link:"https://support.todoist.com/hc/articles/360000030999"},_("How to plan your day")))}Ce.propTypes={onButtonClick:i.a.func},Ce.defaultProps={onButtonClick:function(){}};var Se=Ce;function Ie(e){return a.a.createElement(l.a,null,a.a.createElement(m.a,{path:"today_vacation.svg"}),a.a.createElement(f.a,null,_("Enjoy your time away")),a.a.createElement(ne,{onClick:e.onButtonClick},_("Turn off Vacation Mode")),a.a.createElement(d.a,{link:"https://support.todoist.com/hc/articles/208044525"},_("Learn more about Vacation Mode")))}Ie.propTypes={onButtonClick:i.a.func},Ie.defaultProps={onButtonClick:function(){}};var Te=Ie,Ae=n("maC2"),xe=n("J4zp"),Pe=n.n(xe),Re=n("o0o1"),Ne=n.n(Re),Le=n("yXPU"),Me=n.n(Le),Fe=n("UVeO"),ze=n("MrOw"),Be=n("Vbab"),Ve=n("RZq6");function $e(e){var t,n,o,i=e.completedTodayCount,c=e.uncompletedSevenDaysCount,u=e.onProductivityClick,d=Object(r.useState)(),h=Pe()(d,2),v=h[0],b=h[1],g=Object(p.h)((function(e){return e.user.token})),y=(new Date).getHours();return t=y>=4&&y<12?_("Enjoy your day."):y>=12&&y<20?_("Enjoy your afternoon."):_("Enjoy your night."),i>=5?(n=t,o=a.a.createElement("span",{onClick:u},_("Today you completed %s tasks and reached #TodoistZero!").replace("%s",null==i?void 0:i.toString()))):(n=0===c?_("You're all done for the week! #TodoistZero"):_("You're all done for today! #TodoistZero"),o=t),Object(r.useEffect)((function(){v||function(e){return new Promise((function(t,n){fetch("/sync/".concat(ze.default.getInstance().api_version,"/completed/get_tdzero_share_urls?as_json=true"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(function(){var e=Me()(Ne.a.mark((function e(r){var a;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.ok){e.next=7;break}return e.next=3,r.json();case 3:a=e.sent,t(a),e.next=8;break;case 7:n(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n)}))}(g).then((function(e){b(e)})).catch((function(e){Ve.captureError(e)}))}),[v,g]),a.a.createElement(l.a,null,a.a.createElement(m.a,{path:"today_zero.svg"}),a.a.createElement(f.a,null,n),o&&a.a.createElement(s.a,null,o),v&&a.a.createElement("div",{className:"sharing"},a.a.createElement("a",{"aria-label":Object(Be.a)("Share to Twitter"),className:"sharing-twitter",href:v.twitter,target:"_blank",rel:"noopener noreferrer"},a.a.createElement(Fe.hc,null)),a.a.createElement("a",{"aria-label":Object(Be.a)("Share to Facebook"),className:"sharing-facebook",href:v.facebook,target:"_blank",rel:"noopener noreferrer"},a.a.createElement(Fe.J,null))))}$e.propTypes={completedTodayCount:i.a.number,uncompletedSevenDaysCount:i.a.number,onProductivityClick:i.a.func},$e.defaultProps={completedTodayCount:0,uncompletedSevenDaysCount:0,onProductivityClick:function(){return null}};var He=$e,Ue=Object(p.c)((function(e){return{completedTodayCount:Object(C.b)(e),uncompletedSevenDaysCount:Object(Ae.e)(e)}}))(He),qe=n("PI/q"),Ge=n("jVEK"),We=n("j3q4");function Ke(e){var t=e.today,n=e.onAddClick,r=Object(p.h)((function(e){return Object(C.a)(e,t)})),o=Object(p.h)(C.j),i=Object(p.h)(Ae.e),c=Object(p.h)((function(e){return e.user.features.karma_vacation})),l=Object(p.h)((function(e){return Object(Ge.m)(e,Object(We.a)(t))})),s=a.a.createElement(De,{onButtonClick:n});return r>0&&(s=a.a.createElement(Ue,{completedTodayCount:r,uncompletedSevenDaysCount:i,onProductivityClick:function(){return Signals.sendSignal("productivity_stat_show")}})),c&&(s=a.a.createElement(Te,{onButtonClick:function(){return qe.a.showPrefs("karma")}})),l&&(s=a.a.createElement(Ee,null)),0===r&&o<10&&(s=a.a.createElement(Se,{onButtonClick:n})),a.a.createElement("div",{id:"completed_today_holder"},a.a.createElement("div",{id:"empty-state-holder",className:"completed_today"},s))}function Ye(e){var t=e.title;if(e.canAccessActivityLog){var n=Object(Be.a)("See all changes that have been made in your account, by you or your collaborators.{next_line}Free users can still view their completed tasks inside any project.").split("{next_line}"),r=Pe()(n,2),o=r[0],i=r[1];return a.a.createElement(l.a,{isWindowCentered:!1},a.a.createElement(m.a,{path:"activity.svg"}),a.a.createElement(s.a,null,a.a.createElement(f.a,null,t||Object(Be.a)("You don't have any events")),o,a.a.createElement("br",null),i))}return a.a.createElement(l.a,{isWindowCentered:!1},a.a.createElement(m.a,{path:"activity.svg"}),a.a.createElement(s.a,null,Object(Be.a)("See all changes that have been made to this task, by you or a collaborator."),a.a.createElement(ie,null,a.a.createElement(u.a,{onClick:function(){return window.open("/premium")}},Object(Be.a)("Go Pro")),a.a.createElement(ne,{link:le.a,target:"_blank"},Object(Be.a)("Learn more")))))}Ke.propTypes={today:i.a.string.isRequired,onAddClick:i.a.func.isRequired},Ye.propTypes={canAccessActivityLog:i.a.bool,title:i.a.string};var Je=Ye},pYGC:function(e,t,n){},phBz:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r);t.a=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},a.a.createElement("g",{fill:"currentColor",fillRule:"evenodd"},a.a.createElement("rect",{width:"21.92",height:"1",x:"1.82",y:"10.78",rx:".5",transform:"rotate(-45 12.78 11.28)"}),a.a.createElement("path",{fillRule:"nonzero",d:"M16.76 5.17l-.85.85a3.26 3.26 0 0 0-.36-.02c-1.08 0-2.09.54-2.74 1.45L12 8.59l-.81-1.14A3.37 3.37 0 0 0 8.44 6C6.55 6 5 7.63 5 9.67c0 .5.11.98.35 1.47.44.9.88 1.5 2.49 2.96l-.71.7C5.04 12.88 4 11.43 4 9.68A4.56 4.56 0 0 1 8.44 5a4.3 4.3 0 0 1 3.07 1.28c.18.18.34.38.49.59a4.63 4.63 0 0 1 .7-.79A4.3 4.3 0 0 1 15.57 5c.41 0 .82.06 1.2.17zm2.43 1.81c.51.76.81 1.69.81 2.69 0 2.8-2.67 4.83-8 9.33l-2.62-2.2.72-.72 1.9 1.61c5.25-4.44 5.96-5.14 6.65-6.55A3.29 3.29 0 0 0 19 9.67a3.82 3.82 0 0 0-.53-1.96l.72-.73z"})))}},pkqz:function(e,t,n){e.exports={loadingBackdrop:"_3ZmYCvRuj7iQrAYu6QMw2O"}},pmBd:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI"),a=n.n(r),o=n("jlRT");function i(e){var t=e.isOpen,n=e.header,r=e.body,i=e.action,c=e.onClose;return a.a.createElement(o.a.Box,{size:"small",isOpen:t,onDismiss:c,closeOnOverlayClick:!0},a.a.createElement(o.a.Body,null,a.a.createElement("h2",null,n),a.a.createElement("div",null,r)),i?a.a.createElement(o.a.Actions,null,i):null)}},q32e:function(e,t,n){},qFoM:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("n7q7");function a(e){if(Object(r.a)(e))return e;try{return parseInt(e)}catch(e){}return e}},qRd9:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="LOAD_LOCAL_DATA",a=function(e){return{type:r,payload:e}}},qiGY:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return _}));var r=n("o0o1"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("QILm"),l=n.n(c),s=n("yXPU"),u=n.n(s),d=n("q1tI"),f=n("/MKj"),m=n("I4sn"),p=n("Q0V0");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e);if(0===t.length)return"";var n=t.map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&");return"?"+n}function g(e){return"/API/".concat(m.a.apiVersion).concat(e)}function _(e,t){return y.apply(this,arguments)}function y(){return(y=u()(a.a.mark((function e(t,n){var r,o,i,c,l,s,u,d,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.token,o=n.method,i=void 0===o?"GET":o,c=n.params,l=n.headers,s=n.body,u=b(c),d=void 0!==s?JSON.stringify(s):void 0,e.next=5,fetch(g(t+u),{method:i,headers:v(v({"Content-Type":"application/json"},r?{Authorization:"Bearer ".concat(r)}:void 0),l),body:d,credentials:"same-origin"});case 5:if((f=e.sent).ok){e.next=8;break}throw f;case 8:return e.abrupt("return",f);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.method,r=void 0===n?"GET":n,a=t.params,o=t.headers,i=t.body,c=Object(f.h)((function(e){return e.user.token})),s=Object(p.a)(),u=s.state,m=s.run,h=l()(s,["state","run"]),_=b(a),y=void 0!==i?JSON.stringify(i):void 0,O=void 0!==o?JSON.stringify(o):"{}",j=d.useMemo((function(){return{method:r,headers:v({"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},JSON.parse(O)),body:y}}),[r,c,O,y]),w=d.useCallback((function(){m(fetch(g(e+_),j).then((function(e){if(!e.ok)throw e;return 204===e.status?Promise.resolve(null):e.json()})))}),[m,e,_,j]);return v({state:u,fetch:w},h)}},"r+hj":function(e,t,n){e.exports={container:"_3VexRiaSHQLoTtJYZvbwTr",checked:"_2Z1WIMFmNw7kv9wM1GBgiF"}},r8Wd:function(e,t,n){},r9rm:function(e,t,n){e.exports=n.p+"assets/images/3fa1d9f9ea0e131f3ddffe94cbbd7970.png"},rbFA:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return j}));var r=n("J4zp"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("i8i4"),l=n.n(c),s=n("17x9"),u=n.n(s),d=n("/MKj"),f=n("LYyr"),m=n("yUE8"),p=Object(m.b)("PremiumOnlyModal",["store"]),h=function(){return{FEATURE_LABEL:[_("Labels are a Premium feature"),n("gjZZ"),i.a.createElement("div",null,i.a.createElement("p",null,_("Save time by batching your tasks together with custom labels like @email, @waiting, or @5_min.")))],FEATURE_TASK_COMMENT:[_("Comments & File Uploads are Premium features"),n("Efda"),i.a.createElement("div",null,i.a.createElement("p",null,_("Save time by keeping all the information you need organized right with your tasks. Upload any file \u2013 documents, photos, spreadsheets, PDFs \u2013 and add additional notes to your tasks.")))],FEATURE_PROJECT_COMMENT:[_("Project Comments and Uploads are Premium features"),n("Efda"),i.a.createElement("div",null,i.a.createElement("p",null,_("Keep all the project-level information you need neatly organized in one place. Upload relevant files and save important project details in additional notes.")))],FEATURE_REMINDER:[_("Reminders are a Premium feature"),n("Kk46"),i.a.createElement("div",null,i.a.createElement("p",null,_("Never forget a task again. Send yourself a reminder by email or push notification at a specific date & time or location.")))],FEATURE_UNLIMITED_REMINDER:[_("Get unlimited Reminders!"),n("Kk46"),i.a.createElement("div",null,i.a.createElement("p",null,_("You\u2019ve reached your limit of 5 task reminders. Upgrade to Premium to get unlimited reminders \u2013 via email or push notification \u2013 for any task.")))],FEATURE_FILTER:[_("Custom Filters are a Premium feature"),n("l86G"),i.a.createElement("div",null,i.a.createElement("p",null,_("Customize your Todoist with saved searches for your most important task views. For example, all the tasks due in the next 7 days in a specific project.")))],FEATURE_TEMPLATE:[_("Templates are a Premium feature"),n("f9lI"),i.a.createElement("div",null,i.a.createElement("p",null,_("Save time by copying and recreating any project. Create checklists for repetitive work like writing blog posts, preparing for trade shows, or onboarding new clients.")))],FEATURE_EMAIL_FORWARDING:[_("Email Forwarding is a Premium feature"),n("rm0z"),i.a.createElement("div",null,i.a.createElement("p",null,_("Organize your inbox by forwarding emails as tasks to any Todoist project. Or keep all the relevant information organized in one place by forward emails as task and project comments.")))],FEATURE_PROJECT_CALENDAR_FEED:[_("Project Calendar Feeds is a Premium feature"),n("3vOc"),i.a.createElement("div",null,i.a.createElement("p",null,_("Stay on top of your deadlines by viewing any project inside your calendar. Stay on the same page by sharing project calendar feeds with clients, coworkers, or loved ones.")))],FEATURE_COLLABORATOR_LIMIT:[_("Share projects with up to 25 people!"),n("Cxpo"),i.a.createElement("div",null,i.a.createElement("p",null,Object(f.a)(_n("You\u2019ve reached your limit of 1 collaborator per project.","You\u2019ve reached your limit of {n} collaborators per project.",5),{n:5})),i.a.createElement("p",null,_("Upgrade to Premium and share your projects with up to 25 people.")))],FEATURE_TASK_ACTIVITY_LOG:[_("Task Activity Log is a Premium feature"),n("W90o"),i.a.createElement("div",null,i.a.createElement("p",null,_("Get a quick overview of who did what and when for any task. See who created or completed it, changed the due date, added comments or file uploads, and more.")))],FEATURE_PROJECT_ACTIVITY_LOG:[_("Project Activity Log is a Premium feature"),n("W90o"),i.a.createElement("div",null,i.a.createElement("p",null,_("Get a quick overview of who did what and when in any project. See who created or completed tasks, changed due dates, added comments or file uploads, and more.")))],FEATURE_SHARED_PROJECT_FILE_UPLOAD:[_("File Uploads are a Premium feature"),n("anZn"),i.a.createElement("div",null,i.a.createElement("p",null,_("Share any file - documents, photos, spreadsheets, PDFs, and more - with anyone. Uploads stay neatly organized right with your tasks.")))],FEATURE_AUDIO_RECORDING:[_("Audio Recording is a Premium feature"),n("hjWB"),i.a.createElement("div",null,i.a.createElement("p",null,_("Quickly share more details in an audio recording. Audio recordings stay neatly organized with your task and easily accessible to everyone in your shared project.")))],FEATURE_COMPLETED_TASKS_VIEW:[_("The Completed Tasks Overview is a Premium feature"),n("UbEc"),i.a.createElement("div",null,i.a.createElement("p",null,_("Get an overview of all completed tasks across all projects. Review your own progress \u2013 or create reports for your team. Free users can still view completed tasks inside any project.")))],FEATURE_COMPLETED_TASKS_SEARCH:[_("Completed tasks search is a Premium feature"),n("UbEc"),i.a.createElement("div",null,i.a.createElement("p",null,_("Expand your search to all your completed tasks.")))],FEATURE_TASK_LIMIT:[Object(f.a)(_n("You can add a maximum of 1 task per project with your current plan","You can add a maximum of {n} tasks per project with your current plan"),{n:150}),n("UbEc"),i.a.createElement("div",null,i.a.createElement("p",null,_("An upgraded subscription plan will increase the number of tasks that each project can hold.")))]}};function v(e){var t=DIV(),n=GB_showHTML(_("Premium"),t,500,500,{no_side_padding:!0,close_validator_fn:function(){return l.a.unmountComponentAtNode(t),!0}}),r=a()(h()[e],3),o=r[0],c=r[1],s=r[2];l.a.render(i.a.createElement(w,{isEligibleForTrial:!1,feature:e,header:o,headerImg:c,body:s,onLinkClick:function(){n.hide()}}),t)}function b(e){var t=e.onClose,n=e.feature,r=e.isEligibleForTrial,o=a()(h()[n],3),c=o[0],l=o[1],s=o[2];return i.a.createElement(w,{isEligibleForTrial:r,header:c,headerImg:l,body:s,onLinkClick:t})}b.propTypes={onClose:u.a.func,feature:u.a.string.isRequired,isEligibleForTrial:u.a.bool};var g=Object(d.c)((function(e){var t=e.user;return{isEligibleForTrial:!!(!t.free_trail_expires&&!t.is_premium&&t.magic_num_reached)}}))(b);function y(){v("FEATURE_LABEL")}function O(){v("FEATURE_FILTER")}function j(){v("FEATURE_COMPLETED_TASKS_VIEW")}var w=function(e){var t;return t=e.isEligibleForTrial?i.a.createElement("a",{className:"ist_button ist_button_red link_cta",href:"/premium/free_trial",target:"_blank",onClick:e.onLinkClick},_("Start Your Free Trial")):i.a.createElement("a",{className:"ist_button ist_button_red link_cta",href:"/premium/upgrade",target:"_blank",onClick:e.onLinkClick},_("Upgrade now")),i.a.createElement("div",{className:"PremiumOnlyModal"},i.a.createElement("h1",null,e.header,i.a.createElement("img",{src:e.headerImg,alt:""})),i.a.createElement("div",{className:"main_content"},e.body,i.a.createElement("div",{className:"action_holder"},t,i.a.createElement("a",{className:"link_more action",href:"https://todoist.com/premium",target:"_blank",rel:"noopener noreferrer",onClick:e.onLinkClick},_("Learn more about Premium")))))};window.showPremiumModel=v,w.propTypes={isEligibleForTrial:u.a.bool.isRequired,onLinkClick:u.a.func,header:u.a.node,headerImg:u.a.string,body:u.a.node},t.b={showLabel:y,showTaskComment:function(){v("FEATURE_TASK_COMMENT")},showProjectComment:function(){v("FEATURE_PROJECT_COMMENT")},showReminder:function(){var e=p.store.getState().user;v((e.features.restriction||e.restriction||0)>0?"FEATURE_UNLIMITED_REMINDER":"FEATURE_REMINDER")},showFilter:O,showTemplate:function(){v("FEATURE_TEMPLATE")},showEmailForwarding:function(){v("FEATURE_EMAIL_FORWARDING")},showProjectCalendarFeed:function(){v("FEATURE_PROJECT_CALENDAR_FEED")},showCollaboratorLimit:function(){v("FEATURE_COLLABORATOR_LIMIT")},showTaskActivityLog:function(){v("FEATURE_TASK_ACTIVITY_LOG")},showProjectActivityLog:function(){v("FEATURE_PROJECT_ACTIVITY_LOG")},showSharedProjectFileUpload:function(){v("FEATURE_SHARED_PROJECT_FILE_UPLOAD")},showAudioRecording:function(){v("FEATURE_AUDIO_RECORDING")},showCompletedTasksView:j,showCompletedTasksSearch:function(){v("FEATURE_COMPLETED_TASKS_SEARCH")},showTaskLimit:function(){v("FEATURE_TASK_LIMIT")}}},rcvD:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("RIqP"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("Q63H"),l=n("AnGN");function s(){return!l.o}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emoji",n=Object(c.parse)(e).filter((function(e){return e.url.length>0}));if(!n.length)return e;var r=0,o=n.reduce((function(n,o){var c=e.substring(r,o.indices[0]);return c&&(n=[].concat(a()(n),[c])),n=[].concat(a()(n),[i.a.createElement("span",{key:r,className:t},s()?i.a.createElement("img",{className:"emoji",alt:o.text,src:o.url}):i.a.createElement("span",{className:"emoji"},o.text))]),r=o.indices[1],n}),[]),l=e.substring(r,e.length);return l?[].concat(a()(o),[l]):o}},rk27:function(e,t){window.track=function(e,t,n,r,a){var o;try{if(window.ga)return window.ga("send","event",e,t,n,r);if(o=window._gaq)return o.push(["_trackEvent",e,t,n,r,a])}catch(e){}},$AEV(window,"load",(function(){var e,t,n,r,a;if(window.ga)return e=window.location.hash,a=(t=[null,null,null])[0],r=t[1],n=t[2],-1!==e.indexOf("utm_source")&&(a=e.match(/utm_source=([^&]+)/)[1],e=e.replace(/utm_source=([^&]+)&?/,"")),-1!==e.indexOf("utm_medium")&&(r=e.match(/utm_medium=([^&]+)/)[1],e=e.replace(/utm_medium=([^&]+)&?/,"")),-1!==e.indexOf("utm_campaign")&&(n=e.match(/utm_campaign=([^&]+)/)[1],e=e.replace(/utm_campaign=([^&]+)&?/,"")),a&&r&&n?(ga("set","campaignSource",a),ga("set","campaignMedium",r),ga("set","campaignName",n),window.location.hash=e):void 0}))},rm0z:function(e,t,n){e.exports=n.p+"assets/images/808a60195ce0407ef122446971ea9df7.png"},rrmy:function(e,t,n){},"s+Lk":function(e,t,n){"use strict";var r=n("Ir2J"),a=n("tChx"),o=n("+grC"),i=n("oHMr"),c=n("n7q7"),l=Math.pow(2,28)-1;var s=function(e){return e>l},u=n("3EZw"),d=n.n(u)()((function(e,t){return Object(c.a)(t)||s(t)?t:e.user.unique_prefix<<28|t})),f=n("ZnB/"),m=n("gd9Y"),p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){try{for(var n=0;n<t.length;n++){var r=t[n](e);if(r)return r}}catch(e){}return{type:"invalid"}}}((function(e){return"today"===e?{type:"today"}:null}),(function(e){return"overdue, today"===e?{type:"today"}:null}),(function(e){return"upcoming"===e||"overdue, 7 days"===e||"next7days"===e?{type:"upcoming"}:null}),(function(e){return"inbox"===e?{type:"inbox"}:null}),(function(e){return"teaminbox"===e?{type:"teaminbox"}:null}),(function(e){return"_blank"===e||"blank"===e?{type:"blank"}:null}),(function(e){var t=/project\?id=(\d+)/.exec(e);return t?{type:"project",id:parseInt(t[1])}:t}),(function(e){var t=/project:(\d+)/.exec(e);return t?{type:"project",id:parseInt(t[1])}:t}),(function(e){var t=/_project_(\d+)/.exec(e);return t?{type:"project",id:parseInt(t[1])}:t}),(function(e){var t=/label\?name=(.+)/.exec(e);return t?{type:"label",name:t[1]}:t}),(function(e){var t=/label:(\d+)/.exec(e);return t?{type:"label",id:parseInt(t[1])}:t}),(function(e){var t=/filter\?id=(\d+)/.exec(e);return t?{type:"filter",id:parseInt(t[1])}:t}),(function(e){var t=/filter:(\d+)/.exec(e);return t?{type:"filter",id:parseInt(t[1])}:t})),h={isFirstShow:!0,navigate:function(){},init:function(e){var t=e.navigate;this.navigate=t},show:function(){var e=o.a.getHash(),t=h.getStartPagePath(),n=window.location.pathname,a="/app"===n||"/app/"===n,i=h.isFirstShow?a&&!e:t!==n;if(e&&h.isFirstShow&&"start"!==e&&-1===e.indexOf("utm_source"))return o.a.updateView(e,!0),r.a.hide(),h.isFirstShow=!1,void Signals.sendSignal("start_page_loaded");i&&this.navigate(t,{replace:!0}),h.isFirstShow&&(r.a.hide(),h.isFirstShow=!1,Signals.sendSignal("start_page_loaded"))},getStartPagePath:function(){var e=window.Settings&&window.Settings.START_PAGE||"today";a.a.deselectCurrent();var t=i.default.getState(),n=p(e);switch(n.id&&(n.id=d(t,n.id)),n.type){case"today":return Object(m.d)({type:"today"});case"upcoming":return Object(m.d)({type:"upcoming"});case"inbox":var r=t.user.inbox_project;return Object(m.d)({type:"project",projectId:r});case"teaminbox":var o=t.user.team_inbox;if(o)return Object(m.d)({type:"project",projectId:o});break;case"project":var c=n.id;if(t.projects[c])return Object(m.d)({type:"project",projectId:c});break;case"label":var l=n.name;if(l)return Object(m.d)({type:"label",labelName:l});break;case"filter":var s=n.id;if(Object(f.d)(t,s))return Object(m.d)({type:"filter",filterId:s});break;case"invalid":return Object(m.d)({type:"search",searchQuery:e})}return Object(m.d)({type:"today"})}};t.a=h},sDGk:function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return L})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return F})),n.d(t,"g",(function(){return z})),n.d(t,"h",(function(){return B})),n.d(t,"i",(function(){return V})),n.d(t,"j",(function(){return $})),n.d(t,"k",(function(){return H})),n.d(t,"l",(function(){return U})),n.d(t,"f",(function(){return q})),n.d(t,"m",(function(){return K})),n.d(t,"u",(function(){return Y})),n.d(t,"w",(function(){return J})),n.d(t,"s",(function(){return Q})),n.d(t,"t",(function(){return Z})),n.d(t,"v",(function(){return X})),n.d(t,"q",(function(){return ee})),n.d(t,"o",(function(){return te})),n.d(t,"n",(function(){return ne})),n.d(t,"r",(function(){return re})),n.d(t,"p",(function(){return ae}));var r=n("RIqP"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("Puqe"),l=n.n(c),s=n("Z0cm"),u=n.n(s),d=n("P/G1"),f=n.n(d),m=n("mX6p"),p=n("wkB0"),h=n("3/82"),v=n("MrOw"),b=n("Qi13"),g=n("RZq6"),_=n("TQFH"),y=n("Pxnj"),O=n("kbOS"),j=n("Vdij"),w=n("0tNw"),E=n("op67"),k=n("dLxo"),D=n("Vbab"),C=n("/uLG"),S=n("SoKn"),I=n("PRk6");function T(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R="PROJECT_ADD",N="PROJECT_DUPLICATE",L="PROJECT_DUPLICATE_NOTIFY",M="PROJECT_ARCHIVE",F="PROJECT_ARCHIVED_FETCHED",z="PROJECT_MOVE_AND_REORDER",B="PROJECT_MOVE_AND_REORDER_UNDO",V="PROJECT_REMOVE",$="PROJECT_UNARCHIVE",H="PROJECT_UPDATE",U="PROJECT_UPDATE_LOCAL",q="PROJECT_LOCALIZE_INBOXES";function G(e){"teams"===e.current.plan_name?Object(j.a)({type:"PROJECTS",userPlanLimits:e}):"pro"===e.current.plan_name?Object(j.b)({type:"PROJECTS_PRO",userPlanLimits:e}):Object(j.b)({type:"PROJECTS_FREE",userPlanLimits:e})}function W(e){var t=e.parent_id,n=e.child_order;return function(e,r){var a=r();e(Q(Object(O.g)(t)(a).filter((function(e){return e.child_order>=n})).map((function(e){return{id:e.id,child_order:e.child_order+1}})),{noUndo:!0}))}}function K(e){var t=e.name,n=e.color,r=void 0===n?y.a:n,a=e.parent_id,o=void 0===a?null:a,i=e.is_favorite,c=void 0!==i&&i,l=e.child_order,s=e.view_style,u=void 0===s?"list":s;return function(e,n){if(!t||""===t.trim())throw new Error("project name cannot be empty");var a=n();if(!Object(w.canAddProjects)(a))return G(Object(w.getUserPlan)(a)),null;t=Object(p.b)(t),e(W({parent_id:o,child_order:l}));var i={id:b.a.generate("project"),name:t.trim(),color:r,parent_id:o,child_order:l,is_favorite:c?1:0,collapsed:0,is_archived:0,view_style:u};return v.default.getInstance().queueUpdate({type:"project_add",temp_id:i.id,args:i}),e({type:R,payload:i}),P(P({},i),{},{shared:!1,is_deleted:0,sync_id:null})}}function Y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!(t=t.map((function(e){return b.a.getRealId(e)}))).find((function(e){return Object(m.a)(e)&&Object(h.b)(e)}))){var r,a=T(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;v.default.getInstance().queueUpdate({type:"project_delete",args:{id:o}})}}catch(e){a.e(e)}finally{a.f()}return{type:V,payload:t}}g.default.captureInfoLog("Attempt to delete project with non-unique ID",{ids:t})}function J(e,t){return function(n){e=b.a.getRealId(e);var r=P({},t);(Object.prototype.hasOwnProperty.call(r,"indent")||Object.prototype.hasOwnProperty.call(r,"item_order")||Object.prototype.hasOwnProperty.call(r,"parent_id")||Object.prototype.hasOwnProperty.call(r,"child_order"))&&(console.log("[warning] ordering structure should not be updated by PROJECT_UPDATE action"),r=l()(r,["indent","item_order","parent_id","child_order"])),r.name&&(r.name=Object(p.b)(r.name)),v.default.getInstance().queueUpdate({type:"project_update",args:P({id:e},r)}),n({type:H,payload:i()({},e,r)})}}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.noUndo,r=void 0!==n&&n;return function(t,n){var a=n().projects;if(a){var o,i=(e=e.map(Object(h.g)(["id","parent_id"]))).map((function(e){e=P({},e);var t=a[e.id];return t.parent_id===e.parent_id&&delete e.parent_id,t.child_order===e.child_order&&delete e.child_order,e})).filter((function(e){return void 0!==e.parent_id||void 0!==e.child_order})),c=T(i);try{for(c.s();!(o=c.n()).done;){var l=o.value,s=l.id,u=l.parent_id;void 0!==u&&v.default.getInstance().queueUpdate({type:"project_move",args:{id:s,parent_id:u}})}}catch(e){c.e(e)}finally{c.f()}var d=i.filter((function(e){return void 0!==e.child_order})).map((function(e){return{id:e.id,child_order:e.child_order}}));0!==d.length&&v.default.getInstance().queueUpdate({type:"project_reorder",args:{projects:d}}),i.length>0&&t({type:z,payload:{orders:i,noUndo:r}})}}}function Z(){return function(e,t){var n=t().undo;if(n.type===B){var r,a=f()(n.projects),o=T(a);try{for(o.s();!(r=o.n()).done;){var i=r.value,c=i.id,l=i.parent_id;void 0!==l&&v.default.getInstance().queueUpdate({type:"project_move",args:{id:c,parent_id:l}})}}catch(e){o.e(e)}finally{o.f()}var s=a.filter((function(e){return void 0!==e.child_order})).map((function(e){return{id:e.id,child_order:e.child_order}}));s.length>0&&v.default.getInstance().queueUpdate({type:"project_reorder",args:{projects:s}}),e({type:B}),Signals.sendSignal("instant_refresh_interface")}}}function X(e){return function(t){v.default.getInstance().queueUpdate({type:"project_unarchive",args:{id:e.id}}),t({type:$,payload:P(P({},e),{},{is_archived:0})})}}function ee(e){return function(t,n){var r=n().user.token;return fetch("/API/".concat(v.default.getInstance().api_version,"/projects/get_data"),{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"project_id=".concat(e,"&token=").concat(r)}).then((function(e){if(200===e.status)return e.json();throw e})).then((function(e){return t(te(e.project)),e.project_notes&&e.project_notes.length&&t({type:k.c,payload:e.project_notes}),e.items=e.items.map((function(e){return Object(_.m)(e)})),t({type:E.b,payload:{items:e.items}}),e}))}}function te(e){return e=u()(e)?e:[e],{type:F,payload:e}}function ne(e){return function(t){return n("MrOw").default.getInstance().queueUpdate({type:"project_archive",args:{id:e}}),t({type:M,payload:e})}}function re(){return function(e,t){var n=t().user,r={inbox:{id:n.inbox_project,name:Object(D.a)("Inbox")}};n.team_inbox&&(r.teamInbox={id:n.team_inbox,name:Object(D.a)("Team Inbox")}),e({type:q,payload:r})}}function ae(e){return function(t,n){var r=n(),o=Object(w.getUserPlan)(r);if(Object(w.canAddProjects)(r)){var i=Object(O.e)(r,e);if(i){if(i.inbox_project||i.team_inbox)throw new Error("Duplicating an Inbox or Team Inbox project is not supported");var c=function(e,t){var n=t.user,r=P(P({},e),{},{id:b.a.generate("project"),name:Object(D.a)("Copy of {name}").replace("{name}",e.name),child_order:e.child_order+1,inbox_project:!1,team_inbox:!1,is_archived:0,is_deleted:0,is_favorite:0,shared:!1}),o=Object(_.E)(e.id)(t),i=Object(I.b)(e.id)(t),c=[],l={sections:{},tasks:{}};function s(e,t){var i=null==e?o.null:o[e];if(!(null==i?void 0:i.length))return[];var s,u=i.map((function(e){var a=b.a.generate("item"),o=P(P({},e),{},{project_id:r.id,section_id:t,id:a,user_id:n.id,added_by_uid:n.id,date_added:new Date,assigned_by_uid:null,responsible_uid:null});return l.tasks[e.id]=a,o})),d=T(u);try{for(d.s();!(s=d.n()).done;){var f=s.value;null!=f.parent_id&&(f.parent_id=l.tasks[f.parent_id])}}catch(e){d.e(e)}finally{d.f()}c.push.apply(c,a()(u))}s(null,null);var u=i.map((function(e){var t=b.a.generate("section"),n=P(P({},e),{},{id:t,project_id:r.id,date_added:new Date});return l.sections[e.id]=t,s(e.id,t),n}));return{project:r,sections:u,tasks:c,idMapping:l}}(i,r),l=c.project,s=c.sections,u=c.tasks;if(s.length>o.current.max_sections||u.length>o.current.max_tasks)G(o);else{t(W({parent_id:i.parent_id,child_order:i.child_order+1})),t({type:N,payload:{project:l,sections:s,tasks:u}}),v.default.getInstance().queueUpdate({type:"project_add",temp_id:l.id,args:l});var d,f=T(s);try{for(f.s();!(d=f.n()).done;){var m=d.value;v.default.getInstance().queueUpdate({type:"section_add",temp_id:m.id,args:m})}}catch(e){f.e(e)}finally{f.f()}var p,h=T(u);try{for(h.s();!(p=h.n()).done;){var y=p.value;v.default.getInstance().queueUpdate({type:"item_add",temp_id:y.id,args:Object(_.S)(y)})}}catch(e){h.e(e)}finally{h.f()}var j=Object(S.a)(r,{view:"project",projectId:e});if(null!=j){var E=b.a.generate("view_options"),k=P(P({},j),{},{id:E,view_type:"PROJECT",object_id:l.id});v.default.getInstance().queueUpdate({type:"view_options_add",temp_id:E,args:k}),t(Object(C.b)(P(P({},j),{},{viewId:l.id,id:E})))}}}else g.default.captureInfoLog("Attempt to duplicate a project that was not found",{projectId:e})}else G(o)}}},sR72:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),l=n.n(c),s=n("17x9"),u=n.n(s);function d(e){var t=e.size,n=void 0===t?"medium":t,r=i()(e,["size"]);return"large"===n?l.a.createElement("svg",a()({width:"28",height:"28"},r),l.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M19.646 1.146a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L22.792 6H14a9.5 9.5 0 0 0-9.496 9.23l-.004.27A9.5 9.5 0 0 0 14 25a9.504 9.504 0 0 0 9.065-6.649.5.5 0 1 1 .954.3A10.504 10.504 0 0 1 14 26C8.201 26 3.5 21.299 3.5 15.5S8.201 5 14 5h8.792l-3.146-3.146a.5.5 0 0 1-.057-.638z"})):l.a.createElement("svg",a()({width:"24",height:"24"},r),l.a.createElement("path",{fill:"currentColor",d:"M18.121 4l-1.939-1.94a.5.5 0 0 1 .707-.706l2.829 2.828a.5.5 0 0 1 0 .707l-2.829 2.829a.5.5 0 0 1-.707-.708L18.192 5H12a7 7 0 1 0 6.929 8h1.009A8 8 0 1 1 12 4h6.121z"}))}d.propTypes={size:u.a.oneOf(["medium","large"])}},srBm:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r);function o(e,t){t&&("function"==typeof t?t(e):t.current=e)}t.a=function(e,t){return a.a.useCallback((function(n){o(n,e),o(n,t)}),[e,t])}},ssSt:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("AnGN"),a=n("Vbab");function o(e){switch(e){case"command":return r.o?"\u2318":Object(a.a)("ctrl");case"alt":return r.o?"\u2325":Object(a.a)("alt");case"control":return r.o?"\u2303":Object(a.a)("ctrl");case"enter":return r.o?"\u21a9\ufe0e":Object(a.a)("enter")}}},stxT:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.95 12.37v4.72L6 16.41v-4.04h4.95zm0-5.39v4.78H6v-4.1l4.95-.68zm7.12 5.39v5.7l-6.58-.9v-4.8h6.58zm0-6.37v5.76H11.5V6.91L18.07 6z"});function i(e){return r.createElement("svg",a({width:24,height:24},e),o)}n.p},t4uw:function(e,t,n){"use strict";function r(e){var t=e.split(" ");return t.length>1?t[0]+" "+t[1].substring(0,1)+".":t[0]}n.d(t,"a",(function(){return r}))},t6YY:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI");function l(e){var t=e.small,n=void 0!==t&&t,r=i()(e,["small"]),o=n?{width:"18",height:"18"}:{width:"24",height:"24"};return c.createElement("svg",a()({viewBox:"0 0 24 24",className:"icon_close"},o,r),c.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M5.146 5.146a.5.5 0 0 1 .708 0L12 11.293l6.146-6.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 0 .708L12.707 12l6.147 6.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.708 0L12 12.707l-6.146 6.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1 0-.708L11.293 12 5.146 5.854a.5.5 0 0 1-.057-.638z"}))}},t8vb:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return j}));var r=n("QILm"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("q1tI"),l=n.n(c),s=n("/MKj"),u=n("oHMr"),d=n("XOeF"),f=n("jlRT"),m=n("Pxnj"),p=n("NPjY"),h=n("kbOS");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={name:"",color:m.a};var _=Object(s.c)((function(e,t){var n=t.anchorProjectId,r=t.addAbove,a=Object(d.n)(e,n);if(!a){var o=r?Object(h.l)(e):Object(h.k)(e)+1;return{project:g,parentId:void 0,childOrder:o}}var i=b(b({},g),{},{color:a.color}),c=Object(h.h)(n,e);return!r&&c.length>0?{project:i,parentId:n,childOrder:c[0].child_order}:{project:i,parentId:a.parent_id,childOrder:a.child_order+(r?0:1)}}),(function(e){return{onProjectCreate:function(t){var n=t.parentId,r=t.childOrder,o=a()(t,["parentId","childOrder"]),i=e(Object(d.f)(b({parent_id:n,child_order:r},o)));return i&&Signals.sendSignal("refresh_interface"),i}}}))(p.a);function y(e){var t=e.anchorProjectId,n=e.addAbove,r=void 0!==n&&n,a=e.navigateTo;Object(f.b)((function(e){return l.a.createElement(s.a,{store:u.default},l.a.createElement(_,{isOpen:!0,anchorProjectId:t,addAbove:r,onModalClose:e,navigateTo:a}))}))}var O=Object(s.c)((function(e,t){var n=t.projectId;return{project:Object(d.n)(e,n)}}),(function(e,t){var n=t.projectId;return{onProjectUpdate:function(t){e(Object(d.z)(n,t)),Signals.sendSignal("refresh_interface")}}}))(p.a);function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.projectId;Object(f.b)((function(e){return l.a.createElement(s.a,{store:u.default},l.a.createElement(O,{isOpen:!0,projectId:t,onModalClose:e}))}))}},tChx:function(e,t,n){"use strict";var r=n("7SpX"),a=n("yUE8"),o=Object(a.b)("ProjectListUtils",["ProjectList"]);t.a={setCurrentById:function(e,t,n,r,a){return o.ProjectList.setCurrentById(e,t,n,r,a)},createColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.ProjectList.createColor(e,t)},deselectCurrent:function(){return o.ProjectList.deselectCurrent()},flashItemIfNeeded:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(void 0===e&&(e=o.ProjectList.flash_item),e){o.ProjectList.flash_item=null;var t=$("item_".concat(e));t&&(r.a.openParents(t),$isHidden(t)||($fx.highlight(t,{duration:1e3}),window.scrollTo(0,$position(t).y-200)))}}}},tIFn:function(e,t){svgs["ft/ft_aep.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><path d="M5 23h1.5l.7-2h3.4l.7 2H13l-3-8H8l-3 8zm4-6.8l1.2 3.7H7.6L9 16.2zm9.5 5c-.2 1.1-1.2 1.8-2.6 1.8-1.7 0-2.9-1.1-2.9-3 0-1.8 1.2-3 2.8-3 1.4 0 2.7.8 2.7 3v.3h-4.2c0 1 .6 1.7 1.6 1.7.8 0 1.2-.3 1.3-.9h1.3zm-4-1.8H17c0-1-.5-1.4-1.3-1.4-.7 0-1.2.5-1.4 1.4z" fill="#8374E3"/></g></svg>',svgs["ft/ft_ai.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><path d="M6 23h1.5l.7-2h3.4l.7 2H14l-3-8H9l-3 8zm4-6.8l1.2 3.7H8.6l1.3-3.7zm6 .8a1 1 0 0 1-1-1c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1zm-.8 6v-5h1.6v5h-1.6z" fill="#F3A77B"/></g></svg>',svgs["ft/ft_code.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><g stroke="#8397A9" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.3"><path d="M15 13.9l3.4 3.1-3.4 3.1M9 13.9L5.6 17 9 20.1"/></g></g></svg>',svgs["ft/ft_excel.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><g><path d="M5 13.5c0-.3.2-.5.5-.5h13c.3 0 .5.2.5.5v9c0 .3-.2.5-.5.5h-13a.5.5 0 0 1-.5-.5v-9zm5 6.5v2h8v-2h-8zm0-6v2h8v-2h-8zm0 3v2h8v-2h-8z" fill="#84B898"/><path d="M6 14h3v2H6v-2zm0 3h3v2H6v-2zm0 3h3v2H6v-2z" fill="#FFF"/><path d="M6 14h3v2H6v-2zm0 3h3v2H6v-2zm0 3h3v2H6v-2z" fill-opacity=".2" fill="#88C24F"/></g></g></svg>',svgs["ft/ft_extemail.svg"]='<svg width="24" height="17" viewBox="0 0 24 17" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0-6h24v29H0z"/><path d="M2.6 1l-1.1.1-.4.4-.1 1v12l.1 1 .4.4 1 .1h19l1-.1.4-.4.1-1v-12l-.1-1-.4-.4-1-.1h-19zm0-1h18.8c1 0 1.3 0 1.6.3.3.1.6.4.7.7.2.3.3.7.3 1.6v11.8c0 1 0 1.3-.3 1.6-.1.3-.4.6-.7.7-.3.2-.7.3-1.6.3H2.6c-1 0-1.3 0-1.6-.3-.3-.1-.6-.4-.7-.7-.2-.3-.3-.7-.3-1.6V2.6c0-1 0-1.3.3-1.6C.4.7.7.4 1 .3c.3-.2.7-.3 1.6-.3z" fill="#C0C6CC" fill-rule="nonzero"/><path d="M2.6 1l-1.1.1-.4.4-.1 1v12l.1 1 .4.4 1 .1h19l1-.1.4-.4.1-1v-12l-.1-1-.4-.4-1-.1h-19z" fill="#FFF"/><path d="M12 8.5l10.8-5a.5.5 0 0 1 .4 1L12 9.5.8 4.5a.5.5 0 0 1 .4-1l10.8 5z" fill="#C0C6CC" fill-rule="nonzero"/></g></svg>',svgs["ft/ft_generic.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1zM7 21v2h10v-2h1v2c0 .6-.5 1-1 1H7a1 1 0 0 1-1-1v-2h1z" fill="#C0C6CC"/><path d="M11 17v-4.5c0-.3.2-.5.5-.5h1c.3 0 .5.2.5.5V17h2l-3 4-3-4h2z" fill="#8397A9"/></g></svg>',svgs["ft/ft_image.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><circle id="a" cx="3" cy="2" r="1"/><path id="b" d="M1 10.4V12h12V8.3L9.9 3.7 6.1 8.5l-2-2z"/></defs><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><g><path d="M5 21l4-5 2 2 4-5 4 6v4c0 .6-.4 1-1 1H6a1 1 0 0 1-1-1v-2z" fill="#A7D467"/><path d="M8 15a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill="#FED837"/><g transform="translate(5 11)"><use fill="#FFF" xlink:href="#a"/><use fill-opacity=".2" fill="#FED837" xlink:href="#a"/></g><g transform="translate(5 11)"><use fill="#FFF" xlink:href="#b"/><use fill-opacity=".2" fill="#A7D467" xlink:href="#b"/></g></g></g></svg>',svgs["ft/ft_pdf.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><path d="M11.3 11.5c-2.5 1 4.6 11.1 6 8.2 1.6-2.9-12.8 1.4-10.6 3.7 1.9 1.8 7.3-12.9 4.6-11.9z" stroke="#E6786E"/></g></svg>',svgs["ft/ft_pp.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><path d="M5 23h14v1H5v-1zm0-3h14v1H5v-1zm9-3h5v1h-5v-1zm1-3h4v1h-4v-1z" fill="#F3A77B"/><g transform="translate(5 10)"><path d="M4 8a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" fill="#F3A77B"/><circle fill="#FFD3BA" cx="4" cy="4" r="3"/><path d="M4 7a3 3 0 0 0 3-3H4V1a3 3 0 1 0 0 6z" fill="#FDF1EA"/><path fill="#F3A77B" d="M3 1h1v3h3v1H3z"/></g></g></svg>',svgs["ft/ft_psd.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><path d="M6 23h1.6v-3h1.2c1.9 0 3.2-.8 3.2-2.5S10.7 15 8.8 15H6v8zm1.6-4.1v-2.7h1.2c1 0 1.6.3 1.6 1.3 0 .9-.6 1.4-1.6 1.4H7.6zm8 4.1c1.5 0 2.4-.7 2.4-1.8 0-1.3-.9-1.6-2.3-1.8-1-.2-1.3-.3-1.3-.7 0-.5.4-.7 1-.7.7 0 1 .2 1.1.7h1.3c-.1-1.3-1.1-1.7-2.4-1.7-1.1 0-2.3.6-2.3 1.7s.6 1.5 2.2 1.8c1 .1 1.3.3 1.3.8s-.3.7-1 .7c-.9 0-1.2-.3-1.3-1H13c0 1.3 1 2 2.6 2z" fill="#4A90E2"/></g></svg>',svgs["ft/ft_sketch.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a" d="M8.8.5l2.6 3L6 10.2.6 3.5l2.7-3z"/></defs><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><g transform="translate(6 13)"><use fill="#FFF" xlink:href="#a"/><use stroke="#FFA64D" fill-opacity=".2" fill="#FFA64D" xlink:href="#a"/><rect fill="#FFB770" x="3" y="3" width="6" height="1" rx=".5"/></g></g></svg>',svgs["ft/ft_text.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1zM5 23h14v1H5v-1zm0-3h14v1H5v-1zm0-3h14v1H5v-1zm0-3h14v1H5v-1zm0-3h7v1H5v-1z" fill="#C0C6CC"/></g></svg>',svgs["ft/ft_word.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><path d="M5 23h14v1H5v-1zm0-3h14v1H5v-1zm0-3h14v1H5v-1zm0-3h14v1H5v-1zm0-3h7v1H5v-1z" fill="#8BB7EB"/></g></svg>',svgs["ft/ft_zip.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><path d="M6 0h4v18H6V0zm1 3v1h1V3H7zm1 1v1h1V4H8zM7 5v1h1V5H7zm1 1v1h1V6H8zM7 7v1h1V7H7zm1 1v1h1V8H8zM7 9v1h1V9H7zm1 1v1h1v-1H8zm-1 1v1h1v-1H7zm1 1v1h1v-1H8zm-1 1v1h1v-1H7zm1 1v1h1v-1H8zm-2 5h4v4c0 .6-.4 1-1 1H7a1 1 0 0 1-1-1v-4zm1 3v1h2v-1H7zm0-7v1h1v-1H7zM8 2v1h1V2H8zM7 1v1h1V1H7zm1 15v1h1v-1H8z" fill="#8397A9"/></g></svg>'},tN3f:function(e,t,n){"use strict";n.d(t,"a",(function(){return J}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),l=n.n(c),s=n("7W2i"),u=n.n(s),d=n("a1gu"),f=n.n(d),m=n("Nsbk"),p=n.n(m),h=n("lSNA"),v=n.n(h),b=n("q1tI"),g=n.n(b),y=n("17x9"),O=n.n(y),j=n("TSYQ"),w=n.n(j),E=n("4eld"),k=n("lrs5"),D=n("u5z3"),C=n("in4X"),S=n("GpCm");function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var T=["\ud83d\udc4d","\ud83d\udc4e","\u2764\ufe0f\ufe0f","\ud83d\ude04","\ud83d\ude02","\ud83d\ude2e","\ud83d\ude22","\ud83d\ude21","\ud83d\udc4f","\ud83c\udf89"],A=function(e){u()(n,e);var t=I(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),v()(l()(e),"renderReaction",(function(t){var n=e.props,r=n.note,a=n.onSelect,o=n.user,i=n.onRemoveReaction,c=n.onAddReaction;return g.a.createElement("li",{onClick:function(){(r.reactions&&r.reactions[t]&&r.reactions[t].includes(o.id)?i:c)(r.id,t),a()},key:t,className:"comments_reactions_element"},g.a.createElement("span",{className:"only_emojis"},g.a.createElement("span",{className:"emoji"},t)))})),e}return i()(n,[{key:"render",value:function(){return g.a.createElement("ul",{className:"comments_reactions_list"},T.map(this.renderReaction))}}]),n}(g.a.Component);v()(A,"propTypes",{note:O.a.object,onSelect:O.a.func,user:O.a.object,onRemoveReaction:O.a.func,onAddReaction:O.a.func});var x=n("k+IQ"),P=n("UVeO");function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var N=function(e){u()(n,e);var t=R(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),v()(l()(e),"reactionsContainer",g.a.createRef()),v()(l()(e),"state",{showReactions:!1}),v()(l()(e),"toggleReactionsMenu",(function(){e.setState((function(e){return{showReactions:!e.showReactions}}))})),v()(l()(e),"closeReactionsMenu",(function(){e.setState({showReactions:!1})})),e}return i()(n,[{key:"renderReactionsList",value:function(){var e=this.props,t=e.note,n=e.user,r=e.onAddReaction,a=e.onRemoveReaction,o=this.state.showReactions;return g.a.createElement(S.c,{referenceElement:this.reactionsContainer.current,isShown:o,onClose:this.closeReactionsMenu},g.a.createElement("div",{className:"comments_tooltip"},g.a.createElement(A,{onSelect:this.closeReactionsMenu,note:t,user:n,onAddReaction:r,onRemoveReaction:a})))}},{key:"render",value:function(){var e=this.props,t=e.note,n=e.allCollaborators,r=e.user,a=e.onAddReaction,o=e.onRemoveReaction;if(!t.reactions||t.reactions&&0===Object.keys(t.reactions).length)return null;var i=Object.keys(t.reactions).map((function(e){var i=t.reactions[e],c=i.includes(r.id),l="reaction_holder ".concat(c?"reacted":""),s=g.a.createElement("div",null,g.a.createElement(x.a,{userIds:i,allCollaborators:n}));return g.a.createElement("span",{onClick:function(){(c?o:a)(t.id,e)},key:e,className:l},g.a.createElement(C.b,{label:s},g.a.createElement("div",{className:"reaction"},g.a.createElement("span",{className:"only_emojis"},g.a.createElement("span",{className:"emoji"},e)),g.a.createElement("span",{className:"reactions_count"},i.length))))}));return g.a.createElement("div",{className:"comments_actions_line reactions_line"},i,g.a.createElement(E.a,{onClick:this.toggleReactionsMenu,ref:this.reactionsContainer,style:{position:"relative"},className:"comments_actions_button reaction_holder reaction_plus form_action_icon menu_icon",title:_("Add reaction")},g.a.createElement(P.Hb,null)),this.renderReactionsList())}}]),n}(g.a.Component);v()(N,"propTypes",{note:O.a.object.isRequired,user:O.a.object.isRequired,allCollaborators:O.a.object.isRequired,onAddReaction:O.a.func.isRequired,onRemoveReaction:O.a.func.isRequired});var L=n("z430");var M=n("/gRr"),F=n("Vbab"),z=n("CB29");function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var V=function(e){u()(n,e);var t=B(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),v()(l()(e),"state",{showConfirmUpdating:!1,editingText:e.props.note.content}),v()(l()(e),"textareaRef",g.a.createRef()),v()(l()(e),"handleSubmit",(function(t){var n=e.props,r=n.onUpdateNote,a=n.note,o=e.state.editingText;t.preventDefault(),r(a.id,o)})),v()(l()(e),"handleChange",(function(t){e.setState({editingText:t.target.value})})),v()(l()(e),"handleKeyDown",(function(t){var n=Object(M.a)(t);if((t.ctrlKey||t.metaKey)&&"Enter"===n)return t.preventDefault(),e.handleSubmit(t),!1})),e}return i()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.textareaRef.current;t&&(t.focus(),this.clean=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.element,r=void 0===n?document:n,a=t.stopPropagation,o=void 0===a||a,i=function(t){if(t.key&&"Escape"===t.key||27===t.keyCode)return o&&t.stopPropagation(),e(t)};return r.addEventListener("keydown",i),function(){r.removeEventListener("keydown",i)}}((function(){e.props.onEditingClose()}),{element:t}))}},{key:"componentWillUnmount",value:function(){this.clean&&this.clean()}},{key:"render",value:function(){var e=this.props,t=e.note,n=e.onEditingClose,r=this.state.editingText;return g.a.createElement("form",{onSubmit:this.handleSubmit},g.a.createElement("div",{className:"comments_textarea_holder"},g.a.createElement(z.b,{when:r!==t.content}),g.a.createElement(L.a,{autoFocus:!0,placeholder:Object(F.a)("Write a comment"),value:r,minRows:3,cacheMeasurements:!0,onChange:this.handleChange,onKeyDown:this.handleKeyDown,ref:this.textareaRef})),g.a.createElement("div",{className:"btn_area"},g.a.createElement(E.a,{className:"ist_button ist_button_red",type:"submit"},Object(F.a)("Update")),g.a.createElement(E.a,{className:"cancel comments_textarea_cancel",onClick:n},Object(F.a)("Cancel"))))}}]),n}(g.a.Component);v()(V,"propTypes",{note:O.a.object.isRequired,onUpdateNote:O.a.func.isRequired,onEditingClose:O.a.func.isRequired});var $=n("/7zm");function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var U=function(e){u()(n,e);var t=H(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),v()(l()(e),"state",{showDeleteConfirmation:!1}),v()(l()(e),"handleDeleteConfirmationShow",(function(){e.setState({showDeleteConfirmation:!0})})),v()(l()(e),"handleDeleteConfirmationHide",(function(){e.setState({showDeleteConfirmation:!1})})),v()(l()(e),"handleDelete",(function(){e.props.onDelete(),e.handleDeleteConfirmationHide()})),e}return i()(n,[{key:"renderDeleteConfirmation",value:function(){var e=this.state.showDeleteConfirmation;return g.a.createElement($.a,{isOpen:e,confirmLabel:_("Delete"),onConfirm:this.handleDelete,onCancel:this.handleDeleteConfirmationHide},_("Are you sure you want to delete this?"))}},{key:"render",value:function(){var e=this.props.children;return g.a.createElement(g.a.Fragment,null,e({showDeleteConfirmation:this.handleDeleteConfirmationShow}),this.renderDeleteConfirmation())}}]),n}(g.a.Component);v()(U,"propTypes",{children:O.a.func,onDelete:O.a.func});var q=n("EpcT"),G=n("cdNT"),W=n("Ek05"),K=n("0Myy");function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var J=function(e){u()(n,e);var t=Y(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),v()(l()(e),"state",{showMenuReactions:!1}),v()(l()(e),"reactionsRef",g.a.createRef()),v()(l()(e),"toggleReactionsMenu",(function(){e.setState((function(e){return{showMenuReactions:!e.showMenuReactions}}))})),v()(l()(e),"handleEdit",(function(){var t=e.props,n=t.note;(0,t.onEditing)(n.id)})),v()(l()(e),"handleRemoveNote",(function(){var t=e.props;(0,t.onRemoveNote)(t.note.id)})),v()(l()(e),"handleRemoveNote",(function(){var t=e.props;(0,t.onRemoveNote)(t.note.id)})),e}return i()(n,[{key:"renderReactions",value:function(e){var t=this.props,n=t.allCollaborators,r=t.user,a=t.onAddReaction,o=t.onRemoveReaction;return g.a.createElement(N,{note:e,user:r,allCollaborators:n,onAddReaction:a,onRemoveReaction:o})}},{key:"renderPossibleReactions",value:function(e){var t=this.props,n=t.note,r=t.user,a=t.onAddReaction,o=t.onRemoveReaction;return g.a.createElement(A,{onSelect:e,note:n,user:r,onAddReaction:a,onRemoveReaction:o})}},{key:"renderCommentActions",value:function(e){var t=this.props,n=t.user,r=t.allCollaborators,a=this.state.showMenuReactions,o=e.posted_uid===n.id,i=o&&g.a.createElement(E.a,{onClick:this.handleEdit,className:"menu_icon comments_actions_action",title:Object(F.a)("Edit comment"),"aria-label":Object(F.a)("Edit comment")},g.a.createElement(P.F,{className:"comments_actions_icon"})),c=o&&g.a.createElement(U,{onDelete:this.handleRemoveNote},(function(e){var t=e.showDeleteConfirmation;return g.a.createElement(E.a,{onClick:t,className:"menu_icon comments_actions_action",title:Object(F.a)("Delete comment"),"aria-label":Object(F.a)("Delete comment")},g.a.createElement(P.z,{className:"comments_actions_icon"}))})),l=e.uids_to_notify&&e.uids_to_notify.length>0?g.a.createElement("span",{className:"menu_icon comments_actions_action","aria-label":Object(F.a)("People notified")},g.a.createElement(C.b,{label:g.a.createElement(g.a.Fragment,null,g.a.createElement("strong",null,Object(F.a)("People notified")),g.a.createElement(x.a,{userIds:e.uids_to_notify,allCollaborators:r}))},g.a.createElement("span",null,g.a.createElement(P.m,{className:"comments_actions_icon"})))):null;return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"comments_actions"},i,c,g.a.createElement("span",{className:w()("menu_icon comments_actions_action",a&&"comments_actions_action__show"),ref:this.reactionsRef},g.a.createElement(E.a,{onClick:this.toggleReactionsMenu,title:Object(F.a)("Add reaction"),"aria-label":Object(F.a)("Add reaction")},g.a.createElement(P.Rb,{className:"comments_actions_icon"})),g.a.createElement(S.c,{referenceElement:this.reactionsRef.current,isShown:a,onClose:this.toggleReactionsMenu},g.a.createElement("div",{className:"comments_tooltip"},this.renderPossibleReactions(this.toggleReactionsMenu)))),l))}},{key:"renderNote",value:function(){var e=this.props,t=e.forwardedRef,n=e.note,r=e.allCollaborators[n.posted_uid],a=Object(q.f)(r)||Object(F.a)("Someone"),o=W.a.formatView(n.posted);return g.a.createElement(K.a,{id:"comment-".concat(n.id),initialScrollDelay:1500,targetHighlightMode:"fixed",ref:t,style:{opacity:n.is_buffer_obj?.6:1},className:"note_text has_avatar"},g.a.createElement(k.b,{user:r,size:"medium"}),g.a.createElement("div",{className:"comments_meta note_meta"},g.a.createElement("span",{className:"user_name"},a),g.a.createElement("span",{className:"time"},o),this.renderCommentActions(n)),g.a.createElement(G.a,{content:n.content}),g.a.createElement(D.a,{attachment:n.file_attachment}),this.renderReactions(n))}},{key:"renderEditing",value:function(){var e=this.props,t=e.onEditingClose,n=e.note,r=e.onUpdateNote,a=e.allCollaborators,o=e.user,i=n.posted_uid===o.id?o:a[n.posted_uid];return g.a.createElement(K.a,{id:"comment-".concat(n.id),className:"note_text has_avatar"},g.a.createElement(k.b,{user:i,size:"medium"}),g.a.createElement("div",{style:{marginLeft:"40px"}},g.a.createElement(V,{onEditingClose:t,onUpdateNote:r,note:n})))}},{key:"render",value:function(){return this.props.editing?this.renderEditing():this.renderNote()}}]),n}(g.a.Component);v()(J,"propTypes",{forwardedRef:O.a.object,user:O.a.object.isRequired,allCollaborators:O.a.object.isRequired,note:O.a.object.isRequired,onAddReaction:O.a.func.isRequired,onRemoveReaction:O.a.func.isRequired,onRemoveNote:O.a.func.isRequired,onUpdateNote:O.a.func.isRequired,editing:O.a.bool.isRequired,onEditing:O.a.func.isRequired,onEditingClose:O.a.func.isRequired})},u5z3:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7W2i"),l=n.n(c),s=n("a1gu"),u=n.n(s),d=n("Nsbk"),f=n.n(d),m=n("lSNA"),p=n.n(m),h=n("q1tI"),v=n.n(h),b=n("17x9"),g=n.n(b),y=n("J4zp"),O=n.n(y),j=n("EpcT");function w(e){var t=e.attachment,n=v.a.createElement(k,{attachment:t}),r=v.a.createElement(E,{attachment:t}),a="file_attachment ".concat(n?"has_image":""," ").concat(r?"has_content":"");return v.a.createElement("div",{className:a},v.a.createElement("a",{href:t.url,target:"_blank",rel:"noreferrer noopener"},n,r))}function E(e){var t=e.attachment;return t.image&&-1!==t.image.indexOf(".gif")?null:v.a.createElement("div",{className:"content_holder"},t.title&&v.a.createElement("div",{className:"text"},$trim(t.title,65)),t.description&&v.a.createElement("div",{className:"desc_text"},$trim(t.description,200)))}function k(e){var t=e.attachment;if(!t.image)return null;var n=Array.from(Object(j.b)(t.image_width,t.image_height,120,90)),r=O()(n,2),a=r[0],o=r[1],i=-1===t.image.indexOf("resizeist")?"https://image-resize.todoist.com/?url=".concat(encodeURIComponent(t.image),"&width=").concat(a,"&height=").concat(o,"&fallback=true"):t.image;return v.a.createElement("div",{className:"image_holder"},v.a.createElement("img",{src:i}))}w.propTypes={attachment:g.a.object},E.propTypes={attachment:g.a.object},k.propTypes={attachment:g.a.object};var D=n("PJYZ"),C=n.n(D),S=n("in4X"),I=n("jlRT"),T=n("UVeO");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var P=function(e){l()(n,e);var t=x(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),p()(C()(e),"state",{showBigImage:!1}),p()(C()(e),"showBigImage",(function(t){t.preventDefault(),e.setState({showBigImage:!0})})),p()(C()(e),"hideBigImage",(function(){e.setState({showBigImage:!1})})),e}return i()(n,[{key:"renderBigImage",value:function(){var e=this.props.attachment,t=this.state.showBigImage,n=this.getBigImageSource();return v.a.createElement(I.a.Box,{overlayProps:{className:"comments_attachment_big_image_modal"},width:"auto",isOpen:t,onDismiss:this.hideBigImage,closeOnOverlayClick:!0},v.a.createElement("div",{className:"comments_attachment_big_image_container"},v.a.createElement("img",{onClick:this.hideBigImage,className:"comments_attachment_big_image",src:n}),v.a.createElement("div",null,v.a.createElement("a",{href:e.file_url,rel:"noreferrer noopener",target:"_blank"},_("View full size in another window")))))}},{key:"getBigImageSource",value:function(){var e=this.props.attachment,t=e.file_url||e.url;return-1===t.indexOf("resizeist")?"https://image-resize.todoist.com/?url=".concat(encodeURIComponent(t),"&maxheight=1600&maxwidth=1600&fallback=true"):t}},{key:"getPreviewSource",value:function(){var e,t=this.props.attachment;if(e="image/svg+xml"===t.file_type?t.file_url:t.image?t.image:t.tn_m[0]){if(-1===e.indexOf("image-resize")&&"image/svg+xml"!==t.file_type){var n=Array.from(Object(j.b)(t.image_width||300,t.image_height||200,300,200)),r=O()(n,2),a=r[0],o=r[1];return"https://image-resize.todoist.com/?url=".concat(encodeURIComponent(e),"&width=").concat(a,"&height=").concat(o,"&fallback=true")}return e}}},{key:"render",value:function(){var e=this.props.attachment,t=e.file_url||e.url,n=this.getPreviewSource();return n?v.a.createElement(v.a.Fragment,null,this.renderBigImage(),v.a.createElement("div",{className:"comments_attachment_container"},v.a.createElement("a",{href:t,onClick:this.showBigImage,className:"file_attachment with_preview",rel:"noreferrer noopener",target:"_blank"},v.a.createElement("img",{className:"comments_attachment_image",src:n})),v.a.createElement(S.b,{label:_("Download")},v.a.createElement("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"comments_attachment_download"},v.a.createElement(T.B,null))))):null}}]),n}(v.a.Component);p()(P,"propTypes",{attachment:g.a.object});var R=n("vZZI");function N(e){var t=e.attachment,n=e.icon;if("ft_email"===n||"ft_outlook_mail"===n)return v.a.createElement("div",{className:"email_attachment"},v.a.createElement(T.G,null),v.a.createElement(R.a,{mode:"full",source:t.file_url}));var r="ft_link"===n?"sm1/link.svg":"ft/".concat(n,".svg"),a="ft_link"===n?"link_icon":"file_icon",o=svgs.getString(r,{className:a});return v.a.createElement("div",{className:"file_attachment ".concat("ft_link"===n?"link_attachment":"")},v.a.createElement("a",{onClick:"ft_extemail"===n?function(){return function(e){GB_show(e.file_name,e.file_url,500,800);var t=DIV({c:"orginal_link"},A({href:e.file_url,target:"_blank"},_("View in another window"))),n=$last(GB_CURRENT);return $addAfter(t,n.iframe),!1}(t)}:void 0,href:t.file_url,target:"_blank",rel:"noopener noreferrer"},v.a.createElement("span",{dangerouslySetInnerHTML:{__html:o}}),v.a.createElement("span",{className:"text"},$trim(t.file_name||"",50))))}N.propTypes={attachment:g.a.object,icon:g.a.string};var L={__html:svgs.getString("sm1/link.svg")};function M(e){var t=e.attachment;return v.a.createElement("div",{className:"audio_attachment"},v.a.createElement("audio",{volume:1,controls:!0,src:t.file_url}),v.a.createElement("a",{href:t.file_url,className:"audio_link",rel:"noopener noreferrer",target:"_blank",dangerouslySetInnerHTML:L}))}M.propTypes={attachment:g.a.object.isRequired};var F=n("wrHN");n("aiib");function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var B=function(e){l()(n,e);var t=z(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"getFileType",value:function(){var e=this.props.attachment;return e.file_underlying_type||e.file_type||""}},{key:"getFileName",value:function(){var e=this.props.attachment;return"string"==typeof e.file_name&&e.file_name.toLowerCase()||""}},{key:"getFileURL",value:function(){var e=this.props.attachment;return"string"==typeof e.file_url&&e.file_url.toLowerCase()||""}},{key:"renderIconAttachment",value:function(e){var t=this.props.attachment;return v.a.createElement(N,{attachment:t,icon:e})}},{key:"isWebsite",value:function(e){var t=e.resourceType,n=e.attachment;return("website"===t||"rich"===t)&&n.title&&n.url}},{key:"isImage",value:function(e){var t=e.attachment;return(t.file_url||t.url)&&(t.image||t.tn_m)}},{key:"isOutlook",value:function(e){var t=e.resourceType,n=e.ftype;return"outlook/mail"===t||"td/outlook"===n}},{key:"isLink",value:function(e){return 0===e.ftype.indexOf("td/hyperlink")}},{key:"isEmail",value:function(e){return 0===e.ftype.indexOf("td/")}},{key:"isAudio",value:function(e){var t=e.attachment,n=e.ftype,r=t.file_url;return r&&(-1!==r.indexOf("cloudfront.net")||-1!==r.indexOf("files.todoist.com")||-1!==r.indexOf("local.todoist.com"))&&Object(j.c)(n)}},{key:"isPDF",value:function(e){return-1!==e.ftype.indexOf("pdf")}},{key:"isExcel",value:function(e){var t=e.fname,n=e.ftype;return-1!==t.indexOf(".xl")||-1!==n.indexOf("spreadsheet")}},{key:"isCode",value:function(e){var t=e.fname;return-1!==t.indexOf(".py")||-1!==t.indexOf(".php")||-1!==t.indexOf(".java")||-1!==t.indexOf(".rb")||-1!==t.indexOf(".js")}},{key:"isExtemail",value:function(e){var t=e.ftype,n=e.furl,r=e.attachment;return-1!==t.indexOf("/extemail")||-1!==n.indexOf(".email.")||"email"===r.resource_type}},{key:"renderContent",value:function(){var e=this.props.attachment;if(!e)return null;var t=this.getFileType(),n=this.getFileName(),r={ftype:t,fname:n,furl:this.getFileURL(),resourceType:e.resource_type||"file",attachment:e};return this.isWebsite(r)?v.a.createElement(w,{attachment:e}):this.isImage(r)?v.a.createElement(P,{attachment:e}):this.isOutlook(r)?this.renderIconAttachment("ft_outlook_mail"):this.isLink(r)?this.renderIconAttachment("ft_link"):this.isEmail(r)?this.renderIconAttachment("ft_email"):this.isAudio(r)?v.a.createElement(M,{attachment:e}):this.isPDF(r)?this.renderIconAttachment("ft_pdf"):this.isExcel(r)?this.renderIconAttachment("ft_excel"):-1!==n.indexOf(".doc")||-1!==t.indexOf("document")?this.renderIconAttachment("ft_word"):-1!==n.indexOf(".pp")?this.renderIconAttachment("ft_pp"):-1!==n.indexOf(".zip")?this.renderIconAttachment("ft_zip"):-1!==n.indexOf(".psd")?this.renderIconAttachment("ft_psd"):-1!==n.indexOf(".sketch")?this.renderIconAttachment("ft_sketch"):-1!==n.indexOf(".aep")?this.renderIconAttachment("ft_aep"):-1!==n.indexOf(".ai")?this.renderIconAttachment("ft_ai"):this.isCode(r)?this.renderIconAttachment("ft_code"):this.isExtemail(r)?this.renderIconAttachment("ft_extemail"):0===t.indexOf("text/")?this.renderIconAttachment("ft_text"):this.renderIconAttachment("ft_generic")}},{key:"render",value:function(){return v.a.createElement(F.a,{showErrorMsg:!1},this.renderContent())}}]),n}(v.a.Component);p()(B,"propTypes",{attachment:g.a.object});t.a=B},uDSZ:function(e,t,n){"use strict";window.gApiLoaded=function(){gapi.load("auth",{callback:GoogleDrive.onAuthApiLoad}),gapi.load("picker")},window.GoogleDrive={client_id:"600979030768-7o35cjq1gv138e22oj0j39u0bp0mn3hj.apps.googleusercontent.com",api_key:"AIzaSyDg39bq60B0EMj4j86x93PJr_eY91_SPTA",oauthtoken:null,picker:null,loading:!1,load:function(){GoogleDrive.loading=!0;var e=SCRIPT({type:"text/javascript",src:"https://apis.google.com/js/api.js?onload=gApiLoaded"});$add($body(),e)},onAuthApiLoad:function(){window.gapi.auth.authorize({client_id:GoogleDrive.client_id,scope:["https://www.googleapis.com/auth/drive.file"]},GoogleDrive.handleAuthResult)},handleAuthResult:function(e){e&&!e.error&&(GoogleDrive.oauthtoken=e.access_token,GoogleDrive.createPicker(),GoogleDrive.loading=!1)},createPicker:function(){var e=new google.picker.DocsView,t=(new google.picker.DocsView).setEnableTeamDrives(!0);GoogleDrive.picker=(new google.picker.PickerBuilder).enableFeature(google.picker.Feature.SUPPORT_TEAM_DRIVES).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).addView(e).addView(t).setOAuthToken(GoogleDrive.oauthtoken).setDeveloperKey(GoogleDrive.api_key).setCallback(GoogleDrive.pickerCallback).build(),GoogleDrive.show()},show:function(){GoogleDrive.picker.setVisible(!0),$map($$("iframe.picker-dialog-frame"),(function(e){$setVisibility(e,!0)}))},hide:function(){GoogleDrive.picker&&GoogleDrive.picker.setVisible(!1)},filesSelected:function(e){},pickerCallback:function(e){e[google.picker.Response.ACTION]==google.picker.Action.PICKED&&GoogleDrive.filesSelected(e[google.picker.Response.DOCUMENTS])}}},uNXK:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return j}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("lSNA"),l=n.n(c),s=n("sEfC"),u=n.n(s),d=n("7GkX"),f=n.n(d),m=n("b3vA"),p=n.n(m),h=n("RZq6");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _="MODEL_BRIDGE_UPDATE",y=new(function(){function e(){var t=this;a()(this,e),l()(this,"handleModelUpdate",(function(e){try{if(1===f()(e)||0===f()(e))throw new Error("Assertion error: update should be a single key object");t.dispatchBridgeUpdate(e)}catch(e){h.default.captureError(e,{tags:{critical:"model_bridge"}})}})),l()(this,"dispatchBridgeUpdate",(function(e){t.store.dispatch({type:_,payload:e})})),l()(this,"dispatchBridgeUpdateDebounced",u()(this.dispatchBridgeUpdate,30))}return i()(e,[{key:"init",value:function(e){this.store=e,Signals.connect("bridge:model_update",this.handleModelUpdate)}}]),e}()),O=p()((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)})),j=function(e){return function(t){return function(n){var r=e.getState(),a=t(n),o=function(e,t){var n,r={},a=b(f()(e));try{for(a.s();!(n=a.n()).done;){var o=n.value;e[o]!==t[o]&&(r[o]=e[o])}}catch(e){a.e(e)}finally{a.f()}return r}(e.getState(),r);return o=O(o),Signals.sendSignal("bridge:redux_update",o),a}}}},uij1:function(e,t){var n=$toDOM('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M11.23 13.7l-2.15-2a.55.55 0 0 0-.74-.01l.03-.03a.46.46 0 0 0 0 .68L11.24 15l5.4-5.01a.45.45 0 0 0 0-.68l.02.03a.55.55 0 0 0-.73 0l-4.7 4.35z" fill-rule="evenodd"/></svg>',!0);IstCheckbox={cls_on:"ist_checkbox_on",cls_down:"ist_checkbox_down",genereate:function(){var e=DIV({c:"ist_checkbox"});return $add(e,n.cloneNode(!0)),$AEV(e,"mousedown",(function(){$addClass(e,IstCheckbox.cls_down)})),$AEV(e,"mouseout",(function(){$removeClass(e,IstCheckbox.cls_down)})),e},setChecked:function(e,t){e&&(t?$addClass(e,IstCheckbox.cls_on):$removeClass(e,IstCheckbox.cls_on),e.checked=t)}}},uzpC:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c),s=n("TSYQ"),u=n.n(s),d=n("4eld"),f=n("fCkL"),m=n("hzT6"),p=n("N8Tj"),h=n("92A6");function v(e){var t=e.className,n=e.item,r=e.onSelect,o=e.showTooltip,c=void 0===o||o;return i.a.createElement(f.a,{selectedItems:[n],selectedDate:n.due,placement:"bottom-start",onDateSelect:r,referenceElement:function(e){return i.a.createElement(b,a()({},e,{item:n,className:t,showTooltip:c}))}})}v.propTypes={className:l.a.string,item:l.a.object.isRequired,onSelect:l.a.func.isRequired,showTooltip:l.a.bool};var b=i.a.forwardRef((function(e,t){var n=e.item,r=e.isExpanded,a=e.onClick,o=e.className,c=e.showTooltip,l=i.a.createElement(d.a,{ref:t,onClick:a,className:u()("item_due_selector icon_pill",o),"aria-expanded":r},i.a.createElement("div",{className:u()("calendar_icon",Object(h.a)(n.due)),dangerouslySetInnerHTML:{__html:svgs.getString("sm1/calendar_small.svg")}}),n.due?i.a.createElement(m.a,{date:n.due,showDue:!0,showTime:!0}):i.a.createElement("span",{className:"item_due_selector_text"},_("Schedule")));return c?i.a.createElement(p.a,{item:n},l):l}));b.propTypes={className:l.a.string,isExpanded:l.a.bool.isRequired,item:l.a.object.isRequired,onClick:l.a.func.isRequired,showTooltip:l.a.bool.isRequired};t.a=v},vBpM:function(e,t){window.GB_CURRENT=[],window.RELOAD_GB_ON_CLOSE=!1,window.GB_SRC_LOADER="/greyBoxLoaderFrame",GB_hide=function(e,t){if(0==GB_CURRENT.length)return!1;var n=GB_getLast();if(0!=t&&n.close_validator_fn&&!n.close_validator_fn())return!1;var r=GB_CURRENT.pop();return r?(window.LocationManager&&window.LocationManager.updateLocation&&r.old_hash!=window.location.hash&&LocationManager.updateLocation(r.old_hash.replace("#","")),r.hide(e),(n=GB_getLast())&&(n.overlay.style.zIndex=n.cur_zindex-5),window.IstTooltip&&window.IstTooltip.hide(!0),_GB_setOverlayDimension(),!1):void 0},GB_getLast=function(){return $last(GB_CURRENT)},GreyBox=new Class({init:function(e){window.LocationManager?this.old_hash=window.LocationManager.getHash():this.old_hash=window.location.hash,this.type="page",this.overlay_click_close=!1,this.salt=0,this.callback_fns=[],this.cur_zindex=1e4,this.customLeft_fn=e.customLeft_fn,this.customTop_fn=e.customTop_fn,this.src_loader=GB_SRC_LOADER,this.show_overlay=!0,this.overlay_transparent=!1,this.no_padding=!1,this.show_shadow=!0,this.full_screen=!1|e.full_screen;var t=window.location.hostname.indexOf("www"),n=this.src_loader.indexOf("www");-1!=t&&-1==n&&(this.src_loader=this.src_loader.replace("://","://www.")),-1==t&&-1!=n&&(this.src_loader=this.src_loader.replace("://www.","://")),this.show_loading=!0,$update(this,e)},addCallback:function(e){e&&this.callback_fns.push(e)},show:function(e){return window.IstTooltip&&window.IstTooltip.hide(),window.IstComplete&&window.IstComplete.hide(),$map($all("video"),(function(e){try{e.pause()}catch(e){}})),this.url=e,GB_getLast()&&(this.cur_zindex=GB_getLast().cur_zindex+500),this.createElements(),GB_CURRENT.push(this),!1},hide:function(e){var t=this;setTimeout((function(){var n=t.callback_fns;n!=[]&&$map(n,(function(e){$b(e,t)()})),t.onHide(),$remove(t.g_window),$remove(t.overlay),null==GB_getLast()&&$map($all("video"),(function(e){try{e.play()}catch(e){}})),t.removeFrame(),t.full_screen&&$removeClass(document.documentElement,"GB_fullscreen_enable"),$REV(window,"scroll",_GB_setOverlayDimension),$REV(window,"resize",_GB_update),window.GB_UPDATE_LOCATION&&0==GB_CURRENT.length&&(window.location=GB_UPDATE_LOCATION),window.RELOAD_GB_ON_CLOSE&&0==GB_CURRENT.length&&window.location.reload(),$isFunction(e)&&e()}),10)},update:function(){if(this.setOverlayDimension(),this.setFrameSize(),this.setWindowPosition(),!(this.full_screen||this.width<350)){var e=$winSize();this.width+50>e.w||e.w<475||!this.tooltip_window&&e.w<750&&e.h<800?$addClass(this.g_window,"GB_full_width"):$removeClass(this.g_window,"GB_full_width")}},createElements:function(){this.initOverlay();var e="GB_window";this.show_shadow&&(e+=" shadow"),this.with_class&&(e+=" "+this.with_class),this.g_window=DIV({id:"GB_window",s:"z-index: "+this.cur_zindex,c:e}),this.no_side_padding&&$addClass(this.g_window,"no_side_padding"),$hide(this.g_window),$add($body(),this.g_window),this.initFrame(),this.initHook(),this.update();"0.8"!=this.overlay.style.opacity&&(this.show_overlay?$setOpacity(this.overlay,.8):$setOpacity(this.overlay,0)),this.full_screen&&($addClass(this.g_window,"GB_window_full"),$addClass(document.documentElement,"GB_fullscreen_enable")),$show(this.g_window),this.onShow(),this.startLoading(),$AEV(window,"scroll",_GB_setOverlayDimension),$AEV(window,"resize",_GB_update)},removeFrame:function(){try{$remove(this.iframe)}catch(e){}this.iframe=null},startLoading:function(){this.iframe&&(this.iframe.src=this.src_loader+"?s="+this.salt++,$show(this.iframe))},setOverlayDimension:function(){var e=$winSize();$isIe()?$setWidth(this.overlay,e.w):$setWidth(this.overlay,"100%");var t=Math.max($scrollTop()+e.h,$scrollTop()+this.height);t<$scrollTop()?$setHeight(this.overlay,t):$setHeight(this.overlay,$scrollTop()+e.h)},setZindex:function(e){this.cur_zindex=e,this.g_window.style.zIndex=e},initOverlay:function(){this.overlay=DIV({c:"GB_overlay"}),this.overlay_transparent&&$addClass(this.overlay,"GB_overlay_transparent"),this.overlay.style.zIndex=this.cur_zindex-5,this.overlay_click_close&&(this.overlay.onclick=GB_hide),$setOpacity(this.overlay,0),$body().insertBefore(this.overlay,$body().firstChild)},initFrame:function(){if(!this.iframe){var e={name:"GB_frame",class:"GB_frame",frameBorder:0};$isIe()&&(e.src='javascript:false;document.write("");'),this.iframe=IFRAME(e),this.middle_cnt=DIV({class:"content"},this.iframe),this.top_cnt=DIV(),this.bottom_cnt=DIV();var t=DIV({c:"GB_Window_holder"});$add(t,this.top_cnt,this.middle_cnt,this.bottom_cnt),$add(this.g_window,t)}},onHide:function(){},onShow:function(){},setFrameSize:function(){},setWindowPosition:function(){},initHook:function(){}}),_GB_update=function(){GB_getLast()&&GB_getLast().update()},_GB_setOverlayDimension=function(){GB_getLast()&&GB_getLast().setOverlayDimension()},GB_showImage=function(e,t,n){return new GB_Gallery({width:300,height:300,type:"image",center_win:!0,caption:e,callback_fn:n}).show(t)},GB_Gallery=GreyBox.extend({init:function(e){this.parent({overlay_click_close:!0}),$update(this,e),this.show_shadow=!1,this.addCallback(this.callback_fn)},initHook:function(){$addClass(this.g_window,"GB_Gallery");var e=DIV({class:"inner"}),t=TD({id:"GB_caption",class:"caption",width:"40%"},this.caption),n=TD({id:"GB_middle",class:"GB_middle middle",width:"20%"}),r=TBODY(TR(t,n)),a=TABLE({cellspacing:"0",cellpadding:0,border:0},r);$add(e,a)},setFrameSize:function(){$setWidth(this.iframe,this.width),$setHeight(this.iframe,this.height)},setWindowPosition:function(){var e=this.overlay.offsetWidth,t=$winSize();$setLeft(this.g_window,(e-50-this.width)/2);var n=$scrollTop()+15;if(this.center_win){var r=(t.h-this.height)/2+20+$scrollTop();r<0&&(r=0),n>r&&(r=n),$setTop(this.g_window,r)}else $setTop(this.g_window,n)},onHide:function(){$removeClass(this.g_window,"GB_Gallery")}}),GB_Window=GreyBox.extend({init:function(e){this.parent({}),this.show_close_img=!0,this.show_custom_img=null,this.show_custom_text=null,this.show_custom_fn=null,$update(this,e),this.addCallback(this.callback_fn)},initHook:function(){$addClass(this.g_window,"GB_Window"),this.header=TABLE({class:"g_header"});var e=TD({class:"caption"},this.caption),t=TD({class:"close"});if(this.show_close_img&&(this.show_custom_img=(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M12 10.62l4.833-4.834a.976.976 0 1 1 1.381 1.38L13.381 12l4.833 4.833a.976.976 0 0 1-1.38 1.381L12 13.381l-4.833 4.833a.976.976 0 0 1-1.381-1.38L10.619 12 5.786 7.167a.976.976 0 1 1 1.38-1.381L12 10.619z"/></svg>',"text/html").body.firstChild,this.show_custom_fn=$p(GB_hide,null)),(this.show_custom_img||this.show_custom_text)&&this.show_custom_fn){if(this.show_custom_img)var n=this.show_custom_img;else n=this.show_custom_text;var r=SPAN(n),a=DIV(r);$AEV(a,"mouseover",(function(){$addClass(r,"on")})),$AEV(a,"mouseout",(function(){$removeClass(r,"on")})),$AEV(a,"mousedown",(function(){$addClass(r,"click")})),$AEV(a,"mouseup",(function(){$removeClass(r,"click")})),$AEV(a,"click",this.show_custom_fn),$add(t,a)}this.no_header||(tbody_header=TBODY(),$add(tbody_header,TR(e,t)),$add(this.header,tbody_header),$add(this.top_cnt,this.header))},setFrameSize:function(){if(this.full_screen)return!1;$setWidth(this.iframe,this.width),$setHeight(this.iframe,this.height)},setWindowPosition:function(){this.full_screen&&($setLeft(this.g_window,0),$setTop(this.g_window,0));var e=$winSize();if(this.customLeft_fn?this.customLeft_fn(this.g_window,this):$setLeft(this.g_window,(e.w-this.width)/2-13),this.customTop_fn)this.customTop_fn(this.g_window,this);else if(this.center_win){var t=(e.h-this.height)/2-20+$scrollTop();t<0&&(t=0),$setTop(this.g_window,t)}else $setTop(this.g_window,$scrollTop())}}),$AEV(window,"message",(function(e){function t(t){return e&&e.data&&$isString(e.data)&&-1!=e.data.indexOf(t)?parseInt(e.data.split(".")[1]):null}var n=GB_getLast(),r=t("greybox_change_height");n&&r&&(n.height=r,n.setFrameSize(),n.setWindowPosition());var a=t("greybox_change_width");n&&a&&(n.width=a,n.setFrameSize(),n.setWindowPosition())}))},vDIV:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.06 11.085l-1.17.955a.5.5 0 11-.633-.774l1.68-1.372a1 1 0 011.379.11l1.44 1.615a.5.5 0 01-.747.665l-.957-1.074a6 6 0 0010.934 4.13l.718.718A7 7 0 015.06 11.085zm13.905 1.62l1.07-.936a.5.5 0 01.66.752l-1.618 1.415a1 1 0 01-1.4-.082l-1.359-1.502a.5.5 0 01.742-.67l.902.997A6 6 0 007.014 8.661l-.718-.719a7 7 0 0112.67 4.764z"});function i(e){return r.createElement("svg",a({width:24,height:24},e),o)}n.p},vNHF:function(e,t,n){"use strict";function r(e,t){$isIe()||$isSafari(!0)?$AEV(e,"keydown",t):$AEV(e,"keypress",t)}function a(e,t){try{e.postMessage(t,"*")}catch(e){}}function o(){function e(e){return t(Math.random()*(1<<(e<<2))^Date.now()).slice(-e)}function t(e){return(0|e).toString(16)}return[e(4)+e(4),e(4),"4"+e(3),t(8|4*Math.random())+e(3),Date.now().toString(16).slice(-10)+e(2)].join("-")}n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}))},vV6a:function(e,t,n){"use strict";n.d(t,"l",(function(){return r})),n.d(t,"k",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"j",(function(){return i})),n.d(t,"i",(function(){return c})),n.d(t,"m",(function(){return l})),n.d(t,"n",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"q",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"o",(function(){return v})),n.d(t,"r",(function(){return b})),n.d(t,"p",(function(){return g})),n.d(t,"f",(function(){return _})),n.d(t,"a",(function(){return y}));var r="query",a="project",o="activity_log",i="label",c="filter",l="today",s="upcoming",u="overdue & !assigned to: other, today & !assigned to: other",d=120,f=60,m=60,p="+",h="@",v="#",b="/",g="\u2116",_="%",y=750},vZZI:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var r=n("lSNA"),a=n.n(r),o=n("pVnL"),i=n.n(o),c=n("QILm"),l=n.n(c),s=n("q1tI"),u=n.n(s),d=n("TSYQ"),f=n.n(d),m=n("IujW"),p=n.n(m),h=n("2lQ7"),v=n.n(h),b=n("jR7N"),g=n.n(b),_=n("1riF"),y=n("BBWQ"),O=/^https:\/\/([a-z]+\.)?todoist.com\/(showTask|app)/;var j=n("rcvD"),w=s.memo((function(e){var t=e.value,n=e.emojiClassName,r=void 0===n?"emoji":n;return s.createElement(s.Fragment,null,Object(j.a)(t,r))}));function E(e){var t=e.value;return s.createElement(s.Fragment,null,t)}function k(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){return"[".concat(t,"](").concat(e,")")}function S(e,t){return function(n){return n.replace(e,t)}}var I=[S(/(^|\s)((?:(?:onenote:)?[\w-]+):\/\/[^\s)]+)\s+[[(]([^)]+)[\])]/gi,(function(e,t,n,r){return t+C(n,r)})),S(/\[\[outlook=(.+?),(.+?)\]\]/gi,(function(e,t,n){return C("#openOutlook/".concat(t),n.trim())})),S(/!!([^\s]|[^\s].*?[^\s])!!/g,(function(e,t){return"**".concat(t,"**")}))],T=["data","jar","java","javascript","vbscript","view-source"];function A(e){var t,n=e,r=k(I);try{for(r.s();!(t=r.n()).done;){n=(0,t.value)(n)}}catch(e){r.e(e)}finally{r.f()}return n}function x(e){var t=(e||"").trim(),n=t.indexOf(":");if(-1===n)return t;var r,a=k(T);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(n===o.length&&t.slice(0,o.length).toLowerCase()===o)return"javascript:void(0)"}}catch(e){a.e(e)}finally{a.f()}return t}function P(e){var t=e.value,n=e.className,r=void 0===n?"code_inline":n;return s.createElement("code",{className:r},t)}n("+jIp");var R=n("VDcK");function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M={link:function(e){var t=e.href,n=e.children;if("javascript:void(0)"===t)return s.createElement(s.Fragment,null,n);var r=!O.test(t),a=Object(y.b)(t);return s.createElement("a",{href:t,target:r&&!a?"_blank":void 0,rel:r&&!a?"noopener noreferrer":void 0,"data-redirect-link":a?"":void 0,onClick:function(e){return e.stopPropagation()}},n)},linkReference:function(e){var t=e.href,n=e.children;return t?s.createElement("a",{href:t},n):s.createElement(s.Fragment,null,"[",n,"]")},code:function(e){var t=e.value,n=e.language,r=e.className,a=void 0===r?"code_block":r;return s.createElement("pre",null,s.createElement("code",{className:f()(a,n?"code_block--language-".concat(n):null)},t))},listItem:function(e){var t=e.checked,n=e.children;if(null!=t){var r=!0===t?"[x] ":"[ ] ";return s.createElement("li",null,r,n)}return s.createElement("li",null,n)}};var F={paragraph:function(e){var t=e.children;return u.a.createElement(u.a.Fragment,null,t)}},z=["strong","emphasis","link"],B=[g.a,{block:["blankLine","indentedCode","fencedCode","blockquote","atxHeading","thematicBreak","list","setextHeading","html","definition","table"]}],V=[g.a,{block:["table"]}],$=[Object(_.a)(T)];function H(e){var t=e.className,n=e.source,r=void 0===n?"":n,a=e.mode,o=l()(e,["className","source","mode"]),c=[[v.a],$,"full"===a?V:B],d=Object(s.useCallback)((function(e){return u.a.createElement(w,i()({},e,{emojiClassName:R.a.hasOnlyEmojis(r)?"only_emojis":void 0}))}),[r]);return u.a.createElement(p.a,i()({},o,{className:f()("markdown_content",t),source:A(r),renderers:L(L(L({},M),"full"!==a?F:void 0),{},{text:"text"===a?E:d,inlineCode:"text"===a?E:P}),disallowedTypes:"text"===a?z:void 0,unwrapDisallowed:!0,plugins:c,transformLinkUri:x}))}},vkXV:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i}));var r="COLLABORATOR_INVITE",a="COLLABORATOR_DELETE",o=1,i=2},vn4g:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),l=n.n(c),s=n("7W2i"),u=n.n(s),d=n("a1gu"),f=n.n(d),m=n("Nsbk"),p=n.n(m),h=n("lSNA"),v=n.n(h),b=n("q1tI");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var _=function(e){u()(n,e);var t=g(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),v()(l()(e),"state",{hasError:!1}),v()(l()(e),"retry",(function(){e.setState({hasError:!1})})),e}return i()(n,[{key:"render",value:function(){var e=this.state.hasError,t=this.props,n=t.children,r=t.fallback;return e?"function"==typeof r?r({retry:this.retry}):r:n}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(b.Component)},vzEX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return s}));var r=null,a="!assigned",o="assigned to: me",i="assigned to:",c="invalid";function l(e,t){if(!e)return{type:r,ids:null};if(e===c)return{type:c,ids:null};if(e===a)return{type:a,ids:null};if(e===o)return{type:o,ids:null};if(!e.includes(i))return{type:r,ids:null};var n=e.split(", "),l=!1,s=n.map((function(e){if(!e.startsWith(i))return null;var n=e.replace("".concat(i," "),"");for(var r in t){var a=t[r];if(a.email===n)return a.id}return l=!0,null})).filter((function(e){return null!==e}));return l?{type:c,ids:null}:{type:i,ids:s}}function s(e,t,n){switch(e){case o:case a:return e;case i:return t&&t.map((function(e){return n[e]?"".concat(i," ").concat(n[e].email):null})).filter(Boolean).join(", ")||r;case r:default:return r}}},vzVa:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("q1tI");function a(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e}),[e]),t.current}},w6ha:function(e,t,n){},wA9o:function(e,t,n){"use strict";n.d(t,"c",(function(){return r.a})),n.d(t,"x",(function(){return a.a})),n.d(t,"b",(function(){return J})),n.d(t,"g",(function(){return Z})),n.d(t,"f",(function(){return Q})),n.d(t,"m",(function(){return te})),n.d(t,"r",(function(){return ee})),n.d(t,"j",(function(){return X})),n.d(t,"k",(function(){return ne})),n.d(t,"t",(function(){return re})),n.d(t,"w",(function(){return ve})),n.d(t,"a",(function(){return oe})),n.d(t,"o",(function(){return ie})),n.d(t,"v",(function(){return se})),n.d(t,"p",(function(){return ue})),n.d(t,"u",(function(){return de})),n.d(t,"q",(function(){return fe})),n.d(t,"s",(function(){return pe})),n.d(t,"d",(function(){return he})),n.d(t,"l",(function(){return be})),n.d(t,"e",(function(){return je})),n.d(t,"h",(function(){return Ce})),n.d(t,"i",(function(){return Se})),n.d(t,"n",(function(){return xe}));var r=n("G8pN"),a=n("s2m+"),o=n("J4zp"),i=n.n(o),c=n("pVnL"),l=n.n(c),s=n("lSNA"),u=n.n(s),d=n("QILm"),f=n.n(d),m=n("q1tI"),p=n.n(m),h=n("TSYQ"),v=n.n(h),b=n("ozIZ"),g=n.n(b),_=n("4rNB"),y=n("okMy"),O=n("c9wj");function j(e){return m.forwardRef(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=m.createElement("g",{fill:"currentColor",fillRule:"evenodd",transform:"translate(2 4)"},m.createElement("path",{fillRule:"nonzero",d:"M13.047 2.888C11.962 2.294 10.944 2 10 2 7.56 2 4.63 3.966 1.288 8c1.133 1.368 2.218 2.497 3.253 3.394l-.708.708c-1.068-.93-2.173-2.085-3.315-3.464a1 1 0 010-1.276C4.031 3.121 7.192 1 10 1c1.196 0 2.456.385 3.78 1.154l-.733.734zm-6.02 10.263C8.084 13.72 9.076 14 10 14c2.443 0 5.373-1.969 8.712-6-1.11-1.34-2.176-2.453-3.193-3.341l.708-.709C17.437 5.013 18.695 6.363 20 8c-3.721 4.667-7.054 7-10 7-1.175 0-2.411-.371-3.709-1.113l.735-.736z"}),m.createElement("path",{fillRule:"nonzero",d:"M8.478 11.7l.79-.79a3 3 0 003.642-3.642l.79-.79A4 4 0 018.477 11.7zM6.334 9.602a4 4 0 015.268-5.268l-.78.78A3.002 3.002 0 007.113 8.82l-.78.78z"}),m.createElement("rect",{width:21,height:1,x:-.722,y:7.778,rx:.5,transform:"rotate(-45 9.778 8.278)"}));function k(e){return m.createElement("svg",w({width:24,height:24},e),E)}n.p;function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=m.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"currentColor"},m.createElement("path",{d:"M21.358 12C17.825 7.65 14.692 5.5 12 5.5c-2.624 0-5.67 2.043-9.097 6.181a.5.5 0 000 .638C6.331 16.457 9.376 18.5 12 18.5c2.692 0 5.825-2.15 9.358-6.5z"}),m.createElement("circle",{cx:12,cy:12,r:3.5}));function S(e){return m.createElement("svg",D({width:24,height:24},e),C)}n.p;function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=m.createElement("path",{d:"M11.646 5.646a.5.5 0 01.708.708l-4 4a.5.5 0 01-.708 0l-4-4a.5.5 0 11.708-.708L8 9.293l3.646-3.647z",fill:"currentColor"});function A(e){return m.createElement("svg",I({width:16,height:16,fill:"none"},e),T)}n.p;function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var P=m.createElement("path",{fill:"currentColor",d:"M5.146 5.146a.5.5 0 01.708 0L12 11.293l6.146-6.147a.5.5 0 01.638-.057l.07.057a.5.5 0 010 .708L12.707 12l6.147 6.146a.5.5 0 01.057.638l-.057.07a.5.5 0 01-.708 0L12 12.707l-6.146 6.147a.5.5 0 01-.638.057l-.07-.057a.5.5 0 010-.708L11.293 12 5.146 5.854a.5.5 0 01-.057-.638z"});function R(e){return m.createElement("svg",x({width:24,height:24},e),P)}n.p;function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var L=m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21a9 9 0 100-18 9 9 0 000 18zm0-1a8 8 0 110-16 8 8 0 010 16zm1.18-11.84a.84.84 0 11-1.68 0 .84.84 0 011.68 0zM12.5 10a.5.5 0 01.5.5V15h1a.5.5 0 010 1h-3a.5.5 0 010-1h1v-4h-1a.5.5 0 010-1h1.5z",fill:"currentColor"});n.p;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var F=m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21a9 9 0 100-18 9 9 0 000 18zm0-1a8 8 0 110-16 8 8 0 010 16zm-4.354-8.104a.5.5 0 01.708 0l2.146 2.147 5.146-5.147a.5.5 0 01.708.708l-5.5 5.5a.5.5 0 01-.708 0l-2.5-2.5a.5.5 0 010-.708z",fill:"currentColor"});n.p;function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var B=m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.254 16.992l7.018-12.03a2 2 0 013.455 0l7.018 12.03A2 2 0 0119.018 20H4.982a2 2 0 01-1.728-3.008zm8.242-11.887a1 1 0 00-.36.36l-7.018 12.03A1 1 0 004.982 19h14.036a1 1 0 00.864-1.504l-7.018-12.03a1 1 0 00-1.368-.36zM13 16.5a1 1 0 11-2 0 1 1 0 012 0zm-.014-7.014a.987.987 0 10-1.971.055l.236 4.25c.053.945 1.445.945 1.498 0l.236-4.25.001-.027v-.028z",fill:"currentColor"});n.p;var V=n("SavO"),$=n("5G4A"),H=n.n($);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e){var t=m.useRef(null!=e?e:null);return t.current||(t.current=Object(O.a)("element")),t.current}var W=["","tablet-","desktop-"];function K(e,t){if(!t)return null;var n="string"==typeof t?[H.a["".concat(e,"-").concat(t)]]:t.map((function(t,n){return H.a["".concat(W[n]).concat(e,"-").concat(t)]}));return n}function Y(e,t){return"string"==typeof e||"number"==typeof e?t(e):Array.isArray(e)?e.map(t):void 0}var J=j((function(e,t){var n,r,a,o,i=e.component,c=void 0===i?"div":i,l=e.position,s=void 0===l?"static":l,u=e.display,d=void 0===u?"block":u,p=e.flexDirection,h=void 0===p?"row":p,b=e.flexWrap,g=e.flexShrink,_=e.flexGrow,y=e.alignItems,O=e.justifyContent,j=e.overflow,w=e.width,E=e.height,k=e.background,D=e.borderRadius,C=void 0===D?"none":D,S=e.border,I=void 0===S?"none":S,T=e.minWidth,A=e.maxWidth,x=e.padding,P=e.paddingY,R=e.paddingX,N=e.paddingTop,L=e.paddingRight,M=e.paddingBottom,F=e.paddingLeft,z=e.className,B=e.children,V=f()(e,["component","position","display","flexDirection","flexWrap","flexShrink","flexGrow","alignItems","justifyContent","overflow","width","height","background","borderRadius","border","minWidth","maxWidth","padding","paddingY","paddingX","paddingTop","paddingRight","paddingBottom","paddingLeft","className","children"]),$=null!==(n=null!=N?N:P)&&void 0!==n?n:x,U=null!==(r=null!=L?L:R)&&void 0!==r?r:x,G=null!==(a=null!=M?M:P)&&void 0!==a?a:x,W=null!==(o=null!=F?F:R)&&void 0!==o?o:x;return m.createElement(c,q(q({},V),{},{className:v()(z,H.a.componentBox,K("display",d),"static"!==s?K("position",s):null,null!=T?K("minWidth",String(T)):null,K("maxWidth",A),K("paddingTop",$),K("paddingRight",U),K("paddingBottom",G),K("paddingLeft",W),"flex"===d?K("flexDirection",h):null,"flex"===d?K("flexWrap",b):null,"flex"===d?K("alignItems",y):null,"flex"===d?K("justifyContent",O):null,null!=g?K("flexShrink",String(g)):null,null!=_?K("flexGrow",String(_)):null,K("overflow",j),K("width",w),K("height",E),K("bg",k),"none"!==C?K("borderRadius",C):null,"none"!==I?K("border",I):null)||void 0,ref:t}),B)})),Q=j((function(e,t){e.component;var n=e.width,r=void 0===n?"auto":n,a=e.children,o=f()(e,["component","width","children"]);return m.createElement(J,l()({className:[H.a.componentColumn,"content"!==r?K("columnWidth",r.replace("/","-")):null],minWidth:0,width:"content"!==r?"full":void 0,flexShrink:"content"===r?0:void 0,ref:t},o),a)})),Z=j((function(e,t){var n=e.space,r=e.align,a=e.alignY,o=e.collapseBelow,i=e.children,c=e.className,s=f()(e,["space","align","alignY","collapseBelow","children","className"]);return m.createElement(J,l()({className:[c,H.a.componentColumns,K("space",n)],flexDirection:"desktop"===o?["column","column","row"]:"tablet"===o?["column","row"]:"row",display:"flex",alignItems:Y(a,(function(e){return"top"===e?"flexStart":"bottom"===e?"flexEnd":"center"})),justifyContent:Y(r,(function(e){return"left"===e?"flexStart":"right"===e?"flexEnd":"center"})),ref:t},s),i)}));function X(e){var t=e.weight,n=void 0===t?"regular":t,r=e.className,a=f()(e,["weight","className"]);return m.createElement(J,l()({component:"hr",className:[r,H.a.componentDivider,"regular"!==n?K("dividerWeight",n):null]},a))}var ee=j((function(e,t){var n=e.component,r=e.space,a=e.dividers,o=void 0!==a&&a,i=e.children,c=e.className,s=f()(e,["component","space","dividers","children","className"]),u="ol"===n||"ul"===n?"li":"span"===n||"label"===n?"span":"div";return m.createElement(J,l()({component:n,className:[c,H.a.componentStack,K("space",r)],ref:t},s),m.Children.map(g()(i),(function(e,t){return m.createElement(J,{component:u},o&&t>0?m.createElement(J,{paddingBottom:r},m.createElement(X,{weight:"string"==typeof o?o:void 0})):null,e)})))})),te=j((function(e,t){var n=e.component,r=e.space,a=e.align,o=void 0===a?"left":a,i=e.alignY,c=void 0===i?"center":i,s=e.children,u=e.className,d=f()(e,["component","space","align","alignY","children","className"]),p="ol"===n||"ul"===n?"li":"span"===n||"label"===n?"span":"div";return m.createElement(J,l()({component:n,display:"flex",flexWrap:"wrap",className:[u,H.a.componentInline,K("space",r)],ref:t,alignItems:Y(c,(function(e){return"top"===e?"flexStart":"bottom"===e?"flexEnd":"center"})),justifyContent:Y(o,(function(e){return"left"===e?"flexStart":"right"===e?"flexEnd":"center"}))},d),m.Children.map(g()(s),(function(e){return null!=e?m.createElement(J,{className:H.a.componentInlineItem,component:p},e):null})))}));function ne(e){var t=e.level,n=e.weight,r=void 0===n?"regular":n,a=e.size,o=e.className,i=e.children,c=f()(e,["level","weight","size","className","children"]);return m.createElement(J,l()({className:[o,H.a.componentHeading,"regular"!==r?K("weight",r):null,K("size",a)],component:"h".concat(t)},c),i)}var re=j((function(e,t){var n=e.component,r=void 0===n?"span":n,a=e.size,o=void 0===a?"standard":a,i=e.weight,c=void 0===i?"regular":i,s=e.tone,u=void 0===s?"normal":s,d=e.truncate,p=void 0!==d&&d,h=e.className,v=e.children,b=f()(e,["component","size","weight","tone","truncate","className","children"]);return m.createElement(J,l()({className:[h,H.a.componentText,"standard"!==o?K("size",o):null,"regular"!==c?K("weight",c):null,"normal"!==u?K("tone",u):null],component:r,ref:t},b),p?m.createElement(J,{component:"span",display:"block",overflow:"hidden",className:H.a.truncateText},v):v)})),ae={info:function(e){return m.createElement("svg",N({width:24,height:24,fill:"none"},e),L)},positive:function(e){return m.createElement("svg",M({width:24,height:24,fill:"none"},e),F)},caution:function(e){return m.createElement("svg",z({width:24,height:24,fill:"none"},e),B)},critical:V.a};function oe(e){var t=e.id,n=e.children,r=e.tone,a=e.closeLabel,o=e.onClose,i=ae[r];return m.createElement(J,{id:t,role:"alert","aria-live":"polite",padding:"small",className:[H.a.componentAlert,K("tone",r)]},m.createElement(Z,{space:"small",alignY:"top"},m.createElement(Q,{width:"content"},m.createElement(i,null)),m.createElement(Q,null,m.createElement(J,{paddingY:"xsmall"},n)),null!=o?m.createElement(Q,{width:"content"},m.createElement("button",{type:"button",onClick:o,"aria-label":a},m.createElement(R,null))):null))}function ie(e){var t=e.id,n=e.children,r=e.tone,a=ae[r];return m.createElement(J,{id:t,role:"alert","aria-live":"polite",className:[H.a.componentNotice,K("tone",r)]},m.createElement(Z,{space:"small",alignY:"top"},m.createElement(Q,{width:"content"},m.createElement(a,null)),m.createElement(Q,null,m.createElement(J,{paddingY:"xsmall"},n))))}function ce(e){var t=e.id,n=e.children;return m.createElement(re,{component:"p",tone:"secondary",size:"small",id:t,className:H.a.fieldHint},n)}function le(e){var t=e.label,n=e.secondaryLabel,r=e.auxiliaryLabel,a=e.hint,o=e.className,i=e.children,c=e.maxWidth,l=f()(e,["label","secondaryLabel","auxiliaryLabel","hint","className","children","maxWidth"]),s=G(l.id),u=G(),d=a?v()(u,l["aria-describedby"]):l["aria-describedby"];return m.createElement(J,{className:[o,H.a.componentBaseField],maxWidth:c},m.createElement(J,{component:"span",display:"flex",justifyContent:"spaceBetween",alignItems:"flexEnd",paddingBottom:"small"},m.createElement(re,{component:"label",htmlFor:s},t?m.createElement("span",{className:H.a.primaryLabel},t):null,n?m.createElement("span",{className:H.a.secondaryLabel},"\xa0(",n,")"):null),r?m.createElement(re,{className:H.a.auxiliaryLabel},r):null),i(d?{id:s,"aria-describedby":d}:{id:s}),a?m.createElement(ce,{id:u},a):null)}function se(e){var t=e.id,n=e.label,r=e.secondaryLabel,a=e.auxiliaryLabel,o=e.hint,i=e.type,c=void 0===i?"text":i,s=e.maxWidth,u=f()(e,["id","label","secondaryLabel","auxiliaryLabel","hint","type","maxWidth"]);return m.createElement(le,{id:t,label:n,secondaryLabel:r,auxiliaryLabel:a,hint:o,className:H.a.componentTextField,maxWidth:s},(function(e){return m.createElement(J,{className:H.a.inputWrapper},m.createElement("input",l()({},u,e,{type:c})))}))}function ue(e){var t=e.label,n=e.secondaryLabel,r=e.auxiliaryLabel,a=e.hint,o=e.maxWidth,c=e.showPasswordLabel,s=e.hidePasswordLabel,u=f()(e,["label","secondaryLabel","auxiliaryLabel","hint","maxWidth","showPasswordLabel","hidePasswordLabel"]),d=G(u.id),p=m.useRef(null),h=m.useState(!1),v=i()(h,2),b=v[0],g=v[1],y=b?s:c;function O(){var e;g((function(e){return!e})),null===(e=p.current)||void 0===e||e.focus()}return m.createElement(le,{id:d,label:t,secondaryLabel:n,auxiliaryLabel:r,hint:a,className:[H.a.componentTextField,H.a.componentPasswordField],maxWidth:o},(function(e){return m.createElement(J,{display:"flex",alignItems:"center",className:H.a.inputWrapper},m.createElement("input",l()({},u,e,{ref:p,type:b?"text":"password"})),m.createElement(_.a,{content:y},m.createElement("button",{type:"button",onClick:O,"aria-label":y,tabIndex:-1},b?m.createElement(S,null):m.createElement(k,null))))}))}function de(e){var t=e.id,n=e.label,r=e.secondaryLabel,a=e.auxiliaryLabel,o=e.hint,i=e.maxWidth,c=f()(e,["id","label","secondaryLabel","auxiliaryLabel","hint","maxWidth"]);return m.createElement(le,{id:t,label:n,secondaryLabel:r,auxiliaryLabel:a,hint:o,className:H.a.componentTextArea,maxWidth:i},(function(e){return m.createElement(J,{width:"full"},m.createElement("textarea",l()({},c,e)))}))}function fe(e){var t=e.id,n=e.label,r=e.secondaryLabel,a=e.auxiliaryLabel,o=e.hint,i=e.maxWidth,c=e.children,s=f()(e,["id","label","secondaryLabel","auxiliaryLabel","hint","maxWidth","children"]);return m.createElement(le,{id:t,label:n,secondaryLabel:r,auxiliaryLabel:a,hint:o,className:H.a.componentSelectField,maxWidth:i},(function(e){return m.createElement(J,{className:H.a.selectWrapper},m.createElement("select",l()({},s,e),c),m.createElement(A,{"aria-hidden":!0}))}))}function me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return null==e?void 0:e.trim()})).filter(Boolean);return r.length>0?r.join(" "):void 0}function pe(e){var t=e.label,n=e.hint,r=e.disabled,a=void 0!==r&&r,o=f()(e,["label","hint","disabled"]),i=G(o.id),c=G();return m.createElement(J,{className:[H.a.componentSwitchField,a?H.a.switchDisabled:null]},m.createElement(J,{component:"label",display:"flex",alignItems:"center"},m.createElement(y.a,l()({},o,{disabled:a,id:i,"aria-describedby":me(n?c:null,o["aria-describedby"])})),m.createElement("span",null,t)),n?m.createElement(ce,{id:c},n):null)}var he=j((function(e,t){var n=e.component,r=void 0===n?"a":n,a=e.variant,o=e.size,i=void 0===o?"default":o,c=e.disabled,s=void 0!==c&&c,u=e.openInNewTab,d=void 0!==u&&u,p=e.onClick,h=f()(e,["component","variant","size","disabled","openInNewTab","onClick"]);return m.createElement(J,l()({},h,{component:r,display:"flex",alignItems:"center",justifyContent:"center",className:[H.a.componentButtonLink,"reactist_button",a?"reactist_button--".concat(a):null,"default"!==i?"reactist_button--".concat(i):null],ref:t,target:d?"_blank":void 0,rel:d?"noopener noreferrer":void 0,onClick:function(e){s?e.preventDefault():null==p||p(e)}}))})),ve=j((function(e,t){var n=e.component,r=void 0===n?"a":n,a=e.tone,o=void 0===a?"normal":a,i=e.openInNewTab,c=void 0!==i&&i,s=f()(e,["component","tone","openInNewTab"]);return m.createElement(J,l()({},s,{component:r,display:"inline",className:[H.a.componentTextLink,"normal"!==o?K("tone",o):null],ref:t,target:c?"_blank":void 0,rel:c?"noopener noreferrer":void 0}))})),be=m.forwardRef((function(e,t){var n=e.src,r=e.fallback,a=e.onError,o=f()(e,["src","fallback","onError"]),c=m.useState(n),s=i()(c,2),u=s[0],d=s[1];return m.createElement("img",l()({},o,{ref:t,src:u,onError:r||a?function(e){r&&d(r),null==a||a(e)}:void 0}))})),ge={checked:"M18 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h12zm-2.457 4.293l-5.293 5.293-1.793-1.793a1 1 0 1 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l6-6a1 1 0 1 0-1.414-1.414z",unchecked:"M18 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h12zm0 1H6a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z",mixed:"M18 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h12zm-2 7H8a1 1 0 0 0 0 2h8a1 1 0 0 0 0-2z",filled:"M6 4H18C19.1046 4 20 4.89543 20 6V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18V6C4 4.89543 4.89543 4 6 4Z"};function _e(e){var t=e.checked,n=e.indeterminate,r=e.disabled,a=f()(e,["checked","indeterminate","disabled"]),o=function(e){var t=e.checked,n=e.indeterminate,r=e.disabled;return n?"mixed":t?"checked":r?"filled":"unchecked"}({checked:t,indeterminate:n,disabled:r});return p.a.createElement("svg",l()({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a),p.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:ge[o]}))}var ye=n("r+hj"),Oe=n.n(ye);function je(e){var t=e.label,n=e.className,r=e.style,o=e.checked,c=e.indeterminate,s=void 0!==c&&c,d=f()(e,["label","className","style","checked","indeterminate"]);t||d["aria-label"]||d["aria-labelledby"]||console.warn("A Checkbox needs a label");var p=m.useState(!1),h=i()(p,2),v=h[0],b=h[1],g=m.useRef(null);return m.useEffect((function(){g.current&&(g.current.indeterminate=s)}),[s]),m.createElement(J,{component:"label",display:"flex",alignItems:"center",className:[n,Oe.a.container,u()({},Oe.a.checked,o),"focus-marker-enabled-within"],style:r},m.createElement(a.a,null,m.createElement("input",l()({},d,{ref:g,type:"checkbox",checked:o,onFocus:function(e){var t;null===(t=d.onFocus)||void 0===t||t.call(d,e),b(!0)},onBlur:function(e){var t;null===(t=d.onBlur)||void 0===t||t.call(d,e),b(!1)}}))),m.createElement(_e,{"aria-hidden":!0,checked:o,indeterminate:s,disabled:d.disabled,className:v?"focus-marker":void 0}),t?m.createElement("span",null,t):null)}var we=n("pQux"),Ee=n("bAoV"),ke=n("kTC8"),De=m.createContext({}),Ce=m.forwardRef((function(e,t){var n=e.children,r=f()(e,["children"]),a=we.a({loop:!0});return m.createElement(Ee.a,l()({as:"div"},r,a,{ref:t}),m.createElement(De.Provider,{value:a},n))}));function Se(e){var t=m.useContext(De);return m.createElement(ke.a,l()({},t,e))}var Ie=n("Dn8j"),Te=n.n(Ie),Ae={small:24,medium:36,large:48};function xe(e){var t=e.size,n=void 0===t?"small":t,r=e.label,a=Ae[n];return p.a.createElement("div",{className:Te.a.container,"aria-label":r,"aria-live":"polite",role:"alert"},p.a.createElement("span",null,p.a.createElement("svg",{width:a,height:a,viewBox:"0 0 24 24"},p.a.createElement("g",{fill:"none",fillRule:"nonzero"},p.a.createElement("path",{className:Te.a.spinner,d:"M17.945 3.958A9.955 9.955 0 0 0 12 2c-2.19 0-4.217.705-5.865 1.9L5.131 2.16A11.945 11.945 0 0 1 12 0c2.59 0 4.99.82 6.95 2.217l-1.005 1.741z"}),p.a.createElement("path",{className:Te.a.spinnerBackground,d:"M5.13 2.16L6.136 3.9A9.987 9.987 0 0 0 2 12c0 5.523 4.477 10 10 10s10-4.477 10-10a9.986 9.986 0 0 0-4.055-8.042l1.006-1.741A11.985 11.985 0 0 1 24 12c0 6.627-5.373 12-12 12S0 18.627 0 12c0-4.073 2.029-7.671 5.13-9.84z"})))))}},wOFH:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("rbFA"),l=n("Qi13"),s=n("q1tI"),u=n.n(s),d=n("/MKj"),f=n("jlRT"),m=n("J4zp"),p=n.n(m),h=n("UVeO"),v=n("TcCo"),b=n("XOeF"),g=n("Vbab"),y=n("LYyr"),O=n("7ptE");n("FT93");function j(e){var t=e.projectId,n=e.onClose,r=Object(s.useState)(""),a=p()(r,2),o=a[0],i=a[1],c=Object(s.useState)(!1),l=p()(c,2),m=l[0],_=l[1],j=Object(s.useState)(null),w=p()(j,2),E=w[0],k=w[1],D=Object(s.useState)(!1),C=p()(D,2),S=C[0],I=C[1],T=Object(d.h)((function(e){return Object(b.n)(e,t)})),A=Object(s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e&&e.preventDefault(),_(!1),fetch("/Calendar/get_project_feed_url?project_id=".concat(t)).then((function(e){return e.json()})).then((function(e){i(e.feed_url)})).catch((function(){_(!0)}))}),[t]);if(Object(s.useEffect)((function(){t&&A()}),[t,A]),Object(s.useEffect)((function(){if(S){var e=setTimeout((function(){I(!1)}),1500);return function(){return clearTimeout(e)}}}),[S,I]),!T)return null;function x(e){return e.preventDefault(),Object(O.a)(o).then((function(){I(!0)})).catch((function(){alert(Object(g.a)("Could not copy the URL to the clipboard! Please copy manually."))})),!1}return u.a.createElement(f.a.Box,{isOpen:!0,onDismiss:n},u.a.createElement(f.a.Body,{className:"calendar_feed__container"},u.a.createElement("div",{className:"calendar_feed__header"},u.a.createElement("h1",{className:"calendar_feed__title"},Object(g.a)("Project calendar feed")),u.a.createElement(h.x,{onClick:n})),u.a.createElement("div",{className:"calendar_feed__content"},u.a.createElement("p",null,Object(y.a)(Object(g.a)("Add tasks from \u201c{project_name}\u201d to your calendar and/or share the calendar feed with others."),{project_name:T.name})),u.a.createElement("section",null,u.a.createElement("p",null,Object(g.a)("Subscribe with"),":"),u.a.createElement("a",{href:o,className:"calendar_feed__link"},Object(g.a)("Apple Calendar")),u.a.createElement("a",{href:o,className:"calendar_feed__link"},Object(g.a)("Outlook"))),u.a.createElement("section",null,u.a.createElement("p",null,Object(g.a)("Subscribe with Google Calendar"),":"),m?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,Object(g.a)("There was an error generating the calendar feed.")),u.a.createElement("div",null,u.a.createElement("a",{className:"calendar_feed__link",onClick:A},Object(g.a)("Try again")))):u.a.createElement(u.a.Fragment,null,u.a.createElement("input",{type:"text",readOnly:!0,value:o,onClick:function(e){x(e)},className:"calendar_feed__url"}),u.a.createElement("span",null,S?Object(g.a)("Text copied!"):u.a.createElement("a",{onClick:x,className:"calendar_feed__link"},Object(g.a)("Copy to clipboard"))))))),u.a.createElement(f.a.Actions,{className:"calendar_feed__footer"},"SUCCESS"===E?u.a.createElement("span",null,Object(g.a)("The previous feed was disabled and a new one was created.")):u.a.createElement(u.a.Fragment,null,"ERROR"===E?u.a.createElement("div",null,Object(g.a)("There was an error generating the calendar feed.")):null,"PENDING"===E?u.a.createElement(v.b,null):u.a.createElement("a",{className:"calendar_feed__generate_link",id:"generate_btn",onClick:function(e){e.preventDefault(),k("PENDING");var n=window.$cookie.get("csrf");fetch("/Calendar/disable_project_feed_url?project_id=".concat(t,"&csrf=").concat(n)).then((function(e){return e.text()})).then((function(e){i(e),k("SUCCESS")})).catch((function(){k("ERROR")}))}},Object(g.a)("Disable current feed & generate a new one")," "))))}var w=n("oHMr");var E=n("nZJc"),k=n("5hR1"),D=n("7Q2f"),C=n("4eld"),S=n("K6Df"),I=n("qiGY"),T=n("VKB9"),A=n("FAUZ"),x=n.n(A);function P(e){var t=e.type,n=e.id,r=e.onClose,a=Object(s.useState)(!1),o=p()(a,2),i=o[0],c=o[1],l=Object(I.b)("/email_to_object",{method:"POST",body:{obj_type:t,obj_id:n}}),d=l.state,m=l.fetch,b=Object(I.b)("/email_to_object/disable",{method:"POST",body:{obj_type:t,obj_id:n}}),_=b.state,y=b.fetch,j=Object(T.e)(_.status),w="item"===t||"project_comments"===t?Object(g.a)("Email comments to this task"):Object(g.a)("Email tasks to this project");function A(e){var t;(e.preventDefault(),"resolved"===d.status)&&Object(O.a)(null===(t=d.value)||void 0===t?void 0:t.email).then((function(){c(!0)})).catch((function(){alert(Object(g.a)("Could not copy the email to the clipboard! Please copy manually."))}))}return Object(s.useEffect)((function(){m()}),[m]),Object(s.useEffect)((function(){"resolved"!==j&&"resolved"===_.status&&m()}),[j,_.status,m]),Object(s.useEffect)((function(){if(i){var e=setTimeout((function(){c(!1)}),1500);return function(){return clearTimeout(e)}}}),[i,c]),u.a.createElement(f.a.Box,{isOpen:!0,onDismiss:r},u.a.createElement(f.a.Body,null,u.a.createElement("div",{className:x.a.header},u.a.createElement("h1",{className:x.a.title},w),u.a.createElement(h.x,{onClick:r})),u.a.createElement("div",null,u.a.createElement("p",null,"item"===t||"project_comments"===t?Object(g.a)("Send or forward an email to this address to create a comment."):u.a.createElement(u.a.Fragment,null,Object(g.a)("Send or forward an email to this address to create a task.")," ",Object(g.a)("The email's subject will become the content of the task while the body will be added as a comment."))),"rejected"===d.status?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,Object(g.a)("Something wrong happened.")),u.a.createElement("div",null,u.a.createElement(C.a,{className:x.a.link,onClick:m},Object(g.a)("Try again")))):u.a.createElement("div",null,u.a.createElement("input",{type:"text",value:"resolved"===d.status?d.value.email:"",readOnly:!0,onClick:A,className:x.a.input}),u.a.createElement("span",null,i?Object(g.a)("Text copied!"):u.a.createElement(C.a,{className:x.a.link,onClick:A},Object(g.a)("Copy to clipboard"))))),"project"===t?u.a.createElement("div",null,u.a.createElement("div",{className:x.a.separator}),u.a.createElement("h2",{className:x.a.subtitle},u.a.createElement(E.a,{className:x.a.icon})," ",Object(g.a)("Set due dates")),u.a.createElement("p",{className:x.a.description},Object(g.a)("Set due dates directly from your email client. Simply include <date tomorrow> in either the subject or the body of the email."),Object(g.a)("You can use all of Todoist's dates such as <date every day>."),u.a.createElement("br",null),u.a.createElement("a",{href:"/Help/DatesTimes",target:"_blank",className:x.a.link},Object(g.a)("Read more about Todoist dates..."))),u.a.createElement("h2",{className:x.a.subtitle},u.a.createElement(k.a,{className:x.a.icon})," ",Object(g.a)("Label your email tasks easily")),u.a.createElement("p",{className:x.a.description},u.a.createElement(S.a,{string:Object(g.a)("Label your email tasks by including labels (e.g. <i>@shopping</i>) in either subject or body of the email."),mapping:{i:u.a.createElement("i",null)}})),u.a.createElement("h2",{className:x.a.subtitle},u.a.createElement(D.a,{className:x.a.icon})," ",Object(g.a)("Set priorities")),u.a.createElement("p",{className:x.a.description},Object(g.a)("Set priorities on your email tasks by including !!1 or !!3 in either subject or body of the email. !!1 will be top priority."))):null),u.a.createElement(f.a.Actions,{className:x.a.footer},u.a.createElement("div",null,"rejected"===_.status?u.a.createElement("div",null,Object(g.a)("Something wrong happened.")):null,"resolved"===_.status?u.a.createElement("div",null,Object(g.a)("Current email disabled successfully.")):null,"pending"===_.status?u.a.createElement(v.b,null):u.a.createElement(C.a,{className:x.a.disable_link,onClick:y},Object(g.a)("Disable current email")))))}var R=n("A72/"),N=function(){function e(){a()(this,e),this.showProjectEmail=this.showProjectEmail.bind(this),this.showProjectCommentEmail=this.showProjectCommentEmail.bind(this),this.showItemEmail=this.showItemEmail.bind(this),this.genericShowEmail=this.genericShowEmail.bind(this),this.showCalFeed=this.showCalFeed.bind(this)}return i()(e,[{key:"showProjectEmail",value:function(e){this.genericShowEmail("project",e,_("Add tasks via email"))}},{key:"showProjectCommentEmail",value:function(e){this.genericShowEmail("project_comments",e,_("Add comments via email"))}},{key:"showItemEmail",value:function(e){this.genericShowEmail("item",e,_("Add comments via email"))}},{key:"genericShowEmail",value:function(e,t){if(!Object(R.k)(w.default.getState()))return c.b.showEmailForwarding();var n,r,a;r=(n={type:e,id:t}).type,a=n.id,Object(f.b)((function(e){return s.createElement(d.a,{store:w.default},s.createElement(P,{onClose:e,type:r,id:a}))}))}},{key:"showCalFeed",value:function(e){if(!Object(R.m)(w.default.getState()))return c.b.showProjectCalendarFeed();var t;t=e,Object(f.b)((function(e){return u.a.createElement(d.a,{store:w.default},u.a.createElement(j,{projectId:t,onClose:e}))}))}},{key:"customShowGb",value:function(e,t){l.a.waitToResolve(e,(function(e){t(e)}))}}]),e}();t.a=new N},wkB0:function(e,t,n){"use strict";function r(e){return"string"!=typeof e?e:e.replace(/[#"()|&!,]+/g,"_").trim()}function a(e){return"string"!=typeof e?e:e.trim().replace(/[@"\s()|&!,]+/g,"_")}function o(e){return"string"!=typeof e?e:e.replace(/[/"()|&!,]+/g,"_").trim()}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o}))},wqDb:function(e,t,n){"use strict";t.a=function(e,t,n,r){window.ga&&window.ga("send","event",e,t,n,r)}},wrHN:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),l=n.n(c),s=n("7W2i"),u=n.n(s),d=n("a1gu"),f=n.n(d),m=n("Nsbk"),p=n.n(m),h=n("lSNA"),v=n.n(h),b=n("q1tI"),g=n.n(b),y=n("17x9"),O=n.n(y),j=n("RZq6");function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var E=function(e){u()(n,e);var t=w(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),v()(l()(e),"state",{hasError:!1,eventID:null}),e}return i()(n,[{key:"componentDidCatch",value:function(e,t){console.error("Error",e,t);var n=j.captureError(e,{extra:{info:t},tags:{react:1}});this.setState({hasError:!0,eventID:n}),this.props.onErrorCaught&&this.props.onErrorCaught(e,t)}},{key:"render",value:function(){var e=this.props,t=e.showErrorMsg,n=e.children,r=this.state,a=r.hasError,o=r.eventID;return a?t?g.a.createElement("div",{style:{color:"#999999"}},g.a.createElement("p",null,_("An unknown error happened while loading data... Please try reloading Todoist.")),g.a.createElement("p",null,_("If you\u07f4re seeing this again, contact us with details about what you were doing before this message popped up and where you\u07f4re using the app.")),null!=o&&g.a.createElement("p",null,"Error ID: ",o)):null:n}}]),n}(g.a.Component);v()(E,"propTypes",{showErrorMsg:O.a.bool,children:O.a.node,onErrorCaught:O.a.func}),v()(E,"defaultProps",{showErrorMsg:!1})},wwFd:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=i.a.memo((function(e){return i.a.createElement("svg",a()({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},e),i.a.createElement("g",{fill:"none",fillRule:"evenodd"},i.a.createElement("path",{d:"M0 0h24v24H0z"}),i.a.createElement("rect",{width:"14",height:"1",x:"5",y:"6",fill:"currentColor",rx:".5"}),i.a.createElement("path",{fill:"currentColor",d:"M10 9h1v8h-1V9zm3 0h1v8h-1V9z"}),i.a.createElement("path",{stroke:"currentColor",d:"M17.5 6.5h-11V18A1.5 1.5 0 0 0 8 19.5h8a1.5 1.5 0 0 0 1.5-1.5V6.5zm-9 0h7V5A1.5 1.5 0 0 0 14 3.5h-4A1.5 1.5 0 0 0 8.5 5v1.5z"})))}));t.a=c},x1yf:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("QWT2"),l=n("Vbab"),s=n("oHMr"),u=n("gVGk"),d=n("LYyr"),f=n("wkB0");function m(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(){function e(){a()(this,e),this.syncLocalModel=this.syncLocalModel.bind(this),this.getOrAdd=this.getOrAdd.bind(this),this.getAll=this.getAll.bind(this),this.getById=this.getById.bind(this),this.getDataLabels=this.getDataLabels.bind(this),this.getByName=this.getByName.bind(this),this.add=this.add.bind(this),this.get=this.get.bind(this),this.update=this.update.bind(this),this.deleteLabel=this.deleteLabel.bind(this),this.deleteMany=this.deleteMany.bind(this),this.getLabels=this.getLabels.bind(this),this.updateOrders=this.updateOrders.bind(this)}return i()(e,null,[{key:"initClass",value:function(){this.prototype.re_labels=/(^|\s+)@([^\s,]+)/g,this.prototype.max_limit=500}}]),i()(e,[{key:"syncLocalModel",value:function(e){e.length>0&&Signals.sendSignal("labels_updated",e)}},{key:"getOrAdd",value:function(e){e=this.normalizeName(e);var t=this.get(e);if(!t){var n=Object(u.o)(s.default.getState())+1;t=s.default.dispatch(Object(u.d)({name:e,item_order:n}))}return t}},{key:"getAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=$values(s.default.getState().labels);return e&&(t=t.sort(c.a.sortByItemOrder)),t}},{key:"getById",value:function(e){return Object(u.i)(s.default.getState(),e)}},{key:"getDataLabels",value:function(e){if(!e.labels)return[];var t,n=[],r=m(e.labels);try{for(r.s();!(t=r.n()).done;){var a=t.value,o=this.getById(a);o&&n.push("@".concat(o.name))}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"getByName",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t){var n=Object(u.j)(e,s.default.getState());return n?[n]:[]}return Object(u.k)(s.default.getState(),e)}},{key:"normalizeName",value:function(e){return e=e.replace(/[<>"=#+\s%!?~:@,()&]+/g,"_")}},{key:"add",value:function(e){var t=Object(f.a)(e.name);if(Object(u.j)(t,s.default.getState()))alert(Object(l.a)("Label already exists."));else{if(!(Object(u.m)(s.default.getState())>=this.max_limit))return e.item_order||(e.item_order=Object(u.o)(s.default.getState())+1),s.default.dispatch(Object(u.d)(e));alert(Object(d.a)(_n("For performance reasons you can add at most one label.","For performance reasons you can add at most {n} labels.",this.max_limit),{n:this.max_limit}))}}},{key:"get",value:function(e){return Object(u.j)(e,s.default.getState())}},{key:"update",value:function(e,t){t.name&&(t.name=this.normalizeName(t.name));var n=this.getById(e);if(n)return s.default.dispatch(Object(u.t)(e,t)),n=this.getById(e)}},{key:"deleteLabel",value:function(e){this.getById(e)&&s.default.dispatch(Object(u.q)(e))}},{key:"deleteMany",value:function(e){var t,n=m(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.deleteLabel(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"getLabels",value:function(e){var t=this,n=e.content,r=[];return[n=n.replace(this.re_labels,(function(n,a,o){return e.labels_to_ignore&&e.labels_to_ignore[o]?n:(o=t.normalizeName(o.toLowerCase()),t.get(o)?(r.push(o),""):n)})),r]}},{key:"updateOrders",value:function(e){s.default.dispatch(Object(u.u)(e))}}]),e}();h.initClass(),window.LabelsModel=new h,t.a=window.LabelsModel},xDOP:function(e,t,n){e.exports={app_holder:"_3zhG9PiMxfxk4qIe-k0Tw1","effect-fade-in":"jsZ-dixnKMMogPPmzPaPs",agenda_view:"_2hbNNZ4_-WgkvYNTu6Q2rX",add_task:"_3M01n0PPTGQGojdSxoYIM4",task_expand_collapse:"_3e7mMmR9VLn64RV_P3HjFC",drop_item:"_39LmySrF6rEMU8dBkFNbu0",checked:"_21vLWcAfdz4oj7yrlejrrH","effect-fade-in-checked":"bbjj0O70Qnsj_XPFsdc3f",item_flash:"_27YINBhj-pFdf0I7stZfJq",item_added:"PmJItNMnYbfovyvy6hBPF",note_added:"kRrtK7OowuLzSeIBjOS_2",generic_left_list_added:"_381w5WC_FuzrWFK1fVeKZh",item_updated:"c8OWhNqmPdiEtdknpPFWg",note_updated:"_1RvDz05wtMonsjvo6DviRd",generic_left_list_updated:"_3crQ8LJZSweXTEDrgfV7cW",richtext_editor:"_1vE7OSJCQ_JV5WX-LyXANt",help_icon:"_12GT4j2JelaWxSV4viP7iN",task_item:"_3Jbt0vPfFT3LEfhBB-GO-e",complete_animation:"U1dxy_jVxOudCh9ZKFIiH",gear_menu:"_1VO0G0Vu5_4LXDPn9u3gA9",attach_overlay:"_1uY1rPf_9Y53eJ-CILtFfk",item_hightlight_flash:"_3B3uEnIdQvI4mha6gnkfjv","effect-highlight-flash":"_3JCv0DzjPHCFl8OwIGN63B",ist_tooltip_holder:"_3T8m42qM1D57TiULzBcn_o",ist_menu:"_1R7gqQVSJwXuBPW10CO-dx",rich_text_placeholder:"iAb8ITTez3mr0B8qescOb",GB_top_arrow:"_3Gxzl6ovLCa2DUkNTnZmuB",command_menu:"_1a6p3MLFHB9gPxAEFQ_x7T",command_menu_body:"Y7zYeZUa6Ah69Rq9SojPM",command_menu_input_container:"_3_NWAr-MidFR34r7YRNlVE",result:"_3rS-celJYSQdHRvY-IHGWe",results_icon_container:"xWJwfBMF6INREGO-QDUwD",results_sequences_container:"_2BoAXZsaNT0SQ5MvGrc9KK",reactist_keyboard_shortcut:"_1zCjuZ-sPkxUQ-xSaLGOoE",emptyMessage:"_2VVyUBDFZr0WeAthAKzaP3","modal-appear":"_3VYcMBtTlLH9vPGJtn0rzs","modal-disappear":"_2-9WKesZSy6YCEGp3CRSlz"}},xKYe:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pVnL"),a=n.n(r),o=n("q1tI"),i=n.n(o);function c(e){return i.a.createElement("svg",a()({width:"24",height:"24",viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 19a5 5 0 0 0 5-5c0-1.102-.345-2-1.064-3.03-.259-.371-1.414-1.832-1.697-2.225-.775-1.077-1.338-2.124-1.765-3.403a.5.5 0 0 0-.948 0c-.427 1.28-.99 2.326-1.765 3.403-.283.393-1.438 1.854-1.697 2.225C7.344 12 7 12.898 7 14a5 5 0 0 0 5 5z"}))}},xgwk:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("pVnL"),a=n.n(r),o=n("J4zp"),i=n.n(o),c=n("QILm"),l=n.n(c),s=n("q1tI"),u=n.n(s),d=n("17x9"),f=n.n(d),m=n("TSYQ"),p=n.n(m),h=n("/MKj"),v=n("giaj"),b=n("SgJ6");function g(e){var t=e.path,n=e.className,r=l()(e,["path","className"]),o=Object(h.h)(b.c),c=v.e[o]||"todoist",s=svgs.getString("theme_".concat(c,"/").concat(t)),d=u.a.useReducer((function(e){return!e}),!1),f=i()(d,2)[1];return u.a.useEffect((function(){return Signals.connect("theme_changed",f),function(){Signals.disconnect("theme_changed",f)}}),[]),u.a.createElement("div",a()({},r,{className:p()("empty-state-illustration",n),dangerouslySetInnerHTML:{__html:s}}))}g.propTypes={path:f.a.string.isRequired,theme:f.a.number,className:f.a.string}},xlpU:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("g",{fill:"none"},r.createElement("g",{stroke:"currentColor",transform:"translate(5 5)"},r.createElement("path",{d:"M10.5 12.5H8.044c-1.928 0-2.627-.2-3.332-.578a3.924 3.924 0 01-1.634-1.634C2.7 9.583 2.5 8.884 2.5 6.956V4.5"}),r.createElement("circle",{cx:2.5,cy:2.5,r:2}),r.createElement("circle",{cx:12.5,cy:12.5,r:2})),r.createElement("path",{fill:"currentColor",d:"M7.5 5A2.5 2.5 0 018 9.95v2.006c0 .198.002.383.006.555l.018.482c.053.974.2 1.51.494 2.059.33.618.812 1.1 1.43 1.43.55.293 1.085.441 2.059.494l.482.018.555.006h2.006a2.501 2.501 0 110 1h-2.006c-1.833 0-2.684-.164-3.568-.637a4.435 4.435 0 01-1.84-1.84c-.444-.83-.616-1.633-.634-3.253L7 9.95A2.5 2.5 0 017.5 5zm10 11a1.5 1.5 0 10.001 3.001A1.5 1.5 0 0017.5 16zM7.5 6a1.5 1.5 0 10.001 3.001A1.5 1.5 0 007.5 6z"}));function i(e){return r.createElement("svg",a({width:24,height:24},e),o)}n.p},xvbm:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return b}));var r=n("o0o1"),a=n.n(r),o=n("yXPU"),i=n.n(o),c=n("4DrC"),l=n.n(c),s={"todoist.wunderlist_importer_v2":new l.a.Flag(!1),"frontend.env":new l.a.Flag(!1),"frontend.projects_list":new l.a.Flag(!1),"frontend.boards_drag_preview":new l.a.Flag(!1),"global.complete_item_sound":new l.a.Flag(!1),"frontend.react_activity_log":new l.a.Flag(!1),"frontend.new_keyboard_shortcuts":new l.a.Flag(!1),"global.sidebar_favourites_grouping":new l.a.Flag(!1),"frontend.non_project_boards":new l.a.Flag(!1),"global.project_iconography":new l.a.Flag(!1),"frontend.new_websocket_mechanism":new l.a.Flag(!1),"global.task_description":new l.a.Flag(!1),"frontend.sidebar_new_design":new l.a.Flag(!1),"frontend.new_emoji_sizing":new l.a.Flag(!1),"global.consolidated_filters_labels":new l.a.Flag(!1),"frontend.new_notifications":new l.a.Flag(!1),"frontend.sorting_options_dnd":new l.a.Flag(!1),"frontend.outlook_postmessage_log":new l.a.Flag(!1),"frontend.non_draggable_tasks":new l.a.Flag(!1)},u=["global.consolidated_filters_labels","frontend.new_notifications"],d="todoist.wunderlist_importer_v2",f="frontend.env",m=null!=window.Cypress,p={};function h(e){var t;return(!m||!u.includes(e))&&(!!m||(void 0===p[e]&&(p[e]=s[e].isEnabled()),null!==(t=p[e])&&void 0!==t&&t))}function v(e){var t=e.email,n=e.features;return Boolean(null==n?void 0:n.beta)||(null==t?void 0:t.endsWith("@doist.com"))||h("global.task_description")}function b(e,t){return g.apply(this,arguments)}function g(){return(g=i()(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.a.setCustomStringProperty("email",(function(){return t.email})),l.a.setCustomStringProperty("language",(function(){return t.lang})),l.a.setCustomBooleanProperty("beta",(function(){return Boolean(t.features.beta)})),l.a.register("",s),e.next=6,l.a.setup("5d5a503b2385ac15e39b6051",{version:"".concat(n)});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},y0MZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),l=n("17x9"),s=n.n(l),u=n("TSYQ"),d=n.n(u),f=n("LYyr"),m=n("1Sse"),p=n("Tc49"),h=n("UVeO"),v=n("Pxnj"),b=n("/7zm"),g=n("GpCm"),y=n("Ba5u"),O=n("Vbab"),j=n("xvbm"),w=n("in4X"),E=n("rcvD"),k=n("L8gx");function D(e){var t=e.label,n=e.color,r=void 0===n?t.color||v.a:n,o=e.count,l=void 0===o?0:o,s=e.onLabelEdit,u=e.onLabelRename,D=e.onLabelDelete,C=e.onLabelFavorite,S=e.onLabelUnfavorite,I=e.onLabelMoveToPersonal,T=e.onLabelRemoveFromPersonal,A=e.onLabelCreate,x=i()(e,["label","color","count","onLabelEdit","onLabelRename","onLabelDelete","onLabelFavorite","onLabelUnfavorite","onLabelMoveToPersonal","onLabelRemoveFromPersonal","onLabelCreate"]),P=Object(g.d)(),R=Object(b.c)({confirmLabel:Object(O.a)("Delete"),onConfirm:function(){D&&D(t)},htmlMessage:Object(f.a)(Object(O.a)("Are you sure you want to delete {item_name}?"),{item_name:"<b>".concat(k.a.format(t.name,{with_links:!1,as_html:!1}),"</b>")})}),N=null==t.id,L=null!=A,M=null!=s,F=null!=u&&!M,z=null!=C&&!t.is_favorite,B=null!=S&&t.is_favorite,V=null!=I&&N,$=null!=T&&!N,H=null!=D,U=M||F||z||B||V||$,q=!L&&!U&&!H,G=L&&(U||H),W=U&&H,K=t.item_order;var Y=Object(j.d)("frontend.sidebar_new_design"),J=d()(x.className,{"SidebarListItem--highlighted":P.isOpen,new_sidebar_design:Y});return c.createElement(c.Fragment,null,c.createElement(m.a,a()({linkTo:{type:"label",labelName:t.name},color:Object(v.g)("filter",r||t.color),leftIcon:c.createElement(h.X,null),onMenuClick:q?void 0:P.openOnClick,onContextMenu:q?void 0:P.openOnContextMenu,menuButtonLabel:Object(O.a)("More label actions")},x,{className:J}),Y?c.createElement(w.b,{label:Object(E.a)(t.name)},c.createElement("span",null,c.createElement(y.a,{source:t.name}))):c.createElement(y.a,{source:t.name}),l>0&&c.createElement("div",{"aria-label":Object(O.a)("".concat(l," ").concat(1===l?Object(O.a)("task"):Object(O.a)("tasks"))),className:"counter_count"},l)),P.isOpen&&!q?c.createElement(g.c,a()({},P.props,{withArrow:!1,zIndex:!1}),c.createElement(p.b,{className:"item_menu_list"},L&&c.createElement(c.Fragment,null,c.createElement(p.a,{text:_("Add label above"),icon:c.createElement(h.b,null),onClick:P.close((function(){A&&A(K)}))}),c.createElement(p.a,{text:_("Add label below"),icon:c.createElement(h.c,null),onClick:P.close((function(){A&&A(K+1)}))})),G&&c.createElement(p.c,null),M&&c.createElement(p.a,{text:_("Edit label"),icon:c.createElement(h.F,null),onClick:P.close((function(){s&&s(t)})),"data-track":"labels|menu_edit"}),F&&c.createElement(p.a,{text:_("Rename label"),icon:c.createElement(h.F,null),onClick:P.close((function(){u&&u(t)})),"data-track":"labels|menu_edit"}),z&&c.createElement(p.a,{text:_("Add to favorites"),icon:c.createElement(h.O,null),onClick:P.close((function(){C&&C(t)})),"data-track":"labels|menu_add_to_favorites"}),B&&c.createElement(p.a,{text:_("Remove from favorites"),icon:c.createElement(h.P,null),onClick:P.close((function(){S&&S(t)})),"data-track":"labels|menu_add_to_favorites"}),V&&c.createElement(p.a,{text:_("Move to personal labels"),icon:c.createElement(h.b,null),onClick:P.close((function(){I&&I(t)})),"data-track":"labels|menu_move_to_personal"}),$&&c.createElement(p.a,{text:_("Move to shared labels"),icon:c.createElement(h.c,null),onClick:P.close((function(){T&&T(t)})),"data-track":"labels|menu_move_to_shared"}),W&&c.createElement(p.c,null),H&&c.createElement(p.a,{text:_("Delete label"),icon:c.createElement(h.z,null),onClick:P.close(R),"data-track":"labels|menu_delete"}))):null)}D.propTypes={label:s.a.object.isRequired,color:s.a.number,count:s.a.number,onLabelEdit:s.a.func,onLabelRename:s.a.func,onLabelDelete:s.a.func,onLabelFavorite:s.a.func,onLabelUnfavorite:s.a.func,onLabelMoveToPersonal:s.a.func,onLabelRemoveFromPersonal:s.a.func,onLabelCreate:s.a.func}},y2hQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),a=n("17Jv");function o(e,t){Object(r.useEffect)((function(){var n=Object(a.a)(),r={pullReceived:function(n){n.method===e&&t(n.data)}};return n.subscribeForPulls(r),function(){n.unsubscribeFromPulls(r)}}),[e,t])}},yDGi:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),l=n.n(c),s=n("17x9"),u=n.n(s);function d(e){var t=e.children,n=e.href,r=i()(e,["children","href"]);return l.a.createElement("a",a()({rel:"noopener noreferrer",target:"_blank",href:n},r),t)}d.propTypes={children:u.a.node.isRequired,href:u.a.string.isRequired}},yUE8:function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return O}));var r=n("J4zp"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),l=n.n(c),s=n("ANjH"),u=n("oqHG"),d=n.n(u),f=n("DwX5"),m=n.n(f),p=n("uS8r"),h=n.n(p),v={},b=function(){function e(t,n){if(i()(this,e),v[t])throw new Error("Name collision error: Deps for module ".concat(t," has already defined. (try use different ID)"));this.id=t,this.expectedDeps=n,v[t]=this}return l()(e,[{key:"inject",value:function(e){for(var t in e)this[t]=e[t]}},{key:"missingDeps",get:function(){var e=this;return this.expectedDeps.filter((function(t){return!e[t]}))}},{key:"hasMissingDeps",get:function(){return 0===this.missingDeps.length}}]),e}(),g=Object(s.d)(m()((function(e){var t=a()(e,2);t[0];return t[1].length>0})),h()((function(e){var t=a()(e,2);return[t[0],t[1].missingDeps]})),d.a);function _(e,t){return new b(e,t)}function y(e){for(var t in e){if(!v[t])throw new Error("Undefined dep: cannot inject dependencies ".concat(t," that is not defined yet"));var n=e[t];v[t].inject(n)}}function O(){var e=g(v);if(e.length>0){var t=e.map((function(e){var t=a()(e,2),n=t[0],r=t[1];return"".concat(n,": [").concat(r.join(", "),"]")})).join("\n");throw new Error("Following deps was not injected:\n".concat(t))}}},yUxx:function(e,t){Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(this))return null;do{if(t.matches(e))return t;t=t.parentElement}while(null!=t);return null}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].filter(Boolean).forEach((function(e){Object.prototype.hasOwnProperty.call(e,"remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}))},yn26:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("/MKj"),l=n("S+H7"),s=n("J4zp"),u=n.n(s),d=n("4eld"),f=n("UVeO"),m=n("lrs5");function p(e){var t=e.reminder,n=e.isSharedProject,r=e.user,o=e.allCollaborators;if(n){var i="location"===t.type||t.notify_uid===r.id?r:o[t.notify_uid];return a.a.createElement(m.b,{user:i,size:"small"})}switch(t.type){case"relative":return a.a.createElement(f.w,null);case"location":return a.a.createElement(f.fb,null);case"absolute":default:return a.a.createElement(f.R,null)}}var h=n("7BR2"),v=n("Vbab");function b(e){var t=e.reminder,n=e.onDeleteReminder,r=e.allCollaborators,o=e.user,i=e.isSharedProject,c=Object(h.e)(t),l=u()(c,2),s=l[0],m=l[1],b="string"==typeof m&&m.length>0;return a.a.createElement("li",{className:"reminder"},a.a.createElement(p,{reminder:t,isSharedProject:i,user:o,allCollaborators:r}),a.a.createElement("span",{className:"text"},b?a.a.createElement("b",null,s):s,b?a.a.createElement(a.a.Fragment,null,a.a.createElement("br",null),m):null),n?a.a.createElement(d.a,{"aria-label":Object(v.a)("Delete reminder"),onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),n(t)}},a.a.createElement(f.z,{className:"trash"})):null)}b.propTypes={reminder:i.a.object.isRequired,onDeleteReminder:i.a.func,allCollaborators:i.a.object.isRequired,user:i.a.object.isRequired,isSharedProject:i.a.bool.isRequired};var g=b;function _(e){var t=e.item,n=e.reminders,r=void 0===n?[]:n,o=e.onDeleteReminder,i=Object(c.h)((function(e){return e.collaborators})),s=Object(c.h)((function(e){return e.user}));if(0===r.length)return null;var u=Object(l.m)({collaborators:i},t.project_id);return a.a.createElement("ul",{className:"reminder_viewer"},r.map((function(e,t){return a.a.createElement(g,{key:e.id||t,reminder:e,allCollaborators:i.all,user:s,isSharedProject:u,onDeleteReminder:o})})))}_.propTypes={item:i.a.object.isRequired,reminders:i.a.arrayOf(i.a.object.isRequired),onDeleteReminder:i.a.func};t.a=_},ysgU:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 12h4v1h-5V8h1v4zm-7 0h2l-2.5 3L2 12h2a8 8 0 118 8v-1a7 7 0 10-7-7z"});function i(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24"},e),o)}n.p},"zO8/":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n("Ek05"),a=[0,500,2500,5e3,7500,1e4,2e4,5e4],o=7;function i(e){return a.reduce((function(t,n,r){return e>=n?r:t}),-1)}function c(e,t){return(e=new Date(e)).setSeconds(59),e=r.a.format(e,!1,{with_year:!0}),(t=new Date(t)).setSeconds(59),e+" - "+(t=r.a.format(t,!1,{with_year:!0}))}function l(e){return""===e.start||""==e.end}},zZLx:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return R})),n.d(t,"e",(function(){return B})),n.d(t,"f",(function(){return V})),n.d(t,"d",(function(){return H})),n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return q}));var r=n("lSNA"),a=n.n(r),o=n("q1tI"),i=n.n(o);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={isDropdownOpen:!1,searchText:"",highlightedOptionValue:void 0,optionState:{},availableOptions:[],isAllSelected:!1};function u(e){var t=e.selectedValues,n=e.partiallySelectedValues,r=void 0===n?[]:n;function o(e){return function(t,n){return Object.assign(t,a()({},n,e))}}return t.reduce(o("SELECTED"),r.reduce(o("PARTIALLY_SELECTED"),{}))}function d(e){var t=Object.keys(e),n=t.filter((function(t){return"SELECTED"===e[t]})),r=t.filter((function(t){return"PARTIALLY_SELECTED"===e[t]}));return{value:n,partiallySelectedValues:0===r.length?void 0:r}}function f(e,t){return Array.isArray(e)&&e.every((function(e){return d(t).value.some((function(t){return t===e}))}))}var m=i.a.createContext(l(l(l({},{multiple:!1,disabled:!1,id:"",name:"",value:null,onChange:function(){}}),s),{},{popupId:"",listBoxId:"",popupRef:i.a.createRef(),listBoxRef:i.a.createRef(),toggleButtonRef:i.a.createRef(),searchInputFieldRef:i.a.createRef(),dispatch:function(){}})),p=n("J4zp"),h=n.n(p),v=n("QILm"),b=n.n(v),g=n("17x9"),_=n.n(g),y=n("c9wj"),O=n("VKB9");function j(e){var t=e,n=t.displayName||t.name;t.displayName="Dropdown.".concat(n)}function w(e){return!e.hasAttribute("aria-disabled")||"false"===e.getAttribute("aria-disabled")}function E(e){return e?Array.from(e.querySelectorAll('[role="option"]')).filter(w):[]}function k(e){return E(e).map((function(e){return e.getAttribute("data-value")||""}))}function D(e,t){if(t){var n=String(t).toLowerCase().replace(/[\W_]+/g,"-");return"".concat(e,"-option-").concat(n)}}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=[];function T(e){var t=e.children,n=e.onClose,r=e.multiple,o=void 0!==r&&r,c=e.disabled,p=void 0!==c&&c,v=e.availableOptions,g=e.isShown,_=b()(e,["children","onClose","multiple","disabled","availableOptions","isShown"]),j=i.a.useMemo((function(){return function(e,t){var n=Array.isArray(e)?e:[e];t||(n=[n[0]]);return n.filter((function(e){return null!=e}))}(_.value||I,o)}),[_.value,o]),w=i.a.useMemo((function(){return o&&null!=_.partiallySelectedValues?_.partiallySelectedValues.filter((function(e){return!j.includes(e)})):I}),[o,j,_.partiallySelectedValues]),E=Array.isArray(v)&&v.every((function(e){return j.some((function(t){return t===e}))})),k=i.a.useMemo((function(){return function(e){var t=e.multiple,n=e.partiallySelectedValues;return function(e,r){switch(r.type){case"SET_SELECTED_VALUES":return l(l({},e),{},{optionState:u(r)});case"HIGHLIGHTED_OPTION_CHANGED":return l(l({},e),{},{highlightedOptionValue:r.optionValue});case"SEARCH_TEXT_CHANGED":return l(l({},e),{},{searchText:r.searchText,highlightedOptionValue:void 0});case"OPEN_DROPDOWN":case"CLOSE_DROPDOWN":return l(l({},e),{},{isDropdownOpen:"OPEN_DROPDOWN"===r.type,searchText:""});case"SELECT_OPTION":var o=r.optionValue,i=e.optionState[o];if(!t)return l(l({},e),{},{isDropdownOpen:!1,optionState:a()({},o,"SELECTED"),searchText:""});var c=l(l({},e.optionState),{},a()({},o,function(e,t,n){switch(t){case"PARTIALLY_SELECTED":return"SELECTED";case"SELECTED":return;default:return n.includes(e)?"PARTIALLY_SELECTED":"SELECTED"}}(o,i,n)));return l(l({},e),{},{isAllSelected:f(e.availableOptions,c),optionState:c});case"SELECT_ALL":if(!t)return e;var s=r.optionValue,d=e.availableOptions.every((function(t){return"SELECTED"===e.optionState[t]}))?void 0:"SELECTED",m=e.availableOptions.reduce((function(e,t){return l(l({},e),{},a()({},t,d))}),a()({},s,d));return l(l({},e),{},{optionState:m,isAllSelected:f(e.availableOptions,m)});default:return e}}}({multiple:o,partiallySelectedValues:w})}),[o,w]),D=i.a.useReducer(k,function(e){var t=e.selectedValues,n=e.partiallySelectedValues,r=e.multiple,a=e.availableOptions,o=void 0===a?s.availableOptions:a,i=e.isAllSelected,c=void 0===i?s.isAllSelected:i;return l(l({},s),{},{availableOptions:o,highlightedOptionValue:r?void 0:t[0],optionState:u({selectedValues:t,partiallySelectedValues:n}),isAllSelected:c})}({selectedValues:j,partiallySelectedValues:w,multiple:o,availableOptions:v,isAllSelected:E})),C=h()(D,2),T=C[0],A=C[1],x=T.highlightedOptionValue,P=g||T.isDropdownOpen;Object(O.h)((function(){A({type:"SET_SELECTED_VALUES",selectedValues:j,partiallySelectedValues:w})}),[j,w]);var R=i.a.useMemo((function(){return _.id||Object(y.a)("dropdown-select")}),[_.id]),N=i.a.useRef(null),L=i.a.useRef(null),M=i.a.useRef(null),F=i.a.useRef(null),z=i.a.useRef(!0);Object(O.a)(P),i.a.useEffect((function(){var e=L.current,t=z.current;if(null!=x&&e&&t&&P){var n=e.querySelector('[data-value="'.concat(x,'"]'));null!=n&&function(e,t){var n=window.getComputedStyle(t,null),r=n.getPropertyValue("padding-top"),a=n.getPropertyValue("padding-bottom"),o=parseInt(r,10)+parseInt(a,10),i=t.offsetHeight-o,c=e.offsetTop,l=t.querySelector("li:first-of-type");if(!i||!c||!l)return!1;var s=l.offsetHeight;t.scrollTop=c-(i-s)}(n,e),z.current=!1}}),[x,P]),Object(O.h)((function(){!P&&M.current&&M.current.focus()}),[P]),i.a.useEffect((function(){!P&&n&&n()}),[P,n]);var B=_.name,V=_.onChange,$=i.a.useCallback((function(e){if("HIGHLIGHTED_OPTION_CHANGED"===e.type&&(z.current=Boolean(e.updateScroll)),"CLOSE_DROPDOWN"===e.type&&o){var t=d(T.optionState),n=t.value,r=t.partiallySelectedValues;V({target:{name:B,value:n,partiallySelectedValues:r}})}"SELECT_OPTION"===e.type&&(o||V({target:{name:B,value:e.optionValue}})),A(e)}),[B,V,o,T.optionState]),H=i.a.useMemo((function(){return S(S(S({},_),T),{},{value:_.value||I,id:R,multiple:o,disabled:p,popupId:"".concat(R,"-popup"),listBoxId:"".concat(R,"-listbox"),popupRef:N,listBoxRef:L,toggleButtonRef:M,searchInputFieldRef:F,partiallySelectedValues:w,dispatch:$,isDropdownOpen:P})}),[_,T,R,o,$,w,p,P]);return i.a.createElement(m.Provider,{value:H},t)}T.propTypes={id:_.a.string,children:_.a.node,multiple:_.a.bool,name:_.a.string,value:_.a.oneOfType([_.a.string,_.a.arrayOf(_.a.string.isRequired)]),partiallySelectedValues:_.a.arrayOf(_.a.string.isRequired),onChange:_.a.func.isRequired,onClose:_.a.func,disabled:_.a.bool,availableOptions:_.a.arrayOf(_.a.string.isRequired)},j(T);var A=n("4eld");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=e.children,n=e.tooltip,r=b()(e,["children","tooltip"]),a=i.a.useContext(m),o=a.dispatch,c=a.isDropdownOpen,l=a.toggleButtonRef,s=a.disabled,u=a.popupId;function d(){o({type:c?"CLOSE_DROPDOWN":"OPEN_DROPDOWN"})}var f=P(P({},r),{},{disabled:s,title:n,ref:l,"aria-label":"string"==typeof n?n:void 0,"aria-owns":u,"aria-controls":u,"aria-expanded":c,"aria-haspopup":"listbox",onKeyDown:function(e){r.onKeyDown&&r.onKeyDown(e),e.defaultPrevented||"ArrowDown"!==e.key||c||d()},onClick:function(e){r.onClick&&r.onClick(e),e.defaultPrevented||d()}});return"function"==typeof t?t({isDropdownOpen:c,toggleDropdown:d,buttonProps:f}):i.a.createElement(A.a,f,t)}R.propTypes={children:_.a.oneOfType([_.a.node,_.a.func]).isRequired,tooltip:_.a.node,onClick:_.a.func,onKeyDown:_.a.func},j(R);var N=n("pVnL"),L=n.n(N),M=n("TSYQ"),F=n.n(M),z=n("GpCm");function B(e){var t=e.children,n=e.childlessRef,r=e.className,a=e.width,c=void 0===a?275:a,l=e.withArrow,s=void 0!==l&&l,u=e.position,d=void 0===u?"bottom":u,f=e.onToggle,p=e.onClose,h=b()(e,["children","childlessRef","className","width","withArrow","position","onToggle","onClose"]),v=i.a.useContext(m),g=v.dispatch,_=v.isDropdownOpen,y=v.highlightedOptionValue,O=v.popupId,j=v.popupRef,w=v.listBoxRef,D=v.toggleButtonRef,C=v.searchInputFieldRef;if(Object(o.useEffect)((function(){f&&f(_)}),[_,f]),!_)return null;var S="toggle"===c&&D.current?D.current.offsetWidth:c;return i.a.createElement(z.c,L()({referenceElement:(null==n?void 0:n.current)||(null==D?void 0:D.current)||void 0,isShown:_,onShown:function(){var e=C.current||j.current;e&&e.focus()},onClose:function(){"function"==typeof p&&p(),g({type:"CLOSE_DROPDOWN"})},withArrow:s,placement:d,zIndex:!1},h),i.a.createElement("div",{id:O,ref:j,tabIndex:-1,onKeyDown:function(e){var t=w.current;if(t){var n=k(t),r=n.findIndex((function(e){return e===y}));switch(e.key){case"ArrowDown":e.preventDefault(),e.stopPropagation();var a=(r+1)%n.length;return void g({type:"HIGHLIGHTED_OPTION_CHANGED",optionValue:n[a],updateScroll:!0});case"ArrowUp":e.preventDefault(),e.stopPropagation();var o=r>0?r-1:n.length-1;return void g({type:"HIGHLIGHTED_OPTION_CHANGED",optionValue:n[o],updateScroll:!0});case"Enter":if(e.preventDefault(),e.stopPropagation(),r>=0){var i="true"===E(t)[r].getAttribute("data-select-all");g({type:i?"SELECT_ALL":"SELECT_OPTION",optionValue:n[r]})}return;case"Escape":return e.stopPropagation(),void g({type:"CLOSE_DROPDOWN"})}}},className:F()("dropdown_select--popup",r),style:{width:S||275}},"function"==typeof t?t():t))}function V(e){var t=e.label,n=b()(e,["label"]),r=i.a.useContext(m),a=r.id,o=r.searchText,c=r.dispatch,l=r.highlightedOptionValue,s=r.searchInputFieldRef,u=r.listBoxId,d="".concat(a,"-search"),f=D(a,l);return i.a.createElement("div",{className:"dropdown_select_input"},null!=t?i.a.createElement("label",{htmlFor:d},t):null,i.a.createElement("input",L()({},n,{id:d,ref:s,type:"text",value:o,onChange:function(e){c({type:"SEARCH_TEXT_CHANGED",searchText:e.target.value})},autoComplete:"off",spellCheck:"false",role:"combobox","aria-owns":u,"aria-activedescendant":f,"aria-autocomplete":"list","aria-controls":u})))}B.propTypes={children:_.a.oneOfType([_.a.node,_.a.func]),className:_.a.string,width:_.a.oneOfType([_.a.number,_.a.oneOf(["toggle"])]),withArrow:_.a.bool,align:_.a.oneOf(["top","bottom"]),position:_.a.oneOf(["top","bottom","bottom-start"]),anchorGap:_.a.number,onToggle:_.a.func,onClose:_.a.func},j(B),V.propTypes={label:_.a.string},j(V);var $=n("xvbm");function H(e){var t=e.children,n=b()(e,["children"]),r=i.a.useContext(m),a=r.id,o=r.highlightedOptionValue,c=r.multiple,l=r.dispatch,s=r.listBoxRef,u=r.listBoxId,d=r.searchText;i.a.useLayoutEffect((function(){if(s.current&&null==o){var e=k(s.current);e.length>0&&l({type:"HIGHLIGHTED_OPTION_CHANGED",optionValue:e[0]})}}),[d,s,o,l]);var f=D(a,o);return i.a.createElement("ul",L()({},n,{role:"listbox","aria-multiselectable":c,id:u,ref:s,"aria-activedescendant":f}),"function"==typeof t?t(r):t)}function U(e){var t=e.value,n=e.label,r=void 0===n?t:n,a=e.children,o=void 0===a?r:a,c=e.disabled,l=void 0!==c&&c,s=e.className,u=e.selectAll,d=void 0!==u&&u,f=e.onClick,p=b()(e,["value","label","children","disabled","className","selectAll","onClick"]),h=i.a.useContext(m),v=h.id,g=h.dispatch,_=h.highlightedOptionValue,y=h.optionState,O=h.isAllSelected,j=t===_,w=d?O:"SELECTED"===y[t],E="PARTIALLY_SELECTED"===y[t],k=w?"true":E?"mixed":"false";return i.a.createElement("li",L()({},p,{className:F()(s,{"dropdown_select__options--new_style":Object($.d)("frontend.non_project_boards"),"dropdown_select__option--highlighted":j}),id:D(v,t),role:"option","data-value":t,"data-select-all":d,"aria-label":r,"aria-disabled":l,"aria-selected":w,"aria-checked":k,onClick:l?void 0:function(e){e.stopPropagation(),g({type:d?"SELECT_ALL":"SELECT_OPTION",optionValue:t}),f&&f(e)},onMouseMove:j||l?void 0:function(){g({type:"HIGHLIGHTED_OPTION_CHANGED",optionValue:t,updateScroll:!1})}}),"function"==typeof o?o({isHighlighted:j,isSelected:w,isPartiallySelected:E,checkedStatus:k}):o)}function q(e){var t=e.children,n=e.className,r=b()(e,["children","className"]);return i.a.createElement("li",L()({},r,{role:"separator",className:F()(n,{dropdown_select_option_header:null!=t})}),null!=t?t:i.a.createElement("hr",null))}H.propTypes={children:_.a.oneOfType([_.a.node,_.a.func]).isRequired},j(H),U.propTypes={value:_.a.string.isRequired,label:_.a.string,children:_.a.oneOfType([_.a.node,_.a.func]),disabled:_.a.bool,selectAll:_.a.bool,className:_.a.string,onClick:_.a.func},j(U),q.propTypes={children:_.a.node.isRequired,className:_.a.string},j(q)},zeUM:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return O})),n.d(t,"h",(function(){return j})),n.d(t,"g",(function(){return w})),n.d(t,"f",(function(){return E})),n.d(t,"e",(function(){return k}));var r=n("lSNA"),a=n.n(r),o=n("bKtp"),i=n("Gjrf"),c=n.n(i),l=n("Rqpp"),s=n.n(l),u=n("ANjH"),d=n("3/82"),f=n("VKKv"),m=n("5GVm"),p=n("Qi13"),h=n("op67");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g="UPDATE_COMPLETED_HINT",_="UPDATE_COMPLETED_ITEM",y="ADD_COMPLETED_ITEM_HINT",O="REMOVE_COMPLETED_ITEM_HINT";function j(e){var t=e.id,n=e.data,r=e.type;return{type:g,payload:{id:t,data:n,type:void 0===r?"items":r}}}function w(e){var t=e.id,n=e.typeId,r=e.type;return{type:O,payload:{id:t,typeId:n,type:void 0===r?"items":r}}}function E(e){var t=e.cursor,n=e.completedInfo,r=e.completedItems,i=e.itemId,l=e.type;return function(e,v){var g=Object(m.b)(n,v());return void 0!==t&&(g.cursor=t),"project_id"in g&&"string"==typeof g.project_id||"section_id"in g&&"string"==typeof g.section_id||"parent_id"in g&&"string"==typeof g.parent_id?Promise.reject(new Error("Cannot fetch archived tasks for temporary ids")):Object(o.a)("/archive/items",{params:g,withToken:!0}).then((function(t){var n=v(),o=Object(d.d)(t.completed_info),m={},g=t.items.map((function(e){var t,r=Object(f.b)(e);e.section_id&&(r.section_id=n.mapping.sections.byRemoteId[e.section_id],r.section_id||(r.section_id=p.a.generate("section",{id:e.section_id}),m=b(b({},m),{},{sections:b(b({},null===(t=m)||void 0===t?void 0:t.sections),{},a()({},e.section_id,r.section_id))})));return{item:r,completed:o}})),_=Object(u.d)(c()((function(e){return e.item.id})),s()([function(e){return e.item.date_completed}],["desc"]))(r.concat(g)),y={completedItems:_,tasksLeft:t.total-_.length,cursor:t.next_cursor,showHint:t.has_more};m.sections&&e(Object(h.c)(m)),e(j({id:i,data:y,type:l}))}))}}function k(e){var t=e.completedInfo,n=e.hintState,r=e.sections;return function(e,i){var l={project_id:t.project_id};return n&&n.cursor&&(l.cursor=n.cursor),"string"==typeof l.project_id?Promise.reject(new Error("Cannot fetch archived sections of a project that has a temporary id")):Object(o.a)("/archive/sections",{params:l,withToken:!0}).then((function(n){var o=i(),l=Object(d.d)(n.completed_info),s={};for(var u in l.sections){var f,m=l.sections[u],v=o.mapping.sections.byRemoteId[m.id];if(!v)v=p.a.generate("section",m),s=b(b({},s),{},{sections:b(b({},null===(f=s)||void 0===f?void 0:f.sections),{},a()({},m.id,v))});l.sections[v]=b(b({},m),{},{section_id:v,id:v}),delete l.sections[m.id]}var g=n.sections.map((function(e){var t,n,r,i,c=null!==(t=o.mapping.sections.byRemoteId[e.id])&&void 0!==t?t:null===(n=s)||void 0===n||null===(r=n.sections)||void 0===r?void 0:r[e.id];c||(c=p.a.generate("section",e),s=b(b({},s),{},{sections:b(b({},null===(i=s)||void 0===i?void 0:i.sections),{},a()({},e.id,c))}));return{section:b(b({},e),{},{id:c,remote_id:e.id,collapsed:!0,date_added:new Date(e.date_added)}),completed:l}})),_=r.concat(g),y={completedSections:c()((function(e){return e.section.id}),_),cursor:n.next_cursor,showSectionsHint:n.has_more};s.sections&&e(Object(h.c)(s)),e(j({id:t.project_id,type:"projects",data:y}))}))}}}});